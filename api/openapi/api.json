{"openapi":"3.0.0","info":{"title":"ひまわりプロジェクト","description":"APIドキュメント","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"TaskSerializer":{"type":"object","properties":{"id":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"status":{"type":"string"}},"required":["id","title","description","status"]},"CreateTaskDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"}},"required":["title","description"]},"SignUpUserDto":{"type":"object","properties":{"username":{"type":"string","example":"test1","minLength":5,"maxLength":20},"email":{"type":"string","example":"test1@gmail.com"},"password":{"type":"string","example":"hogehoge","minLength":6,"maxLength":20}},"required":["username","email","password"]},"SignInUserDto":{"type":"object","properties":{"username":{"type":"string","example":"test1","minLength":5,"maxLength":20},"email":{"type":"string","example":"test1@gmail.com"},"password":{"type":"string","example":"hogehoge","minLength":6,"maxLength":20}},"required":["password"]},"AccessTokenSerializer":{"type":"object","properties":{"accessToken":{"type":"string"}},"required":["accessToken"]},"UserSerializer":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string"},"email":{"type":"string"}},"required":["id","username","email"]},"CreateGoalDto":{"type":"object","properties":{"title":{"type":"string","example":"TOIEC800点以上取る"},"description":{"type":"string","example":"2021年度の初回実施日に取りたい"},"is_public":{"type":"boolean","description":"publicに公開するか否か","default":true}},"required":["title","is_public"]}}},"paths":{"/api/tasks":{"get":{"operationId":"TasksController_getTasks","parameters":[],"responses":{"200":{"description":"タスクの一覧を取得できた","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskSerializer"}}}}}},"tags":["tasks"],"security":[{"bearer":[]}]},"post":{"operationId":"TasksController_createTask","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskDto"}}}},"responses":{"201":{"description":"タスクが正常に作成されました","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSerializer"}}}}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/api/tasks/{id}":{"get":{"operationId":"TasksController_getTaskById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"タスクを1件取得できた","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSerializer"}}}}},"tags":["tasks"],"security":[{"bearer":[]}]},"delete":{"operationId":"TasksController_deleteTask","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"タスクが削除された"}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/api/tasks/{id}/status":{"patch":{"operationId":"TasksController_updateTaskStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"タスクのステータスが更新できた","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSerializer"}}}}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/api/auth/signup":{"post":{"operationId":"AuthController_signUp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpUserDto"}}}},"responses":{"201":{"description":"ユーザー登録完了(メール送信)"},"400":{"description":"入力値のフォーマットエラー"},"409":{"description":"usernameまたはemailの重複エラー"}},"tags":["auth"]}},"/api/auth/signin":{"post":{"operationId":"AuthController_signIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInUserDto"}}}},"responses":{"200":{"description":"ユーザーログイン完了","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccessTokenSerializer"}}}},"401":{"description":"メール認証ができてない、もしくはusername(email)またはpasswordが違う"}},"tags":["auth"]}},"/api/auth/google":{"get":{"operationId":"AuthController_googleLogin","parameters":[],"responses":{"200":{"description":"グーグルログイン"}},"tags":["auth"]}},"/api/auth/google/callback":{"get":{"operationId":"AuthController_googleLoginCallback","parameters":[],"responses":{"200":{"description":""}},"tags":["auth"]}},"/api/auth/email/verify/{token}":{"get":{"operationId":"AuthController_verifyEmail","parameters":[{"name":"token","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"ユーザー本登録完了"},"400":{"description":"メール認証済"},"404":{"description":"無効なトークン"}},"tags":["auth"]}},"/api/auth/me":{"get":{"operationId":"AuthController_me","parameters":[],"responses":{"200":{"description":"ログインユーザー自身の情報を取得","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSerializer"}}}}},"tags":["auth"],"security":[{"bearer":[]}]}},"/api/goals":{"post":{"operationId":"GoalsController_createGoals","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGoalDto"}}}},"responses":{"201":{"description":"目標の作成"}},"tags":["goals"],"security":[{"bearer":[]}]}}}}