{"openapi":"3.0.0","info":{"title":"ã²ã¾ã‚ã‚Šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ","description":"APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"TaskSerializer":{"type":"object","properties":{"id":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"status":{"type":"string"}},"required":["id","title","description","status"]},"CreateTaskDto":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"}},"required":["title","description"]},"SignUpUserDto":{"type":"object","properties":{"username":{"type":"string","example":"test1","minLength":5,"maxLength":20},"email":{"type":"string","example":"test1@gmail.com"},"password":{"type":"string","example":"hogehoge","minLength":6,"maxLength":20}},"required":["username","email","password"]},"SignInUserDto":{"type":"object","properties":{"username":{"type":"string","example":"test1","minLength":5,"maxLength":20},"email":{"type":"string","example":"test1@gmail.com"},"password":{"type":"string","example":"hogehoge","minLength":6,"maxLength":20}},"required":["password"]},"AccessTokenSerializer":{"type":"object","properties":{"accessToken":{"type":"string"}},"required":["accessToken"]},"UserSerializer":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string"},"email":{"type":"string"},"avatarUrl":{"type":"string"},"statusMessage":{"type":"string"},"groups":{"type":"array","items":{"$ref":"#/components/schemas/GroupSerializer"}}},"required":["id","username","email"]},"GroupSerializer":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"users":{"type":"array","items":{"$ref":"#/components/schemas/UserSerializer"}}},"required":["id","name","createdAt"]},"UpdateMeDto":{"type":"object","properties":{"username":{"type":"string","example":"updated_test1","minLength":5,"maxLength":20},"avatarUrl":{"type":"string","example":"http://i.pravatar.cc/64"},"statusMessage":{"type":"string","example":"ä¼‘æš‡ä¸­ã§ã™","minLength":0,"maxLength":200}},"required":["username"]},"UserAndTokenSerializer":{"type":"object","properties":{"me":{"$ref":"#/components/schemas/UserSerializer"},"accessToken":{"type":"string"}},"required":["me","accessToken"]},"CreateGoalDto":{"type":"object","properties":{"title":{"type":"string","example":"TOIEC800ç‚¹ä»¥ä¸Šå–ã‚‹"},"description":{"type":"string","example":"2021å¹´åº¦ã®åˆå›å®Ÿæ–½æ—¥ã«å–ã‚ŠãŸã„"},"isPublic":{"type":"boolean","description":"publicã«å…¬é–‹ã™ã‚‹ã‹å¦ã‹","default":false}},"required":["title","isPublic"]},"GoalSerializer":{"type":"object","properties":{"id":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"isPublic":{"type":"boolean"},"userId":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"totalTime":{"type":"string"},"user":{"$ref":"#/components/schemas/UserSerializer"},"commits":{"type":"array","items":{"$ref":"#/components/schemas/CommitSerializer"}}},"required":["id","title","description","isPublic","userId","createdAt"]},"CommitSerializer":{"type":"object","properties":{"id":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"studyHours":{"type":"number"},"studyMinutes":{"type":"number"},"goalId":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"goal":{"$ref":"#/components/schemas/GoalSerializer"}},"required":["id","title","description","studyHours","studyMinutes","goalId","createdAt"]},"CreateCommitDto":{"type":"object","properties":{"title":{"type":"string","example":"Writingã®ãƒ†ã‚¹ãƒˆå•é¡Œé›†","minLength":1,"maxLength":20},"description":{"type":"string","example":""},"studyHours":{"type":"number","example":5,"maximum":23,"minimum":0},"studyMinutes":{"type":"number","example":16,"maximum":59,"minimum":0}},"required":["title","studyHours","studyMinutes"]},"MonthlyCount":{"type":"object","properties":{"createdAt":{"type":"string","example":"2020-06"},"count":{"type":"number","example":3}},"required":["createdAt","count"]},"CommitsSummary":{"type":"object","properties":{"totalTime":{"type":"string","example":"88:24"},"totalCount":{"type":"number","example":99}},"required":["totalTime","totalCount"]},"CreateGroupDto":{"type":"object","properties":{"name":{"type":"string","example":"ã‚°ãƒ«ãƒ¼ãƒ—ã²ã¾ã‚ã‚Š","minLength":1,"maxLength":20}},"required":["name"]},"InviteUserDto":{"type":"object","properties":{"email":{"type":"string","example":"test2@gmail.com"}},"required":["email"]},"AssignGoalDto":{"type":"object","properties":{"goalId":{"type":"number","example":1}},"required":["goalId"]},"TimelineSerializer":{"type":"object","properties":{"id":{"type":"number"},"commit":{"$ref":"#/components/schemas/CommitSerializer"}},"required":["id","commit"]},"CreateCommentDto":{"type":"object","properties":{"content":{"type":"string","example":"ãƒ•ã‚¡ã‚¤ãƒˆï¼"}},"required":["content"]},"CommentSerializer":{"type":"object","properties":{"id":{"type":"number"},"content":{"type":"string"},"userId":{"type":"number"},"timelineId":{"type":"number"},"groupId":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"user":{"$ref":"#/components/schemas/UserSerializer"},"timeline":{"$ref":"#/components/schemas/TimelineSerializer"}},"required":["id","content","userId","timelineId","groupId","createdAt"]},"CreateReactionDto":{"type":"object","properties":{"emoji":{"type":"string","example":"ğŸ¥º"}},"required":["emoji"]},"GroupEntity":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","createdAt","updatedAt"]},"CommitEntity":{"type":"object","properties":{"id":{"type":"number"},"title":{"type":"string"},"description":{"type":"string"},"studyTime":{"type":"string"},"goalId":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","title","description","studyTime","goalId","createdAt","updatedAt"]},"TimelineEntity":{"type":"object","properties":{"id":{"type":"number"},"group":{"$ref":"#/components/schemas/GroupEntity"},"groupId":{"type":"number"},"commit":{"$ref":"#/components/schemas/CommitEntity"},"commitId":{"type":"number"}},"required":["id","group","groupId","commit","commitId"]},"UserEntity":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"avatarUrl":{"type":"string"},"statusMessage":{"type":"string"},"thirdPartyId":{"type":"string"},"authProvider":{"type":"string"},"isEmailVerified":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","username","email","password","avatarUrl","statusMessage","thirdPartyId","authProvider","isEmailVerified","createdAt","updatedAt"]},"ReactionSerializer":{"type":"object","properties":{"id":{"type":"number"},"emoji":{"type":"string"},"timelineId":{"type":"number"},"userId":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"timeline":{"$ref":"#/components/schemas/TimelineEntity"},"user":{"$ref":"#/components/schemas/UserEntity"}},"required":["id","emoji","timelineId","userId","createdAt"]}}},"paths":{"/api/tasks":{"get":{"operationId":"TasksController_getTasks","parameters":[],"responses":{"200":{"description":"ã‚¿ã‚¹ã‚¯ã®ä¸€è¦§ã‚’å–å¾—ã§ããŸ","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskSerializer"}}}}}},"tags":["tasks"],"security":[{"bearer":[]}]},"post":{"operationId":"TasksController_createTask","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskDto"}}}},"responses":{"201":{"description":"ã‚¿ã‚¹ã‚¯ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸ","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSerializer"}}}}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/api/tasks/{id}":{"get":{"operationId":"TasksController_getTaskById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"ã‚¿ã‚¹ã‚¯ã‚’1ä»¶å–å¾—ã§ããŸ","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSerializer"}}}}},"tags":["tasks"],"security":[{"bearer":[]}]},"delete":{"operationId":"TasksController_deleteTask","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"ã‚¿ã‚¹ã‚¯ãŒå‰Šé™¤ã•ã‚ŒãŸ"}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/api/tasks/{id}/status":{"patch":{"operationId":"TasksController_updateTaskStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"ã‚¿ã‚¹ã‚¯ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒæ›´æ–°ã§ããŸ","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskSerializer"}}}}},"tags":["tasks"],"security":[{"bearer":[]}]}},"/api/auth/signup":{"post":{"operationId":"AuthController_signUp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpUserDto"}}}},"responses":{"201":{"description":"ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²å®Œäº†(ãƒ¡ãƒ¼ãƒ«é€ä¿¡)"},"400":{"description":"å…¥åŠ›å€¤ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼"},"409":{"description":"usernameã¾ãŸã¯emailã®é‡è¤‡ã‚¨ãƒ©ãƒ¼"}},"tags":["auth"]}},"/api/auth/signin":{"post":{"operationId":"AuthController_signIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInUserDto"}}}},"responses":{"200":{"description":"ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³å®Œäº†","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccessTokenSerializer"}}}},"401":{"description":"ãƒ¡ãƒ¼ãƒ«èªè¨¼ãŒã§ãã¦ãªã„ã€ã‚‚ã—ãã¯username(email)ã¾ãŸã¯passwordãŒé•ã†"}},"tags":["auth"]}},"/api/auth/google":{"get":{"operationId":"AuthController_googleLogin","parameters":[],"responses":{"200":{"description":"ã‚°ãƒ¼ã‚°ãƒ«ãƒ­ã‚°ã‚¤ãƒ³"}},"tags":["auth"]}},"/api/auth/google/callback":{"get":{"operationId":"AuthController_googleLoginCallback","parameters":[],"responses":{"200":{"description":""}},"tags":["auth"]}},"/api/auth/email/verify/{token}":{"get":{"operationId":"AuthController_verifyEmail","parameters":[{"name":"token","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"ãƒ¦ãƒ¼ã‚¶ãƒ¼æœ¬ç™»éŒ²å®Œäº†"},"400":{"description":"ãƒ¡ãƒ¼ãƒ«èªè¨¼æ¸ˆ"},"404":{"description":"ç„¡åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³"}},"tags":["auth"]}},"/api/auth/me":{"get":{"operationId":"AuthController_me","parameters":[],"responses":{"200":{"description":"ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã®æƒ…å ±ã‚’å–å¾—","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSerializer"}}}}},"tags":["auth"],"security":[{"bearer":[]}]},"put":{"operationId":"AuthController_updateMe","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMeDto"}}}},"responses":{"200":{"description":"ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã®æƒ…å ±ã‚’æ›´æ–°ã™ã‚‹","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAndTokenSerializer"}}}}},"tags":["auth"],"security":[{"bearer":[]}]}},"/api/goals":{"post":{"operationId":"GoalsController_createGoal","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGoalDto"}}}},"responses":{"201":{"description":"ç›®æ¨™ã®ä½œæˆ","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoalSerializer"}}}}},"tags":["goals"],"security":[{"bearer":[]}]},"get":{"operationId":"GoalsController_getGoals","parameters":[],"responses":{"200":{"description":"ç›®æ¨™ã®ä¸€è¦§å–å¾—","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GoalSerializer"}}}}}},"tags":["goals"],"security":[{"bearer":[]}]}},"/api/goals/{id}":{"get":{"operationId":"GoalsController_getGoal","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"ç›®æ¨™ã®è©³ç´°å–å¾—","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoalSerializer"}}}}},"tags":["goals"],"security":[{"bearer":[]}]}},"/api/goals/{goal_id}/commits":{"post":{"operationId":"CommitsController_createCommit","parameters":[{"name":"goal_id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommitDto"}}}},"responses":{"201":{"description":"å­¦ç¿’è¨˜éŒ²ã®ä½œæˆ","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommitSerializer"}}}}},"tags":["commits"],"security":[{"bearer":[]}]}},"/api/commits":{"get":{"operationId":"CommitsController_getCommits","parameters":[],"responses":{"200":{"description":"ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¨å­¦ç¿’å±¥æ­´ã®å–å¾—","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommitSerializer"}}}}}},"tags":["commits"],"security":[{"bearer":[]}]}},"/api/commits/summary/monthly":{"get":{"operationId":"CommitsController_getMonthlyCountByUser","parameters":[],"responses":{"200":{"description":"ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æœˆå˜ä½ã§ã®å…¨å­¦ç¿’è¨˜éŒ²æ•°ã®å–å¾—","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MonthlyCount"}}}}}},"tags":["commits"],"security":[{"bearer":[]}]}},"/api/commits/summary/total":{"get":{"operationId":"CommitsController_getSummaryByUser","parameters":[],"responses":{"200":{"description":"ç´¯è¨ˆå­¦ç¿’æ™‚é–“ç­‰ã®å–å¾—","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommitsSummary"}}}}},"tags":["commits"],"security":[{"bearer":[]}]}},"/api/commits/{id}":{"delete":{"operationId":"CommitsController_deleteCommit","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"204":{"description":"å­¦ç¿’è¨˜éŒ²ã®å˜ä½“å‰Šé™¤"},"404":{"description":"æŠ•ç¨¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ä»¥å¤–ã«ã‚ˆã‚‹æ“ä½œã€ã¾ãŸã¯ç›®æ¨™ã¨å­¦ç¿’è¨˜éŒ²ãŒç´ä»˜ã„ã¦ã„ãªã„å ´åˆ"}},"tags":["commits"],"security":[{"bearer":[]}]}},"/api/groups":{"post":{"operationId":"GroupsController_createGroup","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGroupDto"}}}},"responses":{"201":{"description":"ã‚°ãƒ«ãƒ¼ãƒ—ã®ä½œæˆ","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupSerializer"}}}}},"tags":["groups"],"security":[{"bearer":[]}]},"get":{"operationId":"GroupsController_getGroups","parameters":[],"responses":{"200":{"description":"å‚åŠ ã—ã¦ã„ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ä¸€è¦§ã‚’å–å¾—","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GroupSerializer"}}}}}},"tags":["groups"],"security":[{"bearer":[]}]}},"/api/groups/{id}/users":{"post":{"operationId":"GroupsController_inviteUser","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InviteUserDto"}}}},"responses":{"201":{"description":"ã‚°ãƒ«ãƒ¼ãƒ—ã¸ã®æ‹›å¾…"}},"tags":["groups"],"security":[{"bearer":[]}]}},"/api/groups/{id}":{"get":{"operationId":"GroupsController_getGroup","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"ã‚°ãƒ«ãƒ¼ãƒ—ã®åŸºæœ¬æƒ…å ±ã‚’å–å¾—","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupSerializer"}}}},"404":{"description":"å‚åŠ ã—ã¦ã„ãªã„ or å­˜åœ¨ã—ã¦ã„ãªã„ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æŒ‡å®šã—ãŸæ™‚404"}},"tags":["groups"],"security":[{"bearer":[]}]}},"/api/groups/{id}/goals":{"post":{"operationId":"GroupsController_assignGoal","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignGoalDto"}}}},"responses":{"201":{"description":"ã‚°ãƒ«ãƒ¼ãƒ—ã¸ã®ç›®æ¨™ç™»éŒ²"}},"tags":["groups"],"security":[{"bearer":[]}]}},"/api/groups/{id}/timelines":{"get":{"operationId":"TimelinesController_getTimelines","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"timelineå–å¾—ç”¨ãƒ€ãƒŸãƒ¼API","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TimelineSerializer"}}}}}},"tags":["timelines"],"security":[{"bearer":[]}]}},"/api/timelines/{id}/comments":{"post":{"operationId":"CommentsController_createComment","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentDto"}}}},"responses":{"201":{"description":"ã‚³ãƒ¡ãƒ³ãƒˆã®æŠ•ç¨¿","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentSerializer"}}}}},"tags":["comments"],"security":[{"bearer":[]}]}},"/api/timelines/{id}/reactions":{"post":{"operationId":"ReactionsController_createReaction","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateReactionDto"}}}},"responses":{"201":{"description":"ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®æŠ•ç¨¿","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReactionSerializer"}}}}},"tags":["reactions"],"security":[{"bearer":[]}]}}}}