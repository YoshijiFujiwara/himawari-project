webpackJsonp([0,3,4,5],[,function(e,t,n){"use strict";n.d(t,"h",function(){return o}),n.d(t,"H",function(){return c}),n.d(t,"b",function(){return f}),n.d(t,"k",function(){return b}),n.d(t,"I",function(){return h}),n.d(t,"A",function(){return g}),n.d(t,"K",function(){return m}),n.d(t,"a",function(){return y}),n.d(t,"L",function(){return S}),n.d(t,"C",function(){return E}),n.d(t,"z",function(){return T}),n.d(t,"q",function(){return D}),n.d(t,"s",function(){return w}),n.d(t,"i",function(){return r}),n.d(t,"v",function(){return R}),n.d(t,"n",function(){return N}),n.d(t,"F",function(){return U}),n.d(t,"G",function(){return M}),n.d(t,"w",function(){return z}),n.d(t,"t",function(){return F}),n.d(t,"o",function(){return H}),n.d(t,"p",function(){return G}),n.d(t,"r",function(){return $}),n.d(t,"e",function(){return q}),n.d(t,"f",function(){return I}),n.d(t,"g",function(){return A}),n.d(t,"J",function(){return Z}),n.d(t,"E",function(){return Y}),n.d(t,"d",function(){return K}),n.d(t,"l",function(){return P}),n.d(t,"m",function(){return L}),n.d(t,"c",function(){return ne}),n.d(t,"D",function(){return ie}),n.d(t,"u",function(){return se}),n.d(t,"x",function(){return ae}),n.d(t,"B",function(){return oe}),n.d(t,"j",function(){return re}),n.d(t,"y",function(){return p});var i=n(87),s=n.n(i),a=n(6);function o(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function r(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}var l={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},c={role:(e,t)=>e.role!==t.role?l[t.role]-l[e.role]:"invited"!==e.user.status&&"invited"===t.user.status?-1:"invited"===e.user.status&&"invited"!==t.user.status?1:"invited"===e.user.status&&"invited"===t.user.status?e.user.email<t.user.email?-1:1:e.user.username<t.user.username?-1:1,date(e,t,n){let i=t,s=n;for(let a=0;a<e.length;a++)i=i[e[a]],s=s[e[a]];return new Date(s)-new Date(i)},_property(e,t,n){let i=t,s=n;e&&(i=t[e],s=n[e]);const a=i.toLowerCase().match(/\D+|\d+/g),o=s.toLowerCase().match(/\D+|\d+/g),r=Math.min(a.length,o.length);for(var l=0;l<r;l++)if(a[l]!==o[l]){var c=parseInt(a[l],10),d=parseInt(o[l],10);return isNaN(c)||isNaN(d)?a[l]<o[l]?-1:a[l]>o[l]?1:0:c-d}return a.length-o.length}};c.created=c.date.bind(null,["created"]),c.updated=c.date.bind(null,["updated"]),c.lastUpdated=c.updated,c.authorized=c.date.bind(null,["authorizedAt"]),c.naturally=c._property.bind(null,null),c.name=c._property.bind(null,"name");const d=s()();var u=/\ud83c[\udffb-\udfff]/g;function h(e){return e.replace(d,function(e){return u.test(e)?'<span class="emoji skinType">'+e+"</span>":'<span class="emoji">'+e+"</span>"}).replace(/<\/span><span class="emoji skinType">/g,"")}const p=["everyone","project"];function g(e){const t=[...p,e].join("|");return new RegExp(`@(?:${t})\\b`)}function m(e=[]){const t=e.filter(({user:{username:e}})=>e).map(({user:{username:e}})=>e),n=[...p,...t].join("|");return new RegExp(`@(?:${n})\\b`,"gi")}function f(e,t){const n="function"==typeof t?t:e=>e._id===t,i=e.findIndex(n);return-1===i?null:e.splice(i,1)[0]}function b(e,t){return e.fontSize>t.fontSize?-1:e.fontSize<t.fontSize?1:e.fontWeight>t.fontWeight?-1:e.fontWeight<t.fontWeight?1:e.color&&!t.color?-1:t.color&&!e.color?1:e.fontFace<t.fontFace?-1:e.fontFace>t.fontFace?1:e.name<t.name?-1:1}function y(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function S(e,t){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||("Raven"in window&&Raven.captureException(new Error("Invalid "+(t||"object")+" id"),{extra:{id:e}}),!1)}const v=["user","admin","owner","pawn","knight","rook","queen","king"],C={canTransferOwnership:["king","queen","rook","owner"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canCreateStyleguide:["king","queen","rook"],canDeleteStyleguide:["king","queen","rook","owner"],canLeaveStyleguide:["king","queen","rook","knight","pawn","user","admin"],canUpdateStyleguide:["king","queen","rook","owner","admin","user"],canChangeStyleguideStatus:["king","queen","rook","owner","admin"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canRemoveVersions:["king","queen","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canManageSpacings:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"],canRemoveExtensions:["king","queen","rook","knight","owner","admin","user"],canManageRemSettings:["king","queen","rook","knight","owner","admin","user"],canManageWorkflowStatuses:["king","queen","rook","owner","admin","user"],canMoveResources:["king","queen","rook","owner","admin","user"],canManageWebhooks:["king","queen","owner","admin"]},E={isSuperior(e,t,n){const i=v.indexOf(e.role),s=v.indexOf(t.role);return n&&i===s||i>s}};for(const[le,ce]of Object.entries(C))E[le]=(e=>{if(!e)return!1;const t="string"==typeof e?e:e.role;return ce.includes(t)});const O=["king","queen","rook","knight","pawn"];function T(e){return!e.users.length||O.includes(e.users[0].role)}const k={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer",osx:"macOS developer"};function D(e){return k[e]}const _=Object.freeze({android:"Android",base:"Base",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"});function w(e){return _[e]}function j(e){return(e.getDay()+6)%7}function R(e){var t=function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),i=new Date(n-864e5),s=new Date(n-864e5*j(e)),a=new Date(n-864e5*(j(e)+7)),o=new Date(n-864e5*(e.getDate()-1)),r=new Date(n-864e5*(e.getDate()+1));return r.setDate(1),[["today",t],["yesterday",i],["this week",s],["last week",a],["this month",o],["last month",r]]}().find(function(t){return e>=t[1]});if(t)return t[0];var n={month:"long"};return(new Date).getFullYear()!==e.getFullYear()&&(n.year="numeric"),N(e,n)}function I(e,t){let n;return function(...i){const s=this;n?cancelAnimationFrame(n):t&&e.apply(s,i),n=requestAnimationFrame(function(){t||e.apply(s,i),n=null})}}function A(e,t=1e3){let n=null,i=null;return function(...s){return clearTimeout(n),n=setTimeout(()=>{let t=e(...s);i(t),i=null},t),new Promise(e=>{i=e})}}new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});const x=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function P(e){return x.format(e)}function L(e,t="conjunction"){if(Intl.ListFormat)return new Intl.ListFormat("en-US",{type:t}).format(e.map(String));const n="disjunction"===t?"or":"and";return e.length<3?e.join(` ${n} `):`${e.slice(0,-1).join(", ")}, ${n} ${e[e.length-1]}`}function N(e,t){var n=new Intl.DateTimeFormat("en",t),i=n.resolvedOptions().timeZone;return i&&"etc/unknown"!==i.toLowerCase()||(t.timeZone="UTC",n=new Intl.DateTimeFormat("en",t)),n.format(new Date(e))}function U(e,t){const n=e.x+e.width,i=e.y+e.height,s=t.x+t.width,a=t.y+t.height;return e.x<=t.x&&e.y<=t.y&&n>=s&&i>=a}function M(e,t){return e.x<t.right&&e.right>t.x&&e.y<t.bottom&&e.bottom>t.y}var B={king:"Owner",queen:"Admin",rook:"Editor",knight:"Member",pawn:"Alien",owner:"Owner",admin:"Admin",user:"Member"};function z(e){return B[e]||""}function F(e){return`ic${Object(a.h)(e)}`}const W=Object.freeze({mdpi:1,"1x":1,web:1,unknown:1,undefined:1,hdpi:1.5,xhdpi:2,"2x":2,xxhdpi:3,"3x":3,xxxhdpi:4,"4x":4});function H(e){return W[e]}const V=Object.freeze({1:"mdpi",1.5:"hdpi",2:"xhdpi",3:"xxhdpi",4:"xxxhdpi"});function G(e,t){return t?"android"===e?V[t]:`${t}x`:"unknown"}function $(e,t){const n=e.reduce((e,n)=>{const{id:i,name:s,textStyles:a,isMember:o,isOrganizationBarrel:r}=n,l=function(e,t){return e.reduce((e,n)=>{if(!t.conforms(n))return e;const i=Object.keys(n).filter(e=>void 0!==n[e]).length;return i>e.score?{textStyle:n,score:i}:e},{textStyle:null,score:0})}(a,t);return l.score>e.score?Object.assign({styleguideId:i,styleguideName:s,isMember:o,isOrganizationBarrel:r},l):e},{textStyle:null,score:0});if(!n.textStyle)return null;const{styleguideId:i,styleguideName:s,textStyle:a,isMember:o,isOrganizationBarrel:r}=n;return Object.assign({styleguideId:i,styleguideName:s,isMember:o,isOrganizationBarrel:r},a)}const q=Object.freeze({ios:/[^\da-z]/gi,osx:/[^\da-z]/gi,web:/[^\w-]/g,base:/[^\w-]/g,android:/\W/g});function Z(e){e.stopPropagation()}function Y(e){e.preventDefault()}function K(e=[]){return[].concat(...e.map(e=>e.components.concat(K(e.componentSections))))}const J=16,X=13,Q=2,ee=document.createElement("canvas");function te(e){return e/2*window.devicePixelRatio}function ne(){ee.width=J*window.devicePixelRatio,ee.height=ee.width;const e=ee.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(te(J),te(J),te(X),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(te(J),te(J),te(Q),0,6.28,!1),e.fill(),ee.toDataURL()}function ie(...e){return e.reduce((e,t)=>n=>t(e(n)),e=>e)}function se(e){return t=>Object.keys(e).reduce((n,i)=>t[i]===e[i]?n:(n||(n={}),n[i]=e[i],n),null)}function ae(e,t){return e.reduce((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e),{})}function oe(e,t){return e.reduce((e,n)=>(e[n[t]]=n,e),{})}function re(e,t){const n=Object.assign({},e);return delete n[t],n}},function(e,t,n){"use strict";function i(){}i.prototype.toObject=function(){return{}},i.prototype.serialize=function(){return{model:this.constructor.name,data:this.toObject()}},t.a=i},function(e,t,n){"use strict";t.a=function(){var e=[];return Array.from(arguments).forEach(function(t){t&&(Array.isArray(t)?e=e.concat(t):"string"==typeof t?e.push(t):"object"==typeof t&&(e=e.concat(Object.keys(t).filter(function(e){return!0===t[e]}))))}),e.join(" ")}},,function(e,t,n){"use strict";t.J="https://zeplin.io";t.b="https://api.zeplin.io";t.p="https://img.zeplin.io";t.c="https://cdn.zeplin.io";t.y="https://scene.zeplin.io";t.e="https://extensions.zeplin.io";t.d="5dd27af376f8bf5094f6ebe6";t.K="5bbc983af6c410493afb03f1";t.F="59dfedff7c722575736b3e8d";t.r="5dc3d464b94b22000d3834d0";t.s="";t.H="5dc51cd876f8bf00163de1e5";t.L="zpl:";t.q="41ycdg94";t.o="https://app.zeplin.io/auth/google/unlink";t.n="https://app.zeplin.io/auth/google/setupsso";t.f="AIzaSyAJ7h6d1DnbtYRlODr_FZhw8loCsu7n9H8";t.i="zeplin-8d650";t.g="1:290381624317:web:0f6a4fd50c15b00d401f94";t.h="290381624317";t.u="8e2050dc40d37740b8825eebb37415a9";t.t="26bd4a3dcc47c8a293c60fa00656fb81";t.l="UA-51352708-4";t.m="UA-51352708-8";t.D="pk_live_XfHC5uYDKaZYEOC1m9FlXwtq";t.A="https://005c26d193b24ce099639f75fb5fbc85@app.getsentry.com/83039";t.B="production";t.C="10.1.6";t.x="12ddd9afec9f9b421244";t.G="private-user@";t.w="private-project@";t.E="private-styleguide@";t.v="private-organization@";t.a="announcement";t.z="secure";t.I="10.1.6";t.j="true";t.k="false"},function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"h",function(){return r}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return h});const i=/\W/,s=/[\W_]/;function a(e,t,{suffix:n="s",one:i=1}={}){return`${1===e?i:e} ${t}${1!==e?n:""}`}function o(e){return e.charAt(0).toLowerCase()+e.substring(1)}function r(e){return e.charAt(0).toUpperCase()+e.substring(1)}function l(e=1/0){return Math.random().toString(36).substr(2,e)}function c(e,t){return e.split(s).some(e=>e.startsWith(t))}function d(e,t){return t?e.length-e.split("").reverse().join("").search(i)-1:e.search(/\W/)}function u(e){return e.split("/").pop().split(".")[0]}function h(e){const t=e.split("/").pop();if(t.indexOf(".")>-1){const e=t.split(".");return e[e.length-1]}return null}},function(e,t,n){"use strict";var i=n(157);n.n(i);t.a=new i.Dispatcher},function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"i",function(){return c}),n.d(t,"h",function(){return d}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return h}),n.d(t,"j",function(){return p}),n.d(t,"b",function(){return g}),n.d(t,"e",function(){return f}),n.d(t,"g",function(){return a}),n.d(t,"a",function(){return o});var i=n(5);const s={authGoogle:"/auth/google","sso-required":"/login/sso-required",downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",login:"/login",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing","profile-connected-apps":"/profile/connected-apps",project:"/project/:bid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:bid/styleguide","project-styleguide-colors":"/project/:bid/styleguide/colors","project-styleguide-textstyles":"/project/:bid/styleguide/textstyles","project-styleguide-spacing":"/project/:bid/styleguide/spacing","project-styleguide-components":"/project/:bid/styleguide/components","project-screen":"/project/:pid/screen/:sid","project-screen-version":"/project/:pid/screen/:sid/version/:vid",projects:"/projects",styleguide:"/styleguide/:bid","styleguide-about":"/styleguide/:bid/about","styleguide-colors":"/styleguide/:bid/colors","styleguide-textstyles":"/styleguide/:bid/textstyles","styleguide-spacing":"/styleguide/:bid/spacing","styleguide-components":"/styleguide/:bid/components",styleguides:"/styleguides",signup:"/signup","signup-sso":"/signup/sso",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","organization-create":"/organization/create","organization-dashboard":"/organization/:oid/dashboard","organization-profile":"/organization/:oid/profile","organization-profile-billing":"/organization/:oid/profile/billing","organization-profile-authentication":"/organization/:oid/profile/authentication","organization-profile-developer":"/organization/:oid/profile/developer","organization-projects":"/organization/:oid/projects","organization-styleguides":"/organization/:oid/styleguides",authSamlResult:"/auth/saml/result"};function a(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("//styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=e.searchParams.get("pid"),i=e.searchParams.get("stid");if(!n&&!i)return null;if(t.url={pid:n,bid:n||i},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid"),i=e.searchParams.get("vid");t.urlSlug=i?"project-screen-version":"project-screen",t.url.sid=n,t.url.vid=i}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),s=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:s}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),s=e.searchParams.getAll("tsid"),a=e.searchParams.getAll("sptid"),o=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide":"project-styleguide",t.query={cid:n,tsid:s,sptid:a,coid:o}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug=i?"styleguide-colors":"project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug=i?"styleguide-textstyles":"project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//spacing")){const n=e.searchParams.getAll("sptid");t.urlSlug=i?"styleguide-spacing":"project-styleguide-spacing",t.query={sptid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid"),s=e.searchParams.getAll("cseid"),a=e.searchParams.getAll("seid"),o=[...new Set([...a,...s])];t.urlSlug=i?"styleguide-components":"project-styleguide-components",t.query={coid:n,seid:o}}else{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.urlSlug="project-dashboard",t.query={sid:n,seid:i}}}return t}function o(e){if(e.protocol!==i.L)return;const{urlSlug:t,url:n={},query:s={}}=a(e)||{};return t?p(t,{url:n,query:s}):void 0}function r(e){if(!Object.keys(e))return"";var t=[];return Object.keys(e).forEach(function(n){e[n]&&(Array.isArray(e[n])?e[n].forEach(function(e){t.push([n,e])}):t.push([n,e[n]]))}),t.map(function(e){return e.map(encodeURIComponent).join("=")}).join("&")}const l=new RegExp("/project/([0-9a-z]{24})(?:/screen/([0-9a-z]{24})(?:/version/([0-9a-z]{24}))?)?","i");function c(e){var t=e.match(l);if(!t)return null;var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),t[3]&&(n.vid=decodeURIComponent(t[3])),n}function d(e){var t=("?"===e[0]?e.substring(1):e).split("&").map(function(e){return e.split("=").map(function(e){return e.replace(/\+/g,"%20")}).map(decodeURIComponent)}),n=Array.from(new Set(t.map(function(e){return e[0]}))).reduce(function(e,t){return e[t]=[],e},{});return t.forEach(function(e){var t=n[e[0]];t&&e[1]&&t.push(e[1])}),n}function u(){const e=c(location.pathname);if(!e)return null;const t=e;return location.search&&Object.assign(t,d(location.search)),t}function h(e){const{tags:t,untagged:n}=e;return n?{untagged:"true"}:{tag:t}}function p(e,{origin:t=location.origin,url:n={},query:i,hash:a}={}){const o=new URL(function(e,t){return Object.entries(t).reduce((e,[t,n])=>e.replace(new RegExp(":"+t),n),e)}(s[e],n),t);return i&&!m(i)&&(o.search=r(i)),a&&!m(a)&&(o.hash=r(a)),o.toString()}function g({extension:e,organizationId:t}={}){return e?`${i.e}/${e.id}`:t&&"user"!==t?`${i.e}?oid=${t}`:i.e}function m(e){return 0===Object.keys(e).length}const f=e=>{try{return!!new URL(e)}catch(e){return!1}}},function(e,t,n){"use strict";t.a={GET_BARRELS:"organizaton/getBarrels",REQUEST_INVITE:"requestInvite",ADD_ORGANIZATION:"addOrganization",ADD_ORGANIZATION_WORKFLOW_STATUS:"addOrganizationWorkflowStatus",UPDATE_ORGANIZATION:"updateOrganization",UPDATE_ORGANIZATION_PROFILE:"updateOrganizationProfile",UPDATE_ORGANIZATION_WORKFLOW_STATUS:"updateOrganizationWorkflowStatus",REMOVE_ORGANIZATION:"removeOrganization",DELETE_ORGANIZATION_WORKFLOW_STATUS:"deleteOrganizationWorkflowStatus",GET_ORGANIZATIONS_REQUESTED:"getOrganizationsRequested",GET_ORGANIZATIONS_SUCCESS:"getOrganizationsSuccess",GET_ORGANIZATIONS_FAILED:"getOrganizationsFailed",GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED:"getOrganizationMemberProfilesRequested",GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS:"getOrganizationMemberProfilesSuccess",ADD_ORGANIZATION_MEMBER_PROFILE:"addOrganizationMemberProfile",GET_FOCUSED_BARRELS_SUCCESS:"getFocusedBarrelsSuccess",ADD_BARREL_TO_FOCUS:"addBarrelToFocus",ADD_BARREL_TO_FOCUS_SUCCESS:"addBarrelToFocusSuccess",REMOVE_BARREL_FROM_FOCUS:"removeBarrelFromFocus",UNPIN_BARREL_FROM_FOCUS:"unpinBarrelFromFocus",UNPIN_BARREL_FROM_FOCUS_SUCCESS:"unpinBarrelFromFocusSuccess",REPIN_BARREL_TO_FOCUS:"repinBarrelToFocus",HIT_PIN_LIMIT:"hitPinLimit",UPDATE_MEMBER_ACCESSIBILITY:"organization/updateMemberAccessibility"}},function(e,t,n){"use strict";const i=Object.freeze({PROJECT:"project",STYLEGUIDE:"styleguide"});t.a=i},function(e,t,n){"use strict";var i=n(81),s=n(94),a=n(2);const o=Object.freeze({android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase",base:"kebabCase"}),r=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});function l(e){const t=Math.trunc(e+e/255);return Math.max(0,Math.min(t,255))}function c(e,t,n,i){return t||i?(e*t+n*i*(1-t))/(t+i*(1-t)):0}function d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}class Color extends a.a{constructor(e){if(e instanceof Color)return e;super();const{_id:t,id:n,name:i,r:s,g:a,b:o,a:r=1}=e;this.id=t||n,this.r=l(s),this.g=l(a),this.b=l(o),this.a=function(e){return Math.max(0,Math.min(e,1))}(r),this.name=i}static get NAMED_COLORS(){return s.a}static fromHex(e){let t=e.replace("#","");3!==t.length&&4!==t.length||(t=t.replace(/(.)/g,"$1$1"));const n=parseInt(t,16);let i=8*(t.length/2-1);return new Color({r:n>>i&255,g:n>>(i-=8)&255,b:n>>(i-=8)&255,a:(i-=8)<0?1:(n>>i&255)/255})}static fromHSLA(e,t,n,i=1){let s,a,o;if(0===t)s=n,a=n,o=n;else{const i=n<.5?n*(1+t):n+t-n*t,r=2*n-i;s=d(r,i,e+1/3),a=d(r,i,e),o=d(r,i,e-1/3)}return new Color({r:s*=255,g:a*=255,b:o*=255,a:i})}formatName(e){return Object(i.a)(this.name,o[e])}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a,name:this.name}}equals(e){const t=new Color(e);return this.r===t.r&&this.g===t.g&&this.b===t.b&&r.format(this.a)===r.format(t.a)}blend(e){const t=new Color(e);return new Color({r:c(this.r,this.a,t.r,t.a),g:c(this.g,this.a,t.g,t.a),b:c(this.b,this.a,t.b,t.a),a:this.a+t.a*(1-this.a)})}static blendAll(e){let t=new Color(Color.NAMED_COLORS.transparent);for(const n of e)if(n.a&&1===(t=t.blend(n)).a)break;return t}static componentToHex(e){const t=Math.max(0,Math.min(e,255));return(t<16?"0":"")+t.toString(16)}hexBase(){return this.constructor.componentToHex(this.r)+this.constructor.componentToHex(this.g)+this.constructor.componentToHex(this.b)}toHexString(e){let t=this.hexBase();if(this.a<1){const n=255*this.a,i=this.constructor.componentToHex(Math.trunc(n+n/255));t=e?i+t:t+i}return`#${t}`}toRGBABase(){const e=`${this.r} ${this.g} ${this.b}`;return this.a<1?`rgba ${e}, ${r.format(this.a)}`:`rgb ${e}`}toRGBString(){return`rgb ${this.r} ${this.g} ${this.b}`}toRGBAString(){const e=`${this.r}, ${this.g}, ${this.b}`;return this.a<1?`rgba(${e}, ${r.format(this.a)})`:`rgb(${e})`}_toHSL(){const e=this.r/255,t=this.g/255,n=this.b/255,i=Math.max(e,t,n),s=Math.min(e,t,n),a=(i+s)/2;let o,r;if(i===s)o=0,r=0;else{const l=i-s;switch(r=a>.5?l/(2-i-s):l/(i+s),i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:o,s:r,l:a}}toHSLAString(){const e=this._toHSL(),t=`${Math.round(360*e.h)}, ${Math.round(100*e.s)}%, ${Math.round(100*e.l)}%`;return this.a<1?`hsla(${t}, ${r.format(this.a)})`:`hsl(${t})`}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"web":return this.toCSS(t);case"base":case"ios":case"osx":default:return this.toRGBABase()}}toCSS(e){switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}generateName(e){let t=0,n=-1,a=-1;for(let r=0;r<s.b.length;r++){const l=new Color(s.b[r]);if(this.r===l.r&&this.g===l.g&&this.b===l.b)return Object(i.a)(l.name,o[e]);const c=this._toHSL();Object.keys(c).forEach(e=>c[e]*=255);const d=l._toHSL();Object.keys(d).forEach(e=>d[e]*=255),t=Math.pow(this.r-l.r,2)+Math.pow(this.g-l.g,2)+Math.pow(this.b-l.b,2)+2*(Math.pow(c.h-d.h,2)+Math.pow(c.s-d.s,2)+Math.pow(c.l-d.l,2)),(a<0||t<a)&&(a=t,n=r)}return Object(i.a)(s.b[n].name,o[e])}}t.a=Color},function(e,t,n){"use strict";t.a={RESET:"barrel/reset",LOAD:"barrel/load",UPDATE_STATE:"barrel/updateState",SET_ORGANIZATION_ID:"barrel/setOrganizationId",SET_BARREL_ID:"barrel/setBarrelId",CHANGE_SELECTED_VIEW:"barrel/changeSelectedView",ADD_TO_SLACK:"barrel/addToSlack",ADD:"barrel/add",ACTIVATE:"barrel/activate",ARCHIVE:"barrel/archive",REMOVE:"barrel/remove",UPDATE_NAME:"barrel/updateName",UPDATE_DESCRIPTION:"barrel/updateDescription",UPDATE_DENSITY_SCALE:"barrel/updateDensityScale",UPDATE_THUMBNAIL:"barrel/updateThumbnail",ADD_INTEGRATION:"barrel/addIntegration",REMOVE_INTEGRATION:"barrel/removeIntegration",ADD_MEMBERS:"barrel/addMembers",UPDATE_USER_ROLE:"barrel/updateUserRole",UPDATE_USER_DATA:"barrel/updateUserData",TRANSFER_OWNERSHIP:"barrel/transferOwnership",OWNERSHIP_TRANSFERRED:"barrel/ownershipTransferred",REMOVE_MEMBER:"barrel/removeMember",ADD_COLOR:"barrel/addColor",ADD_MULTIPLE_COLORS:"barrel/addMultipleColors",UPDATE_COLOR:"barrel/updateColor",REMOVE_COLOR:"barrel/removeColor",REMOVE_ALL_COLORS:"barrel/removeAllColors",ADD_TEXT_STYLE:"barrel/addTextStyle",ADD_MULTIPLE_TEXT_STYLES:"barrel/addMultipleTextStyles",UPDATE_TEXT_STYLE:"barrel/updateTextStyle",REMOVE_TEXT_STYLE:"barrel/removeTextStyle",REMOVE_ALL_TEXT_STYLES:"barrel/removeAllTextStyles",ADD_SPACING_SECTION:"barrel/addSpacingSection",UPDATE_SPACING_SECTION:"barrel/updateSpacingSection",REMOVE_SPACING_SECTION:"barrel/removeSpacingSection",ADD_SPACING_TOKEN:"barrel/addSpacingToken",UPDATE_SPACING_TOKEN:"barrel/updateSpacingToken",REMOVE_SPACING_TOKEN:"barrel/removeSpacingToken",UPDATE_REM_PREFERENCES:"barrel/updateRemPreferences",ADD_COMPONENT:"barrel/addComponent",UPDATE_COMPONENT:"barrel/updateComponent",REMOVE_COMPONENT:"barrel/removeComponent",ADD_COMPONENT_VERSION:"barrel/addComponentVersion",UPDATE_COMPONENTS_ORDER:"barrel/updateComponentsOrder",ADD_COMPONENT_SECTION:"barrel/addComponentSection",UPDATE_COMPONENT_SECTION:"barrel/updateComponentSection",MERGE_COMPONENT_SECTION:"barrel/mergeComponentSection",REMOVE_COMPONENT_SECTION:"barrel/removeComponentSection",REMOVE_COMPONENT_SECTIONS:"barrel/removeComponentSections",UPDATE_COMPONENT_SECTIONS_ORDER:"barrel/updateComponentSectionsOrder",COPY_COMPONENT_SECTION_WEB_LINK:"barrel/copyComponentSectionWebLink",COPY_COMPONENT_SECTION_APP_URI:"barrel/copyComponentSectionAppURI",GO_TO_DASHBOARD:"barrel/goToDashboard",GO_TO_STYLEGUIDE:"barrel/goToStyleguide",SET_ASSET_EXPORT_TARGET:"barrel/setAssetExportTarget",CHANGE_ASSET_NAME:"barrel/changeAssetName",CHANGE_ASSET_DENSITY_SCALE_PREF:"barrel/changeAssetDensityScalePref",CHANGE_ASSET_NAMING_CONVENTION:"barrel/changeAssetNamingConvention",TOGGLE_SVG_OPTIMIZATION:"barrel/toggleSVGOptimization",CHANGE_EXPORT_TARGET:"barrel/changeExportTarget",OPEN_EXPORT_TARGET:"barrel/openExportTarget",DOWNLOAD_ASSET:"barrel/downloadAsset",DOWNLOAD_MULTIPLE_ASSET:"barrel/downloadMultipleAsset",EXPORT_CODE:"barrel/exportCode",HIDE_NO_VECTOR_ASSET_INFO:"barrel/hideNoVectorAssetInfo",HIDE_DENSITY_MISMATCH_WARNING:"barrel/hideDensityMismatchWarning",HIDE_SOURCE_FILE_INFO:"barrel/hideSourceFileInfo",DISMISS_FLOW_LINK_INFO:"barrel/dismissFlowLinkInfo",DISMISS_NO_RESOURCE_INFO:"barrel/dismissNoResourceInfo",HIDE_SLACK_RECONNECTION_AUNTIE:"barrel/hideSlaclReconnectionAuntie",OPEN_JUMP_TO_POPUP:"barrel/openJumpToPopup",CLOSE_JUMP_TO_POPUP:"barrel/closeJumpToPopup",OPEN_EXTENSION_SETTINGS:"barrel/openExtensionSettings",CLOSE_EXTENSION_SETTINGS:"barrel/closeExtensionSettings",TOGGLE_SCENE:"barrel/toggleScene",JOIN:"barrel/join",STOP_JOIN_LOADING:"barrel/stopLoadingJoin",SET_SHORTLINK:"barrel/setShortlink",MOVE_RESOURCES_REQUEST:"barrel/moveResourcesRequest",MOVE_RESOURCES_SUCCESS:"barrel/moveResourcesSuccess",MOVE_RESOURCES_FAIL:"barrel/movesResourcesFail",ATTACH_JIRA_ISSUE:"barrel/attachJiraIssue",REMOVE_JIRA_ISSUE_ATTACHMENT:"barrel/removeJiraIssueAttachment",ENABLE_DEV_MODE:"barrel/enableDevMode",DISABLE_DEV_MODE:"barrel/disableDevMode",SET_LOCAL_CONNECTED_COMPONENTS:"barrel/setLocalConnectedComponents",RELOAD_LOCAL_CONNECTED_COMPONENTS:"barrel/reloadLocalConnectedComponents",UPDATE_CONNECTED_COMPONENTS:"barrel/updateConnectedComponents",SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:"barrel/setConnectedComponentsLocalWorkspace",GET_CONNECTED_COMPONENTS_EDITOR_INFO:"barrel/getConnectedComponentsEditorInfo",SET_CONNECTED_COMPONENTS_EDITOR_INFO:"barrel/setConnectedComponentsEditorInfo",SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:"barrel/setConnectedComponentsEditorPreference",SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER:"barrel/selectConnectedComponentsWorkspaceFolder",OPEN_COMPONENT_FILE_IN_EDITOR:"barrel/openComponentFileInEditor",SET_CONNECTED_COMPONENTS_WORKSPACE_PATH:"barrel/setConnectedComponentsWorkspacePath",UPDATE_WORKFLOW_STATUS:"barrel/updateWorkflowStatus",DELETE_WORKFLOW_STATUS:"barrel/deleteWorkflowStatus"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(95);n.d(t,"generateShortlink",function(){return i._30}),n.d(t,"getOrganizations",function(){return i._50}),n.d(t,"getOrganization",function(){return i._39}),n.d(t,"getOrganizationMembers",function(){return i._45}),n.d(t,"inviteOrganizationMembers",function(){return i._84}),n.d(t,"updateOrganizationMemberRole",function(){return i._129}),n.d(t,"updateOrganizationMemberAccessibility",function(){return i._128}),n.d(t,"updateOrganizationMembersTags",function(){return i._130}),n.d(t,"removeMemberFromOrganization",function(){return i._98}),n.d(t,"transferOrganizationOwnership",function(){return i._113}),n.d(t,"getOrganizationBilling",function(){return i._40}),n.d(t,"getOrganizationProration",function(){return i._46}),n.d(t,"updateOrganizationBilling",function(){return i._127}),n.d(t,"changePlan",function(){return i.u}),n.d(t,"changeOrganizationName",function(){return i.t}),n.d(t,"createSubscription",function(){return i.R}),n.d(t,"updateOrganizationSubscription",function(){return i._134}),n.d(t,"getOrganizationCards",function(){return i._41}),n.d(t,"getOrganizationInvoices",function(){return i._42}),n.d(t,"updateCard",function(){return i._119}),n.d(t,"getOrganizationMemberProfile",function(){return i._44}),n.d(t,"requestOrganizationInvitation",function(){return i._105}),n.d(t,"getApiConfig",function(){return i._31}),n.d(t,"getPlans",function(){return i._54}),n.d(t,"createOrganization",function(){return i.E}),n.d(t,"getOrganizationSSO",function(){return i._47}),n.d(t,"getOrganizationSSOSAMLMetadata",function(){return i._48}),n.d(t,"addOrganizationSSOGoogle",function(){return i.f}),n.d(t,"addOrganizationSSOSAML",function(){return i.g}),n.d(t,"updateOrganizationSSOPolicy",function(){return i._131}),n.d(t,"updateOrganizationSSOSessionDuration",function(){return i._133}),n.d(t,"updateOrganizationAllowExternalMembers",function(){return i._126}),n.d(t,"updateOrganizationSSOProvider",function(){return i._132}),n.d(t,"deleteOrganizationSSO",function(){return i.X}),n.d(t,"getCoupon",function(){return i._35}),n.d(t,"addOrganizationWorkflowStatus",function(){return i.h}),n.d(t,"updateOrganizationWorkflowStatus",function(){return i._135}),n.d(t,"deleteOrganizationWorkflowStatus",function(){return i.Y}),n.d(t,"getProjects",function(){return i._63}),n.d(t,"getOrganizationMemberFocusedBarrels",function(){return i._43}),n.d(t,"addBarrelToOrganizationMemberFocus",function(){return i.c}),n.d(t,"removeBarrelFromOrganizationMemberFocus",function(){return i._95}),n.d(t,"getV1Projects",function(){return i._80}),n.d(t,"getProject",function(){return i._55}),n.d(t,"getV1Project",function(){return i._79}),n.d(t,"getProjectOrganization",function(){return i._61}),n.d(t,"activateProject",function(){return i.a}),n.d(t,"archiveProject",function(){return i.m}),n.d(t,"inviteProjectUser",function(){return i._85}),n.d(t,"inviteProjectUsersByTag",function(){return i._86}),n.d(t,"transferProjectOwnership",function(){return i._114}),n.d(t,"updateProjectUserRole",function(){return i._155}),n.d(t,"removeUserFromProject",function(){return i._101}),n.d(t,"deleteProject",function(){return i._0}),n.d(t,"createProject",function(){return i.G}),n.d(t,"updateProjectName",function(){return i._147}),n.d(t,"updateProjectDescription",function(){return i._146}),n.d(t,"updateProjectDensityScale",function(){return i._145}),n.d(t,"updateProjectAccessibility",function(){return i._137}),n.d(t,"moveScreen",function(){return i._93}),n.d(t,"createSection",function(){return i.L}),n.d(t,"updateSectionScreens",function(){return i._161}),n.d(t,"deleteSection",function(){return i._12}),n.d(t,"updateSection",function(){return i._159}),n.d(t,"updateSectionOrder",function(){return i._160}),n.d(t,"authProjectSlack",function(){return i.o}),n.d(t,"getProjectSlackIntegrationEmojis",function(){return i._62}),n.d(t,"deleteProjectIntegration",function(){return i._5}),n.d(t,"getProjectExtensions",function(){return i._58}),n.d(t,"removeExtensionFromProject",function(){return i._96}),n.d(t,"addExtensionToProject",function(){return i.d}),n.d(t,"removeExtensionFromStyleguide",function(){return i._97}),n.d(t,"addExtensionToStyleguide",function(){return i.e}),n.d(t,"updateScreen",function(){return i._157}),n.d(t,"deleteScreen",function(){return i._11}),n.d(t,"createProjectColor",function(){return i.H}),n.d(t,"updateProjectColor",function(){return i._138}),n.d(t,"deleteProjectColor",function(){return i._3}),n.d(t,"deleteProjectAllColors",function(){return i._1}),n.d(t,"createProjectTextStyle",function(){return i.K}),n.d(t,"updateProjectTextStyle",function(){return i._152}),n.d(t,"deleteProjectTextStyle",function(){return i._9}),n.d(t,"deleteProjectAllTextStyles",function(){return i._2}),n.d(t,"createProjectSpacingSection",function(){return i.I}),n.d(t,"updateProjectSpacingSection",function(){return i._149}),n.d(t,"deleteProjectSpacingSection",function(){return i._7}),n.d(t,"createProjectSpacingToken",function(){return i.J}),n.d(t,"updateProjectSpacingToken",function(){return i._150}),n.d(t,"deleteProjectSpacingToken",function(){return i._8}),n.d(t,"updateProjectRemPreferences",function(){return i._148}),n.d(t,"getProjectComponentSections",function(){return i._56}),n.d(t,"getProjectConnectedComponents",function(){return i._57}),n.d(t,"getProjectLocalConnectedComponents",function(){return i._60}),n.d(t,"addProjectComponentSection",function(){return i.i}),n.d(t,"updateProjectComponentSection",function(){return i._141}),n.d(t,"mergeProjectComponentSection",function(){return i._91}),n.d(t,"updateProjectComponent",function(){return i._140}),n.d(t,"deleteProjectComponent",function(){return i._4}),n.d(t,"updateProjectComponentsOrder",function(){return i._144}),n.d(t,"updateProjectComponentSectionsOrder",function(){return i._142}),n.d(t,"updateProjectStyleguideLink",function(){return i._151}),n.d(t,"removeProjectStyleguideLink",function(){return i._99}),n.d(t,"getProjectIntegrationEvents",function(){return i._59}),n.d(t,"addProjectIntegrationEvent",function(){return i.j}),n.d(t,"deleteProjectIntegrationEvent",function(){return i._6}),n.d(t,"fetchSnapshot",function(){return i._29}),n.d(t,"getSnapshot",function(){return i._64}),n.d(t,"updateCommitColor",function(){return i._120}),n.d(t,"deleteVersion",function(){return i._25}),n.d(t,"getVersions",function(){return i._81}),n.d(t,"getDots",function(){return i._36}),n.d(t,"createDot",function(){return i.A}),n.d(t,"updateDot",function(){return i._122}),n.d(t,"deleteDot",function(){return i.W}),n.d(t,"updateCommitMessage",function(){return i._121}),n.d(t,"createDotComment",function(){return i.B}),n.d(t,"updateDotCommentNote",function(){return i._123}),n.d(t,"deleteComment",function(){return i.V}),n.d(t,"updateProjectThumbnail",function(){return i._154}),n.d(t,"updateScreensTags",function(){return i._158}),n.d(t,"updateProjectsWorkflowStatus",function(){return i._156}),n.d(t,"deleteProjectsWorkflowStatus",function(){return i._10}),n.d(t,"getNotifications",function(){return i._38}),n.d(t,"getUserAcquaintances",function(){return i._75}),n.d(t,"updateNotificationLastReadTime",function(){return i._125}),n.d(t,"logoutUser",function(){return i._90}),n.d(t,"getSsoLoginParams",function(){return i._65}),n.d(t,"resetPassword",function(){return i._106}),n.d(t,"deleteUserSSOProvider",function(){return i._24}),n.d(t,"updateEmailNotifications",function(){return i._124}),n.d(t,"updateUserEmotar",function(){return i._183}),n.d(t,"cancelUserSubscription",function(){return i.r}),n.d(t,"changeUserSubscription",function(){return i.v}),n.d(t,"subscribeUser",function(){return i._112}),n.d(t,"cancelOrganizationSubscription",function(){return i.q}),n.d(t,"downgradeOrganizationSubscription",function(){return i._28}),n.d(t,"transferUserSubscription",function(){return i._116}),n.d(t,"createIntercomMessage",function(){return i.C}),n.d(t,"getUserUpcomingInvoice",function(){return i._78}),n.d(t,"getOrganizationUpcomingInvoice",function(){return i._49}),n.d(t,"createIntercomUserTag",function(){return i.D}),n.d(t,"getStyleguides",function(){return i._74}),n.d(t,"getStyleguide",function(){return i._66}),n.d(t,"getStyleguideOrganization",function(){return i._71}),n.d(t,"getStyleguideProjects",function(){return i._72}),n.d(t,"createStyleguide",function(){return i.M}),n.d(t,"deleteStyleguide",function(){return i._13}),n.d(t,"archiveStyleguide",function(){return i.n}),n.d(t,"activateStyleguide",function(){return i.b}),n.d(t,"transferStyleguideOwnership",function(){return i._115}),n.d(t,"inviteStyleguideUser",function(){return i._87}),n.d(t,"inviteStyleguideUsersByTag",function(){return i._88}),n.d(t,"removeUserFromStyleguide",function(){return i._102}),n.d(t,"updateStyleguideUserRole",function(){return i._180}),n.d(t,"updateStyleguideName",function(){return i._172}),n.d(t,"updateStyleguideDescription",function(){return i._171}),n.d(t,"updateStyleguideDensityScale",function(){return i._170}),n.d(t,"updateStyleguideAccessibility",function(){return i._162}),n.d(t,"updateStyleguideThumbnail",function(){return i._179}),n.d(t,"getStyleguideExtensions",function(){return i._68}),n.d(t,"authStyleguideSlack",function(){return i.p}),n.d(t,"getStyleguideSlackIntegrationEmojis",function(){return i._73}),n.d(t,"deleteStyleguideIntegration",function(){return i._18}),n.d(t,"createStyleguideColor",function(){return i.N}),n.d(t,"updateStyleguideColor",function(){return i._163}),n.d(t,"deleteStyleguideColor",function(){return i._16}),n.d(t,"deleteStyleguideAllColors",function(){return i._14}),n.d(t,"createStyleguideTextStyle",function(){return i.Q}),n.d(t,"updateStyleguideTextStyle",function(){return i._177}),n.d(t,"deleteStyleguideTextStyle",function(){return i._22}),n.d(t,"deleteStyleguideAllTextStyles",function(){return i._15}),n.d(t,"createStyleguideSpacingSection",function(){return i.O}),n.d(t,"updateStyleguideSpacingSection",function(){return i._175}),n.d(t,"deleteStyleguideSpacingSection",function(){return i._20}),n.d(t,"createStyleguideSpacingToken",function(){return i.P}),n.d(t,"updateStyleguideSpacingToken",function(){return i._176}),n.d(t,"deleteStyleguideSpacingToken",function(){return i._21}),n.d(t,"updateStyleguideRemPreferences",function(){return i._174}),n.d(t,"addStyleguideComponentSection",function(){return i.k}),n.d(t,"updateStyleguideComponentSection",function(){return i._166}),n.d(t,"mergeStyleguideComponentSection",function(){return i._92}),n.d(t,"updateStyleguideComponent",function(){return i._165}),n.d(t,"deleteStyleguideComponent",function(){return i._17}),n.d(t,"updateStyleguideParent",function(){return i._173}),n.d(t,"removeStyleguideParent",function(){return i._100}),n.d(t,"getStyleguideIntegrationEvents",function(){return i._69}),n.d(t,"addStyleguideIntegrationEvent",function(){return i.l}),n.d(t,"deleteStyleguideIntegrationEvent",function(){return i._19}),n.d(t,"updateStyleguideComponentsOrder",function(){return i._169}),n.d(t,"updateStyleguideComponentSectionsOrder",function(){return i._167}),n.d(t,"getStyleguideConnectedComponents",function(){return i._67}),n.d(t,"getStyleguideLocalConnectedComponents",function(){return i._70}),n.d(t,"updateStyleguidesWorkflowStatus",function(){return i._181}),n.d(t,"deleteStyleguidesWorkflowStatus",function(){return i._23}),n.d(t,"getUserProfile",function(){return i._76}),n.d(t,"getUserStatus",function(){return i._77}),n.d(t,"checkUsernameAvailable",function(){return i.x}),n.d(t,"changeUsername",function(){return i.w}),n.d(t,"changeEmail",function(){return i.s}),n.d(t,"deleteAccount",function(){return i.T}),n.d(t,"updatePassword",function(){return i._136}),n.d(t,"updateBilling",function(){return i._118}),n.d(t,"getCards",function(){return i._34}),n.d(t,"updateUserCard",function(){return i._182}),n.d(t,"requestInvoiceSent",function(){return i._104}),n.d(t,"getInvoices",function(){return i._37}),n.d(t,"sendVerificationEmail",function(){return i._109}),n.d(t,"verifyUser",function(){return i._186}),n.d(t,"loginUser",function(){return i._89}),n.d(t,"signupUser",function(){return i._110}),n.d(t,"revokeAppToken",function(){return i._107}),n.d(t,"updateProjectColorsStyleguide",function(){return i._139}),n.d(t,"updateProjectTextStylesStyleguide",function(){return i._153}),n.d(t,"updateProjectComponentSectionsStyleguide",function(){return i._143}),n.d(t,"updateStyleguideColorsStyleguide",function(){return i._164}),n.d(t,"updateStyleguideTextStylesStyleguide",function(){return i._178}),n.d(t,"updateStyleguideComponentSectionsStyleguide",function(){return i._168}),n.d(t,"getAuthorizedApplications",function(){return i._33}),n.d(t,"revokeAuthorizedApplication",function(){return i._108}),n.d(t,"getOwnedApplications",function(){return i._52}),n.d(t,"getOwnedApplication",function(){return i._51}),n.d(t,"createApplication",function(){return i.z}),n.d(t,"updateApplication",function(){return i._117}),n.d(t,"deleteApplication",function(){return i.U}),n.d(t,"getPersonalAccessTokens",function(){return i._53}),n.d(t,"createPersonalAccessToken",function(){return i.F}),n.d(t,"deletePersonalAccessToken",function(){return i.Z}),n.d(t,"renamePersonalAccessToken",function(){return i._103}),n.d(t,"getAppStatus",function(){return i._32}),n.d(t,"getWebhooks",function(){return i._83}),n.d(t,"getWebhook",function(){return i._82}),n.d(t,"createWebhook",function(){return i.S}),n.d(t,"updateWebhook",function(){return i._184}),n.d(t,"deleteWebhook",function(){return i._26}),n.d(t,"checkWebhookUrlHealth",function(){return i.y}),n.d(t,"project",function(){return i._94}),n.d(t,"styleguide",function(){return i._111}),n.d(t,"user",function(){return i._185}),n.d(t,"developer",function(){return i._27})},function(e,t,n){"use strict";t.a=function(e,t,n="nodeRefs"){n in e||(e[n]={});"refHandlers"in e||(e.refHandlers={});const{[n]:i,refHandlers:s}=e;"function"!=typeof s[t]&&(s[t]=(e=>{i[t]=e}));return s[t]}},function(e,t,n){"use strict";var i=n(54),s=n(166),a=n(121),o=n(241),r=n(91);function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,n){var i=[],s=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;s<a;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+n,a)))):i.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+n,a)))),s+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var n=65536,i=t.getTypeOf(e),s=!0;if("uint8array"===i?s=d.applyCanBeUsed.uint8array:"nodebuffer"===i&&(s=d.applyCanBeUsed.nodebuffer),s)for(;n>1;)try{return d.stringifyByChunk(e,i,n)}catch(e){n=Math.floor(n/2)}return d.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=u;var p={};p.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,a.allocBuffer(e.length))}},p.array={string:u,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},p.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return a.newBufferFrom(e)}},p.nodebuffer={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:l},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var i=t.getTypeOf(n);return p[i][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&a.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},t.delay=function(e,t,n){o(function(){e.apply(n||null,t||[])})},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,a,o,l){return r.Promise.resolve(n).then(function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new r.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e}).then(function(n){var d=t.getTypeOf(n);return d?("arraybuffer"===d?n=t.transformTo("uint8array",n):"string"===d&&(l?n=s.decode(n):a&&!0!==o&&(n=function(e){return c(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(n))),n):r.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},,function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d});var i=n(36),s=n.n(i),a=n(69),o=n(73),r=n(25),l=n(5);function c(e,t){return t=t||{},e>=400&&e<500?new a.a(e,t.title,t.message):e>=500&&e<600?new o.a(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")}function d(e,t){var n={title:e.title,message:e.message};if(l.k&&console.error(e),e instanceof o.a)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),r.a(n)):r.a(n);else if(e instanceof a.a)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler)if("function"==typeof(c=t.clientErrorHandler[401]))return void c();s.a.expire("userToken"),localStorage.removeItem("user"),Raven.setUserContext(),r.a({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&Raven.captureException(e),t)if("clientErrorHandler"in t){var i=t.clientErrorHandler;if("function"==typeof i)i(e);else if("object"==typeof i){var c;"function"==typeof(c=i[e.status])?c(e):"default"in i&&i.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),r.a(n);else r.a(n);else if(Raven.captureException(e),t&&"fallbackHandler"in t)t.fallbackHandler();else{let e=l.j?null:{testid:"genericErrorDialog"};r.a(e)}}},function(e,t,n){"use strict";var i;"function"==typeof window.require&&(i=window.require("electron")),t.a=i},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={OPEN_SCREEN:"screen/openScreen",SELECT_LAYER:"screen/selectLayer",DESELECT_LAYER:"screen/deselectLayer",ENTER_LAYER:"screen/enterLayer",LEAVE_LAYER:"screen/leaveLayer",ENABLE_PERCENTAGE_MODE:"screen/enablePercentageMode",DISABLE_PERCENTAGE_MODE:"screen/disablePercentageMode",COPY_CODE:"screen/copyCode",ADD_SCREEN:"screen/addScreen",UPDATE_DESCRIPTION:"screen/updateDescription",UPDATE_NAME:"screen/updateName",REMOVE_SCREEN:"screen/removeScreen",OPEN_TAG_MANAGER:"screen/openTagManager",CLOSE_TAG_MANAGER:"screen/closeTagManager",UPDATE_TAGS:"screen/updateTags",OPEN_SOURCE_FILE:"screen/openSourceFile",OPEN_SOURCE_FOLDER:"screen/openSourceFolder",OPEN_POPOUT:"screen/openPopout",SET_DOTS:"screen/setDots",SELECT_DOT:"screen/selectDot",CLOSE_DOT_POPUP:"screen/closeDotPopup",CHANGE_DOT_FILTER:"screen/changeDotFilter",DOTS_FLASHED:"screen/dotsFlashed",HIGHLIGHT_DOTS:"screen/highlightDots",UNHIGHLIGHT_DOT:"screen/unhighlightDot",ADD_DOT:"screen/addDot",UPDATE_DOT:"screen/updateDot",UPDATE_DOT_COLOR:"screen/updateDotColor",UPDATE_DOT_POSITION:"screen/updateDotPosition",UPDATE_DOT_STATUS:"screen/updateDotStatus",REMOVE_DOT:"screen/removeDot",CREATE_COMMENT:"screen/createComment",ADD_COMMENT:"screen/addComment",UPDATE_COMMENT:"screen/updateComment",REMOVE_COMMENT:"screen/removeComment",OPEN_DOT_MENU:"screen/openDotMenu",CLOSE_DOT_MENU:"screen/closeDotMenu",CHANGE_ZOOM_LEVEL:"screen/changeZoomLevel",ZOOM_IN:"screen/zoomIn",ZOOM_OUT:"screen/zoomOut",RESET_ZOOM:"screen/resetZoom",ZOOM_APPLIED:"screen/zoomApplied",START_GESTURE:"screen/startGesture",ZOOM_WITH_GESTURE:"screen/zoomWithGesture",ZOOM_WITH_WHEEL:"screen/zoomWithWheel",TOGGLE_LAYOUT_GRID:"screen/toggleLayoutGrid",ENABLE_NOTE_MODE:"screen/enableNoteMode",DISABLE_NOTE_MODE:"screen/disableNoteMode",CREATE_NOTE:"screen/createNote",SHOW_NOTES:"screen/showNotes",HIDE_NOTES:"screen/hideNotes",CHANGE_NOTE_STATUS_FILTER:"screen/changeNoteStatusFilter",CHANGE_NOTE_COLOR_FILTER:"screen/changeNoteColorFilter",SHOW_FLOW_LINKS:"screen/showFlowLinks",HIDE_FLOW_LINKS:"screen/hideFlowLinks",CHANGE_SIDEBAR_TAB:"screen/changeSidebarTab",CHANGE_SCREEN_SIDEBAR_WIDTH:"screen/changeScreenSidebarWidth",SET_SHORTLINK:"screen/setShortlink",GET_VERSIONS:"screen/getVersions",SET_VERSIONS:"screen/setVersions",SET_VERSION_ID:"screen/setVersionId",SET_SNAPSHOT:"screen/setSnapshot",SHOW_VERSIONS:"screen/showVersions",HIDE_VERSIONS:"screen/hideVersions",TOGGLE_VERSIONS:"screen/toggleVersions",ENABLE_VERSIONS_COMPACT_MODE:"screen/enableVersionsCompactMode",DISABLE_VERSIONS_COMPACT_MODE:"screen/disableVersionsCompactMode",SHOW_VERSIONS_AUNTIE:"screen/showVersionsAuntie",HIDE_VERSIONS_AUNTIE:"screen/hideVersionsAuntie",NEW_VERSIONS_FOUND:"screen/newVersionsFound",CHANGE_VERSIONS_SIDEBAR_WIDTH:"screen/changeVersionsSidebarWidth",ADD_VERSION:"screen/addVersion",UPDATE_COMMIT_COLOR:"screen/updateCommitColor",UPDATE_COMMIT_MESSAGE:"screen/updateCommitMessage",REMOVE_VERSION:"screen/removeVersion",SET_SOURCE_FILE:"screen/setSourceFile"}},function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return S});var i=n(6),s=n(11);function a(e){return new URL(e,location.origin).href}function o(e,t=["2x","3x"]){const n=e.match(/(.*)\.([^.]+)/);if(n&&3===n.length)return t.map(e=>`${n[1]}@${e}.${n[2]} ${e}`).join(", ")}function r(e){if("random"===e)return a("/img/emotars/icRandom.svg");return a(`/img/emotars/emotar${Object(i.h)(e.replace(/_\w/g,e=>e.charAt(1).toUpperCase()))}.png`)}function l(e,t){return new Promise(n=>{const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const s=i.getContext("2d");s.webkitImageSmoothingEnabled=!0,s.mozImageSmoothingEnabled=!0,s.msImageSmoothingEnabled=!0,s.imageSmoothingEnabled=!0,s.imageSmoothingQuality="medium";const a=document.createElement("img");let o,r,l;a.crossOrigin="anonymous";let c=1,d=0,u=0;a.addEventListener("load",e=>{a.width<=i.width?(o=a.width,d=(i.width-a.width)/2):(c=i.width/a.width,o=i.width),t.height||(i.height=i.width*a.height/a.width),(l=c*a.height)<=i.height?(r=a.height,u=(i.height-l)/2):(r=i.height/c,l=i.height),s.drawImage(a,0,0,a.width,r,d,u,o,l),i.toBlob(e=>{n(URL.createObjectURL(e))})}),a.addEventListener("error",t=>{n(e)}),a.src=e})}function c(e,{width:t,height:n}){const i=`${Zeplin.urls.imgURL}/${encodeURIComponent(e)}`;let s=`?w=${t}`,a=`?w=${2*t}`;return n&&(s+=`&cropTop=0&cropLeft=0&cropWidth=${t}&cropHeight=${n}`,a+=`&cropTop=0&cropLeft=0&cropWidth=${2*t}&cropHeight=${2*n}`),{src:`${i}${s}`,srcset:`${i}${a} 2x`}}const d=210,u=4,h=255,p=0,g=1,m=2,f=3;const b={};function y(e){return new Promise((t,n)=>{const i="string"==typeof e?e:e.src;if(i in b)t(b[i]);else{const s="string"==typeof e?document.createElement("img"):e;s.crossOrigin="anonymous",s.addEventListener("load",function e(){s.removeEventListener("load",e);const n=document.createElement("canvas"),a=n.getContext("2d");n.width=s.width,n.height=s.height,a.drawImage(s,0,0);const o=function(e){for(let t=0;t<e.length;t+=u){const n=e[t+p],i=e[t+g],s=e[t+m];if(e[t+f]>=h-d&&(n<d||i<d||s<d))return!1}return!0}(a.getImageData(0,0,n.width,n.height).data)?"light":"dark",r={size:{width:s.width,height:s.height},lightness:o};b[i]=r,t(r)}),s.addEventListener("error",function e(t){s.removeEventListener("error",e),n(t)}),"string"==typeof e&&(s.src=e)}})}function S(e){if(!e)return null;const t=document.createElement("canvas"),n=t.getContext("2d");let i;t.height=e.naturalHeight||e.offsetHeight||e.height,t.width=e.naturalWidth||e.offsetWidth||e.width,n.drawImage(e,0,0);try{i=n.getImageData(0,0,t.width,t.height).data}catch(e){return null}const a=i.length,o={};for(let l=0;l<a;l+=4){const e=i[l],t=i[l+1],n=i[l+2];if(0===i[l+3])continue;if(e===t&&t===n)continue;const a="#"+[e,t,n].map(s.a.componentToHex).join("");o[a]?o[a]++:o[a]=1}const r=Object.keys(o);return r.length?r.reduce((e,t)=>o[e]>o[t]?e:t):null}},function(e,t,n){"use strict";t.a={GET_PROJECTS_SUCCESS:"projects/getProjectsSuccess",GET_PROJECTS_FAILED:"projects/getProjectsFailed",GET_PROJECT_REQUESTED:"projects/getProjectRequested",GET_PROJECT_SUCCESS:"projects/getProjectSuccess",GET_PROJECT_FAILED:"projects/getProjectFailed",UPDATE_PROJECT:"projects/updateProject",TRANSFER_OWNERSHIP:"projects/transferOwnerShip",CREATE_PROJECT:"projects/createProject",INIT_TRANSFER_OWNERSHIP:"projects/initTransferOwnerShip",OPEN_PROJECT_PREVIEW:"projects/openProjectPreview",CLOSE_PROJECT_PREVIEW:"projects/closeProjectPreview",INVITE_USER:"projects/inviteUser"}},function(e,t,n){"use strict";t.a={GET_STYLEGUIDES_SUCCESS:"styleguides/getStyleguidesSuccess",GET_STYLEGUIDES_FAILED:"styleguides/getStyleguidesFailed",GET_STYLEGUIDE_REQUESTED:"styleguides/getStyleguideRequested",GET_STYLEGUIDE_SUCCESS:"styleguides/getStyleguideSuccess",GET_STYLEGUIDE_FAILED:"styleguides/getStyleguidesFailed",UPDATE_STYLEGUIDE:"styleguides/updateStyleguide",TRANSFER_OWNERSHIP:"styleguides/transferOwnership",SELECT_PARENT:"styleguides/selectParent",REMOVE_PARENT:"styleguides/removeParent",SELECT_PARENT_REQUEST:"styleguides/selectParentRequest",SELECT_PARENT_SUCCESS:"styleguides/selectParentSuccess",SELECT_PARENT_FAILED:"styleguides/selectParentFailed",CREATE_STYLEGUIDE:"styleguides/createStyleguide",INIT_TRANSFER_OWNERSHIP:"styleguides/initTransferOwnership",OPEN_STYLEGUIDE_PREVIEW:"styleguides/openStyleguidePreview",CLOSE_STYLEGUIDE_PREVIEW:"styleguides/closeStyleguidePreview",INVITE_USER:"styleguides/inviteUser"}},function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return f});var i,s,a,o,r=n(158),l=n.n(r),c={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:"created",styleguidesTabVisited:!1,tabTutorialSeen:!1,versionsTutorialSeen:!1,zeplinThreeZeroWhatsNewSeen:!1,noVectorAssetInfoHidden:!1,sourceFileInfoHidden:!1,lastOrganization:"user",pinnedBarrelOnce:!1,dashboardMemberSortKey:{field:"role",reverse:!0},resolvedDotsTutorialSeen:!1,noScreensDesignToolSelection:"photoshop",flowLinkInfoDismissed:!1,windowsAppsNewReleasePointReminderOpen:!1,densityMismatchWarningHidden:!1,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,recentlyLoadedBarrels:{projects:[],styleguides:[]}},d={assetDensityScalePrefs:null,assetNamingConvention:"default",dashboardSidebarWidth:280,screenSidebarWidth:280,styleguideLeftSidebarWidth:200,styleguideRightSidebarWidth:280,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,noteStatusFilter:"open",noteColorFilter:null,collapsedSections:{},showOptimizedSVG:!0,slackReconnectionAuntieSeen:!1,versionsSidebarWidth:280,zoomLevel:1,fixedThumbnailSize:!1,extensions:[],androidResFolderReminderSeen:!1,extensionsMigrated:!1},u={extensions:[]};function h(){i=l.a.createInstance({driver:[l.a.INDEXEDDB,l.a.LOCALSTORAGE],name:"userPrefs",version:1}),s=l.a.createInstance({driver:[l.a.INDEXEDDB,l.a.LOCALSTORAGE],name:"projectPrefs",version:1}),a=l.a.createInstance({driver:[l.a.INDEXEDDB,l.a.LOCALSTORAGE],name:"styleguidePrefs",version:1}),o=l.a.createInstance({driver:[l.a.INDEXEDDB,l.a.LOCALSTORAGE],name:"extensionPrefs",version:1})}h();var p={getAll(){var e=c;return i.iterate(function(t,n){e[n]=t}).then(function(){return e})},get:e=>i.getItem(e).then(function(t){return null===t?c[e]:t}),set:(e,t)=>i.setItem(e,t)},g={getAll:e=>s.getItem(e).then(e=>Object.assign({},d,e)),get:(e,t,n)=>s.getItem(e).then(function(e){return e&&t in e&&(!n||n in e[t])?n?e[t][n]:e[t]:n?d[n]:d[t]}),set:(e,t,n,i)=>s.getItem(e).then(function(a){return a||(a={}),i?(a[t]||(a[t]={}),a[t][n]=i,s.setItem(e,a)):(a[t]=n,s.setItem(e,a))})},m={getAll:e=>a.getItem(e).then(e=>Object.assign({},u,e)),get:(e,t,n)=>a.getItem(e).then(e=>e&&t in e&&(!n||n in e[t])?n?e[t][n]:e[t]:n?u[n]:u[t]),set:(e,t,n,i)=>a.getItem(e).then(s=>(s||(s={}),i?(s[t]||(s[t]={}),s[t][n]=i,a.setItem(e,s)):(s[t]=n,a.setItem(e,s))))},f={get:(e,t,n)=>o.getItem(e).then(function(e){return e&&t in e?n?e[t][n]:e[t]:null}),set:(e,t,n,i)=>o.getItem(e).then(function(s){return s||(s={}),s[t]||(s[t]={}),s[t][n]=i,o.setItem(e,s)}),remove:e=>o.removeItem(e)};function b(e){return function(...t){return e(...t).catch(()=>(h(),e(...t)))}}g.get=b(g.get),g.set=b(g.set),m.get=b(m.get),m.set=b(m.set),p.get=b(p.get),p.set=b(p.set),f.get=b(f.get),f.set=b(f.set)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(127),s=n.n(i),a=n(5);function o(e){const t=document.createElement("dialog"),n=document.createElement("h1"),i=document.createElement("div"),s=document.createElement("form"),o=document.createElement("button"),r=document.createElement("div"),l=document.createElement("div");if(e&&e.img){const n=document.createElement("div");n.classList.add("iconContainer"),r.appendChild(n),function(e,t){let n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):((n=document.createElement("img")).src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}(e.img,t)}if(!a.j&&e&&e.testid&&(t.dataset.testid=e.testid),n.classList.add("title"),r.appendChild(n),i.classList.add("message"),r.appendChild(i),e&&e.input){r.classList.add("inputDialogContainer");const t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("input");t.classList.add("inputContainer"),n.classList.add("subtitle"),n.textContent=e.input.title,i.type=e.input.type,t.appendChild(n),t.appendChild(i),s.appendChild(t)}if(e&&e.cancel){const t=document.createElement("button");t.classList.add("cancel"),t.type="submit",t.textContent=e.cancel.name||"CANCEL",e.cancel.cb&&t.addEventListener("click",e.cancel.cb),l.appendChild(t)}return o.classList.add("done"),o.type="submit",o.autofocus=!0,o.textContent=e&&e.done&&e.done.name||"OK",e&&e.done&&e.done.cb&&o.addEventListener("click",e.done.cb),l.appendChild(o),l.classList.add("buttonContainer"),s.appendChild(l),s.setAttribute("method","dialog"),r.appendChild(s),t.appendChild(r),document.querySelector("body").appendChild(t),t}function r(e,t){if(document.querySelector("dialog.generic")&&!e)return;const n=e&&e.title||"",i=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.";let a=!1;if(t&&"defer"in t&&(a=t.defer),a)return void sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:i}));const r=o(e);s.a.registerDialog(r),r.querySelector(".title").textContent=n;const l=r.querySelector(".message"),{contentType:c="text"}=t||{};switch(c){case"html":l.innerHTML=i;break;case"text":default:l.textContent=i}t&&t.hideMessage&&r.querySelector(".message").classList.add("hidden"),r.addEventListener("click",e=>{e.stopPropagation()}),r.addEventListener("close",()=>{r.remove()}),e||r.classList.add("generic"),r.showModal()}n.d(t,"b",function(){return s.a});const l=JSON.parse(sessionStorage.getItem("deferredDialog"));l&&(sessionStorage.removeItem("deferredDialog"),r(l))},function(e,t,n){"use strict";n.d(t,"m",function(){return g}),n.d(t,"d",function(){return p}),n.d(t,"n",function(){return m}),n.d(t,"j",function(){return f}),n.d(t,"p",function(){return b}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return S}),n.d(t,"i",function(){return v}),n.d(t,"a",function(){return C}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return k}),n.d(t,"e",function(){return D}),n.d(t,"o",function(){return _}),n.d(t,"f",function(){return R}),n.d(t,"l",function(){return I}),n.d(t,"k",function(){return A});var i=n(139),s=n.n(i),a=n(45),o=n(1),r=n(6),l=n(21),c=n(56),d=n(18),u=n(24),h=n(124);function p(e){if(!e)return null;let t=e.parentElement;for(;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function g(e,t=p(e)){if(!e||!t)return;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();setTimeout(()=>{n.top<i.top?t.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(t.scrollTop+=n.bottom-i.bottom)},4)}function m(e){getSelection().removeAllRanges();const t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function f(e,t=p(e)){if(!t)return!0;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.top<=n.top&&i.bottom>=n.bottom&&i.left<=n.left&&i.right>=n.right}function b(e){e.addEventListener("animationend",()=>{e.classList.remove("wiggle")}),e.classList.add("wiggle")}function y(e){setTimeout(()=>{e.focus(),e.select()},4)}function S(e,t,{caseInsensitive:n,excludeZeroScore:i}={}){const s=n?e.toLowerCase():e,a=n?t.toLowerCase():t;let r=0,l="";if(i&&!Object(h.a)(a,s))return Object(o.h)(e);const c=s.indexOf(a);if(c>-1)l+=Object(o.h)(e.substring(0,c)),l+=`<span class="highlight">${Object(o.h)(e.substr(c,a.length))}</span>`,l+=Object(o.h)(e.substring(c+a.length));else{for(const t of a){const n=s.indexOf(t,r);if(-1===n)break;l+=Object(o.h)(e.substring(r,n)),l+=`<span class="highlight">${Object(o.h)(e.substr(n,t.length))}</span>`,r=n+t.length}l+=Object(o.h)(e.substring(r))}return l}function v(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function C(){return document.queryCommandSupported("copy")}function E(){return"download"in document.createElement("a")}function O(e){const t=document.createElement("textarea");t.classList.add("copyContainer"),t.value=e,document.body.appendChild(t),t.focus(),function(e){if(Object(c.m)()){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,e.value.length)}else e.select()}(t);let n=!1;try{n=document.execCommand("copy")}finally{t.remove()}return Promise.resolve(n)}function T(e){return navigator.clipboard.writeText(e).then(e=>!0).catch(e=>!1)}function k({content:e,toastContainer:t}){(navigator.clipboard?T:O)(e).then(n=>{n&&t&&Object(a.a)({text:"Copied to clipboard!",container:t,source:e})})}const D=function(){let e;return function(t,n){e||(e=document.createElement("canvas"));const i=e.getContext("2d");return i.font=n,i.measureText(t).width}}();function _(e,t,n){const i=e.parentElement;i.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",function t(){e.removeEventListener("load",t),i.classList.remove("loading")});const s=R(t,{ignoreRandomEmotar:!!n,size:e.width});s&&Object.assign(e,s)}const w=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],j={};function R(e,{ignoreRandomEmotar:t=!1,size:n}={}){if(!e||!e.email)return{src:"/img/emotars/emotarAnonymous.png"};if(!t&&e.emotar)return{src:Object(l.b)(e.emotar)};if(e.avatar)return{src:e.avatar};let i;if(t)return{src:"/img/emotars/icRandom.svg"};let a=j[e._id];a||(a=Array.from(s()(e._id)).reduce((e,t)=>e+t.charCodeAt(),0),j[e._id]=a),i=w[a%w.length].replace(/_\w/g,e=>e.charAt(1).toUpperCase()),i=`https://app.zeplin.io/img/emotars/emotar${Object(r.h)(i)}.png`;const o="https://secure.gravatar.com/avatar/"+s()(e.email);return{src:`${o}?${n?"s="+n+"&":""}d=${i}`,srcset:`${o}?${n?"s="+2*n+"&":""}d=${i} 2x`}}function I(e,{inNewTab:t=!0}={}){if(d.a)return void d.a.shell.openExternal(e);let n=window.location;if(t){const e=window.open("","_blank");e.opener=null,n=e.location}n.assign(e)}async function A({title:e,body:t,notifier:n,handler:i}={}){if(!window.Notification||"granted"!==Notification.permission)return;if(!await u.d.get("notificationStatus"))return;const{src:s}=R(n,{size:160}),a=new Notification(e,{body:t,icon:s,name:0});a.addEventListener("show",function(){setTimeout(a.close.bind(a),5e3)}),i&&a.addEventListener("click",i)}},function(e,t,n){"use strict";n(101),n(102);var i=n(37);t.a={isWindowsApp:i.b,supports:i.c,featureValue:i.a}},function(e,t,n){"use strict";t.a={HYDRATE_EMBEDDED_DATA:"app/hydrateEmbeddedData",INIT_RECENTLY_LOADED_BARRELS:"app/initRecentlyLoadedBarrels"}},function(e,t,n){"use strict";var i=n(2),s=n(11),a=n(6);const o="New Status";class r extends i.a{constructor(e){if(super(),!e)return r.NoStatus;const{_id:t=`newWorkflowStatusId-${Object(a.e)()}`,name:n,color:i=new s.a({name:"yellow",r:254,g:207,b:51})}=e;this._id=t,this.name=n,this.color=new s.a(i)}static generateNew(e){if(!e||!e.startsWith(o))return new r({name:o});const t=parseInt(e.substring(o.length),10)||0;return new r({name:`New Status ${t+1}`})}}r.All=new r({_id:"All",name:"All",color:new s.a({name:"karl",r:237,g:236,b:237})}),r.NoStatus=new r({_id:"No Status",name:"No Status",color:new s.a({name:"clooney",r:193,g:190,b:193})}),t.a=r},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(12),o=n(38),r=n(40),l=n(20);function c(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}t.a=new class extends s.a{constructor(){super(o.a)}getInitialState(){return{loading:!0,loadingJoin:!1,organizationId:null,organizationTransitionFinished:!1,barrelType:"project",barrelId:null,selectedView:"dashboard",assetExportTarget:null,assetDensityScalePrefs:null,assetNamingConvention:"camelCase",showOptimizedSVG:!0,noVectorAssetInfoHidden:!1,densityMismatchWarningHidden:!1,noResourceInfoDismissed:!1,sourceFileInfoHidden:!1,flowLinkInfoDismissed:!1,showSlackReconnectionAuntie:!1,jumpToPopupOpen:!1,extensionDialogOpen:!1,shortlinks:{},linkingProjectToStyleguide:"",movingResourcesToStyleguide:"",connectedComponentsDevModeEnabled:!1,connectedComponentsLocalWorkspace:null,connectedComponentsEditorInfo:{}}}reset(){return this.getInitialState()}load(e){return Object.assign({},this.getInitialState(),{loading:!1},e)}updateState(e,t){return Object.assign({},e,t)}updateForArchive(e,{bid:t}){return t===e.barrelId?this.reset():e}updateForRemoveMember(e,{bid:t,shouldRemoveBarrel:n}){return t===e.barrelId&&n?this.reset():e}updateForRemove(e,{bid:t}){return t===e.barrelId?this.reset():e}setOrganizationId(e,t){return Object.assign({},e,{organizationId:t})}setBarrelId(e,t){return Object.assign({},e,{barrelId:t})}changeSelectedView(e,t){return Object.assign({},e,{selectedView:t})}setAssetExportTarget(e,t){return Object.assign({},e,{assetExportTarget:t})}changeAssetName(e){return Object.assign({},e)}changeAssetDensityScalePref(e,t,n){const i=Object.assign({},e.assetDensityScalePrefs,{[t]:n});return Object.assign({},e,{assetDensityScalePrefs:i})}changeAssetNamingConvention(e,t){return Object.assign({},e,{assetNamingConvention:t})}toggleSVGOptimization(e,t){return Object.assign({},e,{showOptimizedSVG:t})}dismissNoResourceInfo(e){return Object.assign({},e,{noResourceInfoDismissed:!0})}hideNoVectorAssetInfo(e){return Object.assign({},e,{noVectorAssetInfoHidden:!0})}hideDensityMismatchWarning(e){return Object.assign({},e,{densityMismatchWarningHidden:!0})}hideSourceFileInfo(e){return Object.assign({},e,{sourceFileInfoHidden:!0})}dismissFlowLinkInfo(e){return Object.assign({},e,{flowLinkInfoDismissed:!0})}hideSlackReconnectionAuntie(e){return Object.assign({},e,{showSlackReconnectionAuntie:!1})}openJumpToPopup(e){return Object.assign({},e,{jumpToPopupOpen:!0})}closeJumpToPopup(e){return Object.assign({},e,{jumpToPopupOpen:!1})}openExtensionSettings(e,{extensionId:t}){return Object.assign({},e,{extensionDialogOpen:!0,extensionId:t})}closeExtensionSettings(e){return Object.assign({},e,{extensionDialogOpen:!1})}join(e){return Object.assign({},e,{loadingJoin:!0})}stopLoadingJoin(e){return Object.assign({},e,{loadingJoin:!1})}setShortlink(e,t,n){return Object.assign({},e,{shortlinks:Object.assign({},e.shortlinks,{[t]:n})})}moveResourcesRequest(e,{targetStyleguideId:t}){return Object.assign({},e,{movingResourcesToStyleguide:t})}moveResourcesSuccess(e){return Object.assign({},e,{movingResourcesToStyleguide:""})}moveResourcesFail(e){return Object.assign({},e,{movingResourcesToStyleguide:""})}linkProjectToStyleguideRequest(e,{styleguide:t}){return Object.assign({},e,{linkingProjectToStyleguide:t._id})}linkProjectToStyleguideSuccess(e){return Object.assign({},e,{linkingProjectToStyleguide:""})}updateForOpenScreen(e){return Object.assign({},e,{jumpToPopupOpen:!1,selectedView:"screen"})}updateForRemoveScreen(e,{removingCurrentScreen:t}){const{selectedView:n}=e;return"screen"===n&&t?Object.assign({},e,{selectedView:"dashboard"}):e}enableDevMode(e){return Object.assign({},e,{connectedComponentsDevModeEnabled:!0})}disableDevMode(e){return Object.assign({},e,{connectedComponentsDevModeEnabled:!1})}setConnectedComponentsLocalWorkspace(e,{workspace:t}){return Object.assign({},e,{connectedComponentsLocalWorkspace:t})}setConnectedComponentsEditorInfo(e,{editorInfo:t}){return Object.assign({},e,{connectedComponentsEditorInfo:t})}setConnectedComponentsEditorPreference(e,{extension:t,editor:n}){const{connectedComponentsEditorInfo:i}=e,{defaultEditorPreferences:s}=i,a=c(i,["defaultEditorPreferences"]),{[t]:o}=s,r=c(s,[t]);return n&&(r[t]=n),Object.assign({},e,{connectedComponentsEditorInfo:Object.assign({},a,{defaultEditorPreferences:r})})}setConnectedComponentsWorkspacePath(e,{workspacePath:t}){const{connectedComponentsEditorInfo:n}=e;return Object.assign({},e,{connectedComponentsEditorInfo:Object.assign({},n,{workspacePath:t})})}reduce(e,t){switch(t.type){case a.a.RESET:return this.reset();case a.a.ARCHIVE:return this.updateForArchive(e,t);case a.a.REMOVE_MEMBER:return this.updateForRemoveMember(e,t);case a.a.REMOVE:return this.updateForRemove(e,t);case a.a.LOAD:return this.load(t.barrel);case a.a.UPDATE_STATE:return this.updateState(e,t.update);case a.a.SET_ORGANIZATION_ID:return this.setOrganizationId(e,t.oid);case a.a.SET_BARREL_ID:return this.setBarrelId(e,t.barrelId);case a.a.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t.selectedView);case a.a.SET_ASSET_EXPORT_TARGET:return this.setAssetExportTarget(e,t.assetExportTarget);case a.a.CHANGE_ASSET_NAME:return this.changeAssetName(e,t);case a.a.CHANGE_ASSET_DENSITY_SCALE_PREF:return this.changeAssetDensityScalePref(e,t.format,t.assetDensityScalePrefsOfFormat);case a.a.CHANGE_ASSET_NAMING_CONVENTION:return this.changeAssetNamingConvention(e,t.assetNamingConvention);case a.a.TOGGLE_SVG_OPTIMIZATION:return this.toggleSVGOptimization(e,t.showOptimizedSVG);case a.a.HIDE_NO_VECTOR_ASSET_INFO:return this.hideNoVectorAssetInfo(e);case a.a.HIDE_DENSITY_MISMATCH_WARNING:return this.hideDensityMismatchWarning(e);case a.a.HIDE_SOURCE_FILE_INFO:return this.hideSourceFileInfo(e);case a.a.DISMISS_FLOW_LINK_INFO:return this.dismissFlowLinkInfo(e);case a.a.DISMISS_NO_RESOURCE_INFO:return this.dismissNoResourceInfo(e);case a.a.HIDE_SLACK_RECONNECTION_AUNTIE:return this.hideSlackReconnectionAuntie(e);case a.a.OPEN_JUMP_TO_POPUP:return this.openJumpToPopup(e);case a.a.CLOSE_JUMP_TO_POPUP:return this.closeJumpToPopup(e);case a.a.OPEN_EXTENSION_SETTINGS:return this.openExtensionSettings(e,t);case a.a.CLOSE_EXTENSION_SETTINGS:return this.closeExtensionSettings(e);case a.a.JOIN:return this.join(e);case a.a.STOP_JOIN_LOADING:return this.stopLoadingJoin(e);case a.a.SET_SHORTLINK:return this.setShortlink(e,t.longURL,t.shortURL);case a.a.MOVE_RESOURCES_REQUEST:return this.moveResourcesRequest(e,t);case a.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e);case a.a.MOVE_RESOURCES_FAIL:return this.moveResourcesFail(e);case a.a.ENABLE_DEV_MODE:return this.enableDevMode(e);case a.a.DISABLE_DEV_MODE:return this.disableDevMode(e);case r.a.LINK_PROJECT_REQUEST:return this.linkProjectToStyleguideRequest(e,t);case r.a.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case l.a.OPEN_SCREEN:return this.updateForOpenScreen(e);case l.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);case a.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:return this.setConnectedComponentsLocalWorkspace(e,t);case a.a.SET_CONNECTED_COMPONENTS_EDITOR_INFO:return this.setConnectedComponentsEditorInfo(e,t);case a.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:return this.setConnectedComponentsEditorPreference(e,t);case a.a.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH:return this.setConnectedComponentsWorkspacePath(e,t);default:return e}}}},function(e,t,n){"use strict";var i=n(119),s=n(12),a=n(38),o=n(88),r=n(30);n(221);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a}),n.d(t,"e",function(){return r.a})},function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=i},function(e,t,n){"use strict";const i=Object.freeze({BASE:1,MDPI:1,mdpi:1,_1x:1,"1x":1,WEB:1,web:1,UNKNOWN:1,unknown:1,UNDEFINED:1,undefined:1,HDPI:1.5,hdpi:1.5,XHDPI:2,xhdpi:2,_2x:2,"2x":2,XXHDPI:3,xxhdpi:3,_3x:3,"3x":3,XXXHDPI:4,xxxhdpi:4,_4x:4,"4x":4});t.a=i;const s=Object.freeze({COLORS:"colors",COMPONENTS:"components",TEXT_STYLES:"textStyles"});t.e=s;const a=Object.freeze({BASE:"base",ANDROID:"android",IOS:"ios",OSX:"osx",MACOS:"osx",WEB:"web"});t.c=a;const o=Object.freeze({base:"Base",android:"Android",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"});t.d=o;const r=Object.freeze({Key:{Meta:"Meta",Ctrl:"Control"},Code:{Minus:"Minus",Equal:"Equal"}});t.b=r},function(e,t,n){"use strict";var i=n(197);t.a=i.a},function(e,t,n){"use strict";var i=n(62),s=n(9),a=n(19),o=n(49),r=n(41);n(109);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a}),n.d(t,"e",function(){return r.a})},,function(e,t,n){"use strict";t.a=function(e){return s?i.a.features[e]:null};var i=n(18);const s=!!i.a;t.b=s;const a={webviews:s&&"webviews"in i.a.features,SPA:s&&"SPA"in i.a.features};t.c=a},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1),s=n(11),a=n(52),o=n(104),r=n(42),l=n(2),c=n(106),d=n(29),u=n(70),h=n(92);function p(e,t){let n,i;if(e)switch(t){case"android":n="dp",i="sp";break;case"ios":case"osx":n="pt",i="pt";break;case"web":default:n="px",i="px"}else n="px",i="px";return{textDimensionSuffix:i,dimensionSuffix:n}}function g(e,t){if(e.length){var n=e[0].fontSize/t,i=e[e.length-1].fontSize/t;if(n<=36&&i>=14)e.forEach(function(e){e.scaledFontSize=e.fontSize/t});else{var s,a;n<14?(s=24,a=14):i>36?(s=36,a=24):(s=Math.min(36,n),a=Math.max(14,i));var o=n===i?0:(s-a)/(n-i);e[0].scaledFontSize=Math.round(s);for(var r=1;r<e.length;r++){var l=e[r-1].fontSize/t,c=e[r].fontSize/t;e[r].scaledFontSize=Math.round(e[r-1].scaledFontSize-(l-c)*o)}}}}function m(e,t,n){let i;switch(n){case"ios":case"osx":i=t.replace(/\s+/g,"");break;case"android":i="_"+t.replace(/\s+/g,"_").toLowerCase();break;case"web":default:i="-"+t.replace(/\s+/g,"-").toLowerCase()}return e+i}function f(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(e>19){var n=e%10;return["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(e/10)]+(n?" "+t[n]:"")}return t[e]}function b(e,t,n){let i;for(const s of e){if(i=s.components.find(e=>e[t]===n))return i;if(i=b(s.componentSections,t,n))return i}return null}function y(e,t){e.forEach(e=>{const n=[...t,e._id];e.idPath=n,e.components.forEach(e=>{e.idPath=[...n,e._id]}),y(e.componentSections,n)})}function S(e){return e.components.concat(...e.componentSections.map(S))}function v(e){const t=Object.assign({},e);if(t.status||(t.status="active"),t.users&&(t.users=t.users.map(e=>new o.a(e))),t.users.sort(i.H.role),t.integration=new c.a(t.integration),t.extensions||(t.extensions=[]),t.colors?t.colors=t.colors.map(e=>new s.a(e)):t.colors=[],t.textStyles?(t.textStyles=t.textStyles.map(e=>new a.a(e)).sort(i.k),g(t.textStyles,t.densityScale)):t.textStyles=[],t.screens){if(t.sections){const e=t.screens.map(e=>e._id);t.sections.forEach(t=>{t.screens=t.screens.filter(t=>e.includes(t))})}!function(e){e.forEach(e=>{"versions"in e||(e.description=e.description||"",e.tags=e.tags||[],e.latestVersion.commit=e.latestVersion.commit||{message:"",color:Object(u.d)("yellow"),author:e.latestVersion.creator},e.latestVersion.snapshot.componentNames=e.latestVersion.snapshot.componentNames||[],e.versions=[e.latestVersion],delete e.latestVersion)})}(t.screens)}t.componentSections&&y(t.componentSections,[]),t.remPreferences=new r.a(t.remPreferences),t.workflowStatus=new d.a(t.workflowStatus),Object.defineProperties(this,{_id:{value:t._id,enumerable:!0},id:{value:t._id,enumerable:!0},partial:{value:t.partial,enumerable:!0},complete:{value:t.complete,enumerable:!0},type:{value:t.type,enumerable:!0},name:{get:()=>t.name,set(e){t.name=e},enumerable:!0},description:{get:()=>t.description,set(e){t.description=e},enumerable:!0},colors:{get:()=>t.colors,enumerable:!0},densityScale:{get:()=>t.densityScale,set(e){t.densityScale=e},enumerable:!0},extensions:{get:()=>t.extensions,set(e){t.extensions=e},enumerable:!0},icon:{value:t.icon,enumerable:!0},integration:{get:()=>t.integration,set(e){t.integration=e},enumerable:!0},prefix:{get:()=>t.prefix,set(e){t.prefix=e},enumerable:!0},public:{get:()=>t.public,set(e){t.public=e},enumerable:!0},screens:{get:()=>t.screens,set(e){t.screens=e},enumerable:!0},sections:{get:()=>t.sections,set(e){t.sections=e},enumerable:!0},status:{get:()=>t.status,set(e){t.status=e},enumerable:!0},textStyles:{get:()=>t.textStyles,enumerable:!0},thumbnail:{get:()=>t.thumbnail,set(e){t.thumbnail=e},enumerable:!0},users:{get:()=>t.users,enumerable:!0},slackTeamId:{get(){if(t.integration.slacks.length)return t.integration.slacks[0].teamId},enumerable:!0},tags:{get:()=>Object(h.a)(t.screens),enumerable:!0},dimensionSuffix:{get:()=>p(t.densityScale,t.type).dimensionSuffix,enumerable:!0},textDimensionSuffix:{get:()=>p(t.densityScale,t.type).textDimensionSuffix,enumerable:!0},created:{get:()=>t.created,set(e){t.created=e},enumerable:!0},updated:{get:()=>t.updated,set(e){t.updated=e},enumerable:!0},componentSections:{get:()=>t.componentSections,set(e){t.componentSections=e},enumerable:!0},connectedComponents:{get:()=>t.connectedComponents,set(e){t.connectedComponents=e},enumerable:!0},localConnectedComponents:{get:()=>t.localConnectedComponents,set(e){t.localConnectedComponents=e},enumerable:!0},parent:{get:()=>t.parent,set(e){t.parent=e},enumerable:!0},styleguideLink:{value:t.styleguideLink,enumerable:!0},ancestors:{get:()=>t.ancestors,set(e){t.ancestors=e},enumerable:!0},linkedProjects:{value:t.linkedProjects,enumerable:!0},spacingSections:{get:()=>t.spacingSections,set(e){t.spacingSections=e},enumerable:!0},remPreferences:{get:()=>t.remPreferences,set(e){t.remPreferences=new r.a(e)},enumerable:!0},workflowStatus:{get:()=>t.workflowStatus,set(e){t.workflowStatus=new d.a(e)},enumerable:!0}})}v.prototype=Object.create(l.a.prototype),v.prototype.constructor=v,v.prototype.toObject=function(){return{type:this.type,name:this.name,colors:this.colors.map(function(e){return e.toObject()}),textStyles:this.textStyles.map(function(e){return e.toObject()}),spacingSections:this.spacingSections,remPreferences:this.remPreferences&&Object.assign({},this.remPreferences,{rootFontSize:this.remPreferences.remRootFontSize}),density:i.p(this.type,this.densityScale)}},v.prototype.addTextStyle=function(e){this.textStyles.push(new a.a(e)),this.textStyles.sort(i.k),g(this.textStyles,this.densityScale)},v.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find(function(t){return t.id===e});n&&(Object.assign(n,t),this.textStyles.sort(i.k),g(this.textStyles,this.densityScale))},v.prototype.removeTextStyle=function(e){var t=i.b(this.textStyles,function(t){return t.id===e});return g(this.textStyles,this.densityScale),t},v.prototype.findTextStyleById=function(e){return this.textStyles.find(function(t){return t.id===e})},v.prototype.findTextStyleByName=function(e){return this.textStyles.find(function(t){return t.name===e})},v.prototype.findTextStyleEqual=function(e){return this.textStyles.find(function(t){return e.equals(t)})},v.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},v.prototype.findSpacingSectionById=function(e){return this.spacingSections.find(({_id:t})=>t===e)||{}},v.prototype.findSpacingTokenInsideSectionById=function(e,t){const n=this.spacingSections.find(({_id:t})=>t===e);return n?n.spacingTokens.find(({_id:e})=>e===t):{}},v.prototype.findUser=function(e){return this.users.find(function(t){return t.user._id===e})},v.prototype.findOwner=function(){return this.users.find(function(e){return"owner"===e.role})},v.prototype.addUser=function(e){this.users.push(e),this.users.sort(i.H.role)},v.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(i.H.role))},v.prototype.removeUser=function(e){return i.b(this.users,function(t){return t.user._id===e})},v.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(i.H.role)),this.screens.forEach(function(n){n.dots&&n.dots.forEach(function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.comments.forEach(function(n){n.author&&n.author._id===e&&Object.assign(n.author,t)})}),n.versions.forEach(function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.commit.author&&n.commit.author._id===e&&Object.assign(n.commit.author,t)})})},v.prototype.changeUserPaymentPlan=function(e,t){var n=this.findUser(e);n&&(n.user.paymentPlan=t)},v.prototype.addColor=function(e){this.colors.push(new s.a(e))},v.prototype.removeColor=function(e){return i.b(this.colors,function(t){return t.id===e})},v.prototype.updateColor=function(e,t){var n=this.colors.find(function(t){return t.id===e});Object.assign(n,t)},v.prototype.updateColorOrder=function(e,t){const n=this.removeColor(e);n&&this.colors.splice(t,0,n)},v.prototype.findColorById=function(e){return this.colors.find(function(t){return t.id===e})},v.prototype.findColorByName=function(e){return this.colors.find(function(t){return t.name===e})},v.prototype.findColorEqual=function(e){return this.colors.find(function(t){return e.equals(t)})},v.prototype.findColorByHexAndAlpha=function(e){return this.colors.find(function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n})},v.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},v.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},v.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},v.prototype._checkProjectColors=function(e){let t;for(var n=0;n<this.colors.length;n++){var i=this.colors[n];if(i.hexBase()===e.hexBase()){const[e]=i.name.match(/\d+$/)||[];e&&parseInt(e,10)===Math.round(100*i.a)?[,t=i.name]=i.name.match(/^([\w-]+?)[\d_-]+$/)||[]:t=i.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(m(t,Math.round(100*e.a).toString(),this.type))},v.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=m(e,f(++n),this.type);return t},v.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},v.prototype.deleteTag=function(e){return this.screens.reduce(function(t,n){var i;return n.tags&&-1!==(i=n.tags.indexOf(e))?(n.tags.splice(i,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t},[])},v.prototype.addSection=function(e,t){var n=this;return e.screens.forEach(function(e){var t=n.findScreenSection(e);t&&i.b(t.screens,function(t){return t===e})}),this.sections.splice(t,0,e),e},v.prototype.splitSection=function(e,t,n){var i=this.findSection(e);if(i){var s=this.sections.findIndex(function(t){return e===t._id}),a=i.screens.splice(t,i.screens.length-t);return this.sections.splice(s+1,0,{name:n,screens:a}),this.sections[s+1]}},v.prototype.findSection=function(e){return e?this.sections.find(function(t){return t._id===e}):null},v.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex(function(t){return t._id===e});return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),i.b(this.sections,function(t){return t._id===e})}},v.prototype.updateSectionOrder=function(e,t){var n=this,s=[].concat(e).map(function(e){return i.b(n.sections,function(t){return t._id===e})}).filter(function(e){return e});Array.prototype.splice.apply(this.sections,[t,0].concat(s))},v.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex(function(t){return t._id===e})},v.prototype.findScreenSection=function(e){return this.sections.find(function(t){return t.screens.includes(e)})},v.prototype.addScreensToSection=function(e,t,n){var s=this,a=this.findSection(e);a&&(t.forEach(function(e){var t=s.findScreenSection(e);t&&i.b(t.screens,function(t){return t===e})}),Array.prototype.splice.apply(a.screens,[n,0].concat(t)))},v.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},v.prototype.findScreen=function(e){return this.screens.find(t=>t._id===e)},v.prototype.findScreenByName=function(e){return this.screens.find(t=>t.name===e)},v.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&i.b(n.screens,function(e){return e===t}))return i.b(this.screens,function(e){return e._id===t})},v.prototype.updateScreenOrder=function(e,t,n){var s=this.findSection(e);s&&(t=[].concat(t).map(function(e){return i.b(s.screens,function(t){return t===e})}).filter(function(e){return e}),Array.prototype.splice.apply(s.screens,[n,0].concat(t)))},v.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>n.allowedVersionCount?n.versions.pop():void 0},v.prototype.findVersion=function(e,t){const n=this.findScreen(e);return n?n.versions.find(e=>e._id===t):null},v.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var s=i.b(n.versions,function(e){return e._id===t});return n.totalVersionCount&&n.totalVersionCount--,s}},v.prototype.addIntegration=function(e,t){this.integration[e].push(t)},v.prototype.removeIntegration=function(e,t){return i.b(this.integration[e],function(e){return e._id===t})},v.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach(function(n){var i=new s.a(n),a=i.toCSS(e);t[a]=i.name}),t},v.prototype.removeExtension=function(e){return i.b(this.extensions,function(t){return t._id===e})},v.prototype.findComponentById=function(e){return b(this.componentSections,"_id",e)},v.prototype.findComponentByName=function(e){return b(this.componentSections,"name",e)},v.prototype.findComponentSection=function(e){let t=this;for(const n of e)if(!(t=t.componentSections.find(e=>e._id===n)))return null;return t},v.prototype.addComponent=function(e,t){const n=this.findComponentSection(e);n&&(t.idPath=[...e,t._id],n.components.push(t))},v.prototype.updateComponent=function(e,t,n){const i=this.findComponentSection(e);if(!i)return;const s=i.components.find(e=>e._id===t);s&&Object.assign(s,n)},v.prototype.updateComponentOrder=function(e,t,n,s){const a=this.findComponentSection(e);if(!a)return;const o=this.findComponentSection(t);if(!o)return;const r=i.b(a.components,e=>e._id===n);r&&(r.idPath=[...t,r._id],o.components.splice(s,0,r))},v.prototype.removeComponent=function(e,t){const n=this.findComponentSection(e);if(!n)return;const s=i.b(n.components,e=>e._id===t);return s||void 0},v.prototype.addComponentSection=function(e,t,n){const i=this.findComponentSection(e);i&&(n.components||(n.components=[]),n.componentSections||(n.componentSections=[]),y([n],e),i.componentSections.splice(t,0,n))},v.prototype.updateComponentSection=function(e,t){const n=this.findComponentSection(e);n&&Object.assign(n,t)},v.prototype.mergeComponentSection=function(e,t,{flatten:n=!1}={}){const s=e.pop(),a=this.findComponentSection(e);if(!a)return;const o=this.findComponentSection(t);if(!o)return;const r=i.b(a.componentSections,e=>e._id===s);r&&(n?o.components.push(...S(r)):(o.components.push(...r.components),o.componentSections.push(...r.componentSections)),y(this.componentSections,[]))},v.prototype.updateComponentSectionOrder=function(e,t,n){const s=e.pop(),a=this.findComponentSection(e);if(!a)return;const o=this.findComponentSection(t);if(!o)return;const r=i.b(a.componentSections,e=>e._id===s);r&&(o.componentSections.splice(n,0,r),y([r],t))},v.prototype.removeComponentSection=function(e){const t=e.pop(),n=this.findComponentSection(e);if(!n)return;const s=i.b(n.componentSections,e=>e._id===t);return s||void 0},t.a=v},function(e,t,n){"use strict";t.a={LINK_PROJECT:"project/linkProject",LINK_PROJECT_REQUEST:"project/linkProjectRequest",LINK_PROJECT_SUCCESS:"project/linkProjectSuccess",LINK_PROJECT_FAILED:"project/linkProjectFailed",UNLINK_PROJECT:"project/unlinkProject"}},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(19),o=n(9),r=n(22),l=n(23),c=n(44),d=n(28),u=n(12),h=n(97),p=n(29),g=n(10);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{loading:!0,loadingProfiles:!0,loadingBarrels:!0,error:null,organizations:[],organizationProfiles:{},organizationProjects:{},organizationStyleguides:{},focusedBarrels:{}}}load(e,{data:{organization:t,organizations:n,organizationProfiles:i,organizationProjects:s,organizationStyleguides:a,focusedBarrels:o},barrel:{organizationId:r}}){let l=Object.assign({},e,{loading:!1});return n&&(l=this.getOrganizationsSuccess(l,n)),t&&(l=this.addOrganization(l,t)),i&&(l=this.getOrganizationMemberProfilesSuccess(l,i)),s&&(l=this.loadOrganizationProjects(l,{projects:s,oid:r})),a&&(l=this.loadOrganizationStyleguides(l,{styleguides:a,oid:r})),o&&(l=this.getFocusedBarrelsSuccess(l,o)),l}addOrganization(e,t){const n=e.organizations.find(({_id:e})=>e===t._id),i=n?new h.a(Object.assign({},n,t)):new h.a(t);return Object.assign({},e,{organizations:e.organizations.filter(({_id:e})=>e!==t._id).concat(i)})}addOrganizationWorkflowStatus(e,{oid:t,workflowStatusData:n}){const i=e.organizations.find(({_id:e})=>e===t),s=i.workflowStatuses.find(({_id:e})=>e===n._id&&e.startsWith("newWorkflowStatusId"))||{},a=i.workflowStatuses.map(e=>e._id===s._id?new p.a(n):e);return s._id||a.push(new p.a(n)),Object.assign({},e,{organizations:e.organizations.map(e=>e._id===t?new h.a(Object.assign({},e,{workflowStatuses:a})):e)})}updateOrganization(e,t,n){return Object.assign({},e,{organizations:e.organizations.map(e=>e._id===t?new h.a(Object.assign({},e,n)):e)})}updateOrganizationProfile(e,t,n){const i=e.organizationProfiles[t];if(!i)return;const s=Object.assign({},i,n);return Object.assign({},e,{organizationProfiles:Object.assign({},e.organizationProfiles,{[t]:s})})}updateOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n,workflowStatusData:i,oldWorkflowStatusData:s}){const a=new p.a(Object.assign({},s,i));return Object.assign({},e,{organizations:e.organizations.map(e=>e._id===t?new h.a(Object.assign({},e,{workflowStatuses:e.workflowStatuses.map(e=>e._id===n?a:e)})):e)})}removeOrganization(e,t){return Object.assign({},e,{organizations:e.organizations.filter(e=>e._id!==t)})}deleteOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n}){return Object.assign({},e,{organizations:e.organizations.map(e=>e._id===t?new h.a(Object.assign({},e,{workflowStatuses:e.workflowStatuses.filter(({_id:e})=>e!==n)})):e)})}getOrganizationsRequested(e){return Object.assign({},e,{loading:!0})}getOrganizationsSuccess(e,t){return Object.assign({},e,{organizations:t.map(e=>new h.a(e)),loading:!1})}getOrganizationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}getOrganizationMemberProfilesRequested(e){return Object.assign({},e,{loadingProfiles:!0})}getOrganizationMemberProfilesSuccess(e,t){return Object.assign({},e,{organizationProfiles:t,loadingProfiles:!1})}addOrganizationMemberProfile(e,{organizationProfile:t,oid:n}){return Object.assign({},e,{organizationProfiles:Object.assign({},e.organizationProfiles,{[n]:t})})}addBarrel(e,{barrel:{_id:t},oid:n,barrelType:i}){const{organizationProjects:s,organizationStyleguides:a}=e;if(i===g.a.PROJECT){const i=s[n];if(i&&!i.includes(t))return Object.assign({},e,{organizationProjects:Object.assign({},s,{[n]:[...i,t]})})}else{const i=a[n];if(i&&!i.includes(t))return Object.assign({},e,{organizationStyleguides:Object.assign({},a,{[n]:[...i,t]})})}return e}removeBarrel(e,{bid:t,oid:n}){const{organizationProjects:i,organizationStyleguides:s}=e,a=i[n];if(a&&a.includes(t))return Object.assign({},e,{organizationProjects:Object.assign({},i,{[n]:a.filter(e=>e!==t)})});const o=s[n];return o&&o.includes(t)?Object.assign({},e,{organizationStyleguides:Object.assign({},s,{[n]:o.filter(e=>e!==t)})}):e}loadOrganizationProjects(e,{projects:t,oid:n}){return Object.assign({},e,{organizationProjects:Object.assign({},e.organizationProjects,{[n]:t.map(e=>e._id)}),loadingBarrels:!1})}transferOrganizationProject(e,{bid:t,targetId:n,toOrganization:i,oid:s}){if(!i&&"user"===s)return e;const a=this.removeBarrel(e,{bid:t,oid:s}),o="user"===s?a:this.removeBarrelFromFocus(a,{bid:t,oid:s});return this.addBarrel(o,{barrel:{_id:t},oid:i?n:"user",barrelType:g.a.PROJECT})}loadOrganizationStyleguides(e,{styleguides:t,oid:n}){return Object.assign({},e,{organizationStyleguides:Object.assign({},e.organizationStyleguides,{[n]:t.map(e=>e._id)}),loadingBarrels:!1})}transferOrganizationStyleguide(e,{affectedIds:t,targetId:n,toOrganization:i,oid:s}){if(!i&&"user"===s)return e;const{organizationStyleguides:a}=e,o=a[s],r=i?n:"user",l=a[r];return Object.assign({},e,{organizationStyleguides:{[s]:o.filter(e=>!t.includes(e)),[r]:l&&[...l,...t]}})}setOrganizationBarrelsLoading(e,{oid:t}){const{organizationProjects:n}=e;return n[t]?e:Object.assign({},e,{loadingBarrels:!0})}getFocusedBarrelsSuccess(e,{focusedBarrels:t,oid:n}){return t?Object.assign({},e,{focusedBarrels:Object.assign({},e.focusedBarrels,{[n]:t})}):e}addBarrelToFocus(e,{oid:t,bid:n,barrelType:i,shouldPopOldestBarrel:s}){const a=e.focusedBarrels[t].filter(({unpinned:e})=>!e);return a?a.includes(n)?e:(s&&a.shift(),Object.assign({},e,{focusedBarrels:Object.assign({},e.focusedBarrels,{[t]:[...a,{barrelType:i,barrelId:n}]})})):e}removeBarrelFromFocus(e,{oid:t,bid:n,poppedBarrel:i}){const s=e.focusedBarrels[t];if(!s)return e;const a=s.slice();return i&&a.unshift(i),Object.assign({},e,{focusedBarrels:Object.assign({},e.focusedBarrels,{[t]:a.filter(({barrelId:e})=>e!==n)})})}unpinBarrelFromFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return Object.assign({},e,{focusedBarrels:Object.assign({},e.focusedBarrels,{[t]:i.map(e=>e.barrelId===n?Object.assign({},e,{unpinned:!0}):e)})})}removeArchivedBarrelFromFocus(e,{bid:t}){return Object.keys(e.focusedBarrels).reduce((e,n)=>this.removeBarrelFromFocus(e,{oid:n,bid:t}),e)}repinBarrelToFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return Object.assign({},e,{focusedBarrels:{[t]:i.map(e=>e.barrelId===n?Object.assign({},e,{unpinned:!1}):e)}})}removeUnjoinedBarrels(e,{oid:t,remainingProjects:n,remainingStyleguides:i}){return Object.assign({},e,{organizationProjects:Object.assign({},e.organizationProjects,{[t]:n}),organizationStyleguides:Object.assign({},e.organizationStyleguides,{[t]:i})})}hydrateEmbeddedData(e,t){const{projects:n,oid:i,styleguides:s,focusedBarrels:a}=t;let o=e;return n&&i&&(o=this.loadOrganizationProjects(o,{projects:n,oid:i})),s&&i&&(o=this.loadOrganizationStyleguides(o,{styleguides:s,oid:i})),a&&i&&(o=this.getFocusedBarrelsSuccess(o,{focusedBarrels:a,oid:i})),o}reduce(e,t){switch(t.type){case c.a.SET_ORGANIZATION_BARRELS_LOADING:return this.setOrganizationBarrelsLoading(e,t);case u.a.LOAD:return this.load(e,t);case u.a.ADD:return this.addBarrel(e,t);case u.a.REMOVE:return this.removeBarrel(e,t);case u.a.REMOVE_MEMBER:return t.shouldRemoveBarrel?this.removeBarrel(e,t):e;case u.a.ARCHIVE:return this.removeArchivedBarrelFromFocus(e,t);case r.a.GET_PROJECTS_SUCCESS:return this.loadOrganizationProjects(e,t);case l.a.GET_STYLEGUIDES_SUCCESS:return this.loadOrganizationStyleguides(e,t);case r.a.TRANSFER_OWNERSHIP:case l.a.TRANSFER_OWNERSHIP:case u.a.OWNERSHIP_TRANSFERRED:return t.affectedIds?this.transferOrganizationStyleguide(e,t):this.transferOrganizationProject(e,t);case o.a.ADD_ORGANIZATION:return this.addOrganization(e,t.organization);case o.a.ADD_ORGANIZATION_WORKFLOW_STATUS:return this.addOrganizationWorkflowStatus(e,t);case o.a.UPDATE_ORGANIZATION:return this.updateOrganization(e,t.id,t.organization);case o.a.UPDATE_ORGANIZATION_PROFILE:return this.updateOrganizationProfile(e,t.id,t.organizationProfile);case o.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS:return this.updateOrganizationWorkflowStatus(e,t);case o.a.REMOVE_ORGANIZATION:return this.removeOrganization(e,t.id);case o.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.deleteOrganizationWorkflowStatus(e,t);case o.a.GET_ORGANIZATIONS_REQUESTED:return this.getOrganizationsRequested(e);case o.a.GET_ORGANIZATIONS_SUCCESS:return this.getOrganizationsSuccess(e,t.organizations);case o.a.GET_ORGANIZATIONS_FAILED:return this.getOrganizationsFailed(e,t.error);case o.a.GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED:return this.getOrganizationMemberProfilesRequested(e);case o.a.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS:return this.getOrganizationMemberProfilesSuccess(e,t.organizationProfiles);case o.a.ADD_ORGANIZATION_MEMBER_PROFILE:return this.addOrganizationMemberProfile(e,t);case o.a.GET_FOCUSED_BARRELS_SUCCESS:return this.getFocusedBarrelsSuccess(e,t);case o.a.ADD_BARREL_TO_FOCUS:return this.addBarrelToFocus(e,t);case o.a.UNPIN_BARREL_FROM_FOCUS:return this.unpinBarrelFromFocus(e,t);case o.a.REMOVE_BARREL_FROM_FOCUS:return this.removeBarrelFromFocus(e,t);case o.a.REPIN_BARREL_TO_FOCUS:return this.repinBarrelToFocus(e,t);case o.a.UPDATE_MEMBER_ACCESSIBILITY:return this.removeUnjoinedBarrels(e,t);case d.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}},function(e,t,n){"use strict";var i=n(2);t.a=class extends i.a{constructor(e){if(super(),!e)return{};const{status:t,remRootFontSize:n,useForFontSizes:i,useForMeasurements:s}=e;this.status=t,this.remRootFontSize=n,this.useForFontSizes=i,this.useForMeasurements=s}}},function(e,t,n){"use strict";var i=n(321);n.d(t,"u",function(){return i.a});var s=n(322);n.d(t,"o",function(){return s.a});var a=n(323);n.d(t,"A",function(){return a.a});var o=n(324);n.d(t,"c",function(){return o.a});var r=n(325);n.d(t,"d",function(){return r.a});var l=n(326);n.d(t,"b",function(){return l.a});var c=n(327);n.d(t,"k",function(){return c.a});var d=n(328);n.d(t,"n",function(){return d.a});var u=n(329);n.d(t,"B",function(){return u.a});var h=n(330);n.d(t,"r",function(){return h.a});var p=n(311);n.d(t,"l",function(){return p.a});var g=n(331);n.d(t,"i",function(){return g.a});var m=n(332);n.d(t,"F",function(){return m.a});var f=n(333);n.d(t,"s",function(){return f.a});var b=n(334);n.d(t,"D",function(){return b.a});var y=n(335);n.d(t,"j",function(){return y.a});var S=n(336);n.d(t,"p",function(){return S.a});var v=n(337);n.d(t,"t",function(){return v.a});var C=n(338);n.d(t,"z",function(){return C.a});var E=n(339);n.d(t,"E",function(){return E.a});var O=n(342);n.d(t,"w",function(){return O.a});var T=n(343);n.d(t,"a",function(){return T.a});var k=n(344);n.d(t,"q",function(){return k.a});var D=n(345);n.d(t,"e",function(){return D.a});var _=n(346);n.d(t,"g",function(){return _.a});var w=n(347);n.d(t,"h",function(){return w.a});var j=n(348);n.d(t,"f",function(){return j.a});var R=n(349);n.d(t,"v",function(){return R.a});var I=n(350);n.d(t,"x",function(){return I.a});var A=n(351);n.d(t,"m",function(){return A.a});var x=n(352);n.d(t,"C",function(){return x.a});var P=n(353);n.d(t,"y",function(){return P.a});n(354),n(312),n(313),n(314);var L=n(357);n.d(t,"G",function(){return L.a});var N=n(358);n.d(t,"H",function(){return N.a});var U=n(359);n.d(t,"I",function(){return U.a})},function(e,t,n){"use strict";t.a={UPDATE_PAGE_STATE:"space/updatePageState",CHANGE_SELECTED_TAB:"space/changeSelectedTab",CHANGE_SELECTED_ORGANIZATION:"space/changeSelectedOrganization",CHANGE_FILTER_VALUE:"space/changeFilterValue",CHANGE_PROJECT_SELECTED_SORT_TYPE:"space/changeProjectSelectedSortType",CHANGE_WORKFLOW_STATUS_FILTER:"space/changeWorkflowStatusFilter",UNHIGHLIGHT_BARREL:"space/unhighlightBarrel",SET_STYLEGUIDES_TAB_VISITED:"space/setStyleguidesTabVisited",OPEN_CREATE_PROJECT_DIALOG:"space/openCreateProjectDialog",CLOSE_CREATE_PROJECT_DIALOG:"space/closeCreateProjectDialog",OPEN_CREATE_STYLEGUIDE_DIALOG:"space/openCreateStyleguideDialog",CLOSE_CREATE_STYLEGUIDE_DIALOG:"space/closeCreateStyleguideDialog",HIDE_LOADING:"space/hideLoading",CLOSE_UPGRADE_PLAN_DIALOG:"space/closeUpgradePlanDialog",OPEN_UPGRADE_PLAN_DIALOG:"space/openUpgradePlanDialog",SET_ORGANIZATION_BARRELS_LOADING:"space/setOrganizationBarrelsLoading",TRACK_BARREL_CLICK:"space/trackBarrelClick"}},function(e,t,n){"use strict";const i={source:null,text:null,container:null,visible:!1,removeTimeout:null},s=50,a=3e3;function o(e){return setTimeout(()=>{e.addEventListener("transitionend",()=>{e.remove(),i.visible=!1}),e.classList.remove("show")},a)}t.a=function({text:e,source:t,container:n=document.body}){if(i.visible){const n=i.container.querySelector(".toastContainer");if(n&&t===i.source&&e===i.text)return clearTimeout(i.removeTimeout),void(i.removeTimeout=o(n));n&&n.remove()}const a=document.createElement("div"),r=document.createElement("div");a.appendChild(r),a.classList.add("toastContainer"),r.classList.add("toast"),r.textContent=e,n.appendChild(a),i.container=n,i.source=t,i.text=e,i.visible=!0,setTimeout(()=>{a.classList.add("show"),i.removeTimeout=o(a)},s)}},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(48),o=n(23),r=n(12),l=n(40),c=n(9),d=n(28),u=n(39),h=n(10),p=n(63),g=n(64);t.a=new class extends s.a{constructor(){super(a.a),this.reducer=new p.a({bidPropertyName:"stid",barrelPropertyName:"styleguide",barrelsPropertyName:"styleguides",loadingBarrelPropertyName:"loadingStyleguide",loadingBarrelsPropertyName:"loadingStyleguides"},{deleteBarrel:this.remove})}getInitialState(){return{loadingStyleguide:!0,loadingSelectParent:!1,loadingStyleguides:!0,styleguides:{},error:null}}add(e,{barrel:t,barrelType:n}){return n!==h.a.STYLEGUIDE?e:this.reducer.addBarrel(e,{barrel:t})}updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:s}){if(n!==h.a.STYLEGUIDE)return e;const{styleguides:a}=e,o=a[t],r=Object.fromEntries(i.map(e=>{const n=a[e];return n.status=s,n.parent&&(n.ancestors=n.ancestors.filter(e=>!o.ancestors.includes(e)),t===e&&(n.parent=null)),[e,n]}));return Object.assign({},e,{styleguides:Object.assign({},a,r)})}activateStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"active"})}archiveStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"archived"})}remove(e,{bid:t}){const n=e.styleguides,{[t]:i}=n,s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(n,[t]);return Object.values(s).forEach(e=>{e.parent===t&&(e.parent=i.parent),e.ancestors.includes(t)&&(e.ancestors=e.ancestors.filter(e=>e!==t))}),Object.assign({},e,{styleguides:Object.assign({},s)})}linkProjectToStyleguideSuccess(e,{project:t,styleguide:n,styleguides:i}){const s=this.reducer.updateBarrelValue(e,{stid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>[...e,t]}),a=i.reduce((e,t)=>Object.assign({},e,{[t._id]:new u.a(Object.assign({},t,{complete:!0}))}),{});return Object.assign({},s,{loadingSelectParent:!1,styleguides:Object.assign({},s.styleguides,a)})}unlinkProjectToStyleguide(e,{pid:t,styleguide:n}){return this.reducer.updateBarrelValue(e,{stid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>e.filter(e=>e._id!==t)})}updateUserData(e,{bid:t,uid:n,userData:i}){return this.reducer.updateBarrelValue(e,{stid:t,key:"users",value:({users:e})=>e.map(({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:Object.assign({},t,i)})})}transferOwnership(e,{bid:t,affectedIds:n,fromUserId:i,targetId:s,toOrganization:a,users:o,oid:r}){const l=e.styleguides[t];if(!l)return e;const c=n.map(t=>e.styleguides[t]);if(a||"user"!==r){const n=c.reduce((e,n)=>(n._id===t&&n.parent&&(n.ancestors=n.ancestors.filter(e=>e!==n.parent),n.parent=null),n.ancestors.includes(t)&&l.parent&&(n.ancestors=n.ancestors.filter(e=>e!==l.parent)),e[n._id]=n,e),{});return Object.assign({},e,{styleguides:Object.assign({},e.styleguides,n)})}const d=c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,key:"ancestors",value:e=>e.ancestors.filter(e=>!l.ancestors.includes(e))}),e),u=this.reducer.updateBarrelValue(d,{stid:l._id,key:"parent",value:null});return c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,key:"users",value:e=>e.users.map(e=>{if(o){if(e.user._id===i||e.user._id===s){const t=o.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===s&&(e.role="owner"),e.user._id===i&&(e.role="admin"),e})}),u)}load(e,t){const{barrel:{barrelType:n}}=t;if(n===h.a.STYLEGUIDE){const{data:{styleguide:n,organizationStyleguides:i,ancestors:s}}=t;if(n.partial)return this.reducer.getBarrelSuccess(e,{styleguide:n});let a=e;return i&&(a=this.reducer.getBarrelsSuccess(e,{styleguides:i})),s.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),this.reducer.getBarrelSuccess(a,{styleguide:n}))}const{data:{project:i,organizationStyleguides:s,linkedStyleguides:a}}=t;if(i.partial)return e;const o=s?this.reducer.getBarrelsSuccess(e,{styleguides:s}):e;return a.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),o)}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:s,targetStyleguideId:a}){const o=Object(g.a)(t);let r=e;s===h.a.STYLEGUIDE&&(r=this.reducer.updateBarrelValue(e,{stid:i,key:o,value:e=>e[o].filter(e=>!n.includes(e))}));const l=e.styleguides[a];return l&&l.complete?this.reducer.updateBarrelValue(r,{stid:a,key:o,value:e=>e[o].concat(n)}):r}selectParent(e,{stid:t,parent:n}){const i=e.styleguides[t],s=[...e.styleguides[n].ancestors,n];return i.parent=n,i.ancestors=s,Object.values(e.styleguides).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=[...s,...e.ancestors.slice(n)])}),Object.assign({},e,{styleguides:Object.assign({},e.styleguides)})}removeParent(e,{stid:t}){const n=e.styleguides[t];return n.ancestors=[],n.parent=null,Object.values(e.styleguides).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=e.ancestors.slice(n))}),Object.assign({},e,{styleguides:Object.assign({},e.styleguides)})}selectParentRequest(e){return Object.assign({},e,{loadingSelectParent:!0})}selectParentSuccess(e,{stid:t,parent:n,styleguides:i}){const s=this.selectParent(e,{stid:t,parent:n}),a=i.reduce((e,t)=>Object.assign({},e,{[t._id]:new u.a(Object.assign({},t,{complete:!0}))}),{});return Object.assign({},s,{loadingSelectParent:!1,styleguides:Object.assign({},s.styleguides,a)})}selectParentFailed(e){return Object.assign({},e,{loadingSelectParent:!1})}hydrateEmbeddedData(e,t){const{styleguides:n,project:i,linkedStyleguides:s,styleguide:a,ancestors:o}=t;let r=e;return n&&(r=this.reducer.getBarrelsSuccess(e,{styleguides:n})),i?i.partial?r:s.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),r):a?a.partial?this.reducer.getBarrelSuccess(r,{styleguide:a}):o.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),this.reducer.getBarrelSuccess(r,{styleguide:a})):r}reduce(e,t){switch(t.type){case o.a.GET_STYLEGUIDES_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case o.a.GET_STYLEGUIDES_FAILED:return this.reducer.getBarrelsFailed(e,t);case o.a.GET_STYLEGUIDE_REQUESTED:return this.reducer.getBarrelRequested(e);case o.a.GET_STYLEGUIDE_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case o.a.GET_STYLEGUIDE_FAILED:return this.reducer.getBarrelFailed(e,t);case o.a.UPDATE_STYLEGUIDE:return this.reducer.updateBarrel(e,t);case r.a.UPDATE_NAME:return this.reducer.updateName(e,t);case r.a.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case r.a.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case r.a.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case r.a.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case r.a.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case r.a.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case r.a.ADD_MEMBERS:return this.reducer.addMembers(e,t);case r.a.ADD_COLOR:return this.reducer.addColor(e,t);case r.a.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case r.a.UPDATE_COLOR:return this.reducer.updateColor(e,t);case r.a.REMOVE_COLOR:return this.reducer.removeColor(e,t);case r.a.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case r.a.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case r.a.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case r.a.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case r.a.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case r.a.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case r.a.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case r.a.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case r.a.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case r.a.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case r.a.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case r.a.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case r.a.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case r.a.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case r.a.ADD_COMPONENT:return this.reducer.addComponent(e,t);case r.a.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case r.a.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case r.a.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case r.a.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case r.a.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case r.a.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case r.a.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case r.a.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case r.a.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case r.a.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case r.a.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case r.a.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case r.a.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case r.a.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case r.a.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case r.a.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case r.a.ADD:return this.add(e,t);case r.a.ACTIVATE:return this.activateStyleguide(e,t);case r.a.ARCHIVE:return this.archiveStyleguide(e,t);case r.a.REMOVE:return this.remove(e,t);case l.a.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case l.a.UNLINK_PROJECT:return this.unlinkProjectToStyleguide(e,t);case r.a.UPDATE_USER_DATA:return this.updateUserData(e,t);case o.a.TRANSFER_OWNERSHIP:case r.a.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case r.a.LOAD:return this.load(e,t);case r.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case c.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case c.a.UPDATE_MEMBER_ACCESSIBILITY:return this.reducer.removeUnjoinedBarrels(e,t);case o.a.SELECT_PARENT:return this.selectParent(e,t);case o.a.REMOVE_PARENT:return this.removeParent(e,t);case o.a.SELECT_PARENT_REQUEST:return this.selectParentRequest(e,t);case o.a.SELECT_PARENT_SUCCESS:return this.selectParentSuccess(e,t);case o.a.SELECT_PARENT_FAILED:return this.selectParentFailed(e,t);case d.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(30),s=n(41),a=n(82),o=n(46);t.a={getOrganization:function(e){let t=e;if(t||({organizationId:t}=i.a.getState()),!t)return null;const{organizations:n}=s.a.getState();return n.find(e=>e._id===t)},getOrganizationProjects:function(e){const{organizationProjects:t}=s.a.getState(),{projects:n}=a.a.getState(),i=t[e];if(i)return i.map(e=>n[e])},getOrganizationStyleguides:function(e){const{organizationStyleguides:t}=s.a.getState(),{styleguides:n}=o.a.getState(),i=t[e];if(i)return i.map(e=>n[e])},getOrganizationWorkflowStatus:function(e,t){const{organizations:n}=s.a.getState(),{workflowStatuses:i}=n.find(({id:t})=>t===e)||{};return i.find(({_id:e})=>e===t)},getOrganizationProfile:function(e){const{organizationProfiles:t}=s.a.getState();return t[e]}}},function(e,t,n){"use strict";var i=n(22),s=n(47);const a={getProjectsSuccess({projects:e,oid:t}){s.a.dispatch({type:i.a.GET_PROJECTS_SUCCESS,projects:e,oid:t})},getProjectsFailed(e){s.a.dispatch({type:i.a.GET_PROJECTS_FAILED,error:e})},getProjectRequest(){s.a.dispatch({type:i.a.GET_PROJECT_REQUESTED})},getProjectSuccess({project:e}){s.a.dispatch({type:i.a.GET_PROJECT_SUCCESS,project:e})},getProjectFailed(e){s.a.dispatch({type:i.a.GET_PROJECT_FAILED,error:e})},createProject({oid:e,platform:t}){s.a.dispatch({type:i.a.CREATE_PROJECT,oid:e,platform:t,syncWithApi:!0})},updateProject({pid:e,data:t}){s.a.dispatch({type:i.a.UPDATE_PROJECT,pid:e,data:t})},initTransferOwnership({pid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o}){s.a.dispatch({type:i.a.INIT_TRANSFER_OWNERSHIP,pid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o,users:r}){s.a.dispatch({type:i.a.TRANSFER_OWNERSHIP,bid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o,users:r})},inviteUser({container:e,pid:t,users:n,oid:a}){s.a.dispatch({type:i.a.INVITE_USER,container:e,pid:t,users:n,oid:a})},openProjectPreview(e){s.a.dispatch({type:i.a.OPEN_PROJECT_PREVIEW,pid:e,syncWithApi:!0})},closeProjectPreview(e){s.a.dispatch({type:i.a.CLOSE_PROJECT_PREVIEW,pid:e})}};t.a=a},function(e,t,n){"use strict";var i=n(23),s=n(48),a=n(46),o=n(77);const r={getStyleguidesSuccess({styleguides:e,oid:t}){s.a.dispatch({type:i.a.GET_STYLEGUIDES_SUCCESS,styleguides:e,oid:t})},getStyleguidesFailed(e){s.a.dispatch({type:i.a.GET_STYLEGUIDES_FAILED,error:e})},getStyleguideRequest(){s.a.dispatch({type:i.a.GET_STYLEGUIDE_REQUESTED})},getStyleguideSuccess({styleguide:e}){s.a.dispatch({type:i.a.GET_STYLEGUIDE_SUCCESS,styleguide:e})},getStyleguideFailed(e){s.a.dispatch({type:i.a.GET_STYLEGUIDE_FAILED,error:e})},createStyleguide({oid:e,platform:t,parent:n}){s.a.dispatch({type:i.a.CREATE_STYLEGUIDE,oid:e,platform:t,parent:n,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:r,oid:l,users:c}){const{styleguides:d}=a.a.getState(),u=Object(o.d)(d,e);s.a.dispatch({type:i.a.TRANSFER_OWNERSHIP,bid:e,affectedIds:u,fromUserId:t,targetId:n,toOrganization:r,oid:l,users:c})},initTransferOwnership({stid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o}){s.a.dispatch({type:i.a.INIT_TRANSFER_OWNERSHIP,stid:e,fromUserId:t,targetId:n,toOrganization:a,oid:o,syncWithApi:!0})},updateStyleguide({stid:e,data:t}){s.a.dispatch({type:i.a.UPDATE_STYLEGUIDE,stid:e,data:t})},openStyleguidePreview(e){s.a.dispatch({type:i.a.OPEN_STYLEGUIDE_PREVIEW,stid:e,syncWithApi:!0})},closeStyleguidePreview(e){s.a.dispatch({type:i.a.CLOSE_STYLEGUIDE_PREVIEW,stid:e})},inviteUser({container:e,stid:t,users:n,oid:a}){s.a.dispatch({type:i.a.INVITE_USER,container:e,stid:t,users:n,oid:a})},selectParent({stid:e,parent:t,oldParent:n,syncWithApi:a=!1}){s.a.dispatch({type:i.a.SELECT_PARENT,stid:e,parent:t,oldParent:n,syncWithApi:a})},removeParent({stid:e,oldParent:t,syncWithApi:n=!1}){s.a.dispatch({type:i.a.REMOVE_PARENT,stid:e,oldParent:t,syncWithApi:n})},selectParentRequest({stid:e,parent:t,syncWithApi:n}){s.a.dispatch({type:i.a.SELECT_PARENT_REQUEST,stid:e,parent:t,syncWithApi:n})},selectParentSuccess({stid:e,parent:t,styleguides:n}){s.a.dispatch({type:i.a.SELECT_PARENT_SUCCESS,stid:e,parent:t,styleguides:n})},selectParentFailed(){s.a.dispatch({type:i.a.SELECT_PARENT_FAILED})}};t.a=r},function(e,t,n){"use strict";var i=n(75),s=n(11),a=n(2);const o=Object.freeze({WEIGHT:"wght",WIDTH:"wdth",SLANT:"slnt",ITALIC:"ital",OPTICAL_SIZING:"opsz"}),r=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]\d{2}$)/gi,l=/(italic|oblique)/gi,c=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi;function d(e,t){const n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}const u=Object.freeze({100:"thin",200:"extra light",300:"light",400:"regular",500:"medium",600:"semi bold",700:"bold",800:"extra bold",900:"black",950:"extra black"}),h=Object.freeze({THIN:100,EXTRA_LIGHT:200,LIGHT:300,REGULAR:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900,EXTRA_BLACK:950});const p=Object.freeze({50:"ultra condensed",62.5:"extra condensed",75:"condensed",87.5:"semi condensed",100:"normal",112.5:"semi expanded",125:"expanded",150:"extra expanded",200:"ultra expanded"}),g=Object.freeze({ULTRA_CONDENSED:50,EXTRA_CONDENSED:62.5,CONDENSED:75,SEMI_CONDENSED:87.5,NORMAL:100,SEMI_EXPANDED:112.5,EXPANDED:125,EXTRA_EXPANDED:150,ULTRA_EXPANDED:200});function m(e){let t=function(e){return/^Arial/.test(e)?e.replace("MT",""):/^Lato/.test(e)?e.replace(/thin/i,h.EXTRA_LIGHT).replace(/heavy/i,h.EXTRA_BOLD):e}(e),n=t.match(r);n?(t=d(t,n=n[n.length-1]),n=function(e){return/black|heavy|900/gi.test(e)?h.BLACK:/((ex|ul)tra)\s?bold|800/gi.test(e)?h.EXTRA_BOLD:/([ds]emi)\s?bold|600/gi.test(e)?h.SEMI_BOLD:/bold|700/gi.test(e)?h.BOLD:/medium|500/gi.test(e)?h.MEDIUM:/((ex|ul)tra)\s?light|200/gi.test(e)?h.EXTRA_LIGHT:/light|300/gi.test(e)?h.LIGHT:/thin|hairline|100/gi.test(e)?h.THIN:h.REGULAR}(n.toLowerCase())):n=h.REGULAR;let i=t.match(l);i?(t=d(t,i=i[i.length-1]),i=i.toLowerCase()):i="normal";let s=t.match(c);return s?(t=d(t,s=s[s.length-1]),s=function(e){return/(ultra(\s|-)?)+condensed/i.test(e)?g.ULTRA_CONDENSED:/(extra(\s|-)?)+condensed/i.test(e)?g.EXTRA_CONDENSED:/(semi(\s|-)?)+condensed/i.test(e)?g.SEMI_CONDENSED:/condensed/i.test(e)?g.CONDENSED:/(ultra(\s|-)?)+expanded/i.test(e)?g.ULTRA_EXPANDED:/(extra(\s|-)?)+expanded/i.test(e)?g.EXTRA_EXPANDED:/(semi(\s|-)?)+expanded/i.test(e)?g.SEMI_EXPANDED:/expanded/i.test(e)?g.EXPANDED:g.NORMAL}(s.toLowerCase())):s=g.NORMAL,{family:function(e){return e.replace(/-+/g,"-").replace(/-$/,"").trim()}(t),style:i,weight:n,stretch:s}}t.a=class extends a.a{constructor(e){super();const{_id:t,id:n=t,sourceId:i,name:a,fontFace:r,fontSize:l,lineHeight:c,textAlign:d,letterSpacing:u,fontVariationSettings:p,color:f}=e;let b,y,S,v;this.id=n,this.sourceId=i,this.name=a,this.fontFace=r,this.fontSize=l,this.lineHeight=c,this.textAlign=d,this.letterSpacing=u,this.color=f&&new s.a(f),p?(this.fontVariationSettings=p,b=r,({style:y,weight:S,stretch:v}=function(e){const t=o.WEIGHT in e?e[o.WEIGHT]:h.REGULAR,n=o.WIDTH in e?e[o.WIDTH]:g.NORMAL;let i;return{style:i=o.SLANT in e?`oblique ${e[o.SLANT]}deg`:e[o.ITALIC]?"italic":"normal",weight:t,stretch:n}}(p))):({family:b,style:y,weight:S,stretch:v}=m(r)),this.fontFamily=b,this.fontStyle=y,this.fontWeight=S,this.fontStretch=v}get weightText(){return u[this.fontWeight]||String(this.fontWeight)}get stretchText(){return p[this.fontStretch]||String(this.fontStretch)}toObject(){const e={name:this.name,fontFace:this.fontFace,fontSize:this.fontSize,lineHeight:this.lineHeight,textAlign:this.textAlign,letterSpacing:this.letterSpacing};return this.fontVariationSettings&&(e.fontVariationSettings=this.fontVariationSettings),this.color&&(e.color=this.color.toObject()),e}isFontVariationSettingsEqual(e){return Object.keys(this.fontVariationSettings).length===Object.keys(e).length&&Object.entries(this.fontVariationSettings).every(([t,n])=>Object(i.a)(e[t],n))}equals(e){const t=this.fontFamily===e.fontFamily&&Object(i.a)(this.fontSize,e.fontSize)&&Object(i.a)(this.lineHeight,e.lineHeight)&&Object(i.a)(this.letterSpacing,e.letterSpacing)&&this.textAlign===e.textAlign&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}conforms(e){const t=this.fontFamily===e.fontFamily&&Object(i.a)(this.fontSize,e.fontSize)&&(this.textAlign===e.textAlign||!e.textAlign)&&(!e.lineHeight||Object(i.a)(this.lineHeight,e.lineHeight))&&(!e.letterSpacing||Object(i.a)(this.letterSpacing,e.letterSpacing))&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}}},function(e,t,n){"use strict";t.a={CHANGE_SORT_TYPE:"dashboard/changeSortType",CHANGE_FILTER_VALUE:"dashboard/changeFilterValue",CHANGE_TAG_FILTER:"dashboard/changeTagFilter",CHANGE_JIRA_ISSUE_FILTER:"dashboard/changeJiraIssueFilter",TOGGLE_FIXED_THUMBNAIL_SIZE:"dashboard/toggleFixedThumbnailSize",CHANGE_SIDEBAR_WIDTH:"dashboard/changeSidebarWidth",SET_COLLAPSED_SECTIONS:"dashboard/setCollapsedSections",EXPAND_SECTION:"dashboard/expandSection",COLLAPSE_SECTION:"dashboard/collapseSection",DOWNLOAD_SCREENS:"dashboard/downloadScreens",HIGHLIGHT_SCREENS:"dashboard/highlightScreens",UNHIGHLIGHT_SCREEN:"dashboard/unhighlightScreen",HIGHLIGHT_SECTION:"dashboard/highlightSection",UNHIGHLIGHT_SECTION:"dashboard/unhighlightSection",GENERATE_SHORTLINK:"dashboard/generateShortlink",SET_SHORTLINK:"dashboard/setShortlink",CREATE_SECTION:"dashboard/createSection",CONVERT_TAG_TO_SECTION:"dashboard/convertTagToSection",ADD_SECTION:"dashboard/addSection",UPDATE_SECTION:"dashboard/updateSection",RENAME_SECTION:"dashboard/renameSection",UPDATE_SECTION_DESCRIPTION:"dashboard/updateSectionDescription",UPDATE_SECTION_ORDER:"dashboard/updateSectionOrder",REMOVE_SECTION:"dashboard/removeSection",UPDATE_SCREEN_ORDER:"dashboard/updateScreenOrder"}},function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),t.blob=0===s.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!n(160).Readable}catch(e){t.nodestream=!1}}).call(t,n(79).Buffer)},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)s(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,i,s){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),s);else for(var a=0;a<i;a++)e[s+a]=t[n+a]},flattenChunks:function(e){var t,n,i,s,a,o;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(o=new Uint8Array(i),s=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,s),s+=a.length;return o}},o={arraySet:function(e,t,n,i,s){for(var a=0;a<i;a++)e[s+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(i)},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return l}),n.d(t,"j",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"k",function(){return h}),n.d(t,"i",function(){return p}),n.d(t,"g",function(){return g}),n.d(t,"m",function(){return m}),n.d(t,"f",function(){return f}),n.d(t,"n",function(){return b}),n.d(t,"h",function(){return y}),n.d(t,"l",function(){return S});var i=n(27),s=n(33),a=n(5);const o=Object.freeze({IOS:"ios",ANDROID:"android",MAC:"mac",WINDOWS:"win",LINUX:"linux",UNKNOWN:"unknown"}),r=Object.freeze({EDGE:"edge",OPERA:"opera",FIREFOX:"firefox",CHROME:"chrome",SAFARI:"safari",UNKNOWN:"unknown"}),l=Object.freeze({MOBILE:"mobile",DESKTOP:"desktop"});function c(){return/iPad|iPhone/.test(navigator.userAgent)?o.IOS:/Android/.test(navigator.userAgent)?o.ANDROID:/Macintosh/.test(navigator.userAgent)?o.MAC:/Windows/.test(navigator.userAgent)?o.WINDOWS:/Linux/.test(navigator.userAgent)||/X11/.test(navigator.userAgent)?o.LINUX:o.UNKNOWN}function d(e){return c()===o.MAC?e.metaKey:e.ctrlKey}function u(e){return c()===o.MAC?e.ctrlKey:e.metaKey}function h(e){return e.key===(c()===o.MAC?s.b.Key.Meta:s.b.Key.Ctrl)}function p(){return/Mobi/.test(navigator.userAgent)?l.MOBILE:l.DESKTOP}function g(){return/Edg/.test(navigator.userAgent)?r.EDGE:/OPR/.test(navigator.userAgent)?r.OPERA:/Firefox/.test(navigator.userAgent)?r.FIREFOX:/Chrome/.test(navigator.userAgent)?r.CHROME:/Safari/.test(navigator.userAgent)?r.SAFARI:r.UNKNOWN}function m(){return navigator.userAgent.match(/ipad|iphone/i)}function f(){if(!i.a.isWindowsApp)return a.I;const[,e="unknown"]=navigator.userAgent.match(/Zeplin(?: Windows v|\/)(\d+\.\d+\.\d+)/)||[];return e}function b(e){if(!e||0===e.length)return null;return e.replace(/^[\\/]|[\\/]$/g,"").replace(/\\/g,"/")}function y(){return c()===o.WINDOWS?"ctrl+Alt+L":"⌘⌥L"}function S(){return window.matchMedia("(max-width: 767px)").matches}},function(e,t,n){"use strict";var i=n(50),s=n(22),a=n(47),o=n(82),r=n(217);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"d",function(){return a.a}),n.d(t,"c",function(){return o.a}),n.d(t,"e",function(){return r.a})},function(e,t,n){"use strict";var i=n(51),s=n(23),a=n(48),o=n(46),r=n(218);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"d",function(){return a.a}),n.d(t,"c",function(){return o.a}),n.d(t,"e",function(){return r.a})},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(159),s=(n(59),n(67));n(219);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";t.b=function(e){e=e||{};var t=document.importNode(i.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;t.classList.add(e.group+"Banner")}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}t.classList.add(e.type||"warn"),t.addEventListener("click",function(e){e.stopPropagation()}),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText);e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex);if(t.querySelector(".bannerCloseButton").addEventListener("click",function(n){n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()}),e.bodyCallbacks)for(var s in e.bodyCallbacks)t.querySelector(s).addEventListener("click",e.bodyCallbacks[s]);e.container?e.container.appendChild(t):document.body.appendChild(t)},t.a=function(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()};var i=document.getElementById("bannerTemplate")},function(e,t,n){"use strict";var i=n(9),s=n(19),a=n(41),o=n(49),r=n(65);function l(e){let{selectedOrganizationId:t,organizationName:n}=e;return t||(({selectedOrganizationId:t}=r.a.getState()),e.oid=t),t&&"user"!==t&&!n&&(({name:n}=o.a.getOrganization(t)),e.organizationName=n),e}const c={getBarrels(e){s.a.dispatch({type:i.a.GET_BARRELS,oid:e})},requestInvite(e,t){s.a.dispatch({type:i.a.REQUEST_INVITE,id:e,container:t})},addOrganization(e){s.a.dispatch({type:i.a.ADD_ORGANIZATION,organization:e})},addOrganizationWorkflowStatus(e){const{oid:t,organizationName:n,workflowStatusData:a,syncWithApi:o=!1}=l(e);s.a.dispatch({type:i.a.ADD_ORGANIZATION_WORKFLOW_STATUS,oid:t,organizationName:n,workflowStatusData:a,syncWithApi:o})},updateOrganization(e,t){s.a.dispatch({type:i.a.UPDATE_ORGANIZATION,id:e,organization:t})},updateOrganizationProfile(e,t){s.a.dispatch({type:i.a.UPDATE_ORGANIZATION_PROFILE,id:e,organizationProfile:t})},updateOrganizationWorkflowStatus(e){const{oid:t,organizationName:n,workflowStatusId:a,workflowStatusData:r,syncWithApi:c=!1}=l(e),d=c?o.a.getOrganizationWorkflowStatus(t,a):{};s.a.dispatch({type:i.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS,oid:t,organizationName:n,workflowStatusId:a,workflowStatusData:r,oldWorkflowStatusData:d,syncWithApi:c})},updateOrganizationWorkflowStatusName({workflowStatusId:e,name:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{name:t},syncWithApi:n})},updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{color:t},syncWithApi:n})},removeOrganization(e){s.a.dispatch({type:i.a.REMOVE_ORGANIZATION,id:e})},deleteOrganizationWorkflowStatus(e){const{oid:t,organizationName:n,workflowStatusId:a,syncWithApi:r=!1}=l(e),c=r?o.a.getOrganizationWorkflowStatus(t,a):{};s.a.dispatch({type:i.a.DELETE_ORGANIZATION_WORKFLOW_STATUS,oid:t,organizationName:n,workflowStatusId:a,oldWorkflowStatusData:c,syncWithApi:r})},getOrganizationsSuccess(e){s.a.dispatch({type:i.a.GET_ORGANIZATIONS_SUCCESS,organizations:e})},getOrganizationMemberProfilesSuccess(e){s.a.dispatch({type:i.a.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS,organizationProfiles:e})},addOrganizationProfile(e,t){s.a.dispatch({type:i.a.ADD_ORGANIZATION_MEMBER_PROFILE,organizationProfile:e,oid:t})},getFocusedBarrelsSuccess(e){const{focusedBarrels:t,oid:n}=l(e);s.a.dispatch({type:i.a.GET_FOCUSED_BARRELS_SUCCESS,focusedBarrels:t,oid:n})},addBarrelToFocus(e){const{mid:t,bid:n,barrelType:o,shouldPopOldestBarrel:r,oid:c,syncWithApi:d}=l(e),{focusedBarrels:u}=a.a.getState();let h;u[c]&&u[c].length&&(h=u[c][0]),s.a.dispatch({type:i.a.ADD_BARREL_TO_FOCUS,oid:c,mid:t,bid:n,barrelType:o,poppedBarrel:h,shouldPopOldestBarrel:r,syncWithApi:d})},addBarrelToFocusSuccess(e){const{oid:t,organizationName:n}=l(e);s.a.dispatch({type:i.a.ADD_BARREL_TO_FOCUS_SUCCESS,oid:t,organizationName:n})},removeBarrelFromFocus(e){const{mid:t,bid:n,barrelType:a,poppedBarrel:o,oid:r,syncWithApi:c}=l(e);s.a.dispatch({type:i.a.REMOVE_BARREL_FROM_FOCUS,oid:r,mid:t,bid:n,barrelType:a,poppedBarrel:o,syncWithApi:c})},unpinBarrelFromFocus(e){const{mid:t,bid:n,barrelType:a,oid:o,syncWithApi:r}=l(e);s.a.dispatch({type:i.a.UNPIN_BARREL_FROM_FOCUS,oid:o,mid:t,bid:n,barrelType:a,syncWithApi:r})},unpinBarrelFromFocusSuccess(e){const{oid:t,bid:n,organizationName:a}=l(e);s.a.dispatch({type:i.a.UNPIN_BARREL_FROM_FOCUS_SUCCESS,oid:t,organizationName:a,bid:n})},repinBarrelToFocus(e){const{selectedOrganizationId:t,bid:n}=l(e);s.a.dispatch({type:i.a.REPIN_BARREL_TO_FOCUS,oid:t,bid:n})},hitPinLimit(e){const{pinnedAnyway:t,focusCountLimit:n,oid:a,organizationName:o}=l(e);s.a.dispatch({type:i.a.HIT_PIN_LIMIT,oid:a,organizationName:o,pinnedAnyway:t,focusCountLimit:n})},updateMemberAccessibility({oid:e,mid:t}){const n=o.a.getOrganizationProjects(e),a=o.a.getOrganizationStyleguides(e),r=n.filter(({users:e})=>e.some(({user:e})=>e._id===t)).map(({_id:e})=>e),l=a.filter(({users:e})=>e.some(({user:e})=>e._id===t)).map(({_id:e})=>e);s.a.dispatch({type:i.a.UPDATE_MEMBER_ACCESSIBILITY,oid:e,remainingProjects:r,remainingStyleguides:l})}};t.a=c},function(e,t,n){"use strict";var i=n(1),s=n(83),a=n(39),o=n(11),r=n(52),l=n(42),c=n(29),d=n(84),u=n(6);let h=0;t.a=class{constructor(e,t){this.bidPropertyName=e.bidPropertyName,this.barrelPropertyName=e.barrelPropertyName,this.barrelsPropertyName=e.barrelsPropertyName,this.loadingBarrelPropertyName=e.loadingBarrelPropertyName,this.loadingBarrelsPropertyName=e.loadingBarrelsPropertyName,this.deleteBarrel=t.deleteBarrel}getBarrelsSuccess(e,{[this.barrelsPropertyName]:t}){const n=t.map(e=>new a.a(e));return Object.assign({},e,{[this.loadingBarrelsPropertyName]:!1,[this.barrelsPropertyName]:Object.assign({},e[this.barrelsPropertyName],Object(i.B)(n,"_id"))})}getBarrelsFailed(e,{error:t}){return Object.assign({},e,{[this.loadingBarrelsPropertyName]:!1,error:t})}getBarrelRequested(e){return Object.assign({},e,{[this.loadingBarrelPropertyName]:!0})}getBarrelSuccess(e,{[this.barrelPropertyName]:t}){const n=this.updateBarrel(e,{[this.bidPropertyName]:t._id,data:Object.assign({},t,{complete:!t.partial}),upsert:!0});return Object.assign({},n,{[this.loadingBarrelPropertyName]:!1})}getBarrelFailed(e,{error:t}){return Object.assign({},e,{[this.loadingBarrelPropertyName]:!1,error:t})}addBarrel(e,{barrel:t}){return Object.assign({},e,{[this.barrelsPropertyName]:Object.assign({},e[this.barrelsPropertyName],{[t._id]:new a.a(t)})})}updateBarrel(e,{[this.bidPropertyName]:t,data:n,upsert:i}){const{[this.barrelsPropertyName]:s}=e,o=s[t];return o||i?Object.assign({},e,{[this.barrelsPropertyName]:Object.assign({},s,{[t]:new a.a(Object.assign({},o,"function"==typeof n?n(o):n))})}):e}joinBarrel(e,{[this.bidPropertyName]:t,user:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value:e=>e.users.find(e=>e.user._id===n.user._id)?e.users:e.users.concat(n)})}updateName(e,{bid:t,name:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{name:n}})}updateDescription(e,{bid:t,description:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{description:n}})}updateDensityScale(e,{bid:t,densityScale:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{densityScale:n}})}updateThumbnail(e,{bid:t,thumbnail:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{thumbnail:n}})}addIntegration(e,{bid:t,intype:n,integration:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value({integration:e}){if(e)return e[n].find(e=>e._id===i._id)?Object.assign({},e):Object.assign({},e,{[n]:[...e[n],i]})}})}removeIntegration(e,{bid:t,intype:n,inid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value({integration:e}){if(e)return Object.assign({},e,{[n]:e[n].filter(({_id:e})=>e!==i)})}})}toggleScene(e,{bid:t,accessibility:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{public:n}})}addMembers(e,{bid:t,members:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value(e){const t=n.filter(t=>!e.users.some(e=>e.user._id===t.user._id));return[...e.users,...t]}})}updateUserRole(e,{bid:t,uid:n,role:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value:({users:e})=>e.map(e=>e.user._id!==n?e:Object.assign({},e,{role:i}))})}removeMember(e,{bid:t,mid:n,currentUserId:i,shouldRemoveBarrel:s}){return s?this.deleteBarrel(e,{bid:t}):this.updateBarrel(e,{[this.bidPropertyName]:t,data:e=>Object.assign({},e,{users:e.users.filter(({user:e})=>e._id!==n),complete:e.complete&&n!==i})})}addColor(e,{bid:t,color:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>[...e,new o.a(n)]})}addMultipleColors(e,{bid:t,colors:n}){return n.reduce((e,n)=>this.addColor(e,{bid:t,color:n}),e)}updateColor(e,{bid:t,cid:n,colorData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>e.map(e=>e.id!==n?e:new o.a(Object.assign({},e,i)))})}removeColor(e,{bid:t,cid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>e.filter(({id:e})=>e!==n)})}removeAllColors(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:[]})}updateColorOrder(e,{bid:t,cid:n,to:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value({colors:e}){const t=Object(i.b)(e,e=>e.id===n);return t?(e.splice(s,0,t),e):e}})}addTextStyle(e,{bid:t,textStyle:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>[...e,new r.a(n)]})}addMultipleTextStyles(e,{bid:t,textStyles:n}){return n.reduce((e,n)=>this.addTextStyle(e,{bid:t,textStyle:n}),e)}updateTextStyle(e,{bid:t,tsid:n,textStyleData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>e.map(e=>e.id!==n?e:new r.a(Object.assign({},e,i)))})}removeTextStyle(e,{bid:t,tsid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>e.filter(({id:e})=>e!==n)})}removeAllTextStyles(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:[]})}addSpacingSection(e,{bid:t,spacingSection:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>[...e,Object.assign({},n,{spacingTokens:n.spacingTokens||[]})]})}updateSpacingSection(e,{bid:t,ssid:n,updatedSpacingSection:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>e._id!==n?e:Object.assign({},e,i))})}removeSpacingSection(e,{bid:t,ssid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.filter(({_id:e})=>e!==n)})}addSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,spacingToken:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:o}=e,r=Object(s.b)([...o,a],"value");let l=1===r.length?r[0]._id:t;return i&&(l=a._id),Object.assign({},e,{baseTokenId:l,spacingTokens:r})})})}updateSpacingToken(e,{bid:t,ssid:n,sptid:i,updatedSpacingToken:a,oldSpacingToken:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:r}=e,l=r.filter(({_id:e})=>e!==i),c=Object.assign({},o,a),d=t===i?c._id:t;return Object.assign({},e,{baseTokenId:d,spacingTokens:Object(s.b)([...l,c],"value")})})})}removeSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,sptid:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:a}=e,o=a.filter(({_id:e})=>e!==s);let r=t;return i&&(r=o.length&&o[0]._id||null),Object.assign({},e,{baseTokenId:r,spacingTokens:o})})})}updateRemPreferences(e,{bid:t,updatedRemPreferences:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"remPreferences",value:({remPreferences:e})=>new l.a(Object.assign({},e,n))})}addComponent(e,{bid:t,csids:n,component:i,index:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;if(e.findComponentById(i._id))return e.componentSections;const t=e.findComponentSection(n);return t?(void 0===s?t.components.push(i):t.components.splice(s,0,i),[...e.componentSections]):e.componentSections}})}updateComponent(e,{bid:t,csids:n,coid:i,componentData:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const a=t.components.find(e=>e._id===i);return a?(Object.assign(a,s),[...e.componentSections]):e.componentSections}})}removeComponent(e,{bid:t,csids:n,coid:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object(i.b)(t.components,s),[...e.componentSections]):e.componentSections}})}addComponentVersion(e,{bid:t,csids:n,coid:i,componentVersion:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const a=t.components.find(e=>e===i);return a&&a.latestVersion._id!==s._id?(a.latestVersion=s,[...e.componentSections]):e.componentSections}})}addComponentSection(e,{bid:t,csids:n,componentSection:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const a=Object.assign({},s);return a._id||(a._id=d.a,a.newSection=!0,a.key=`newComponentSection-${h++}`),s.components?a.components=s.components.map(t=>{const n=e.findComponentSection(t.csid);return Object(i.b)(n.components,t.coid)}):a.components=[],s.componentSections||(a.componentSections=[]),void 0===s.index?t.componentSections.push(a):t.componentSections.splice(s.index,0,a),[...e.componentSections]}})}updateComponentSection(e,{bid:t,csids:n,componentSectionData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object.assign(t,i),[...e.componentSections]):e.componentSections}})}mergeComponentSection(e,{bid:t,csids:n,tcsids:s,flatten:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=[...n],o=t.pop(),r=e.findComponentSection(t);if(!r)return e.componentSections;const l=e.findComponentSection(s);if(!l)return e.componentSections;const c=Object(i.b)(r.componentSections,o);return c?(a?l.components.push(...this.flattenComponents(c)):(l.components.push(...c.components),l.componentSections.push(...c.componentSections)),[...e.componentSections]):e.componentSections}})}removeComponentSection(e,{bid:t,csids:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=n.pop(),s=e.findComponentSection(n);return s?(Object(i.b)(s.componentSections,t),[...e.componentSections]):e.componentSections}})}removeComponentSections(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{Object(i.b)(e.componentSections,t)}),[...e.componentSections]}})}updateComponentsOrder(e,{bid:t,components:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{const{coid:n,csid:s,tcsid:a,to:o}=t,r=e.findComponentSection(s),l=e.findComponentSection(a);if(!r||!l)return e.componentSections;const c=Object(i.b)(r.components,n),d=void 0===o?l.components.length:o;l.components.splice(d,0,c)}),[...e.componentSections]}})}updateComponentSectionsOrder(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{const{csid:n,tcsid:s,to:a}=t,o=e.findComponentSection(n.slice(0,-1)),r=s?e.findComponentSection(s):e,l=Object(i.b)(o.componentSections,n[n.length-1]);r.componentSections.splice(a,0,l)}),[...e.componentSections]}})}attachJiraIssue(e,{bid:t,jira:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value:({integration:e})=>e&&e.jira?Object.assign({},e,{jira:Object.assign({},e.jira,{attachments:[...e.jira.attachments,...n.attachments.filter(t=>!e.jira.attachments.find(e=>e.id===t.id))]})}):Object.assign({},e,{jira:n})})}removeJiraIssueAttachment(e,{bid:t,aid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value:({integration:e})=>e&&e.jira&&e.jira.attachments?Object.assign({},e,{jira:Object.assign({},e.jira,{attachments:e.jira.attachments.filter(e=>e.id!==n)})}):e})}setLocalConnectedComponents(e,{bid:t,localConnectedComponents:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"localConnectedComponents",value:e=>n})}updateConnectedComponents(e,{bid:t,connectedComponents:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"connectedComponents",value:e=>n})}updateWorkflowStatus(e,{bid:t,workflowStatus:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"workflowStatus",value:n})}deleteWorkflowStatus(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"workflowStatus",value:c.a.NoStatus})}onOrganizationWorkflowStatusDelete(e,{workflowStatusId:t}){const n=e[this.barrelsPropertyName];return Object.values(n).filter(e=>e.workflowStatus._id===t).reduce((e,t)=>this.deleteWorkflowStatus(e,{bid:t.id}),e)}removeUnjoinedBarrels(e,t){const n=e[this.barrelsPropertyName],i=t[`remaining${Object(u.h)(this.barrelsPropertyName)}`];return Object.assign({},e,{[this.barrelsPropertyName]:Object.fromEntries(Object.entries(n).filter(([e])=>i.includes(e)))})}flattenComponents(e){return e.components.concat(...e.componentSections.map(e=>this.flattenComponents(e)))}updateBarrelValue(e,{[this.bidPropertyName]:t,key:n,value:i}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:e=>new a.a(Object.assign({},e,{[n]:"function"==typeof i?i(e):i}))})}}},function(e,t,n){"use strict";t.a=function(e){return s[e]};var i=n(33);const s={[i.e.COLORS]:"colors",[i.e.TEXT_STYLES]:"textStyles",[i.e.COMPONENTS]:"componentSections"}},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(66),o=n(44),r=n(9),l=n(23),c=n(22);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{loading:!0,selectedTab:"projects",selectedOrganizationId:"user",selectedProjectSortType:"created",pinnedBarrelOnce:!1,selectedWorkflowStatusFilter:"All",filterValue:"",highlightedBarrels:[],styleguidesTabVisited:!1,createProjectDialogVisible:!1,createStyleguideDialogVisible:!1,upgradePlanDialogForBarrelType:null}}updatePageState(e,t){return Object.assign({},e,t,{loading:!1})}openUpgradePlanDialog(e,{barrelType:t}){return Object.assign({},e,{upgradePlanDialogForBarrelType:t})}closeUpgradePlanDialog(e){return Object.assign({},e,{upgradePlanDialogForBarrelType:null})}changeProjectSelectedSortType(e,t){return Object.assign({},e,{selectedProjectSortType:t})}setPinnedBarrelOnce(e){return e.pinnedBarrelOnce?e:Object.assign({},e,{pinnedBarrelOnce:!0})}updateForUnpinBarrel(e,{bid:t}){return this.unhighlightBarrel(e,{bid:t})}changeWorkflowStatusFilter(e,{workflowStatusFilter:t}){return Object.assign({},e,{selectedWorkflowStatusFilter:t})}changeWorkflowStatusFilterOnDelete(e,{oldWorkflowStatusData:t}){return e.selectedWorkflowStatusFilter===t._id?Object.assign({},e,{selectedWorkflowStatusFilter:"All"}):e}unhighlightBarrel(e,{bid:t}){return Object.assign({},e,{highlightedBarrels:e.highlightedBarrels.filter(e=>e!==t)})}setStyleguidesTabVisited(e){return Object.assign({},e,{styleguidesTabVisited:!0})}showLoading(e){return Object.assign({},e,{loading:!0})}hideLoading(e){return Object.assign({},e,{loading:!1})}openCreateProjectDialog(e){return Object.assign({},e,{createProjectDialogVisible:!0})}closeCreateProjectDialog(e){return Object.assign({},e,{createProjectDialogVisible:!1})}openCreateStyleguideDialog(e){return Object.assign({},e,{createStyleguideDialogVisible:!0})}closeCreateStyleguideDialog(e){return Object.assign({},e,{createStyleguideDialogVisible:!1})}reduce(e,t){switch(t.type){case o.a.UPDATE_PAGE_STATE:return this.updatePageState(e,t.updateState);case o.a.CHANGE_PROJECT_SELECTED_SORT_TYPE:return this.changeProjectSelectedSortType(e,t.sortType);case o.a.CHANGE_WORKFLOW_STATUS_FILTER:return this.changeWorkflowStatusFilter(e,t);case o.a.UNHIGHLIGHT_BARREL:return this.unhighlightBarrel(e,t);case o.a.SET_STYLEGUIDES_TAB_VISITED:return this.setStyleguidesTabVisited(e);case o.a.OPEN_CREATE_PROJECT_DIALOG:return this.openCreateProjectDialog(e);case o.a.CLOSE_CREATE_PROJECT_DIALOG:return this.closeCreateProjectDialog(e);case o.a.OPEN_CREATE_STYLEGUIDE_DIALOG:return this.openCreateStyleguideDialog(e);case o.a.CLOSE_CREATE_STYLEGUIDE_DIALOG:return this.closeCreateStyleguideDialog(e);case o.a.HIDE_LOADING:return this.hideLoading(e);case o.a.OPEN_UPGRADE_PLAN_DIALOG:return this.openUpgradePlanDialog(e,t);case o.a.CLOSE_UPGRADE_PLAN_DIALOG:return this.closeUpgradePlanDialog(e);case r.a.ADD_BARREL_TO_FOCUS_SUCCESS:return this.setPinnedBarrelOnce(e);case r.a.REMOVE_BARREL_FROM_FOCUS:return this.updateForUnpinBarrel(e,t);case r.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.changeWorkflowStatusFilterOnDelete(e,t);case c.a.CREATE_PROJECT:case l.a.CREATE_STYLEGUIDE:return this.showLoading(e);default:return e}}}},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(59),o=n(72),r=n(99),l=n(28),c=n(12),d=n(20);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{loading:!0,userId:null,username:null,email:null,avatar:null,emotar:null,verified:null,paymentPlan:null,isDesktopNotificationEnabled:null,isEmailNotificationEnabled:null,zeplinThreeZeroWhatsNewSeen:!0,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,selectedView:r.b,backButtonLabel:null,backButtonLink:null}}loadUser(e,t){if(!t)return e;const{_id:n,username:i,email:s,status:a,avatar:o,emotar:r,emailNotifications:l,billing:c,paymentPlan:d}=t;return Object.assign({},e,{userId:n,username:i,email:s,verified:"verified"===a,avatar:o,emotar:r,isEmailNotificationEnabled:l,billing:c,paymentPlan:d,loading:!1})}updateUser(e,t){return Object.assign({},e,t,{loading:!1})}updateUserAttribute(e,t,n){return Object.assign({},e,{[t]:n})}setSelectedView(e,t){return Object.assign({},e,{selectedView:t})}markZeplinThreeZeroWhatsNewAsSeen(e){return Object.assign({},e,{zeplinThreeZeroWhatsNewSeen:!0})}stopPromotingSpacingSectionDescriptionEditButton(e){return Object.assign({},e,{shouldPromoteSpacingSectionDescriptionEditButton:!1})}hideStyleguideTutorial(e){return Object.assign({},e,{shouldDisplayStyleguideTutorial:!1})}resetBackButton(e){return Object.assign({},e,{backButtonLabel:null,backButtonLink:null})}setBackButton(e,t,n){return Object.assign({},e,{backButtonLabel:t,backButtonLink:n})}updateForUpdateComponent(e,{coid:t,componentData:n}){if(!("name"in n))return e;const{backButtonLink:i}=e;return i?t!==new URL(i).searchParams.get("coid")?e:Object.assign({},e,{backButtonLabel:n.name}):e}updateForRemoveComponent(e,{coid:t}){const{backButtonLink:n}=e;return n?t!==new URL(e.backButtonLink).searchParams.get("coid")?e:this.resetBackButton(e):e}updateForUpdateScreenName(e,{sid:t,name:n}){const{backButtonLink:i}=e;return i&&i.endsWith(t)?Object.assign({},e,{backButtonLabel:n}):e}updateForRemoveScreen(e,{sid:t}){const{backButtonLink:n}=e;return n&&n.endsWith(t)?this.resetBackButton(e):e}reduce(e,t){switch(t.type){case l.a.HYDRATE_EMBEDDED_DATA:case o.a.LOAD_USER:return this.loadUser(e,t.user);case o.a.UPDATE_USER:return this.updateUser(e,t.user);case o.a.SET_USER_ATTRIBUTE:return this.updateUserAttribute(e,t.name,t.value);case o.a.SET_SELECTED_VIEW:return this.setSelectedView(e,t.selectedView);case o.a.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:return this.markZeplinThreeZeroWhatsNewAsSeen(e);case o.a.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:return this.stopPromotingSpacingSectionDescriptionEditButton(e);case o.a.HIDE_STYLEGUIDE_TUTORIAL:return this.hideStyleguideTutorial(e);case o.a.RESET_BACK_BUTTON:return this.resetBackButton(e);case o.a.SET_BACK_BUTTON:return this.setBackButton(e,t.label,t.link);case c.a.UPDATE_COMPONENT:return this.updateForUpdateComponent(e,t);case c.a.REMOVE_COMPONENT:return this.updateForRemoveComponent(e,t);case d.a.UPDATE_NAME:return this.updateForUpdateScreenName(e,t);case d.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);default:return e}}}},function(e,t,n){"use strict";var i=n(120),s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var a=Object.create(n(90));a.inherits=n(80);var o=n(161),r=n(133);a.inherits(u,o);for(var l=s(r.prototype),c=0;c<l.length;c++){var d=l[c];u.prototype[d]||(u.prototype[d]=r.prototype[d])}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),r.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},function(e,t,n){"use strict";function i(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}i.prototype=Object.create(Error.prototype),i.prototype.name="ClientError",i.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message},t.a=i},function(e,t,n){"use strict";t.c=l,t.d=function(e){return o[e]},t.a=function(e,t,n,s){if(n&&l(e.color)!==n)return!1;if("mentioned"===t)return function(e,t){if(!e.comments||!e.comments.length)return!1;const n=Object(i.A)(t.username);return e.comments.some(e=>n.test(e.note)||e.author&&e.author._id===t._id)}(e,s);return t===(e.status||"open")};var i=n(1),s=n(11);const a={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise","419bf9":"cornflowerBlue",db7cee:"deepPurple"},o={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1},cornflowerBlue:{name:"cornflowerBlue",r:65,g:155,b:249,a:1},deepPurple:{name:"deepPurple",r:219,g:124,b:238,a:1}},r=Object.freeze(Object.keys(o));t.b=r;function l(e){const t="string"==typeof e?e:new s.a(e).hexBase();return a[t]}t.e={positive:"👍",neutral:"🤔",negative:"😩"}},function(e,t,n){"use strict";var i=n(360),s=n(210),a=n(209);n.d(t,"c",function(){return a.a}),n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";t.a={LOAD_USER:"user/loadUser",UPDATE_USER:"user/updateUser",SET_SELECTED_VIEW:"user/setSelectedView",MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:"user/markZeplinThreeZeroWhatsNewAsSeen",STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:"user/stopPromotingSpacingSectionDescriptionEditButton",HIDE_STYLEGUIDE_TUTORIAL:"user/hideStyleguideTutorial",SET_USER_ATTRIBUTE:"user/setUserAttribute",RESET_BACK_BUTTON:"user/resetBackButton",SET_BACK_BUTTON:"user/setBackButton"}},function(e,t,n){"use strict";function i(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}i.prototype=Object.create(Error.prototype),i.prototype.name="ServerError",i.prototype.toString=function(){return"("+this.status+") "+this.message},t.a=i},function(e,t,n){"use strict";var i=n(459),s=n.n(i),a=n(193);const o={pure:!0,withProps:!1,withContext:!1};t.a=((e,t)=>{const n=class extends e{constructor(e,n){super(e,n),this.options=Object.assign({},o,t||{}),this._getState=this._getState.bind(this),this._getStores=this._getStores.bind(this),this._fluxContainerSubscriptions=new s.a,this._fluxContainerSubscriptions.setStores(this._getStores(e)),this._fluxContainerSubscriptions.addListener(()=>{this.setState((e,t)=>this._getState(e,t,n))});const i=this._getState(void 0,e,n);this.state=Object.assign({},this.state||{},i)}_getState(t,n,i){const s=this.options.withProps?n:void 0,a=this.options.withContext?i:void 0;return e.calculateState(t,s,a)}_getStores(t,n){const i=this.options.withProps?t:void 0,s=this.options.withContext?n:void 0;return e.getStores(i,s)}componentWillReceiveProps(e,t){super.componentWillReceiveProps&&super.componentWillReceiveProps(e,t),(this.options.withProps||this.options.withContext)&&(this._fluxContainerSubscriptions.setStores(this._getStores(e,t)),this.setState(n=>this._getState(n,e,t)))}shouldComponentUpdate(e,t){return this.options.pure?Object(a.a)(this.props,e)||Object(a.a)(this.state,t):super.shouldComponentUpdate?super.shouldComponentUpdate(e,t):void 0}componentWillUnmount(){super.componentWillUnmount&&super.componentWillUnmount(),this._fluxContainerSubscriptions.reset()}};return n.displayName=`FluxContainer(${e.displayName||e.name})`,n})},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return c});const i=100,s=1e-4;function a(e,t){const n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function o(e,t){return`${e*i/t}%`}function r(e,t){return`${a(e*i/t,1)}%`}function l(e,t,n=s){return e===t||Math.abs(e-t)<n}function c(e,t){return a(e/t,3)+"rem"}},function(e,t,n){"use strict";const i={STATUS:{OK:200,NO_CONTENT:204,PARTIAL_CONTENT:206,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,GONE:410,PRECONDITION_FAILED:412},head(e,t={}){const n=Object.assign({headers:Zeplin.headers,method:"HEAD"},t);return fetch(e,n)},get:(e,t={})=>fetch(e,Object.assign({headers:Zeplin.headers},t)),post(e,t){const n={headers:Zeplin.headers,method:"POST"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},put(e,t){const n={headers:Zeplin.headers,method:"PUT"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},delete(e,t){const n={headers:Zeplin.headers,method:"DELETE"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)}};t.a=i},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return c});var i=n(1),s=n(111),a=n(112);function o({isOrganizationStyleguide:e,currentStyleguides:t,currentUser:n,id:s,parentId:a,users:o}){return t.filter(t=>{let r;if(e)r=i.C.canUpdateStyleguide(n);else{const e=t.users.find(e=>"owner"===e.role),n=o.find(e=>"owner"===e.role);r=e&&n&&e.user._id===n.user._id}return r&&t._id!==s&&t._id!==a&&"active"===t.status&&!(t.ancestors||[]).includes(s)})}function r(e){const t={};return e.forEach((e,n)=>{const i=new s.a(e,n);t[i.id]=i}),e.forEach(e=>{if(e.parent){const n=t[e._id],i=t[e.parent];i?i.addChild(n):delete t[e._id].parentId}}),Object.keys(t).filter(e=>t[e].isRoot()).map(e=>new a.a(t[e]))}function l(e){return e.map(e=>new s.a(e))}function c(e,t){return Object.values(e).filter(e=>e._id===t||e.ancestors.includes(t)).map(e=>e._id)}},function(e,t,n){"use strict";for(var i=n(15),s=n(54),a=n(121),o=n(32),r=new Array(256),l=0;l<256;l++)r[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;r[254]=r[254]=1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}t.utf8encode=function(e){return s.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,i,a,o,r=e.length,l=0;for(a=0;a<r;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<r&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=s.uint8array?new Uint8Array(l):new Array(l),o=0,a=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<r&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t}(e)},t.utf8decode=function(e){return s.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,s,a,o=e.length,l=new Array(2*o);for(n=0,t=0;t<o;)if((s=e[t++])<128)l[n++]=s;else if((a=r[s])>4)l[n++]=65533,t+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&t<o;)s=s<<6|63&e[t++],a--;a>1?l[n++]=65533:s<65536?l[n++]=s:(s-=65536,l[n++]=55296|s>>10&1023,l[n++]=56320|1023&s)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(s.uint8array?"uint8array":"array",e))},i.inherits(c,o),c.prototype.processChunk=function(e){var n=i.transformTo(s.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var a=n;(n=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),n.set(a,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+r[e[n]]>t?n:t}(n),l=n;o!==n.length&&(s.uint8array?(l=n.subarray(0,o),this.leftOver=n.subarray(o,n.length)):(l=n.slice(0,o),this.leftOver=n.slice(o,n.length))),this.push({data:t.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=c,i.inherits(d,o),d.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=d},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(226),s=n(227),a=n(228);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|g(t,n),s=(e=r(e,i)).write(t,n);s!==i&&(e=e.slice(0,s));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=r(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?r(e,0):h(e,t);if("Buffer"===t.type&&a(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(d(t),e=r(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=r(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return z(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function f(e,t,n,i,s){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,i,s);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,i,s);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,i,s){var a,o=1,r=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,r/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){var d=-1;for(a=n;a<r;a++)if(c(e,a)===c(t,-1===d?0:a-d)){if(-1===d&&(d=a),a-d+1===l)return d*o}else-1!==d&&(a-=a-d),d=-1}else for(n+l>r&&(n=r-l),a=n;a>=0;a--){for(var u=!0,h=0;h<l;h++)if(c(e,a+h)!==c(t,h)){u=!1;break}if(u)return a}return-1}function y(e,t,n,i){n=Number(n)||0;var s=e.length-n;i?(i=Number(i))>s&&(i=s):i=s;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var o=0;o<i;++o){var r=parseInt(t.substr(2*o,2),16);if(isNaN(r))return o;e[n+o]=r}return o}function S(e,t,n,i){return W(z(t,e.length-n),e,n,i)}function v(e,t,n,i){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function C(e,t,n,i){return v(e,t,n,i)}function E(e,t,n,i){return W(F(t),e,n,i)}function O(e,t,n,i){return W(function(e,t){for(var n,i,s,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),i=n>>8,s=n%256,a.push(s),a.push(i);return a}(t,e.length-n),e,n,i)}function T(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var i=[],s=t;s<n;){var a,o,r,l,c=e[s],d=null,u=c>239?4:c>223?3:c>191?2:1;if(s+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(a=e[s+1]))&&(l=(31&c)<<6|63&a)>127&&(d=l);break;case 3:a=e[s+1],o=e[s+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:a=e[s+1],o=e[s+2],r=e[s+3],128==(192&a)&&128==(192&o)&&128==(192&r)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&r)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),s+=u}return function(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=D));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return d(t),t<=0?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,s=0,a=Math.min(n,i);s<a;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return _(this,t,n);case"latin1":case"binary":return w(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,s){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),t<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&t>=n)return 0;if(i>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var a=s-i,o=n-t,r=Math.min(a,o),c=this.slice(i,s),d=e.slice(t,n),u=0;u<r;++u)if(c[u]!==d[u]){a=c[u],o=d[u];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return f(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return f(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function _(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;s<n;++s)i+=String.fromCharCode(127&e[s]);return i}function w(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;s<n;++s)i+=String.fromCharCode(e[s]);return i}function j(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var s="",a=t;a<n;++a)s+=B(e[a]);return s}function R(e,t,n){for(var i=e.slice(t,n),s="",a=0;a<i.length;a+=2)s+=String.fromCharCode(i[a]+256*i[a+1]);return s}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,i,s,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function x(e,t,n,i){t<0&&(t=65535+t+1);for(var s=0,a=Math.min(e.length-n,2);s<a;++s)e[n+s]=(t&255<<8*(i?s:1-s))>>>8*(i?s:1-s)}function P(e,t,n,i){t<0&&(t=4294967295+t+1);for(var s=0,a=Math.min(e.length-n,4);s<a;++s)e[n+s]=t>>>8*(i?s:3-s)&255}function L(e,t,n,i,s,a){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,i,a){return a||L(e,0,n,4),s.write(e,t,n,i,23,4),n+4}function U(e,t,n,i,a){return a||L(e,0,n,8),s.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var s=t-e;n=new l(s,void 0);for(var a=0;a<s;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var i=this[e],s=1,a=0;++a<t&&(s*=256);)i+=this[e+a]*s;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var i=this[e+--t],s=1;t>0&&(s*=256);)i+=this[e+--t]*s;return i},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var i=this[e],s=1,a=0;++a<t&&(s*=256);)i+=this[e+a]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var i=t,s=1,a=this[e+--i];i>0&&(s*=256);)a+=this[e+--i]*s;return a>=(s*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),s.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),s.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),s.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),s.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var s=1,a=0;for(this[t]=255&e;++a<n&&(s*=256);)this[t+a]=e/s&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var s=n-1,a=1;for(this[t+s]=255&e;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var s=Math.pow(2,8*n-1);A(this,e,t,n,s-1,-s)}var a=0,o=1,r=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===r&&0!==this[t+a-1]&&(r=1),this[t+a]=(e/o>>0)-r&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var s=Math.pow(2,8*n-1);A(this,e,t,n,s-1,-s)}var a=n-1,o=1,r=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===r&&0!==this[t+a+1]&&(r=1),this[t+a]=(e/o>>0)-r&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var s,a=i-n;if(this===e&&n<t&&t<i)for(s=a-1;s>=0;--s)e[s+t]=this[s+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(s=0;s<a;++s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=l.isBuffer(e)?e:z(new l(e,i).toString()),r=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%r]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var i=e.length,s=null,a=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&a.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function F(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,i){for(var s=0;s<i&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}}).call(t,n(93))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i=n(6);var s=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.a=function(e,t){return function(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(i.h).join("");return"camelCase"===t?Object(i.f)(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}(function(e){var t=e.match(s);return t?t.map(function(e){return e.toLowerCase()}):["invalid","name"]}(e),t)}},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(39),o=n(10),r=n(42),l=n(22),c=n(47),d=n(40),u=n(12),h=n(63),p=n(53),g=n(20),m=n(86),f=n(9),b=n(1),y=n(28),S=n(64);function v(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}t.a=new class extends s.a{constructor(){super(c.a),this.reducer=new h.a({bidPropertyName:"pid",barrelPropertyName:"project",barrelsPropertyName:"projects",loadingBarrelPropertyName:"loadingProject",loadingBarrelsPropertyName:"loadingProjects"},{deleteBarrel:this.remove})}getInitialState(){return{loadingProject:!0,loadingProjects:!0,projects:{},error:null}}add(e,{barrel:t,barrelType:n}){return n!==o.a.PROJECT?e:this.reducer.addBarrel(e,{barrel:t})}activate(e,{bid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"status",value:"active"})}archive(e,{bid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"status",value:"archived"})}remove(e,{bid:t}){const n=e.projects,{[t]:i}=n,s=v(n,[t]);return Object.assign({},e,{projects:Object.assign({},s)})}linkProjectToStyleguide(e,{project:{_id:t,remPreferences:n},styleguide:i}){return this.reducer.updateBarrel(e,{pid:t,data:{styleguideLink:{styleguide:i,status:"active"},remPreferences:new r.a(Object.assign({},n,{status:"linked"}))}})}unlinkProjectFromStyleguide(e,{pid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"styleguideLink",value:null})}updateUserData(e,{bid:t,uid:n,userData:i}){const s=e.projects[t];if(!s)return e;const o=s.users.map(({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:Object.assign({},t,i)});let r=s.screens;return r&&(r=s.screens.map(e=>{let t=e.dots;t&&(t=t.map(e=>{const t=e.comments.map(e=>e.author&&e.author._id===n?Object.assign({},e,{author:Object.assign({},e.author,i)}):e);return e.creator&&e.creator._id===n?Object.assign({},e,{comments:t,creator:Object.assign({},e.creator,i)}):Object.assign({},e,{comments:t})}));const s=e.versions.map(e=>{let{creator:t,commit:s}=e,a=v(e,["creator","commit"]);const o=t&&t._id===n?Object.assign({},t,{userData:i}):t,r=s.author&&s.author._id===n?Object.assign({},s,{author:Object.assign({},s.author,{userData:i})}):s;return Object.assign({},a,{creator:o,commit:r})});return Object.assign({},e,{versions:s,dots:t})})),this.reducer.updateBarrel(e,{pid:t,data:new a.a(Object.assign({},s,{screens:r,users:o}))})}transferOwnership(e,{bid:t,fromUserId:n,targetId:i,toOrganization:s,users:a,oid:o}){if(!e.projects[t])return e;if(s||"user"!==o){const s=this.reducer.deleteWorkflowStatus(e,{bid:t});return a?this.reducer.updateBarrelValue(s,{pid:t,key:"users",value:e=>e.users.map(e=>{if(e.user._id===n||e.user._id===i){const t=a.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e})}):s}return this.reducer.updateBarrelValue(e,{pid:t,key:"users",value:e=>e.users.map(e=>{if(a){if(e.user._id===n||e.user._id===i){const t=a.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===i&&(e.role="owner"),e.user._id===n&&(e.role="admin"),e})})}load(e,t){const{data:{project:n,organizationProjects:i}}=t;let s=e;return i&&(s=this.reducer.getBarrelsSuccess(s,{projects:i})),n&&(s=this.reducer.getBarrelSuccess(s,{project:n})),s}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:s}){if(s!==o.a.PROJECT)return e;const a=Object(S.a)(t);return this.reducer.updateBarrelValue(e,{pid:i,key:a,value:e=>e[a].filter(e=>!n.includes(e))})}addSection(e,{pid:t,section:n,index:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e||0===i)return e;const t=e[i-1];return t.screens=t.screens.filter(e=>!n.screens.includes(e)),e.splice(i,0,n),e}})}createSection(e,{pid:t,section:n}){const{_id:i,name:s}=n;return this.renameSection(e,{pid:t,seid:i,name:s})}updateSection(e,{pid:t,seid:n,sectionData:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:Object.assign({},e,i)):e})}renameSection(e,{pid:t,seid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:Object.assign({},e,{name:i})):e})}updateSectionDescription(e,{pid:t,seid:n,description:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:Object.assign({},e,{description:i})):e})}updateSectionOrder(e,{pid:t,seid:n,index:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=Object(b.b)(e,n);return t?(e.splice(i,0,t),e):e}})}removeSection(e,{pid:t,seid:n}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=e.findIndex(e=>e._id===n);if(t<1)return e;const i=e[t];return e[t-1].screens.push(...i.screens),e.filter(e=>e._id!==n)}})}updateScreenOrder(e,{pid:t,screens:n,targetSectionId:i,targetIndex:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;n.forEach(t=>{const n=e.find(e=>e.screens.includes(t));n&&Object(b.b)(n.screens,e=>e===t)});const t=e.find(e=>e._id===i);return t?(t.screens.splice(s,0,...n),e):void 0}})}addScreen(e,{pid:t,seid:n,index:i,screen:s}){const a=e.projects[t];if(!a||!a.screens)return e;if(a.screens.find(e=>e._id===s._id))return e;const o=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>[...e,s]});return this.reducer.updateBarrelValue(o,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=n?e.find(e=>e._id===n):e[0],a=void 0===i?t.screens.length:i;return t.screens.splice(a,0,s._id),[...e]}})}removeScreen(e,{pid:t,sid:n}){const i=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.filter(e=>e._id!==n):e});return this.reducer.updateBarrelValue(i,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>(e.screens.includes(n)&&(e.screens=e.screens.filter(e=>e!==n)),e)):e})}updateScreenDescription(e,{pid:t,sid:n,description:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n?Object.assign({},e,{description:i}):e):e})}updateScreenName(e,{pid:t,sid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n?Object.assign({},e,{name:i}):e):e})}moveScreen(e,t){const{spid:n,tpid:i,screen:s}=t,a=this.removeScreen(e,{pid:n,sid:s._id});return this.addScreen(a,{pid:i,screen:s})}updateTags(e,{pid:t,updates:n}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?(n.forEach(({_id:t,operation:n,tags:i})=>{const s=e.find(e=>e._id===t);s.tags="add"===n?(s.tags||[]).concat(i):s.tags.filter(e=>!i.includes(e))}),e):e})}setDots(e,{pid:t,sid:n,dots:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id===n&&(e.dots=i),e)):e})}addDot(e,{pid:t,sid:n,dot:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id!==n?e:e.dots&&e.dots.find(e=>e._id===i._id)?e:(e.dots=(e.dots||[]).concat(i),e)):e})}updateDot(e,{pid:t,sid:n,did:i,dotData:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:Object.assign({},e,s)),e):e):e})}updateDotColor(e,{pid:t,sid:n,did:i,color:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:Object.assign({},e,{color:s})),e):e):e})}updateDotPosition(e,{pid:t,sid:n,did:i,x:s,y:a}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:Object.assign({},e,{x:s,y:a})),e):e):e})}updateDotStatus(e,{pid:t,sid:n,did:i,status:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:Object.assign({},e,{status:s})),e):e):e})}removeDot(e,{pid:t,sid:n,did:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.filter(({_id:e})=>e!==i),e):e):e})}addComment(e,{pid:t,sid:n,did:i,comment:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n||!e.dots)return e;const t=e.dots.find(e=>e._id===i);return t?t.comments.find(e=>e._id===s._id)?e:(t.comments.push(s),e):e}):e})}updateComment(e,{pid:t,sid:n,did:i,cmid:s,commentData:a}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:(e.comments=e.comments.map(e=>e._id!==s?e:Object.assign({},e,a)),e)),e):e):e})}removeComment(e,{pid:t,sid:n,did:i,cmid:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n||!e.dots)return e;const t=e.dots.find(e=>e._id===i);return t?(t.comments=t.comments.filter(e=>e._id!==s),e):e}):e})}setVersions(e,{pid:t,sid:n,versions:i,totalVersionCount:s,allowedVersionCount:a}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id===n&&(e.versions=i,e.totalVersionCount=s,e.allowedVersionCount=a),e)):e})}setSnapshot(e,{pid:t,sid:n,vid:i,snapshot:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find(e=>e._id===n);if(!t)return e;const a=t.versions.find(e=>e._id===i);return a&&Object.assign(a.snapshot,s),e}})}addVersion(e,{pid:t,sid:n,version:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find(e=>e._id===n);return t?t.versions.some(e=>e._id===i._id)?e:(t.updated=(new Date).toISOString(),t.versions.unshift(i),t.totalVersionCount&&t.totalVersionCount++,t.versions.length>t.allowedVersionCount&&t.versions.pop(),e):e}})}updateCommitColor(e,{pid:t,sid:n,vid:i,color:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id!==n?e:(e.versions=e.versions.map(e=>e._id!==i?e:Object.assign({},e,{commit:Object.assign({},e.commit,{color:s})})),e)):e})}updateCommitMessage(e,{pid:t,sid:n,vid:i,message:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id!==n?e:(e.versions=e.versions.map(e=>e._id!==i?e:Object.assign({},e,{commit:Object.assign({},e.commit,{message:s})})),e)):e})}removeVersion(e,{pid:t,sid:n,vid:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id!==n?e:(e.versions=e.versions.filter(({_id:e})=>e!==i),e)):e})}hydrateEmbeddedData(e,t){const{project:n,projects:i}=t;let s=e;return i&&(s=this.reducer.getBarrelsSuccess(s,{projects:i})),n&&(s=this.reducer.getBarrelSuccess(s,{project:n})),s}reduce(e,t){switch(t.type){case l.a.GET_PROJECTS_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case l.a.GET_PROJECTS_FAILED:return this.reducer.getBarrelsFailed(e,t);case l.a.GET_PROJECT_REQUESTED:return this.reducer.getBarrelRequested(e);case l.a.GET_PROJECT_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case l.a.GET_PROJECT_FAILED:return this.reducer.getBarrelFailed(e,t);case l.a.UPDATE_PROJECT:return this.reducer.updateBarrel(e,t);case u.a.UPDATE_NAME:return this.reducer.updateName(e,t);case u.a.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case u.a.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case u.a.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case u.a.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case u.a.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case u.a.ADD_MEMBERS:return this.reducer.addMembers(e,t);case u.a.ADD_COLOR:return this.reducer.addColor(e,t);case u.a.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case u.a.UPDATE_COLOR:return this.reducer.updateColor(e,t);case u.a.REMOVE_COLOR:return this.reducer.removeColor(e,t);case u.a.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case u.a.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case u.a.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case u.a.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case u.a.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case u.a.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case u.a.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case u.a.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case u.a.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case u.a.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case u.a.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case u.a.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case u.a.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case u.a.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case u.a.ADD_COMPONENT:return this.reducer.addComponent(e,t);case u.a.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case u.a.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case u.a.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case u.a.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case u.a.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case u.a.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case u.a.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case u.a.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case u.a.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case u.a.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case u.a.ATTACH_JIRA_ISSUE:return this.reducer.attachJiraIssue(e,t);case u.a.REMOVE_JIRA_ISSUE_ATTACHMENT:return this.reducer.removeJiraIssueAttachment(e,t);case u.a.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case u.a.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case u.a.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case u.a.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case u.a.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case u.a.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case u.a.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case u.a.ADD:return this.add(e,t);case u.a.ACTIVATE:return this.activate(e,t);case u.a.ARCHIVE:return this.archive(e,t);case u.a.REMOVE:return this.remove(e,t);case d.a.LINK_PROJECT_SUCCESS:case d.a.LINK_PROJECT:return this.linkProjectToStyleguide(e,t);case d.a.UNLINK_PROJECT:return this.unlinkProjectFromStyleguide(e,t);case u.a.UPDATE_USER_DATA:return this.updateUserData(e,t);case l.a.TRANSFER_OWNERSHIP:case u.a.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case u.a.LOAD:return this.load(e,t);case u.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case f.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case f.a.UPDATE_MEMBER_ACCESSIBILITY:return this.reducer.removeUnjoinedBarrels(e,t);case m.a.MOVE_SCREEN:return this.moveScreen(e,t);case p.a.ADD_SECTION:case p.a.CONVERT_TAG_TO_SECTION:return this.addSection(e,t);case p.a.UPDATE_SECTION:return this.updateSection(e,t);case p.a.CREATE_SECTION:return this.createSection(e,t);case p.a.RENAME_SECTION:return this.renameSection(e,t);case p.a.UPDATE_SECTION_DESCRIPTION:return this.updateSectionDescription(e,t);case p.a.UPDATE_SECTION_ORDER:return this.updateSectionOrder(e,t);case p.a.REMOVE_SECTION:return this.removeSection(e,t);case p.a.UPDATE_SCREEN_ORDER:return this.updateScreenOrder(e,t);case g.a.ADD_SCREEN:return this.addScreen(e,t);case g.a.UPDATE_DESCRIPTION:return this.updateScreenDescription(e,t);case g.a.UPDATE_NAME:return this.updateScreenName(e,t);case g.a.REMOVE_SCREEN:return this.removeScreen(e,t);case g.a.UPDATE_TAGS:return this.updateTags(e,t);case g.a.SET_DOTS:return this.setDots(e,t);case g.a.CREATE_NOTE:case g.a.ADD_DOT:return this.addDot(e,t);case g.a.UPDATE_DOT:return this.updateDot(e,t);case g.a.UPDATE_DOT_COLOR:return this.updateDotColor(e,t);case g.a.UPDATE_DOT_POSITION:return this.updateDotPosition(e,t);case g.a.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t);case g.a.REMOVE_DOT:return this.removeDot(e,t);case g.a.CREATE_COMMENT:case g.a.ADD_COMMENT:return this.addComment(e,t);case g.a.UPDATE_COMMENT:return this.updateComment(e,t);case g.a.REMOVE_COMMENT:return this.removeComment(e,t);case g.a.SET_VERSIONS:return this.setVersions(e,t);case g.a.SET_SNAPSHOT:return this.setSnapshot(e,t);case g.a.ADD_VERSION:return this.addVersion(e,t);case g.a.UPDATE_COMMIT_COLOR:return this.updateCommitColor(e,t);case g.a.UPDATE_COMMIT_MESSAGE:return this.updateCommitMessage(e,t);case g.a.REMOVE_VERSION:return this.removeVersion(e,t);case y.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}},function(e,t,n){"use strict";function i(e,t){return e.sort((e,n)=>e[t]-n[t])}function s(e,t){return e.reduce(({memory:e,result:n},i)=>e[i[t]]?{memory:e,result:n}:(n.push(i),e[i[t]]=!0,{memory:e,result:n}),{memory:{},result:[]}).result}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s})},function(e,t,n){"use strict";t.a="newComponentSection"},function(e,t,n){"use strict";var i=n(5),s=window.performance,a="JS_Timing";let o=location.pathname.match(/\/(\w+)(.html)?/)?location.pathname.match(/\/(\w+)(.html)?/)[1]:"/";var r=`version:${i.I};page:${o}`,l=1;function c(e,t){(t=t||{}).end?s.measure(e,t.start,t.end):t.start?s.measure(e,t.start):s.measure(e);var n=s.getEntriesByName(e);if(n.length){var i=n[n.length-1],o=t.labels,l=t.minTime||0;o&&(o=Object.keys(o).map(function(e){return e+":"+o[e]},[]).join(";")),i.duration>l&&function(e,t,n){n=n?n+";"+r:r,ga("legacyTracker.send","timing",a,e,t,n)}(e,Math.round(i.duration),o),s.clearMeasures(e)}}var d=!1;function u(){d||(d=!0,c("page.timeToFirstInteraction"))}function h(){c("page.domContentLoaded",{start:"navigationStart",end:"domContentLoadedEventStart"})}var p,g,m,f,b=!1;function y(){}window.addEventListener("load",function(){b=!0}),s&&s.mark&&s.measure&&s.timing&&s.getEntriesByName?(p=function(){var e="_mark_"+l;return s.mark(e),l++,e},g=c,m=function(){b?h():window.addEventListener("load",h)},f=function(){document.addEventListener("click",function e(t){u(),document.removeEventListener("click",e,!0)},!0),document.addEventListener("scroll",function e(t){u(),document.removeEventListener("scroll",e,!0)},!0)}):(p=y,g=y,m=y,f=y),t.a={mark:p,measure:g,measurePageDefaults:m,measureFirstInteraction:f}},function(e,t,n){"use strict";t.a={OPEN:"moveResources/open",CLOSE:"moveResources/close",MOVE:"moveResources/move",MOVE_SCREEN:"moveResources/moveScreen"}},function(e,t,n){"use strict";e.exports=function(){return/\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g}},function(e,t,n){"use strict";var i=n(30),s=n(57),a=n(58),o=n(35),r=n(60),l=n(10),c=n(8),d=n(1),u=n(83),h=n(89);function p({bid:e}={}){let t=e;if(t||({barrelId:t}=i.a.getState()),!t)return null;const{projects:n}=s.c.getState();if(n&&t in n)return n[t];const{styleguides:o}=a.c.getState();return o&&t in o?o[t]:null}function g({bid:e,uid:t}={}){const n=p({bid:e});if(!n)return null;let i=t;i||({userId:i}=r.b.getState());const s=n.users.find(({user:e})=>e._id===i);if(s)return s;if(Object(d.z)(n)){const{members:e}=o.d.getOrganization()||{};if(e)return e.find(({user:e})=>e._id===t)}return null}function m(e){const{organizationId:t="user",barrelType:n=l.a.PROJECT}=i.a.getState(),s=g(),a=n===l.a.PROJECT?"projects":"styleguides";return"user"!==t&&s&&"pawn"!==s.role?Object(c.j)(`organization-${a}`,{url:{oid:t},query:e}):Object(c.j)(a,{query:e})}function f(e,t){return e.some(({user:{_id:e}})=>e===t._id)}function b(e,t){let n;if("linked"===e.status){const e=t.find(e=>"linked"!==e.remPreferences.status);n=e&&e.remPreferences}return n||e}t.a={hasProject:function(e){const{projects:t}=s.c.getState();return t&&e in t},hasStyleguide:function(e){const{styleguides:t}=a.c.getState();return t&&e in t},getBarrel:p,findUser:g,isUserRestricted:function(){const{organizationTransitionFinished:e}=i.a.getState(),t=g();return t&&"pawn"===t.role&&e},findBarrelOrganizationId:function(e){if(!p({bid:e}))return null;const{organizationProjects:t,organizationStyleguides:n}=o.e.getState();for(const[i,s]of Object.entries(t))if(s.includes(e))return i;for(const[i,s]of Object.entries(n))if(s.includes(e))return i;return null},getWorkspaceURL:m,getStyleguidesData:function({barrelStore:e,styleguidesDataStore:t,projectsDataStore:n}){const i=e.getState(),{loading:s}=i,a=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(i,["loading"]);if(s)return[];const{styleguides:o}=t.getState(),r=p(),c=g(),{barrelId:h,barrelType:m}=a;if(r.partial||!c)return[];const{name:y,type:S,colors:v,textStyles:C,spacingSections:E,remPreferences:O,componentSections:T,connectedComponents:k,localConnectedComponents:D,users:_,dimensionSuffix:w,densityScale:j}=r,R=m===l.a.STYLEGUIDE?y:"Local Styleguide",I=function(e,t){if(t===l.a.STYLEGUIDE)return[...e.ancestors].reverse();if(!e.styleguideLink)return[];const{styleguideLink:{styleguide:n,status:i}}=e;if("active"===i){const e=[...n.ancestors].reverse();return[n._id,...e]}return[]}(r,m).map(e=>o[e]).filter(Boolean);return[{id:h,name:R,type:S,colors:v,textStyles:C,spacingSections:E.map(e=>Object.assign({},e,{spacingTokens:Object(u.b)(e.spacingTokens,"value")})),remPreferences:b(O,I),parentStyleguideToInheritRemPreferences:function(e,t){let n;return"linked"!==e.status&&(n=t.find(e=>"linked"!==e.remPreferences.status&&"web"===e.type)),n&&{name:n.name,remPreferences:n.remPreferences}}(O,I),componentSections:T,connectedComponents:k,localConnectedComponents:D,isMember:f(_,c.user),isOrganizationBarrel:Object(d.z)(r),dimensionSuffix:w,densityScale:j},...I.map((e,t)=>({id:e._id,name:e.name,type:e.type,colors:e.colors,textStyles:e.textStyles,spacingSections:e.spacingSections.map(e=>Object.assign({},e,{spacingTokens:Object(u.b)(e.spacingTokens,"value")})),remPreferences:b(e.remPreferences,I.slice(t+1)),componentSections:e.componentSections,connectedComponents:e.connectedComponents,localConnectedComponents:e.localConnectedComponents,isMember:f(e.users,c.user),isOrganizationBarrel:Object(d.z)(e),dimensionSuffix:e.dimensionSuffix,densityScale:e.densityScale}))]},navigateToWorkspace:function(e){const t=m(e);setTimeout(()=>h.a.history.push(t),4)}}},function(e,t,n){"use strict";var i=n(8),s=n(56),a=n(159);function o(){this._routes=[],this._history=new r,this._history.attach(function(e){this._handle(e.url)}.bind(this)),this.boostrapFns=[]}function r(){this._history=window.history,this._listeners={},this._listenerCount=0,this._flowNavigationStack=[],window.addEventListener("popstate",this._handlePopState.bind(this))}function l(e,t){this._element=e,this._router=t,this._element._routerLink&&this._element.removeEventListener("click",this._element._routerLink._boundClickHandler),this._boundClickHandler=this._clickHandler.bind(this),this._element._routerLink=this,this._element.addEventListener("click",this._boundClickHandler)}Object.defineProperties(o.prototype,{history:{get:function(){return this._history}},match:{value(e){return e=this._getUrl(e),!!this._findRoutes(e).length}},route:{value:function(e,t){return this._register({regex:e,handler:t}),this}},bootstrap:{value:function(e){this.boostrapFns.push(e)}},start:{value:function(e,t){var n=Promise.resolve();return this._hookAppLinks(e),n=(n=this.boostrapFns.reduce((e,t)=>e.then(t),n)).then(function(){this._handle(window.location.href)}.bind(this)),t&&n.then(t),this}},_createLink:{value:function(e){return new l(e,this)}},_register:{value:function(e){this._routes.push(e)}},_getUrl:{value:function(e){return"string"==typeof e?new URL(e,window.location.origin):e}},_findRoutes:{value(e){return this._routes.filter(t=>t.regex.test(e.pathname))}},_handle:{value(e){e=this._getUrl(e);const t=this._findRoutes(e);if(t.length)return t.forEach(t=>t.handler({url:e,match:e.pathname.match(t.regex).slice(1),query:Object(i.h)(e.search.substr(1))}));location.assign(e)}},_searchAppLinks:{value:function(e){var t=this;return e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce(function(e,n){return e.concat(t._searchAppLinks(n))},[])}},_hookAppLinks:{value:function(e){var t=this,n=e.querySelectorAll('[data-link-type="inApp"]');Array.from(n).forEach(function(e){t._createLink(e)});new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":"inApp"===e.target.dataset.linkType&&t._createLink(e.target);break;case"childList":Array.from(e.addedNodes).forEach(function(e){t._searchAppLinks(e).forEach(function(e){t._createLink(e)})})}})}).observe(e,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]})}}}),Object.defineProperties(r.prototype,{actions:{value:{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}},attach:{value:function(e){var t=this._listenerCount;return this._listeners[t]=e,this._listenerCount++,t}},detach:{value:function(e){delete this._listeners[e]}},push:{value:function(e,{state:t,flowNavigation:n}={}){n?this._flowNavigationStack.push({url:location.href,state:this._history.state}):this._flowNavigationStack.length=0,this._history.pushState(t,null,e),this._notifyListeners({action:this.actions.PUSH_STATE,state:t,url:e})}},replace:{value:function(e,{state:t,flowNavigation:n}={}){n?this._flowNavigationStack.push({url:location.href,state:this._history.state}):this._flowNavigationStack.length=0,this._history.replaceState(t,null,e),this._notifyListeners({action:this.actions.REPLACE_STATE,state:t,url:e})}},pop:{value:function(){if(!this._flowNavigationStack.length)return;const{state:e,url:t}=this._flowNavigationStack.pop();this._history.pushState(e,null,t),this._notifyListeners({action:this.actions.PUSH_STATE,state:e,url:window.location.toString()})}},_notifyListeners:{value:function(e){Object.keys(this._listeners).forEach(function(t){this._listeners[t](e)},this)}},_handlePopState:{value:function(e){this._notifyListeners({action:this.actions.POP_STATE,state:e.state,url:window.location.toString()})}}}),Object.defineProperties(l.prototype,{element:{get(){return this._element}},navigationOperation:{get(){return this._element.dataset.navOp}},_clickHandler:{value(e){if("#"!==this._element.href&&(!this._router.match(this._element.href)||Object(s.d)(e)))return;if(e.preventDefault(),this._element.href===window.location.href)return;const t={};"flowNav"in this._element.dataset&&(t.flowNavigation=!0);const n=location.href;switch(this.navigationOperation){case"replace":this._router.history.replace(this._element.href,t);break;case"pop":this._router.history.pop();break;case"push":default:this._router.history.push(this._element.href,t)}"back"in this._element.dataset&&(this._element.dataset.back?a.a.setBackButton(this._element.dataset.back,n):a.a.resetBackButton())}}}),t.a=new o},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(t,n(79).Buffer)},function(e,t,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:n(255),e.exports={Promise:i}},function(e,t,n){"use strict";t.a=function(e){if(!e)return null;var t=[];return new Set(e.reduce(function(e,t){return e.concat(t.tags||[])},[])).forEach(function(e){t.push(e)}),t.sort(i.H.naturally)};var i=n(1)},,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var i=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0},white:{name:"white",r:255,g:255,b:255,a:1}}),s=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";t._30=function(e,t){const n=t?`?path=${t}`:"";return o.a.post(`${Zeplin.urls.baseURL}/urls${n}`,{url:e}).then(u).then(e=>e.url).catch(t=>e)},t._50=function(){return o.a.get(`${Zeplin.urls.baseURL}/organizations`).then(u).then(e=>e.organizations)},t._39=function(e){return o.a.get(`${Zeplin.urls.baseURL}/organizations/${e}`).then(u)},t._45=function(e){const t=r.a.mark();return o.a.get(`${Zeplin.urls.baseURL}/v2/organizations/${e}/members`).then(e=>(p("api.getOrganizationMembers",t,e.status),u(e)))},t._84=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members`;return o.a.post(n,{members:t}).then(u)},t._129=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/role`;return o.a.put(i,{role:n}).then(h)},t._128=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/restricted`;return o.a.put(i,{restricted:Boolean(n)}).then(h)},t._130=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/tags`;return o.a.put(n,{members:t}).then(h)},t._98=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}`;return o.a.delete(n).then(u)},t._113=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/ownership`).then(u)},t._40=function(e){return o.a.get(`${Zeplin.urls.baseURL}/organizations/${e}/billing`).then(u)},t._46=function(e,t){return o.a.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/proration?${Object(l.f)(t)}`).then(u)},t._127=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/billing`,t).then(h)},t.u=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(h)},t.t=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/name`,t).then(h)},t.R=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(h)},t._134=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(h)},t._41=function(e){return o.a.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`).then(u)},t._42=function(e,t){const n=Object(l.f)(t),i=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices?${n}`;return o.a.get(i).then(u)},t._119=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`,t).then(h)},t._44=function(e,t){return o.a.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/profile`).then(u)},t._105=function(e){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/requests/join`).then(h)},t._31=function(){return o.a.get(`${Zeplin.urls.baseURL}/api/config`).then(u)},t._54=function(){return o.a.get(`${Zeplin.urls.baseURL}/api/config/plans`).then(u)},t.E=function(e){return o.a.post(`${Zeplin.urls.baseURL}/organizations`,e).then(u)},t._47=function(e){return o.a.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso`).then(u)},t._48=function(e){return o.a.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml/metadata`).then(u)},t.f=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{redirectUri:c.n,code:t}).then(u)},t.g=function(e,t,n,i){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`,{signOnURL:t,identifier:n,certificate:i}).then(u)},t._131=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/policy`,{policy:t}).then(h)},t._133=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/sessionduration`,{sessionDuration:t}).then(h)},t._126=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/allowexternalmembers`,{allowExternalMembers:t}).then(h)},t._132=function(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/provider`,{signOnURL:t,identifier:n,certificate:i}).then(h)},t.X=function(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/${t}`).then(h)},t._35=function(e){return o.a.get(`${Zeplin.urls.baseURL}/stripe/coupons/${e}`).then(u)},t.h=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses`,t).then(u)},t._135=function(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`,n).then(h)},t.Y=function(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`).then(h)},t._63=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/projects`:`${Zeplin.urls.baseURL}/v2/projects`;return o.a.get(t,{cache:"no-cache"}).then(u).then(e=>e.projects)},t._43=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`;return o.a.get(n).then(u).then(e=>e.focusedBarrels)},t.c=function({oid:e,mid:t,bid:n,barrelType:i}){const s=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,a={["project"===i?"pid":"stid"]:n};return o.a.post(s,a)},t._95=function({oid:e,mid:t,bid:n,barrelType:i}){const s=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,a={["project"===i?"pid":"stid"]:n};return o.a.delete(s,a)},t._80=function(){return o.a.get(`${Zeplin.urls.baseURL}/projects`).then(u)},t._55=g,t._79=function(e){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}`).then(u)},t._61=m,t.a=f,t.m=b,t._85=y,t._86=S,t._114=v,t._155=C,t._101=E,t._0=O,t.G=function({oid:e,platform:t,densityScale:n,name:i="Untitled"}){const s=e&&"user"!==e?`/organizations/${e}`:"";return o.a.post(`${Zeplin.urls.baseURL}${s}/projects`,{name:i,type:t,densityScale:n}).then(u)},t._147=T,t._146=k,t._145=D,t._137=_,t._93=function(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/projects/${t}`,{screens:n}).then(h)},t.L=function(e,t){var n={name:t.name};"description"in t&&(n.description=t.description);"index"in t&&(n.index=t.index);"screens"in t&&(n.screens=t.screens);return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/sections`,n).then(u)},t._161=function(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}/screens`,{index:n,screens:i}).then(h)},t._12=function(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`).then(h)},t._159=function(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`,n).then(h)},t._160=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/sections/order`;return o.a.put(n,t).then(h)},t.o=w,t._62=j,t._5=R,t._58=I,t._96=function(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/extensions/${t}`).then(h)},t.d=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/extensions`,{eid:t}).then(u)},t._97=function(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions/${t}`).then(h)},t.e=function(e,t){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`,{eid:t}).then(u)},t._157=function(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`,n).then(h)},t._11=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`;return o.a.delete(n).then(h)},t.H=A,t._138=x,t._3=P,t._1=L,t.K=N,t._152=U,t._9=M,t._2=B,t.I=z,t._149=F,t._7=W,t.J=H,t._150=V,t._8=G,t._148=$,t._56=q,t._57=Z,t._60=Y,t.i=K,t._141=J,t._91=X,t._140=Q,t._4=ee,t._144=te,t._142=ne,t._151=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`,{styleguide:t}).then(h)},t._99=function(e){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`).then(h)},t._59=ie,t.j=se,t._6=ae,t._29=oe,t._64=function(e,t,n){const i=r.a.mark(),s=`${Zeplin.urls.baseURL}/v3/projects/${e}/screens/${t}/versions/${n}/snapshot`;return o.a.get(s).then(e=>(p("api.getSnapshot",i,e.status),d(e),e.json().then(function(t){if(e.ok)return"string"==typeof t.snapshot?oe(t.snapshot):t.snapshot;throw Object(a.a)(e.status,t)})))},t._120=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/color`;return o.a.put(s,{color:i}).then(h)},t._25=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}`;return o.a.delete(i).then(h)},t._81=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/versions`;return o.a.get(n).then(u)},t._36=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`,i=r.a.mark();return o.a.get(n).then(e=>(p("api.getDots",i,e.status),u(e)))},t.A=function(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`,n).then(u)},t._122=function(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`,i).then(h)},t.W=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`;return o.a.delete(i).then(h)},t._121=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/message`;return o.a.put(s,{message:i}).then(h)},t.B=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots/${n}/comments`;return o.a.post(s,{note:i}).then(u)},t._123=function(e,t,n,i,s){const a=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}/note`;return o.a.put(a,{note:s}).then(h)},t.V=function(e,t,n,i){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}`;return o.a.delete(s).then(h)},t._154=re,t._158=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/tags`;return o.a.put(n,{screens:t}).then(h)},t._156=le,t._10=ce,t._38=function(e,t){let n=`${Zeplin.urls.baseURL}/notifications?count=${t}`;e&&(n+=`&date_before=${e}`);return o.a.get(n).then(u)},t._75=function(){return o.a.get(`${Zeplin.urls.baseURL}/users/acquaintances`).then(u)},t._125=function(){const e=`${Zeplin.urls.baseURL}/users/notificationLastReadTime`;return o.a.put(e).then(u)},t._90=function(){const e=`${Zeplin.urls.baseURL}/users/logout`;return o.a.post(e)},t._65=function(e){const t=`${Zeplin.urls.baseURL}/users/auth/${e}/sso/loginparams`;return o.a.get(t).then(u)},t._106=function(e){const t=`${Zeplin.urls.baseURL}/users/requests/password`;return o.a.post(t,{handle:e}).then(h)},t._24=function(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/users/sso`,{password:e,code:t,redirectUri:n}).then(u)},t._124=function(e){const t=`${Zeplin.urls.baseURL}/users/emailNotifications`,n={emailNotifications:e};return o.a.put(t,n).then(h)},t._183=function(e){const t=`${Zeplin.urls.baseURL}/users/emotar`,n={emotar:e};return o.a.put(t,n).then(h)},t.r=function(){const e=`${Zeplin.urls.baseURL}/stripe/users/subscriptions`;return o.a.delete(e).then(h)},t.v=function(e){const t=`${Zeplin.urls.baseURL}/stripe/users/subscriptions`;return o.a.put(t,e).then(h)},t._112=function(e){const t=`${Zeplin.urls.baseURL}/stripe/users/subscriptions`;return o.a.post(t,e).then(h)},t.q=function(e){const t=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`;return o.a.delete(t).then(h)},t._28=function(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions/downgrade`;return o.a.post(n,t).then(h)},t._116=function(e){const t=`${Zeplin.urls.baseURL}/users/subscriptions/${e}/ownership`;return o.a.post(t).then(u)},t.C=function(e){return o.a.post(`${Zeplin.urls.baseURL}/intercom/messages`,{message:e}).then(h)},t._78=function(){return o.a.get(`${Zeplin.urls.baseURL}/stripe/users/invoices/next`).then(u)},t._49=function(e){return o.a.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/next`).then(u)},t.D=function(e){return o.a.post(`${Zeplin.urls.baseURL}/intercom/users/tags`,{name:e}).then(h)},t._74=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/styleguides`:`${Zeplin.urls.baseURL}/styleguides`;return o.a.get(t,{cache:"no-cache"}).then(u).then(e=>e.styleguides)},t._66=de,t._71=ue,t._72=function(e){return o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/projects`).then(u)},t.M=function({oid:e,platform:t,parent:n,name:i="Untitled"}){const s=e&&"user"!==e?`/organizations/${e}`:"";return o.a.post(`${Zeplin.urls.baseURL}${s}/styleguides`,{name:i,type:t,parent:n,densityScale:1}).then(u)},t._13=he,t.n=pe,t.b=ge,t._115=me,t._87=fe,t._88=be,t._102=ye,t._180=Se,t._172=ve,t._171=Ce,t._170=Ee,t._162=Oe,t._179=Te,t._68=ke,t.p=De,t._73=_e,t._18=we,t.N=je,t._163=Re,t._16=Ie,t._14=Ae,t.Q=xe,t._177=Pe,t._22=Le,t._15=Ne,t.O=Ue,t._175=Me,t._20=Be,t.P=ze,t._176=Fe,t._21=We,t._174=He,t.k=Ve,t._166=Ge,t._92=$e,t._165=qe,t._17=Ze,t._173=function(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/parent`,{parent:t}).then(h)},t._100=function(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/parent`;return o.a.delete(t).then(h)},t._69=Ye,t.l=Ke,t._19=Je,t._169=Xe,t._167=Qe,t._67=et,t._70=tt,t._181=nt,t._23=it,t._76=function(){return o.a.get(`${Zeplin.urls.baseURL}/users`).then(u)},t._77=st,t.x=at,t.w=function(e){return o.a.put(`${Zeplin.urls.baseURL}/users/username`,e).then(h)},t.s=function(e){return o.a.put(`${Zeplin.urls.baseURL}/users/email`,e).then(u)},t.T=function(e){return o.a.post(`${Zeplin.urls.baseURL}/users/delete`,e).then(h)},t._136=function(e){return o.a.put(`${Zeplin.urls.baseURL}/users/password`,e).then(u)},t._118=function(e){return o.a.put(`${Zeplin.urls.baseURL}/users/billing`,e).then(h)},t._34=function(){return o.a.get(`${Zeplin.urls.baseURL}/stripe/users/cards`).then(u)},t._182=function(e){return o.a.put(`${Zeplin.urls.baseURL}/stripe/users/cards`,e).then(h)},t._104=function(e,t){let n;n=t?`${Zeplin.urls.baseURL}/stripe/organizations/${t}/invoices/${e}/send`:`${Zeplin.urls.baseURL}/stripe/users/invoices/${e}/send`;return o.a.post(n).then(h)},t._37=function(e){const t=Object(l.f)(e),n=`${Zeplin.urls.baseURL}/stripe/users/invoices?${t}`;return o.a.get(n).then(u)},t._109=function(){return o.a.post(`${Zeplin.urls.baseURL}/users/requests/verification`).then(h)},t._186=function(){const e=`${Zeplin.urls.baseURL}/users/verify`;return o.a.post(e).then(u)},t._89=ot,t._110=rt,t._107=function(e){return o.a.delete(`${Zeplin.urls.baseURL}/oauth/token`,{client_id:e}).then(h)},t._139=lt,t._153=ct,t._143=dt,t._164=ut,t._178=ht,t._168=pt,t._33=gt,t._108=mt,t._52=ft,t._51=bt,t.z=yt,t._117=St,t.U=vt,t._53=Ct,t.F=Et,t.Z=Ot,t._103=Tt,t._32=kt,t._83=Dt,t._82=_t,t.S=wt,t._184=jt,t._26=Rt,t.y=It,n.d(t,"_94",function(){return At}),n.d(t,"_111",function(){return xt}),n.d(t,"_185",function(){return Pt}),n.d(t,"_27",function(){return Lt});var i=n(36),s=n.n(i),a=n(17),o=n(76),r=n(85),l=n(8),c=n(5);function d(e){const t=e.headers.get("Zeplin-Token");t&&(s.a.set("userToken",t),Zeplin.headers.set("Zeplin-Token",t))}function u(e){return d(e),e.json().then(t=>{if(e.ok)return t;throw Object(a.a)(e.status,t)})}function h(e){if(d(e),!e.ok)return e.json().then(t=>{throw Object(a.a)(e.status,t)})}function p(e,t,n){r.a.measure(e,{start:t,minTime:50,labels:{status:n}})}function g(e){const t=r.a.mark();return o.a.get(`${Zeplin.urls.baseURL}/v2/projects/${e}`).then(e=>(p("api.getProject",t,e.status),d(e),e.json().then(t=>{if(!e.ok)throw Object(a.a)(e.status,t);return e.status===o.a.STATUS.PARTIAL_CONTENT&&(t.partial=!0),t})))}function m(e){const t=r.a.mark();return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/organization`).then(function(e){return p("api.getProjectOrganization",t,e.status),u(e)})}function f(e){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/activate`).then(h)}function b(e){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/archive`).then(h)}function y(e,t){const n=t?{handle:t}:null;return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/users`,n).then(u)}function S(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/projects/${t}/users`,{tag:n}).then(u)}function v(e,t,n=!1){const i=n?"organizations":"users",s=`${Zeplin.urls.baseURL}/projects/${e}/${i}/${t}/ownership`;return o.a.post(s).then(u)}function C(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/users/${t}/role`,{role:n}).then(h)}function E(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/users/${t}`;return o.a.delete(n).then(h)}function O(e){const t=`${Zeplin.urls.baseURL}/projects/${e}`;return o.a.delete(t).then(h)}function T(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/name`,{name:t}).then(h)}function k(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/description`,{description:t}).then(h)}function D(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/densityscale`,{densityScale:t}).then(h)}function _(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/public`,{public:t}).then(h)}function w(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/auth`,{code:t,redirectURI:n}).then(e=>(d(e),e))}function j(e){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/emojis`).then(u)}function R(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/${t}/${n}`).then(h)}function I(e){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/extensions`).then(u)}function A(e,t){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(u)}function x(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`,n).then(h)}function P(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`).then(h)}function L(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(h)}function N(e,t){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(u)}function U(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`,n).then(h)}function M(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`).then(h)}function B(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(h)}function z(e,t){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections`,t).then(u)}function F(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`,n).then(h)}function W(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`).then(h)}function H(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens`,n).then(u)}function V(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(h)}function G(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`).then(h)}function $(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/rempreferences`,t).then(h)}function q(e){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/componentsections`).then(u)}function Z(e){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/connectedcomponents`).then(u)}function Y(e){return fetch(`http://127.0.0.1:9756/projects/${e}/connectedcomponents`).then(e=>e.ok?e.json().then(e=>e.connectedComponents):null).then(e=>({localConnectedComponents:e})).catch(()=>({localConnectedComponents:null}))}function K(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections${t&&t.length>0?`/${t.join("/")}/componentsections`:""}`,n).then(u)}function J(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}`,n).then(h)}function X(e,t,n,i){const s=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/merge`,{componentSections:s}).then(h)}function Q(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(h)}function ee(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`).then(h)}function te(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/components/order`,t).then(h)}function ne(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/order`,t).then(h)}function ie(e,t){return o.a.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events`).then(u)}function se(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(h)}function ae(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(h)}function oe(e){return fetch(e).then(e=>e.ok?e.json():{}).then(e=>(e.layers=e.layers||[],e.assets=e.assets||[],e)).catch(()=>({layers:[],assets:[]}))}function re(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/thumbnail`;return o.a.put(n,{thumbnail:t}).then(h)}function le(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/workflowStatus`,{projects:e,wsid:t}).then(h)}function ce(e){return o.a.delete(`${Zeplin.urls.baseURL}/projects/workflowStatus`,{projects:e}).then(h)}function de(e,{projectId:t=null,styleguideId:n=null}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),fetch(`${Zeplin.urls.baseURL}/styleguides/${e}`,{headers:i}).then(e=>(d(e),e.json().then(t=>{if(!e.ok)throw Object(a.a)(e.status,t);return e.status===o.a.STATUS.PARTIAL_CONTENT?t.partial=!0:t.status="active",t})))}function ue(e){return o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/organization`).then(u)}function he(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}`;return o.a.delete(t).then(h)}function pe(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/archive`;return o.a.post(t).then(h)}function ge(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/activate`;return o.a.post(t).then(h)}function me(e,t,n=!1){const i=n?"organizations":"users",s=`${Zeplin.urls.baseURL}/styleguides/${e}/${i}/${t}/ownership`;return o.a.post(s).then(u)}function fe(e,t){const n=t?{handle:t}:null;return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/users`,n).then(u)}function be(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/organizations/${e}/styleguides/${t}/users`,{tag:n}).then(u)}function ye(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}`;return o.a.delete(n).then(h)}function Se(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}/role`,{role:n}).then(h)}function ve(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/name`,{name:t}).then(h)}function Ce(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/description`,{description:t}).then(h)}function Ee(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/densityscale`,{densityScale:t}).then(h)}function Oe(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/public`,{public:t}).then(h)}function Te(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/thumbnail`;return o.a.put(n,{thumbnail:t}).then(h)}function ke(e){return o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`).then(u)}function De(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/auth`,{code:t,redirectURI:n}).then(e=>(d(e),e))}function _e(e){return o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/emojis`).then(u)}function we(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/${t}/${n}`).then(h)}function je(e,t){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(u)}function Re(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`,n).then(h)}function Ie(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`).then(h)}function Ae(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(h)}function xe(e,t){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(u)}function Pe(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`,n).then(h)}function Le(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`).then(h)}function Ne(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(h)}function Ue(e,t){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections`,t).then(u)}function Me(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`,n).then(h)}function Be(e,t){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`).then(h)}function ze(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens`,n).then(u)}function Fe(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(h)}function We(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`).then(h)}function He(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/rempreferences`,t).then(h)}function Ve(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections${t&&t.length>0?`/${t.join("/")}/componentsections`:""}`,n).then(u)}function Ge(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}`,n).then(h)}function $e(e,t,n,i){const s=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/merge`,{componentSections:s}).then(h)}function qe(e,t,n,i){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(h)}function Ze(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`).then(h)}function Ye(e,t){return o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events`).then(u)}function Ke(e,t,n){return o.a.post(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(h)}function Je(e,t,n){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(h)}function Xe(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/components/order`,t).then(h)}function Qe(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/order`,t).then(h)}function et(e,{projectId:t,styleguideId:n}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),o.a.get(`${Zeplin.urls.baseURL}/styleguides/${e}/connectedcomponents`,{headers:i}).then(u)}function tt(e){return fetch(`http://127.0.0.1:9756/styleguides/${e}/connectedcomponents`).then(e=>e.ok?e.json().then(e=>e.connectedComponents):null).then(e=>({localConnectedComponents:e})).catch(()=>({localConnectedComponents:null}))}function nt(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/workflowStatus`,{styleguides:e,wsid:t}).then(h)}function it(e){return o.a.delete(`${Zeplin.urls.baseURL}/styleguides/workflowStatus`,{styleguides:e}).then(h)}function st(e){return o.a.get(`${Zeplin.urls.baseURL}/users/${e}/status`).then(u)}function at(e){return o.a.post(`${Zeplin.urls.baseURL}/users/${e}/available`).then(h)}function ot(e,t){return o.a.post(`${Zeplin.urls.baseURL}/users/login`,{handle:e,password:t}).then(u)}function rt(e,t){return fetch(`${Zeplin.urls.baseURL}/users`,{method:"POST",headers:t,body:JSON.stringify(e)}).then(u)}function lt(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/styleguides/${t}`).then(h)}function ct(e,t){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/textstyles/styleguides/${t}`).then(h)}function dt(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(h)}function ut(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/styleguides/${t}`).then(h)}function ht(e,t){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textstyles/styleguides/${t}`).then(h)}function pt(e,t,n){return o.a.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(h)}function gt(){return o.a.get(`${Zeplin.urls.baseURL}/users/authorizedApplications`).then(u).then(e=>e.applications)}function mt(e){return o.a.delete(`${Zeplin.urls.baseURL}/users/authorizedApplications/${e}`).then(h)}function ft(){return o.a.get(`${Zeplin.urls.baseURL}/users/applications`).then(u).then(e=>e.applications)}function bt(e){return o.a.get(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(u)}function yt(e){return o.a.post(`${Zeplin.urls.baseURL}/users/applications`,e).then(u)}function St(e,t){return o.a.put(`${Zeplin.urls.baseURL}/users/applications/${e}`,t).then(h)}function vt(e){return o.a.delete(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(h)}function Ct(){return o.a.get(`${Zeplin.urls.baseURL}/users/personalAccessTokens`).then(u).then(e=>e.personalAccessTokens)}function Et(){return o.a.post(`${Zeplin.urls.baseURL}/users/personalAccessTokens`).then(u)}function Ot(e){return o.a.delete(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`).then(h)}function Tt(e,t){return o.a.put(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`,{name:t}).then(h)}function kt(e){const t=Object(l.f)(e);return o.a.head(`${Zeplin.urls.baseURL}/oauth/token?${t}`).then(e=>"true"===e.headers.get("Oauth-Token-Exists"))}function Dt(e){const t=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:`${Zeplin.urls.baseURL}/users/webhooks`;return o.a.get(t).then(u).then(e=>e.webhooks)}function _t(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return o.a.get(n).then(u)}function wt(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:`${Zeplin.urls.baseURL}/users/webhooks`;return o.a.post(n,t).then(u)}function jt(e,t,n){const i=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return o.a.put(i,n).then(h)}function Rt(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return o.a.delete(n).then(h)}function It(e){return o.a.post(`${Zeplin.urls.baseURL}/webhooks/urlhealthcheck`,{url:e})}const At={get:g,inviteUser:y,inviteUsersByTag:S,activate:f,archive:b,delete:O,getOrganization:m,updateName:T,updateDescription:k,updateDensityScale:D,updateThumbnail:re,updateAccessibility:_,updateUserRole:C,transferOwnership:v,removeUser:E,getSlackIntegrationEmojis:j,deleteIntegration:R,getExtensions:I,createColor:A,updateColor:x,deleteColor:P,deleteAllColors:L,updateColorsStyleguide:lt,createTextStyle:N,updateTextStyle:U,deleteTextStyle:M,deleteAllTextStyles:B,updateTextStylesStyleguide:ct,createSpacingSection:z,updateSpacingSection:F,deleteSpacingSection:W,createSpacingToken:H,updateSpacingToken:V,deleteSpacingToken:G,updateRemPreferences:$,getComponentSections:q,addComponentSection:K,updateComponentSection:J,mergeComponentSection:X,updateComponent:Q,deleteComponent:ee,updateComponentsOrder:te,updateComponentSectionsOrder:ne,updateComponentSectionsStyleguide:dt,authSlack:w,getIntegrationEvents:ie,addIntegrationEvent:se,deleteIntegrationEvent:ae,getConnectedComponents:Z,getLocalConnectedComponents:Y,updateWorkflowStatus:le,deleteWorkflowStatus:ce},xt={get:de,inviteUser:fe,inviteUsersByTag:be,activate:ge,archive:pe,delete:he,getOrganization:ue,updateName:ve,updateDescription:Ce,updateDensityScale:Ee,updateThumbnail:Te,updateAccessibility:Oe,updateUserRole:Se,transferOwnership:me,removeUser:ye,getSlackIntegrationEmojis:_e,deleteIntegration:we,getExtensions:ke,createColor:je,updateColor:Re,deleteColor:Ie,deleteAllColors:Ae,updateColorsStyleguide:ut,createTextStyle:xe,updateTextStyle:Pe,deleteTextStyle:Le,deleteAllTextStyles:Ne,updateTextStylesStyleguide:ht,createSpacingSection:Ue,updateSpacingSection:Me,deleteSpacingSection:Be,createSpacingToken:ze,updateSpacingToken:Fe,deleteSpacingToken:We,updateRemPreferences:He,addComponentSection:Ve,updateComponentSection:Ge,mergeComponentSection:$e,updateComponent:qe,deleteComponent:Ze,updateComponentsOrder:Xe,updateComponentSectionsOrder:Qe,updateComponentSectionsStyleguide:pt,authSlack:De,getIntegrationEvents:Ye,addIntegrationEvent:Ke,deleteIntegrationEvent:Je,getConnectedComponents:et,getLocalConnectedComponents:tt,updateWorkflowStatus:nt,deleteWorkflowStatus:it},Pt={checkUsernameAvailable:at,getUserStatus:st,loginUser:ot,signupUser:rt},Lt={getAuthorizedApplications:gt,revokeAuthorizedApplication:mt,getOwnedApplications:ft,getOwnedApplication:bt,createApplication:yt,updateApplication:St,deleteApplication:vt,getPersonalAccessTokens:Ct,createPersonalAccessToken:Et,renamePersonalAccessToken:Tt,deletePersonalAccessToken:Ot,getAppStatus:kt,getWebhooks:Dt,getWebhook:_t,createWebhook:wt,updateWebhook:jt,deleteWebhook:Rt,checkWebhookUrlHealth:It}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){"use strict";var i=n(2),s=n(29);t.a=class extends i.a{constructor(e){if(super(),!e)return;const{_id:t,id:n,name:i,status:a,domain:o,logo:r,paymentPlan:l,reservedSeatCount:c,subscriptionStatus:d,sso:u,members:h,wildlings:p,workflowStatuses:g=[]}=e;this.id=t||n,this._id=t||n,this.name=i,this.status=a,this.domain=o,this.logo=r,this.paymentPlan=l,this.subscriptionStatus=d,this.reservedSeatCount=c,this.sso=u,this.members=h,this.wildlings=p,this.workflowStatuses=g.map(e=>new s.a(e))}}},function(e,t,n){"use strict";var i=n(2),s=n(108);t.a=class extends i.a{constructor(e){if(super(),!e)return;const{_id:t,id:n,attachments:i}=e;this.id=t||n,i&&(this.attachments=i.map(e=>new s.a(e)))}}},function(e,t,n){"use strict";t.a="emotars";t.b="userMenu"},function(e,t,n){"use strict";var i=n(0),s=n(193);class a extends i.Component{shouldComponentUpdate(e,t){return Object(s.a)(this.props,e)||Object(s.a)(this.state,t)}}a.isPureReactComponent=!0,t.a=a},function(e,t,n){"use strict";var i=n(18),s=n(61),a=n(37);i.a&&a.c.SPA&&(i.a.ipcRenderer.on("close-all-banners",function(){s.a("appUpdate"),s.a("pluginUpdate")}),i.a.ipcRenderer.on("app-update-downloaded",(e,t)=>{s.a("appUpdate"),s.b({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),s.a("appUpdate"),i.a.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback(){i.a.ipcRenderer.send("remind-update-later",t)}})}),i.a.ipcRenderer.on("plugin-update-downloaded",(e,t)=>{var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),s.a("pluginUpdate"),s.b({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),s.a("pluginUpdate"),i.a.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback(){i.a.ipcRenderer.send("remind-plugin-install-later",t)}})}))},function(e,t,n){"use strict";var i=n(37),s=n(103);i.b&&s.a()},function(e,t,n){"use strict";t.a=function(){i.a.ipcRenderer.removeAllListeners("initialImportToBarrelData"),i.a.ipcRenderer.on("initialImportToBarrelData",d)};var i=n(18),s=n(35),a=n(67),o=n(50),r=n(51),l=n(13);function c(e){return Promise.all([function(e){return Object(l.getProjects)("user"===e?null:e)}(e),function(e){return Object(l.getStyleguides)("user"===e?null:e)}(e)]).then(([t,n])=>(o.a.getProjectsSuccess({projects:t,oid:e}),r.a.getStyleguidesSuccess({styleguides:n,oid:e}),{projects:t,styleguides:n}))}async function d(e,t){const{organizations:n,organizationProfiles:o}=s.e.getState(),{userId:r,username:l,email:d,avatar:u,emotar:h}=a.a.getState();if(!n||!r)return void i.a.ipcRenderer.send("initialImportToBarrelData",{selectedOrganization:t});let p="user";t&&"user"!==t&&n.some(e=>e._id===t)&&(p=t);let g=s.d.getOrganizationProjects(p),m=s.d.getOrganizationStyleguides(p);g&&m||({projects:g,styleguides:m}=await c(p));const f={organizations:n,organizationProfiles:o,selectedOrganization:p,user:{_id:r,username:l,email:d,avatar:u,emotar:h},organizationProjects:g,organizationStyleguides:m};i.a.ipcRenderer.send("initialImportToBarrelData",f)}},function(e,t,n){"use strict";var i=n(2),s=n(105);t.a=class extends i.a{constructor(e){super();const{role:t,user:n,integration:i}=e;this.role=t,this.user=new s.a(n),this.integration=i}}},function(e,t,n){"use strict";var i=n(2);t.a=class extends i.a{constructor(e){super();const{_id:t,id:n,paymentPlan:i,email:s,status:a,username:o,subscriptionStatus:r,subscriptionCancelAt:l,emotar:c,avatar:d,lastSeen:u}=e;this.id=n,this._id=t,this.paymentPlan=i,this.email=s,this.status=a,this.username=o,this.subscriptionStatus=r,this.subscriptionCancelAt=l,this.emotar=c,this.avatar=d,this.lastSeen=u}}},function(e,t,n){"use strict";var i=n(2),s=n(107),a=n(98);t.a=class extends i.a{constructor(e){super();const{slacks:t,jira:n}=e||{};this.slacks=t?t.map(e=>new s.a(e)):[],n&&(this.jira=new a.a(n))}}},function(e,t,n){"use strict";var i=n(2);t.a=class extends i.a{constructor(e){if(super(),!e)return;const{_id:t,teamName:n,teamId:i,scope:s,incomingWebHook:a}=e;this._id=t,this.id=t,this.teamName=n,this.teamId=i,this.scope=s,this.incomingWebHook=a}}},function(e,t,n){"use strict";var i=n(2);t.a=class extends i.a{constructor(e){if(super(),!e)return;const{_id:t,id:n,deploymentUrl:i,type:s,itemId:a,issueKey:o,issueUrl:r}=e;this.id=t||n,this.deploymentUrl=i,this.type=s,this.itemId=a,this.issueKey=o,this.issueUrl=r}}},function(e,t,n){"use strict";n(110),n(114),n(115)},function(e,t,n){"use strict";var i=n(13),s=n(17),a=n(45),o=n(62),r=n(9),l=n(19),c=n(50),d=n(51);let u=!1;function h(e){return e.map(e=>Object.assign({},e,{complete:!1}))}const p={getBarrels(e){Promise.all([i.getProjects(e),i.getStyleguides(e)]).then(([t,n])=>{c.a.getProjectsSuccess({oid:e,projects:h(t)}),d.a.getStyleguidesSuccess({oid:e,styleguides:h(n)})}).catch(s.b)},requestInvitation(e,t){u?Object(a.a)({text:"Already sent!",container:t,source:"requestOrganizationInvitation"}):(u=!0,i.requestOrganizationInvitation(e),Object(a.a)({text:"Invitation sent!",container:t,source:"requestOrganizationInvitation"}))},addBarrelToFocus({oid:e,mid:t,bid:n,barrelType:a,poppedBarrel:r,syncWithApi:l}){l&&i.addBarrelToOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:a}).then(t=>{o.a.addBarrelToFocusSuccess({oid:e})}).catch(e=>{o.a.removeBarrelFromFocus({mid:t,bid:n,poppedBarrel:r}),s.b(e)})},removeBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:a,syncWithApi:r}){r&&i.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:a}).then(t=>{o.a.unpinBarrelFromFocusSuccess({oid:e,bid:n})}).catch(e=>{o.a.addBarrelToFocus({bid:n}),s.b(e)})},unpinBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:a,syncWithApi:r}){r&&i.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:a}).then(t=>{o.a.unpinBarrelFromFocusSuccess({oid:e,bid:n})}).catch(e=>{o.a.repinBarrelToFocus({bid:n}),s.b(e)})},addOrganizationWorkflowStatus({oid:e,workflowStatusData:{_id:t,name:n,color:a},syncWithApi:r}){r&&i.addOrganizationWorkflowStatus(e,{name:n,color:a}).then(({_id:e})=>{o.a.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:e,name:n,color:a}})}).catch(e=>{o.a.deleteOrganizationWorkflowStatus({workflowStatusId:t}),s.b(e)})},updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n,oldWorkflowStatusData:a,syncWithApi:r=!0}){r&&i.updateOrganizationWorkflowStatus(e,t,n).catch(e=>{o.a.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:t,name:a.name,color:a.color}}),s.b(e)})},deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t,oldWorkflowStatusData:n,syncWithApi:a}){a&&i.deleteOrganizationWorkflowStatus(e,t).catch(e=>{o.a.addOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:n}),s.b(e)})}};l.a.register(e=>{switch(e.type){case r.a.GET_BARRELS:p.getBarrels(e.oid);break;case r.a.REQUEST_INVITE:p.requestInvitation(e.id,e.container);break;case r.a.ADD_BARREL_TO_FOCUS:p.addBarrelToFocus(e);break;case r.a.REMOVE_BARREL_FROM_FOCUS:p.removeBarrelFromFocus(e);break;case r.a.UNPIN_BARREL_FROM_FOCUS:p.unpinBarrelFromFocus(e);break;case r.a.ADD_ORGANIZATION_WORKFLOW_STATUS:p.addOrganizationWorkflowStatus(e);break;case r.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS:p.updateOrganizationWorkflowStatus(e);break;case r.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:p.deleteOrganizationWorkflowStatus(e)}})},function(e,t,n){"use strict";t.a=class{constructor(e,t){this.id=e._id,this.parentId=e.parent,this.data=e,this.children=[],this.index=t}addChild(e){this.children.push(e)}isRoot(){return!this.parentId}isLeaf(){return 0===this.children.length}isArchived(){return"archived"===this.data.status}}},function(e,t,n){"use strict";var i=n(113);t.a=class{constructor(e){this.root=e,this.levels=function e(t,n=1,s={}){return t.children.length>0&&(s[n]=(s[n]||[]).concat(t.children),t.children.forEach(t=>{e(t,n+1,s)})),Object.keys(s).map(e=>new i.a(Number(e),s[e]))}(e)}get height(){return Object.keys(this.levels).length+1}get length(){return 1+this.levels.reduce((e,t)=>e+t.nodes.length,0)}isRootTree(){return this.root.isLeaf()}isArchived(){return this.root.isArchived()}getNodesAtLevel(e){return this.levels[e].nodes}}},function(e,t,n){"use strict";t.a=class{constructor(e,t){this.level=e,this.nodes=t||[]}}},function(e,t,n){"use strict";var i=n(9),s=n(19);const a={addBarrelToFocusSuccess({oid:e,organizationName:t}){mixpanel.master.track("Pinned project",{"Organization ID":e,"Organization Name":t})},unpinBarrelFromFocusSuccess({oid:e,organizationName:t}){mixpanel.master.track("Unpinned project",{"Organization ID":e,"Organization Name":t})},onHitPinLimit({oid:e,organizationName:t,focusCountLimit:n,pinnedAnyway:i}){mixpanel.master.track("Hit pin limit",{"Organization ID":e,"Organization Name":t,"Pin Limit":n,"Pinned Anyway":i})},onAddOrganizationWorkflowStatus({oid:e,organizationName:t,workflowStatusData:n}){mixpanel.master.track("Created status",{Name:n.name,Color:n.color.toHexString(),"Organization ID":e,"Organization Name":t})},onUpdateOrganizationWorkflowStatus({oid:e,organizationName:t,workflowStatusData:n,oldWorkflowStatusData:i}){let s;const a={"Organization ID":e,"Organization Name":t};n.hasOwnProperty("name")?(s="Changed status name",a.Name=n.name,a.Color=i.color.toHexString(),a["From Name"]=i.name):n.hasOwnProperty("color")&&(s="Changed status color",a.Name=i.name,a.Color=n.color.toHexString(),a["From Color"]=i.color.toHexString()),mixpanel.master.track(s,a)},onDeleteOrganizationWorkflowStatus({oid:e,organizationName:t,oldWorkflowStatusData:n}){mixpanel.master.track("Removed status",{Name:n.name,Color:n.color.toHexString(),"Organization ID":e,"Organization Name":t})}};s.a.register(e=>{switch(e.type){case i.a.ADD_BARREL_TO_FOCUS_SUCCESS:a.addBarrelToFocusSuccess(e);break;case i.a.UNPIN_BARREL_FROM_FOCUS_SUCCESS:a.unpinBarrelFromFocusSuccess(e);break;case i.a.HIT_PIN_LIMIT:a.onHitPinLimit(e);break;case i.a.ADD_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&a.onAddOrganizationWorkflowStatus(e);break;case i.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&a.onUpdateOrganizationWorkflowStatus(e);break;case i.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&a.onDeleteOrganizationWorkflowStatus(e)}})},function(e,t,n){"use strict";var i=n(9),s=n(7),a=n(24);const o={addBarrelToFocusSuccess(){a.d.set("pinnedBarrelOnce",!0)}};s.a.register(e=>{switch(e.type){case i.a.ADD_BARREL_TO_FOCUS_SUCCESS:o.addBarrelToFocusSuccess()}})},function(e,t,n){"use strict";t.a={ADD:"add",DELETE:"delete",UPDATE:"update",PERSON:"person",NOTE:"note",TRANSFER:"transfer",JIRA:"jira",ARCHIVE:"archive",ACTIVATE:"activate",SLACK:"slack",ADMIN:"admin",MENTION:"mention",GROUP_MEMBERS:"groupMembers",GROUP_COLORS:"groupColors",TEXT_STYLES:"textStyles",SPACING:"spacing",STAR:"star"}},function(e,t,n){"use strict";var i=n(411);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(911);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(38),s=n(12),a=n(30),o=n(88),r=n(67),l=n(143),c=n(46),d=n(49),u=n(6),h=n(11),p=n(10),g=n(77);function m(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}const f=24;function b(e={}){if(!e.bid){const{barrelId:t}=a.a.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=a.a.getState();e.barrelType=t}return e}const y={reset(){i.a.dispatch({type:s.a.RESET})},load(e){i.a.dispatch(Object.assign({type:s.a.LOAD},e))},updateState(e){i.a.dispatch({type:s.a.UPDATE_STATE,update:e})},setOrganizationId({oid:e}){i.a.dispatch({type:s.a.SET_ORGANIZATION_ID,oid:e})},setBarrelId({barrelId:e}){i.a.dispatch({type:s.a.SET_BARREL_ID,barrelId:e})},addToSlack(e){const{bid:t,barrelType:n}=b(e),{name:a}=o.a.getBarrel({bid:t});i.a.dispatch({type:s.a.ADD_TO_SLACK,bid:t,barrelType:n,name:a})},add({oid:e,barrel:t,barrelType:n,syncWithApi:a=!1}){i.a.dispatch({type:s.a.ADD,oid:e,barrel:t,barrelType:n,syncWithApi:a})},activate(e){const{bid:t,barrelType:n,syncWithApi:a=!1}=b(e);let o=[t];if(n===p.a.STYLEGUIDE){const{styleguides:e}=c.a.getState();o=Object(g.d)(e,t)}i.a.dispatch({type:s.a.ACTIVATE,bid:t,barrelType:n,affectedIds:o,syncWithApi:a})},archive(e){const{bid:t,barrelType:n,uid:l,syncWithApi:d=!1}=b(e),{barrelId:u}=a.a.getState(),{name:h}=o.a.getBarrel({bid:t});let m=[t];if(n===p.a.STYLEGUIDE){const{styleguides:e}=c.a.getState();m=Object(g.d)(e,t)}const{userId:f}=r.a.getState(),y=o.a.findUser({bid:t,uid:l});i.a.dispatch({type:s.a.ARCHIVE,bid:t,barrelType:n,currentBid:u,affectedIds:m,name:h,uid:l,currentUserId:f,user:y,syncWithApi:d})},remove(e){const{bid:t,barrelType:n,uid:l,syncWithApi:c=!1}=b(e),{barrelId:d}=a.a.getState(),u=o.a.getBarrel({bid:t}),h=o.a.findBarrelOrganizationId(t),{userId:p}=r.a.getState(),g=o.a.findUser({bid:t,uid:l});i.a.dispatch({type:s.a.REMOVE,oid:h,bid:t,barrelType:n,currentBid:d,oldBarrel:u,uid:l,currentUserId:p,user:g,syncWithApi:c})},updateName(e){const{bid:t,barrelType:n,name:a,syncWithApi:r=!1}=b(e);let l;r&&({name:l}=o.a.getBarrel({bid:t})),i.a.dispatch({type:s.a.UPDATE_NAME,bid:t,barrelType:n,name:a,oldName:l,syncWithApi:r})},updateDescription(e){const{bid:t,barrelType:n,description:a,syncWithApi:r=!1}=b(e);let l;r&&({description:l}=o.a.getBarrel({bid:t})),i.a.dispatch({type:s.a.UPDATE_DESCRIPTION,bid:t,barrelType:n,description:a,oldDescription:l,syncWithApi:r})},updateDensityScale(e){const{bid:t,barrelType:n,densityScale:a,syncWithApi:r=!1}=b(e);let l;r&&({densityScale:l}=o.a.getBarrel({bid:t})),i.a.dispatch({type:s.a.UPDATE_DENSITY_SCALE,bid:t,barrelType:n,densityScale:a,oldDensityScale:l,syncWithApi:r})},updateThumbnail(e){const{bid:t,barrelType:n,thumbnail:a,syncWithApi:r=!1}=b(e);let l;r&&({thumbnail:l}=o.a.getBarrel({bid:t})),i.a.dispatch({type:s.a.UPDATE_THUMBNAIL,bid:t,barrelType:n,thumbnail:a,oldThumbnail:l,syncWithApi:r})},addIntegration(e){const{bid:t,intype:n,integration:a,syncWithApi:o=!1}=b(e);i.a.dispatch({type:s.a.ADD_INTEGRATION,bid:t,intype:n,integration:a,syncWithApi:o})},removeIntegration(e){const{bid:t,barrelType:n,intype:a,inid:r,syncWithApi:l=!1}=b(e);let c;if(l){c=o.a.getBarrel({bid:t}).integration[a].find(({_id:e})=>e===r)}i.a.dispatch({type:s.a.REMOVE_INTEGRATION,bid:t,barrelType:n,intype:a,inid:r,removedIntegration:c,syncWithApi:l})},toggleScene(e){const{bid:t,barrelType:n,accessibility:a,syncWithApi:r=!1}=b(e);let l;r&&({public:l}=o.a.getBarrel({bid:t})),i.a.dispatch({type:s.a.TOGGLE_SCENE,bid:t,barrelType:n,accessibility:a,oldAccessibility:l,syncWithApi:r})},enableScene(){y.toggleScene({accessibility:!0,syncWithApi:!0})},unshareScene(){y.toggleScene({accessibility:!1,syncWithApi:!0})},addMembers(e){const{bid:t,barrelType:n,members:a,shouldLoadBarrel:o=!1,syncWithApi:r=!1}=b(e);i.a.dispatch({type:s.a.ADD_MEMBERS,bid:t,barrelType:n,members:a,shouldLoadBarrel:o,syncWithApi:r})},updateUserRole(e){const{bid:t,barrelType:n,uid:a,role:r,syncWithApi:l=!1}=b(e);let c;if(l){const e=o.a.getBarrel({bid:t});({role:c}=e.findUser(a))}i.a.dispatch({type:s.a.UPDATE_USER_ROLE,bid:t,barrelType:n,uid:a,role:r,oldRole:c,syncWithApi:l})},updateUserData(e){const{bid:t,uid:n,userData:a,syncWithApi:r=!1}=b(e);let l;if(r){const e=o.a.getBarrel({bid:t});({user:l}=e.findUser(n))}i.a.dispatch({type:s.a.UPDATE_USER_DATA,bid:t,uid:n,userData:a,oldUserData:l,syncWithApi:r})},transferOwnership(e){const{bid:t,barrelType:n,uid:a}=b(e);i.a.dispatch({type:s.a.TRANSFER_OWNERSHIP,syncWithApi:!0,bid:t,barrelType:n,uid:a})},ownershipTransferred(e){const{bid:t,barrelType:n,uid:o}=b(e),{barrelUser:{user:{_id:r}},organizationId:l}=a.a.getState();let d;if(n===p.a.STYLEGUIDE){const{styleguides:e}=c.a.getState();d=Object(g.d)(e,t)}i.a.dispatch({type:s.a.OWNERSHIP_TRANSFERRED,toOrganization:!1,fromUserId:r,targetId:o,oid:l,bid:t,affectedIds:d})},removeMember(e){const{bid:t,uid:n,mid:l,barrelType:c,syncWithApi:d=!1}=b(e),u=o.a.findBarrelOrganizationId(t),{barrelId:h}=a.a.getState(),p=o.a.getBarrel({bid:t}),{userId:g}=r.a.getState(),m="user"===u&&l===g,f=o.a.findUser({bid:t,uid:n});let y,S;m?y=p:S=o.a.findUser({bid:t,uid:l}),i.a.dispatch({type:s.a.REMOVE_MEMBER,oid:u,bid:t,uid:n,mid:l,barrelType:c,shouldRemoveBarrel:m,currentBid:h,currentUserId:g,removingUser:f,removedBarrel:y,removedMember:S,syncWithApi:d})},addColor(e){const{bid:t,barrelType:n,color:a,syncWithApi:r=!1}=b(e);let l=a;if(r){const e=o.a.getBarrel({bid:t}),{id:n=Object(u.e)(f),name:i=e.getColorName(new h.a(a))}=a;l=Object.assign({},a,{name:i,_id:n})}i.a.dispatch({type:s.a.ADD_COLOR,bid:t,barrelType:n,color:l,syncWithApi:r})},addMultipleColors(e){const t=b(e),{bid:n,barrelType:a,syncWithApi:r=!1}=t;let{colors:l}=t;if(r){const e=o.a.getBarrel({bid:n});l=l.map(t=>{const n=t.name?t.name:e.getColorName(new h.a(t)),i=t.id?t.id:Object(u.e)();return Object.assign({},t,{name:n,_id:i})})}i.a.dispatch({type:s.a.ADD_MULTIPLE_COLORS,bid:n,barrelType:a,colors:l,syncWithApi:r})},updateColor(e){const{bid:t,barrelType:n,cid:a,colorData:r,syncWithApi:l=!1}=b(e);let c;if(l){var d=o.a.getBarrel({bid:t}).findColorById(a);({}=d),c=m(d,[])}i.a.dispatch({type:s.a.UPDATE_COLOR,bid:t,barrelType:n,cid:a,colorData:r,oldColorData:c,syncWithApi:l})},removeColor(e){const{bid:t,barrelType:n,cid:a,syncWithApi:r=!1}=b(e);let l;if(r){l=o.a.getBarrel({bid:t}).findColorById(a)}i.a.dispatch({type:s.a.REMOVE_COLOR,bid:t,barrelType:n,cid:a,removedColor:l,syncWithApi:r})},removeAllColors(e){const{bid:t,barrelType:n,syncWithApi:a=!1}=b(e);let r;if(a){r=o.a.getBarrel({bid:t}).colors}i.a.dispatch({type:s.a.REMOVE_ALL_COLORS,bid:t,barrelType:n,colorsToRemove:r,syncWithApi:a})},updateColorOrder(e){const{bid:t,barrelType:n,cid:a,to:o}=b(e);i.a.dispatch({type:s.a.UPDATE_COLOR_ORDER,bid:t,barrelType:n,cid:a,to:o})},addTextStyle(e){const{bid:t,barrelType:n,textStyle:a,syncWithApi:r=!1}=b(e);let l=a;if(r){const e=o.a.getBarrel({bid:t}),{id:n=Object(u.e)(f),name:i=e.getTextStyleName()}=a;l=Object.assign({},a,{name:i,_id:n})}i.a.dispatch({type:s.a.ADD_TEXT_STYLE,bid:t,barrelType:n,textStyle:l,syncWithApi:r})},addMultipleTextStyles(e){const t=b(e),{bid:n,barrelType:a,syncWithApi:r=!1}=t;let{textStyles:l}=t;if(r){const e=o.a.getBarrel({bid:n});l=l.map(t=>{const n=t.name?t.name:e.getTextStyleName(),i=t.id?t.id:Object(u.e)();return Object.assign({},t,{name:n,_id:i})})}i.a.dispatch({type:s.a.ADD_MULTIPLE_TEXT_STYLES,bid:n,barrelType:a,textStyles:l,syncWithApi:r})},updateTextStyle(e){const{bid:t,barrelType:n,tsid:a,textStyleData:r,syncWithApi:l=!1}=b(e);let c;if(l){var d=o.a.getBarrel({bid:t}).findTextStyleById(a);({}=d),c=m(d,[])}i.a.dispatch({type:s.a.UPDATE_TEXT_STYLE,bid:t,barrelType:n,tsid:a,textStyleData:r,oldTextStyleData:c,syncWithApi:l})},removeTextStyle(e){const{bid:t,barrelType:n,tsid:a,syncWithApi:r=!1}=b(e);let l;if(r){l=o.a.getBarrel({bid:t}).findTextStyleById(a)}i.a.dispatch({type:s.a.REMOVE_TEXT_STYLE,bid:t,barrelType:n,tsid:a,removedTextStyle:l,syncWithApi:r})},removeAllTextStyles(e){const{bid:t,barrelType:n,syncWithApi:a=!1}=b(e);let r;if(a){r=o.a.getBarrel({bid:t}).textStyles}i.a.dispatch({type:s.a.REMOVE_ALL_TEXT_STYLES,bid:t,barrelType:n,textStylesToRemove:r,syncWithApi:a})},addSpacingSection(e){const{bid:t,barrelType:n,spacingSection:a,syncWithApi:o=!1}=b(e);let r=a;if(o){const{_id:e=Object(u.e)(f)}=a;r=Object.assign({},a,{_id:e})}i.a.dispatch({type:s.a.ADD_SPACING_SECTION,bid:t,barrelType:n,spacingSection:r,syncWithApi:o})},updateSpacingSection(e){const{bid:t,barrelType:n,ssid:a,updatedSpacingSection:r,syncWithApi:l=!1}=b(e);let c={};if(l){c=o.a.getBarrel({bid:t}).findSpacingSectionById(a)}i.a.dispatch({type:s.a.UPDATE_SPACING_SECTION,bid:t,barrelType:n,ssid:a,updatedSpacingSection:r,oldSpacingSection:c,syncWithApi:l})},removeSpacingSection(e){const{bid:t,barrelType:n,ssid:a,syncWithApi:r=!1}=b(e);let l;if(r){l=o.a.getBarrel({bid:t}).findSpacingSectionById(a)}i.a.dispatch({type:s.a.REMOVE_SPACING_SECTION,bid:t,barrelType:n,ssid:a,removedSpacingSection:l,syncWithApi:r})},addSpacingToken(e){const{bid:t,barrelType:n,ssid:a,spacingToken:o,isBaseToken:r=!1,syncWithApi:l=!1}=b(e);let c=o;if(l){const{_id:e=Object(u.e)(f)}=o;c=Object.assign({},o,{_id:e})}i.a.dispatch({type:s.a.ADD_SPACING_TOKEN,bid:t,barrelType:n,ssid:a,isBaseToken:r,spacingToken:c,syncWithApi:l})},updateSpacingToken(e){const{bid:t,barrelType:n,ssid:a,sptid:r,updatedSpacingToken:l,syncWithApi:c=!1}=b(e);let d={};if(c){d=o.a.getBarrel({bid:t}).findSpacingTokenInsideSectionById(a,r)}i.a.dispatch({type:s.a.UPDATE_SPACING_TOKEN,bid:t,barrelType:n,ssid:a,sptid:r,updatedSpacingToken:l,oldSpacingToken:d,syncWithApi:c})},removeSpacingToken(e){const{bid:t,barrelType:n,ssid:a,sptid:r,syncWithApi:l=!1}=b(e),c=o.a.getBarrel({bid:t}),{baseTokenId:d}=c.findSpacingSectionById(a),u=d===r;let h;l&&(h=c.findSpacingTokenInsideSectionById(a,r)),i.a.dispatch({type:s.a.REMOVE_SPACING_TOKEN,bid:t,barrelType:n,ssid:a,sptid:r,removedSpacingToken:h,isBaseToken:u,syncWithApi:l})},updateRemPreferences(e){const{bid:t,barrelType:n,updatedRemPreferences:a,syncWithApi:r=!1}=b(e);let l={};if(r){l=o.a.getBarrel({bid:t}).remPreferences}i.a.dispatch({type:s.a.UPDATE_REM_PREFERENCES,bid:t,barrelType:n,updatedRemPreferences:a,oldRemPreferences:l,syncWithApi:r})},addComponent(e){const{bid:t,csids:n,component:a,index:o}=b(e);i.a.dispatch({type:s.a.ADD_COMPONENT,bid:t,csids:n,component:a,index:o})},updateComponent(e){const{bid:t,barrelType:n,csids:a,coid:r,componentData:l,syncWithApi:c=!1}=b(e);let d;if(c){var u=o.a.getBarrel({bid:t}).findComponentById(r);({}=u),d=m(u,[])}i.a.dispatch({type:s.a.UPDATE_COMPONENT,bid:t,barrelType:n,csids:a,coid:r,componentData:l,oldComponentData:d,syncWithApi:c})},removeComponent(e){const{bid:t,barrelType:n,csids:a,coid:r,syncWithApi:l=!1}=b(e);let c;if(l){c=o.a.getBarrel({bid:t}).findComponentById(r)}i.a.dispatch({type:s.a.REMOVE_COMPONENT,bid:t,barrelType:n,csids:a,coid:r,oldComponent:c,syncWithApi:l})},addComponentVersion(e){const{bid:t,csids:n,coid:a,componentVersion:o}=b(e);i.a.dispatch({type:s.a.ADD_COMPONENT_VERSION,bid:t,csids:n,coid:a,componentVersion:o})},addComponentSection(e){const{bid:t,barrelType:n,csids:a,componentSection:o,syncWithApi:r=!1}=b(e);i.a.dispatch({type:s.a.ADD_COMPONENT_SECTION,bid:t,barrelType:n,csids:a,componentSection:o,syncWithApi:r})},updateComponentSection(e){const{bid:t,barrelType:n,csids:a,componentSectionData:r,syncWithApi:l=!1}=b(e);let c;if(l){var d=o.a.getBarrel({bid:t}).findComponentSection(a);({}=d),c=m(d,[])}i.a.dispatch({type:s.a.UPDATE_COMPONENT_SECTION,bid:t,barrelType:n,csids:a,componentSectionData:r,oldComponentSectionData:c,syncWithApi:l})},mergeComponentSection(e){const{bid:t,barrelType:n,csids:a,tcsids:r,flatten:l,index:c,syncWithApi:d=!1}=b(e);let u,h=r,p=l;if(d){const e=a.slice(0,a.length-1),n=o.a.getBarrel({bid:t}),i=n.findComponentSection(e);u=n.findComponentSection(a);const s=i.componentSections.indexOf(u);let r=i.componentSections[s-1];r||(r=i),p="default"===r.name,h=r.idPath}i.a.dispatch({type:s.a.MERGE_COMPONENT_SECTION,bid:t,barrelType:n,csids:a,tcsids:h,flatten:p,index:c,oldComponentSection:u,syncWithApi:d})},removeComponentSection(e){const{bid:t,csids:n}=b(e);i.a.dispatch({type:s.a.REMOVE_COMPONENT_SECTION,bid:t,csids:n})},removeComponentSections(e){const{bid:t,componentSections:n}=b(e);i.a.dispatch({type:s.a.REMOVE_COMPONENT_SECTIONS,bid:t,componentSections:n})},updateComponentSectionsOrder(e){const{bid:t,barrelType:n,componentSections:a,syncWithApi:o=!1}=b(e);i.a.dispatch({type:s.a.UPDATE_COMPONENT_SECTIONS_ORDER,bid:t,barrelType:n,componentSections:a,syncWithApi:o})},updateComponentsOrder(e){const{bid:t,barrelType:n,components:a,syncWithApi:r=!1}=b(e);if(r){const e=o.a.getBarrel({bid:t});a.forEach(t=>{void 0===t.to&&(t.to=e.findComponentSection(t.tcsid).components.length)})}i.a.dispatch({type:s.a.UPDATE_COMPONENTS_ORDER,bid:t,barrelType:n,components:a,syncWithApi:r})},changeSelectedView(e){i.a.dispatch({type:s.a.CHANGE_SELECTED_VIEW,selectedView:e})},updateWorkflowStatus(e){const{barrelType:t,bid:n,workflowStatus:a,syncWithApi:r=!1}=b(e),l=r?o.a.getBarrel({bid:n}).workflowStatus:{},c=o.a.findBarrelOrganizationId(n),{name:u}=d.a.getOrganization(c);i.a.dispatch({type:s.a.UPDATE_WORKFLOW_STATUS,oid:c,organizationName:u,barrelType:t,bid:n,workflowStatus:a,oldWorkflowStatusData:l,syncWithApi:r})},deleteWorkflowStatus(e){const{barrelType:t,bid:n,syncWithApi:a=!1}=b(e),r=a?o.a.getBarrel({bid:n}).workflowStatus:{},l=o.a.findBarrelOrganizationId(n),{name:c}=d.a.getOrganization(l);i.a.dispatch({type:s.a.DELETE_WORKFLOW_STATUS,oid:l,organizationName:c,barrelType:t,bid:n,oldWorkflowStatusData:r,syncWithApi:a})},setAssetExportTarget(e){i.a.dispatch({type:s.a.SET_ASSET_EXPORT_TARGET,assetExportTarget:e})},changeAssetName(e){const{bid:t,containerId:n,snapshot:a,assetId:o,name:r}=b(e);i.a.dispatch({type:s.a.CHANGE_ASSET_NAME,bid:t,containerId:n,snapshot:a,assetId:o,name:r})},changeAssetDensityScalePref(e,t){const{bid:n}=b();i.a.dispatch({type:s.a.CHANGE_ASSET_DENSITY_SCALE_PREF,bid:n,format:e,assetDensityScalePrefsOfFormat:t})},changeAssetNamingConvention(e){const{bid:t}=b();i.a.dispatch({type:s.a.CHANGE_ASSET_NAMING_CONVENTION,bid:t,assetNamingConvention:e})},toggleSVGOptimization(e){const{bid:t}=b();i.a.dispatch({type:s.a.TOGGLE_SVG_OPTIMIZATION,bid:t,showOptimizedSVG:e})},goToDashboard(){const{selectedView:e}=a.a.getState();if("dashboard"===e)return;const{bid:t}=b(),{tagFilter:n}=l.a.getState();i.a.dispatch({type:s.a.GO_TO_DASHBOARD,bid:t,tagFilter:n})},goToStyleguide(){const{selectedView:e}=a.a.getState();if("styleguide"===e)return;const{bid:t}=b();i.a.dispatch({type:s.a.GO_TO_STYLEGUIDE,bid:t})},changeExportTarget(){i.a.dispatch({type:s.a.CHANGE_EXPORT_TARGET})},openExportTarget(){i.a.dispatch({type:s.a.OPEN_EXPORT_TARGET})},downloadAsset({containerName:e,version:t,assetId:n,format:r,toastContainer:l}){const{barrelId:c,assetDensityScalePrefs:d,assetNamingConvention:u,showOptimizedSVG:h}=a.a.getState(),{type:p}=o.a.getBarrel({bid:c});i.a.dispatch({type:s.a.DOWNLOAD_ASSET,barrelId:c,assetDensityScalePrefs:d,assetNamingConvention:u,showOptimizedSVG:h,platform:p,containerName:e,version:t,assetId:n,format:r,toastContainer:l})},downloadMultipleAsset({containerName:e,version:t,assetList:n,toastContainer:r}){const{barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u}=a.a.getState(),{type:h}=o.a.getBarrel({bid:l});i.a.dispatch({type:s.a.DOWNLOAD_MULTIPLE_ASSET,barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u,platform:h,containerName:e,version:t,assetList:n,toastContainer:r})},exportCode(e){const{bid:t,resourceType:n,exportObjects:a,extension:r}=b(e),{name:l,type:c}=o.a.getBarrel({bid:t});i.a.dispatch({type:s.a.EXPORT_CODE,barrelName:l,platform:c,resourceType:n,exportObjects:a,extension:r})},hideNoVectorAssetInfo(){i.a.dispatch({type:s.a.HIDE_NO_VECTOR_ASSET_INFO})},hideDensityMismatchWarning(){i.a.dispatch({type:s.a.HIDE_DENSITY_MISMATCH_WARNING})},hideSourceFileInfo(){i.a.dispatch({type:s.a.HIDE_SOURCE_FILE_INFO})},dismissFlowLinkInfo(){i.a.dispatch({type:s.a.DISMISS_FLOW_LINK_INFO})},dismissNoResourceInfo(){const{bid:e}=b();i.a.dispatch({type:s.a.DISMISS_NO_RESOURCE_INFO,bid:e})},hideSlackReconnectionAuntie(){const{bid:e}=b();i.a.dispatch({type:s.a.HIDE_SLACK_RECONNECTION_AUNTIE,bid:e})},openJumpToPopup(){i.a.dispatch({type:s.a.OPEN_JUMP_TO_POPUP})},closeJumpToPopup(){i.a.dispatch({type:s.a.CLOSE_JUMP_TO_POPUP})},openExtensionSettings({extensionId:e}={}){i.a.dispatch({type:s.a.OPEN_EXTENSION_SETTINGS,extensionId:e})},closeExtensionSettings(){i.a.dispatch({type:s.a.CLOSE_EXTENSION_SETTINGS})},copyComponentSectionWebLink(e){const{bid:t,barrelType:n,seid:a}=b(e);i.a.dispatch({type:s.a.COPY_COMPONENT_SECTION_WEB_LINK,bid:t,barrelType:n,seid:a})},copyComponentSectionAppURI(e){const{bid:t,barrelType:n,cseid:a}=b(e);i.a.dispatch({type:s.a.COPY_COMPONENT_SECTION_APP_URI,bid:t,barrelType:n,cseid:a})},join(e){const{bid:t,barrelType:n,shouldLoadBarrel:a=!0}=b(e);i.a.dispatch({type:s.a.JOIN,bid:t,barrelType:n,shouldLoadBarrel:a,syncWithApi:!0})},stopLoadingJoin(){i.a.dispatch({type:s.a.STOP_JOIN_LOADING})},setShortlink(e,t){i.a.dispatch({type:s.a.SET_SHORTLINK,longURL:e,shortURL:t})},enableDevMode(){const{bid:e,barrelType:t}=b(),{styleguideLink:n,ancestors:a}=o.a.getBarrel({bid:e});i.a.dispatch({type:s.a.ENABLE_DEV_MODE,bid:e,barrelType:t,styleguideLink:n,ancestors:a})},disableDevMode(){i.a.dispatch({type:s.a.DISABLE_DEV_MODE})},reloadLocalConnectedComponents(){const{bid:e,barrelType:t}=b(),{styleguideLink:n,ancestors:a}=o.a.getBarrel({bid:e});i.a.dispatch({type:s.a.RELOAD_LOCAL_CONNECTED_COMPONENTS,bid:e,barrelType:t,styleguideLink:n,ancestors:a})},setLocalConnectedComponents(e){const{bid:t,localConnectedComponents:n}=b(e);i.a.dispatch({type:s.a.SET_LOCAL_CONNECTED_COMPONENTS,bid:t,localConnectedComponents:n})},setConnectedComponentsLocalWorkspace(e){const{bid:t,barrelType:n,workspace:a}=b(e);i.a.dispatch({type:s.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE,bid:t,barrelType:n,workspace:a})},getConnectedComponentsEditorInfo(){const{bid:e}=b();i.a.dispatch({type:s.a.GET_CONNECTED_COMPONENTS_EDITOR_INFO,bid:e})},setConnectedComponentsEditorInfo(e){i.a.dispatch({type:s.a.SET_CONNECTED_COMPONENTS_EDITOR_INFO,editorInfo:e})},setConnectedComponentsEditorPreference(e,t){i.a.dispatch({type:s.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE,extension:e,editor:t})},setConnectedComponentsWorkspacePath(e){i.a.dispatch({type:s.a.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH,workspacePath:e})},selectConnectedComponentsWorkspaceFolder(){const{bid:e}=b();i.a.dispatch({type:s.a.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER,bid:e})},openComponentFileInEditor(e,t){const{bid:n}=b();i.a.dispatch({type:s.a.OPEN_COMPONENT_FILE_IN_EDITOR,bid:n,filePath:e,editor:t})},moveResourcesRequest(e){const{bid:t,barrelType:n,resourceType:a,resources:r,targetStyleguideId:l}=b(e);let c;o.a.getBarrel({bid:l}).densityScale||({densityScale:c}=o.a.getBarrel({bid:t})),i.a.dispatch({type:s.a.MOVE_RESOURCES_REQUEST,bid:t,barrelType:n,densityScale:c,targetStyleguideId:l,resourceType:a,resources:r,syncWithApi:!0})},moveResourcesSuccess(e){const{bid:t,barrelType:n,resourceType:a,resources:o,targetStyleguideId:r}=b(e);i.a.dispatch({type:s.a.MOVE_RESOURCES_SUCCESS,bid:t,barrelType:n,resourceType:a,resources:o,targetStyleguideId:r})},moveResourcesFail(){i.a.dispatch({type:s.a.MOVE_RESOURCES_FAIL})},attachJiraIssue(e){const{bid:t,jira:n}=b(e);i.a.dispatch({type:s.a.ATTACH_JIRA_ISSUE,bid:t,jira:n})},removeJiraIssueAttachment(e){const{bid:t,aid:n}=b(e);i.a.dispatch({type:s.a.REMOVE_JIRA_ISSUE_ATTACHMENT,bid:t,aid:n})},updateConnectedComponents(e){const{bid:t,connectedComponents:n}=b(e);i.a.dispatch({type:s.a.UPDATE_CONNECTED_COMPONENTS,bid:t,connectedComponents:n})}};t.a=y},function(e,t,n){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,a,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,n)});case 4:return process.nextTick(function(){e.call(null,t,n,i)});default:for(s=new Array(o-1),a=0;a<s.length;)s[a++]=arguments[a];return process.nextTick(function(){e.apply(null,s)})}}}:e.exports=process},function(e,t,n){"use strict";(function(t){e.exports={isNode:void 0!==t,newBufferFrom:function(e,n){return new t(e,n)},allocBuffer:function(e){return t.alloc?t.alloc(e):new t(e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(t,n(79).Buffer)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var i=n(918);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e,t,n){const i=t.toLowerCase();if(e===i)return 1;let s=0,a=e.toLowerCase(),o=0;const r=n&&n.toLowerCase(),l=new RegExp(`\\s*\\b${r}\\b\\s*`,"ig");if(r&&l.test(a)&&(o=.3,!(a=a.replace(l," ").trim())))return o;const c=i.indexOf(a);if(c>-1)return s+=.3,i.startsWith(a)?s+=.3:" "===i.charAt(c-1)&&(s+=.2),(s+=(i.length-c)/i.length/200)+o;let d=i.indexOf(a.charAt(0)),u=0,h=0;for(var p=d;p<i.length&&-1!==d;p++){u+=(i.length-d)/i.length/200," "===i.charAt(d>0?d-1:d)&&(u+=(i.length-d)/i.length/200);const e=a[++h];d=e?i.indexOf(e,d+1):-1}h===a.length&&(s+=.05+u);if(!s)return 0;return s+o}},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},,function(e,t,n){"use strict";var i=n(409);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.c="Project ended";t.a="Moved to team plan";t.e="Switched to another tool";t.d="Ran into issue";t.f="Too expensive";t.b="Other"},function(e,t,n){"use strict";var i,s="object"==typeof Reflect?Reflect:null,a=s&&"function"==typeof s.apply?s.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var s,a,o;if(c(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(s=d(e))>0&&o.length>s&&!o.warned){o.warned=!0;var r=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");r.name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=o.length,function(e){console&&console.warn&&console.warn(e)}(r)}return e}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(i);return s.listener=n,i.wrapFn=s,s}function p(e,t,n){var i=e._events;if(void 0===i)return[];var s=i[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):m(s,s.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return d(this)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var r=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw r.context=o,r}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var c=l.length,d=m(l,c);for(n=0;n<c;++n)a(d[n],this,t)}return!0},r.prototype.addListener=function(e,t){return u(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return u(this,e,t,!0)},r.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,i,s,a,o;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,s=a;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(s=a[i])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},r.prototype.listeners=function(e){return p(this,e,!0)},r.prototype.rawListeners=function(e){return p(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},r.prototype.listenerCount=g,r.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){(t=e.exports=n(161)).Stream=t,t.Readable=t,t.Writable=n(133),t.Duplex=n(68),t.Transform=n(165),t.PassThrough=n(236)},function(e,t,n){var i=n(79),s=i.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return s(e,t,n)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),a(s,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=s(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t,i){var s=n(120);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var s=i.callback;t.pendingcb--,s(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var o,r=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?t:s.nextTick;b.WritableState=f;var l=Object.create(n(90));l.inherits=n(80);var c={deprecate:n(234)},d=n(162),u=n(132).Buffer,h=i.Uint8Array||function(){};var p,g=n(163);function m(){}function f(e,t){o=o||n(68),e=e||{};var i=t instanceof o;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var l=e.highWaterMark,c=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=l||0===l?l:i&&(c||0===c)?c:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,a=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,a){--t.pendingcb,n?(s.nextTick(a,i),s.nextTick(O,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(a(i),e._writableState.errorEmitted=!0,e.emit("error",i),O(e,t))}(e,n,i,t,a);else{var o=C(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||v(e,n),i?r(S,e,n,o,a):S(e,n,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(e){if(o=o||n(68),!(p.call(b,this)||this instanceof o))return new b(e);this._writableState=new f(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function y(e,t,n,i,s,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(s,t.onwrite):e._write(s,a,t.onwrite),t.sync=!1}function S(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),O(e,t)}function v(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var r=0,l=!0;n;)s[r]=n,n.isBuf||(l=!1),n=n.next,r+=1;s.allBuffers=l,y(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,d=n.encoding,u=n.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,d,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),O(e,t)})}function O(e,t){var n=C(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,s.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(b,d),f.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(f.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===b&&(e&&e._writableState instanceof f)}})):p=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var i=this._writableState,a=!1,o=!i.objectMode&&function(e){return u.isBuffer(e)||e instanceof h}(e);return o&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),s.nextTick(t,n)}(this,n):(o||function(e,t,n,i){var a=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),s.nextTick(i,o),a=!1),a}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,i,s,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,i,s);i!==o&&(n=!0,s="buffer",i=o)}var r=t.objectMode?1:i.length;t.length+=r;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:s,isBuf:n,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,r,i,s,a);return l}(this,i,o,e,t,n)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?s.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(374).setImmediate,n(93))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(169)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var i=n(91),s=n(173),a=n(174),o=n(175);a=n(174);function r(e,t,n,i,s){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=s}r.prototype={getContentWorker:function(){var e=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},e.exports=r},function(e,t,n){"use strict";var i=n(15);var s=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var a=s,o=i+n;e^=-1;for(var r=i;r<o;r++)e=e>>>8^a[255&(e^t[r])];return-1^e}(0|t,e,e.length,0):function(e,t,n,i){var a=s,o=i+n;e^=-1;for(var r=i;r<o;r++)e=e>>>8^a[255&(e^t.charCodeAt(r))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){!function(){var t=n(140),i=n(96).utf8,s=n(141),a=n(96).bin,o=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?a.stringToBytes(e):i.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var r=t.bytesToWords(e),l=8*e.length,c=1732584193,d=-271733879,u=-1732584194,h=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[l>>>5]|=128<<l%32,r[14+(l+64>>>9<<4)]=l;var g=o._ff,m=o._gg,f=o._hh,b=o._ii;for(p=0;p<r.length;p+=16){var y=c,S=d,v=u,C=h;d=b(d=b(d=b(d=b(d=f(d=f(d=f(d=f(d=m(d=m(d=m(d=m(d=g(d=g(d=g(d=g(d,u=g(u,h=g(h,c=g(c,d,u,h,r[p+0],7,-680876936),d,u,r[p+1],12,-389564586),c,d,r[p+2],17,606105819),h,c,r[p+3],22,-1044525330),u=g(u,h=g(h,c=g(c,d,u,h,r[p+4],7,-176418897),d,u,r[p+5],12,1200080426),c,d,r[p+6],17,-1473231341),h,c,r[p+7],22,-45705983),u=g(u,h=g(h,c=g(c,d,u,h,r[p+8],7,1770035416),d,u,r[p+9],12,-1958414417),c,d,r[p+10],17,-42063),h,c,r[p+11],22,-1990404162),u=g(u,h=g(h,c=g(c,d,u,h,r[p+12],7,1804603682),d,u,r[p+13],12,-40341101),c,d,r[p+14],17,-1502002290),h,c,r[p+15],22,1236535329),u=m(u,h=m(h,c=m(c,d,u,h,r[p+1],5,-165796510),d,u,r[p+6],9,-1069501632),c,d,r[p+11],14,643717713),h,c,r[p+0],20,-373897302),u=m(u,h=m(h,c=m(c,d,u,h,r[p+5],5,-701558691),d,u,r[p+10],9,38016083),c,d,r[p+15],14,-660478335),h,c,r[p+4],20,-405537848),u=m(u,h=m(h,c=m(c,d,u,h,r[p+9],5,568446438),d,u,r[p+14],9,-1019803690),c,d,r[p+3],14,-187363961),h,c,r[p+8],20,1163531501),u=m(u,h=m(h,c=m(c,d,u,h,r[p+13],5,-1444681467),d,u,r[p+2],9,-51403784),c,d,r[p+7],14,1735328473),h,c,r[p+12],20,-1926607734),u=f(u,h=f(h,c=f(c,d,u,h,r[p+5],4,-378558),d,u,r[p+8],11,-2022574463),c,d,r[p+11],16,1839030562),h,c,r[p+14],23,-35309556),u=f(u,h=f(h,c=f(c,d,u,h,r[p+1],4,-1530992060),d,u,r[p+4],11,1272893353),c,d,r[p+7],16,-155497632),h,c,r[p+10],23,-1094730640),u=f(u,h=f(h,c=f(c,d,u,h,r[p+13],4,681279174),d,u,r[p+0],11,-358537222),c,d,r[p+3],16,-722521979),h,c,r[p+6],23,76029189),u=f(u,h=f(h,c=f(c,d,u,h,r[p+9],4,-640364487),d,u,r[p+12],11,-421815835),c,d,r[p+15],16,530742520),h,c,r[p+2],23,-995338651),u=b(u,h=b(h,c=b(c,d,u,h,r[p+0],6,-198630844),d,u,r[p+7],10,1126891415),c,d,r[p+14],15,-1416354905),h,c,r[p+5],21,-57434055),u=b(u,h=b(h,c=b(c,d,u,h,r[p+12],6,1700485571),d,u,r[p+3],10,-1894986606),c,d,r[p+10],15,-1051523),h,c,r[p+1],21,-2054922799),u=b(u,h=b(h,c=b(c,d,u,h,r[p+8],6,1873313359),d,u,r[p+15],10,-30611744),c,d,r[p+6],15,-1560198380),h,c,r[p+13],21,1309151649),u=b(u,h=b(h,c=b(c,d,u,h,r[p+4],6,-145523070),d,u,r[p+11],10,-1120210379),c,d,r[p+2],15,718787259),h,c,r[p+9],21,-343485551),c=c+y>>>0,d=d+S>>>0,u=u+v>>>0,h=h+C>>>0}return t.endian([c,d,u,h])};o._ff=function(e,t,n,i,s,a,o){var r=e+(t&n|~t&i)+(s>>>0)+o;return(r<<a|r>>>32-a)+t},o._gg=function(e,t,n,i,s,a,o){var r=e+(t&i|n&~i)+(s>>>0)+o;return(r<<a|r>>>32-a)+t},o._hh=function(e,t,n,i,s,a,o){var r=e+(t^n^i)+(s>>>0)+o;return(r<<a|r>>>32-a)+t},o._ii=function(e,t,n,i,s,a,o){var r=e+(n^(t|~i))+(s>>>0)+o;return(r<<a|r>>>32-a)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var i=t.wordsToBytes(o(e,n));return n&&n.asBytes?i:n&&n.asString?a.bytesToString(i):t.bytesToHex(i)}}()},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],i=0;i<e.length;i+=3)for(var s=e[i]<<16|e[i+1]<<8|e[i+2],a=0;a<4;a++)8*i+6*a<=8*e.length?n.push(t.charAt(s>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,s=0;i<e.length;s=++i%4)0!=s&&n.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<2*s|t.indexOf(e.charAt(i))>>>6-2*s);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var i=n(295);t.a=i.a},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(53),o=n(125),r=n(12),l=n(10),c=n(20);t.a=new class extends s.a{constructor(){super(o.a)}getInitialState(){return{sortType:"default",filterValue:"",fixedThumbnailSize:!1,sidebarWidth:280,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],collapsedSections:{},highlightedSection:null,highlightedScreens:[],shortlinks:{}}}changeSortType(e,t){return Object.assign({},e,{sortType:t,highlightedScreens:[]})}changeFilterValue(e,t){return Object.assign({},e,{filterValue:t,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],highlightedScreens:[]})}changeTagFilter(e,t){return Object.assign({},e,{tagFilter:t,filterValue:"",highlightedScreens:[]})}changeJiraIssueFilter(e,t){return Object.assign({},e,{jiraIssueFilter:t,filterValue:"",tagFilter:{tags:[],untagged:!1},highlightedScreens:[]})}convertTagToSection(e,t){const{tags:n,untagged:i}=e.tagFilter,s=n.filter(e=>e!==t);return Object.assign({},e,{tagFilter:{tags:s,untagged:i}})}toggleFixedThumbnailSize(e){return Object.assign({},e,{fixedThumbnailSize:!e.fixedThumbnailSize})}changeSidebarWidth(e,t){return Object.assign({},e,{sidebarWidth:t})}expandSection(e,t){return Object.assign({},e,{collapsedSections:Object.assign({},e.collapsedSections,{[t]:!1})})}setCollapsedSections(e,t){return Object.assign({},e,{collapsedSections:t})}collapseSection(e,t){return Object.assign({},e,{collapsedSections:Object.assign({},e.collapsedSections,{[t]:!0})})}highlightScreens(e,t){return Object.assign({},e,{highlightedScreens:[].concat(t).filter(Boolean)})}unhighlightScreen(e,t){return Object.assign({},e,{highlightedScreens:e.highlightedScreens.filter(e=>e!==t)})}highlightSection(e,t){return Object.assign({},e,{highlightedSection:t})}unhighlightSection(e){return Object.assign({},e,{highlightedSection:null})}highlightUpdatedSection(e,{seid:t,highlight:n,sectionData:i}){if(!n)return e;const s=i._id||t;return Object.assign({},e,{highlightedSection:s})}setShortlink(e,t,n){return Object.assign({},e,{shortlinks:Object.assign({},e.shortlinks,{[t]:n})})}updateForOpenScreen(e,{screenId:t,shouldResetDashboardFilters:n}){let i={};return n&&(i={tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[]}),Object.assign({},e,i,{highlightedScreens:[t]})}load(e,t){const{barrel:{barrelType:n},dashboard:i={},data:{project:s}}=t;return n===l.a.STYLEGUIDE||s.partial?e:Object.assign({},e,i)}reduce(e,t){switch(t.type){case r.a.LOAD:return this.load(e,t);case r.a.RESET:return this.getInitialState();case r.a.CHANGE_SELECTED_VIEW:return this.highlightScreens(e,[]);case a.a.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case a.a.CHANGE_FILTER_VALUE:return this.changeFilterValue(e,t.filterValue);case a.a.CHANGE_TAG_FILTER:return this.changeTagFilter(e,t.tagFilter);case a.a.CHANGE_JIRA_ISSUE_FILTER:return this.changeJiraIssueFilter(e,t.jiraIssueFilter);case a.a.CONVERT_TAG_TO_SECTION:return this.convertTagToSection(e,t.section.name);case a.a.TOGGLE_FIXED_THUMBNAIL_SIZE:return this.toggleFixedThumbnailSize(e);case a.a.CHANGE_SIDEBAR_WIDTH:return this.changeSidebarWidth(e,t.sidebarWidth);case a.a.SET_COLLAPSED_SECTIONS:return this.setCollapsedSections(e,t.collapsedSections);case a.a.EXPAND_SECTION:return this.expandSection(e,t.seid);case a.a.COLLAPSE_SECTION:return this.collapseSection(e,t.seid);case a.a.HIGHLIGHT_SCREENS:return this.highlightScreens(e,t.sids);case a.a.UNHIGHLIGHT_SCREEN:return this.unhighlightScreen(e,t.sid);case a.a.HIGHLIGHT_SECTION:return this.highlightSection(e,t.seid);case a.a.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case a.a.UPDATE_SECTION:return this.highlightUpdatedSection(e,t);case a.a.SET_SHORTLINK:return this.setShortlink(e,t.longURL,t.shortURL);case c.a.OPEN_SCREEN:return this.updateForOpenScreen(e,t);default:return e}}}},function(e,t,n){"use strict";t.b=function(e){const t=a.v+e;return i.a.channel(t)||i.a.subscribe(t)},t.f=function(e){i.a.unsubscribe(a.v+e)},t.d=o,t.h=r,t.c=l,t.g=c,t.a=function(e,t){e===s.a.PROJECT?l(t):o(t)},t.e=function(e,t){e===s.a.PROJECT?c(t):r(t)};var i=n(147),s=n(10),a=n(5);function o(e){const t=a.E+e;return i.a.channel(t)||i.a.subscribe(t)}function r(e){i.a.unsubscribe(a.E+e)}function l(e){const t=a.w+e;return i.a.channel(t)||i.a.subscribe(t)}function c(e){i.a.unsubscribe(a.w+e)}},function(e,t,n){"use strict";var i=n(30),s=n(88),a=n(143),o=n(196),r=n(211),l=n(454),c=n(8),d=n(89);function u({bid:e,sid:t}={}){const n=s.a.getBarrel({bid:e});if(!n||!n.screens)return null;let i=t;return i||({screenId:i}=o.a.getState()),i?n.screens.find(e=>e._id===i):null}function h(){const e=s.a.getBarrel();if(!e||!e.screens)return null;const{filterValue:t,sortType:n,tagFilter:i,jiraIssueFilter:o}=a.a.getState(),{sortedSections:r}=Object(l.b)(e,n,{filterValue:t,tagFilter:i,jiraIssueFilter:o});return r.flatMap(e=>e.screens)}function p({bid:e,sid:t,did:n}={}){const i=u({bid:e,sid:t});if(!i||!i.dots)return null;let s=n;return s||({dotId:s}=r.a.getState()),s?i.dots.find(e=>e._id===s):null}t.a={getScreen:u,getVersion:function({bid:e,sid:t,vid:n}={}){const i=u({bid:e,sid:t});if(!i||!i.versions)return null;let s=n;return s||({versionId:s}=o.a.getState()),s?i.versions.find(e=>e._id===s):null},getVisibleScreens:h,getPreviousScreen:function(e){const t=h();if(!t)return null;const n=t.findIndex(t=>t._id===e);return n<1?null:t[n-1]},getNextScreen:function(e){const t=h();if(!t)return null;const n=t.findIndex(t=>t._id===e);return-1===n||n===t.length-1?null:t[n+1]},getSectionOfScreen:function({bid:e,sid:t}={}){const n=s.a.getBarrel({bid:e});if(!n||!n.sections)return null;let i=t;return i||({screenId:i}=o.a.getState()),i?n.sections.find(e=>e.screens.includes(i)):null},getDot:p,getComment:function({bid:e,sid:t,did:n,cmid:i}={}){const s=p({bid:e,sid:t,did:n});return s&&s.comments?s.comments.find(e=>e._id===i):null},navigateToScreen:function(e){const{barrelId:t}=i.a.getState();d.a.history.push(Object(c.j)("project-screen",{url:{pid:t,sid:e}}))}}},function(e,t,n){"use strict";var i=n(291);t.a=i.a},function(e,t,n){"use strict";n.d(t,"b",function(){return m});var i=n(36),s=n.n(i),a=n(371),o=n.n(a),r=n(372),l=n.n(r),c=n(61),d=n(5);const u=3e4;let h;function p(){h||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(h=setTimeout(()=>{c.b({contentType:"html",group:"socket",content:'Real-time updates are disabled due to a connectivity issue. <a href="https://support.zeplin.io/en/articles/377685-fixing-connectivity-issues" target="_blank">Learn more.</a>',closeCallback(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},u))}const g=s.a.get("userToken");let m,f;if(g){(f=new o.a(d.x,{cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:`${Zeplin.urls.baseURL}/v2/pusher/auth`,auth:{headers:{"Zeplin-Token":g}}})).connection.bind("failed",p),f.connection.bind("unavailable",p),f.connection.bind("connected",()=>{Zeplin.headers.set("Zeplin-Socket-Id",f.connection.socket_id),clearTimeout(h),c.a("socket")});const{sub:e}=l()(g);m=f.subscribe(`${d.G}${e}`)}t.a=f},function(e,t,n){"use strict";t.d=function(e,t,n){a=n,l=t,d(e),i.a.ipcRenderer.send("query-asset-download-target",e)},t.b=function(e){const{toastContainer:t}=e,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["toastContainer"]);d(e.projectId),i.a.ipcRenderer.removeAllListeners("assets-downloaded"),i.a.ipcRenderer.once("assets-downloaded",(e,n)=>(function(e,t){clearTimeout(c),c=setTimeout(n=>{Object(s.a)({text:`Exported to ${e.projectName}`,container:t,source:"assetExportTargetProject"})},200),"android"===l&&mixpanel.webapp.track("Exported assets",{folderType:e.projectFolderType,projectType:l})})(n,t)),i.a.ipcRenderer.send("download-assets",n)},t.a=function(){if(!r||!l)return;d(r),i.a.ipcRenderer.send("change-asset-download-target",{projectId:r,projectType:l})},t.c=function(){if(!o)return;i.a.ipcRenderer.send("open-item",o)};var i=n(18),s=n(45);let a,o,r,l,c;function d(e){const t=`${r=e}:asset-download-target`;i.a.ipcRenderer.removeAllListeners(t),i.a.ipcRenderer.once(t,(e,t)=>{o=t.projectFolder,a(t)})}},function(e,t,n){"use strict";var i=n(407);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.d=c,t.e=function(e,t){if(!t||!t.png)return{png:c(e)};return t},t.f=function(e,t,n){return!e[t]||e[t].includes(n)},t.h=function(e,t){return o[e]-o[t]},t.b=d,t.c=function(e,t){if(e.localName)return e.localName;return d(e,t)},t.g=function(e,t){const{format:n,density:i,densityScale:s=Object(a.o)(i)}=t;return r[e].includes(n)&&l[e].includes(s)},t.a=function(e,t){if(!t.exportable||!Array.isArray(e.assets))return null;return e.assets.find(e=>e.layerId?e.layerId===t.sourceId:e.layerName===t.name)};var i=n(81),s=n(33),a=n(1);const o={png:0,jpg:1,svg:2,pdf:3},r=Object.freeze({[s.c.BASE]:["svg"],[s.c.ANDROID]:["png","jpg","svg"],[s.c.IOS]:["png","jpg","pdf"],[s.c.OSX]:["png","jpg","pdf"],[s.c.WEB]:["png","jpg","svg"]}),l=Object.freeze({[s.c.BASE]:[s.a._1x],[s.c.ANDROID]:[s.a.MDPI,s.a.HDPI,s.a.XHDPI,s.a.XXHDPI,s.a.XXXHDPI],[s.c.IOS]:[s.a._1x,s.a._2x,s.a._3x],[s.c.OSX]:[s.a._1x,s.a._2x],[s.c.WEB]:[s.a._1x,s.a._2x,s.a._3x]});function c(e){return l[e]}function d(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object(i.a)(e.layerName,t)}},function(e,t,n){"use strict";var i=n(297),s=n(44),a=n(66),o=n(65),r=n(298);n(299);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"c",function(){return a.a}),n.d(t,"e",function(){return o.a}),n.d(t,"d",function(){return r.a})},function(e,t,n){"use strict";var i=n(449);t.a=i.a},function(e,t,n){"use strict";var i=n(200),s=n(20),a=n(126),o=n(145),r=n(196),l=n(211),c=n(376);n(498);n.d(t,"g",function(){return c.a}),n.d(t,"c",function(){return i.a}),n.d(t,"b",function(){return s.a}),n.d(t,"d",function(){return a.a}),n.d(t,"e",function(){return o.a}),n.d(t,"f",function(){return r.a}),n.d(t,"a",function(){return l.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(632),r=n(152);function l(e){const{avatarUrl:t,subIconType:n}=e;return i.h(o.a,{subIconType:n},i.h(r.a,{width:"36",height:"36",src:t}))}l.propTypes={avatarUrl:a.a.string.isRequired,subIconType:a.a.string},t.a=l},function(e,t,n){"use strict";var i=n(916);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(639);n.d(t,"a",function(){return i.a})},,,function(e,t,n){"use strict";var i=n(72),s=n(59),a=n(17),o=n(1),r=n(13);const l=Object(o.g)(r.updateEmailNotifications);function c(e,t){s.a.dispatch({type:i.a.SET_USER_ATTRIBUTE,name:e,value:t})}const d={loadUser(e){s.a.dispatch({type:i.a.LOAD_USER,user:e})},updateUser(e){s.a.dispatch({type:i.a.UPDATE_USER,user:e})},setUsername(e){c("username",e)},setEmail(e){c("email",e)},setEmotar(e){c("emotar",e)},setAvatar(e){c("avatar",e)},setEmailNotifications(e){c("isEmailNotificationEnabled",e)},setVerified(){c("verified",!0)},setDesktopNotifications(e){c("isDesktopNotificationEnabled",e)},setBilling(e){c("billing",e)},setSelectedView(e){s.a.dispatch({type:i.a.SET_SELECTED_VIEW,selectedView:e})},updateEmailNotifications(e){const t=Zeplin.user.emailNotifications;d.setEmailNotifications(e),l(e).then(()=>{Zeplin.updateUser({emailNotifications:e})}).catch(e=>{d.setEmailNotifications(t),a.b(e)})},updateUserEmotar(e){const t=Zeplin.user.emotar;d.setEmotar(e),Object(r.updateUserEmotar)(e).then(()=>{Zeplin.updateUser({emotar:e}),mixpanel.webapp.track("Updated emotar",{emoji:e})}).catch(e=>{d.setEmotar(t),a.b(e)})},markZeplinThreeZeroWhatsNewAsSeen(){s.a.dispatch({type:i.a.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN})},stopPromotingSpacingSectionDescriptionEditButton(){s.a.dispatch({type:i.a.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON})},hideStyleguideTutorial(){s.a.dispatch({type:i.a.HIDE_STYLEGUIDE_TUTORIAL})},logout(){Object(r.logoutUser)().finally(Zeplin.logout)},resetBackButton(){s.a.dispatch({type:i.a.RESET_BACK_BUTTON})},setBackButton(e,t){s.a.dispatch({type:i.a.SET_BACK_BUTTON,label:e,link:t})}};t.a=d},function(e,t,n){e.exports=n(229)},function(e,t,n){"use strict";(function(t){var i=n(120);e.exports=y;var s,a=n(230);y.ReadableState=b;n(130).EventEmitter;var o=function(e,t){return e.listeners(t).length},r=n(162),l=n(132).Buffer,c=t.Uint8Array||function(){};var d=Object.create(n(90));d.inherits=n(80);var u=n(231),h=void 0;h=u&&u.debuglog?u.debuglog("stream"):function(){};var p,g=n(232),m=n(163);d.inherits(y,r);var f=["error","close","destroy","pause","resume"];function b(e,t){s=s||n(68),e=e||{};var i=t instanceof s;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,o=e.readableHighWaterMark,r=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:i&&(o||0===o)?o:r,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(164).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(s=s||n(68),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),r.call(this)}function S(e,t,n,i,s){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,O(e)}(e,o)):(s||(a=function(e,t){var n;(function(e){return l.isBuffer(e)||e instanceof c})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),i?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):v(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?v(e,o,t,!1):k(e,o)):v(e,o,t,!1))):i||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function v(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),k(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=l.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},y.prototype.unshift=function(e){return S(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(164).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var C=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(T,e):T(e))}function T(e){h("emit readable"),e.emit("readable"),j(e)}function k(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function _(e){h("readable nexttick read 0"),e.read(0)}function w(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,s=n.data;e-=s.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?s+=a:s+=a.slice(0,e),0===(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,s}(e,t):function(e,t){var n=l.allocUnsafe(e),i=t.head,s=1;i.data.copy(n),e-=i.data.length;for(;i=i.next;){var a=i.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++s,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=a.slice(o));break}++s}return t.length-=s,n}(e,t);return i}(e,t.buffer,t.decoder),n);var n}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function x(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):O(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&I(this),null;var i,s=t.needReadable;return h("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",s=!0),t.ended||t.reading?h("reading or ended",s=!1):s&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(i=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&I(this)),null!==i&&this.emit("data",i),i},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,h("pipe count=%d opts=%j",s.pipesCount,t);var r=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?c:y;function l(t,i){h("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",f),e.removeListener("finish",b),e.removeListener("drain",d),e.removeListener("error",m),e.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",g),u=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){h("onend"),e.end()}s.endEmitted?i.nextTick(r):n.once("end",r),e.on("unpipe",l);var d=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,j(e))}}(n);e.on("drain",d);var u=!1;var p=!1;function g(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==x(s.pipes,e))&&!u&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){h("onerror",t),y(),e.removeListener("error",m),0===o(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",b),y()}function b(){h("onfinish"),e.removeListener("close",f),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",f),e.once("finish",b),e.emit("pipe",n),s.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var i=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<s;a++)i[a].emit("unpipe",this,n);return this}var o=x(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},y.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var s=this._readableState;s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.emittedReadable=!1,s.reading?s.length&&O(this):i.nextTick(_,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(w,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var s in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(s){(h("wrapped data"),n.decoder&&(s=n.decoder.write(s)),!n.objectMode||null!==s&&void 0!==s)&&((n.objectMode||s&&s.length)&&(t.push(s)||(i=!0,e.pause())))}),e)void 0===this[s]&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var a=0;a<f.length;a++)e.on(f[a],this.emit.bind(this,f[a]));return this._read=function(t){h("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=R}).call(t,n(93))},function(e,t,n){e.exports=n(130).EventEmitter},function(e,t,n){"use strict";var i=n(120);function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(s,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i.nextTick(s,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var i=n(235).Buffer,s=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=r,t=4;break;case"base64":this.text=d,this.end=u,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function r(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function d(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var s=o(t[i]);if(s>=0)return s>0&&(e.lastNeed=s-1),s;if(--i<n||-2===s)return 0;if((s=o(t[i]))>=0)return s>0&&(e.lastNeed=s-2),s;if(--i<n||-2===s)return 0;if((s=o(t[i]))>=0)return s>0&&(2===s?s=0:e.lastNeed=s-3),s;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=a;var i=n(68),s=Object.create(n(90));function a(e){if(!(this instanceof a))return new a(e);i.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){r(e,t,n)}):r(this,null,null)}function r(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}s.inherits=n(80),s.inherits(a,i),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var s=this._readableState;(i.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";var i=n(15),s=n(54),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,s,o,r,l,c,d=[],u=0,h=e.length,p=h,g="string"!==i.getTypeOf(e);u<e.length;)p=h-u,g?(t=e[u++],n=u<h?e[u++]:0,s=u<h?e[u++]:0):(t=e.charCodeAt(u++),n=u<h?e.charCodeAt(u++):0,s=u<h?e.charCodeAt(u++):0),o=t>>2,r=(3&t)<<4|n>>4,l=p>1?(15&n)<<2|s>>6:64,c=p>2?63&s:64,d.push(a.charAt(o)+a.charAt(r)+a.charAt(l)+a.charAt(c));return d.join("")},t.decode=function(e){var t,n,i,o,r,l,c=0,d=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&h--,e.charAt(e.length-2)===a.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=s.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=a.indexOf(e.charAt(c++))<<2|(o=a.indexOf(e.charAt(c++)))>>4,n=(15&o)<<4|(r=a.indexOf(e.charAt(c++)))>>2,i=(3&r)<<6|(l=a.indexOf(e.charAt(c++))),u[d++]=t,64!==r&&(u[d++]=n),64!==l&&(u[d++]=i);return u}},function(e,t){var n=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(244);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,s){return e.call(t,n,i,s)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(134),s=n(122).document,a=i(s)&&i(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},function(e,t,n){"use strict";(function(t){var i=n(15),s=n(257),a=n(32),o=n(166),r=n(54),l=n(91),c=null;if(r.nodestream)try{c=n(258)}catch(e){}function d(e,n){return new l.Promise(function(s,a){var r=[],l=e._internalType,c=e._outputType,d=e._mimeType;e.on("data",function(e,t){r.push(e),n&&n(t)}).on("error",function(e){r=[],a(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return i.transformTo(e,t)}}(c,function(e,n){var i,s=0,a=null,o=0;for(i=0;i<n.length;i++)o+=n[i].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(a=new Uint8Array(o),i=0;i<n.length;i++)a.set(n[i],s),s+=n[i].length;return a;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,r),d);s(e)}catch(e){a(e)}r=[]}).resume()})}function u(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,i.checkSupport(o),this._worker=e.pipe(new s(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=u}).call(t,n(79).Buffer)},function(e,t,n){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,n){"use strict";var i=n(15),s=n(32);function a(e){s.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}i.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=a},function(e,t,n){"use strict";var i=n(15),s=n(32);function a(e){s.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(a,s),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}s.prototype.processChunk.call(this,e)},e.exports=a},function(e,t,n){"use strict";var i=n(32),s=n(137);function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(15).inherits(a,i),a.prototype.processChunk=function(e){this.streamInfo.crc32=s(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=a},function(e,t,n){"use strict";var i=n(32);t.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=n(261)},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var s=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(s=s+t[i++]|0)|0}while(--o);s%=65521,a%=65521}return s|a<<16|0}},function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,s){var a=i,o=s+n;e^=-1;for(var r=s;r<o;r++)e=e>>>8^a[255&(e^t[r])];return-1^e}},function(e,t,n){"use strict";var i=n(55),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new i.Buf8(256),r=0;r<256;r++)o[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,t.string2buf=function(e){var t,n,s,a,o,r=e.length,l=0;for(a=0;a<r;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<r&&56320==(64512&(s=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(s-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),o=0,a=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<r&&56320==(64512&(s=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(s-56320),a++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,s=t.length;n<s;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,i,s,a,r=t||e.length,c=new Array(2*r);for(i=0,n=0;n<r;)if((s=e[n++])<128)c[i++]=s;else if((a=o[s])>4)c[i++]=65533,n+=a-1;else{for(s&=2===a?31:3===a?15:7;a>1&&n<r;)s=s<<6|63&e[n++],a--;a>1?c[i++]=65533:s<65536?c[i++]=s:(s-=65536,c[i++]=55296|s>>10&1023,c[i++]=56320|1023&s)}return l(c,i)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+o[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,n){"use strict";var i=n(15),s=n(54),a=n(184),o=n(275),r=n(276),l=n(186);e.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||s.uint8array?"nodebuffer"===t?new r(e):s.uint8array?new l(i.transformTo("uint8array",e)):new a(i.transformTo("array",e)):new o(e)}},function(e,t,n){"use strict";var i=n(185);function s(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(15).inherits(s,i),s.prototype.byteAt=function(e){return this.data[this.zero+e]},s.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),s=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===i&&this.data[a+3]===s)return a-this.zero;return-1},s.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),s=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&i===a[2]&&s===a[3]},s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=s},function(e,t,n){"use strict";var i=n(15);function s(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=s},function(e,t,n){"use strict";var i=n(184);function s(e){i.call(this,e)}n(15).inherits(s,i),s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=s},function(e,t){const n=document.querySelectorAll("input[type='text'], input[type='email'], input[type='password'], textarea"),i=document.querySelectorAll(".showPasswordCheckbox");Array.from(n).forEach(e=>{const t=e.closest(".inputArea");t&&(e.addEventListener("focus",()=>{t.classList.add("focus")}),e.addEventListener("blur",()=>{t.classList.remove("focus")}),t.classList.toggle("typed",!!e.value.length),e.value&&t.classList.toggle("invalid",!e.validity.valid),e.addEventListener("input",()=>{t.classList.toggle("typed",!!e.value.length)}))}),Array.from(i).forEach(e=>{e.addEventListener("change",()=>{e.parentElement.parentElement.querySelector("input").type=e.checked?"text":"password"})})},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return b}),n.d(t,"c",function(){return y}),n.d(t,"f",function(){return S});var i,s=n(36),a=n.n(s),o=n(61),r=n(13),l=n(8),c=n(6),d=n(5),u=n(203);function h(){return i?Promise.resolve(i):r.getPlans().then(e=>i=Object.freeze(e))}function p(e){return h().then(t=>t.find(t=>t.id===e))}window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}}),function(){var e=window,t=e.Intercom;function n(){var e=i.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/"+d.q;var t=i.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}if("function"==typeof t)t("reattach_activator"),t("update",intercomSettings);else{var i=document,s=function(){s.c(arguments)};s.q=[],s.c=function(e){s.q.push(e)},e.Intercom=s,e.attachEvent?e.attachEvent("onload",n):e.addEventListener("load",n,!1)}}(),a.a.get("userToken")&&Intercom("boot",{app_id:d.q,user_id:Zeplin.user._id,user_hash:Zeplin.user.intercomHash,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan});const g=document.querySelector("#billingTab");function m(e,t){if(o.a("payment"),g){e.preventDefault();const n=`Billing - ${"organization"===t?"Organization ":""}Profile - Zeplin`;history.replaceState({},n,e.target.href),document.querySelector("title").textContent=n,document.querySelector("header.tabs").dataset.selection="billing",g.checked=!0}}function f(e){let t,n;e.oid?"queen"!==e.currentRole&&"king"!==e.currentRole||(t=`Payment failed: Please <a href="${Object(l.j)("organization-profile-billing",{url:{oid:e.oid}})}">update</a> organization payment information to keep ${e.isGeneric?"projects":"this project"} active.`,n={a(e){m(e,"organization")}}):"owner"===e.currentRole?(t=`Payment failed: Please <a href="${Object(l.j)("profile-billing")}">update</a> your payment information to keep ${e.isGeneric?"your projects":"this project"} active.`,n={a(e){m(e,"user")}}):t=`Payment failed: Please contact the owner (<a href="mailto:${e.ownerEmail}" target="_blank">${e.ownerEmail}</a>) of this project and ask them to update their payment information, to keep this project active.`,t&&o.b({contentType:"html",group:"payment",content:t,bodyCallbacks:n})}function b(e){const{oid:t,currentRole:n,subscriptionCancelAt:i}=e,s=Object(u.a)("h",new Date,i);if(s>168)return;let a,r=Math.floor(s/24);r>0&&s%24>=3&&r++;let d=`Since your subscription is cancelled, your projects and styleguides will be archived automatically in ${r<1?"less than a day":`${Object(c.g)(r,"day")}`}.`;!t||"queen"!==n&&"king"!==n?"owner"===n&&(d+=` <a href="${Object(l.j)("profile-billing")}">Resubscribe</a>`,a={a(e){m(e,"user")}}):(d+=` <a href="${Object(l.j)("organization-profile-billing",{url:{oid:e.oid}})}">Resubscribe</a>`,a={a(e){m(e,"organization")}}),o.b({contentType:"html",group:"cancelledSubscription",content:d,bodyCallbacks:a})}function y(){o.a("cancelledSubscription")}function S(e){return r.updateUserEmotar(e)}},function(e,t,n){"use strict";var i=n(0);t.a=class{constructor(e,t){this.domNode=null,this.domContainer=t,this.preactComponent=e,this.props={}}isRendered(){return null!==this.domNode}render(e){this.props=e||{},this.renderComponent()}update(e){Object.assign(this.props,e),this.renderComponent()}renderComponent(){i.render(i.h(this.preactComponent,Object.assign({ref:e=>{this.domNode=e}},this.props)),this.domContainer)}remove(){i.render(null,this.domContainer),this.domNode=null,this.props=null}}},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={SET_OVERRIDING_CATEGORY:"supportButton/setOverridingCategory"}},function(e,t,n){"use strict";t.a={DEFAULT:"default",PROFILE:"profile",PRICING:"pricing",PROJECTS:"projects",STYLEGUIDES:"styleguides",STYLEGUIDE:"styleguide",PROJECT_DASHBOARD:"project-dashboard",PROJECT_STYLEGUIDE:"project-styleguide",PROJECT_SCREEN:"project-screen",ORGANIZATION_PROJECTS:"organization-projects",ORGANIZATION_PROFILE:"organization-profile",ORGANIZATION_DASHBOARD:"organization-dashboard"}},function(e,t,n){"use strict";t.a=((e,t)=>{for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1})},function(e,t,n){"use strict";n.d(t,"j",function(){return p}),n.d(t,"h",function(){return g}),n.d(t,"d",function(){return m}),n.d(t,"f",function(){return f}),n.d(t,"i",function(){return b}),n.d(t,"e",function(){return y}),n.d(t,"g",function(){return S}),n.d(t,"a",function(){return v}),n.d(t,"b",function(){return C}),n.d(t,"c",function(){return E});var i,s,a,o=n(0),r=[],l=o.options.__r,c=o.options.diffed,d=o.options.__c,u=o.options.unmount;function h(e){o.options.__h&&o.options.__h(s);var t=s.__H||(s.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function p(e){return g(_,e)}function g(e,t,n){var a=h(i++);return a.__c||(a.__c=s,a.__=[n?n(t):_(void 0,t),function(t){var n=e(a.__[0],t);a.__[0]!==n&&(a.__[0]=n,a.__c.setState({}))}]),a.__}function m(e,t){var n=h(i++);D(n.__H,t)&&(n.__=e,n.__H=t,s.__H.__h.push(n))}function f(e,t){var n=h(i++);D(n.__H,t)&&(n.__=e,n.__H=t,s.__h.push(n))}function b(e){return S(function(){return{current:e}},[])}function y(e,t,n){f(function(){"function"==typeof e?e(t()):e&&(e.current=t())},null==n?n:n.concat(e))}function S(e,t){var n=h(i++);return D(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function v(e,t){return S(function(){return e},t)}function C(e){var t=s.context[e.__c];if(!t)return e.__;var n=h(i++);return null==n.__&&(n.__=!0,t.sub(s)),t.props.value}function E(e,t){o.options.useDebugValue&&o.options.useDebugValue(t?t(e):e)}function O(){r.some(function(e){if(e.__P)try{e.__H.__h.forEach(T),e.__H.__h.forEach(k),e.__H.__h=[]}catch(t){return o.options.__e(t,e.__v),!0}}),r=[]}function T(e){e.t&&e.t()}function k(e){var t=e.__();"function"==typeof t&&(e.t=t)}function D(e,t){return!e||t.some(function(t,n){return t!==e[n]})}function _(e,t){return"function"==typeof t?t(e):t}o.options.__r=function(e){l&&l(e),i=0,(s=e.__c).__H&&(s.__H.__h.forEach(T),s.__H.__h.forEach(k),s.__H.__h=[])},o.options.diffed=function(e){c&&c(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(1!==r.push(t)&&a===o.options.requestAnimationFrame||((a=o.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(O))}},o.options.__c=function(e,t){t.some(function(e){try{e.__h.forEach(T),e.__h=e.__h.filter(function(e){return!e.__||k(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],o.options.__e(n,e.__v)}}),d&&d(e,t)},o.options.unmount=function(e){u&&u(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach(function(e){return e.t&&e.t()})}catch(e){o.options.__e(e,t.__v)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return T}),n.d(t,"c",function(){return D}),n.d(t,"e",function(){return _}),n.d(t,"f",function(){return E}),n.d(t,"d",function(){return j});var i=n(224),s=n.n(i),a=n(1),o=n(150),r=n(26),l=n(24),c=n(33),d=n(5),u=n(27),h=n(148);const p=Object.freeze({jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"});function g(e,t){const n=Object(o.c)(e,t);if(["svg","pdf"].includes(e.format))return n;const{density:i,densityScale:s=Object(a.o)(i)}=e;return n+(s===c.a.BASE?"":`@${s}x`)}function m(e,t,n){const{localName:i,layerName:s,displayName:a,contents:r}=e;return r.filter(e=>e.format===t&&Object(o.g)(n,e)).map(e=>Object.assign({localName:i,layerName:s,displayName:a},e))}function f(e,t){return"svg"===e.format&&t&&Object.assign(e,e.optimized),fetch(e.url).then(e=>e.arrayBuffer()).then(t=>Object.assign({data:t},e))}function b({projectId:e,platform:t,formatGroups:n,namingConvention:i,toastContainer:s}){Object.keys(n).forEach((a,o)=>{setTimeout(o=>{h.b({projectId:e,projectType:t,format:a,assets:n[a],namingConvention:i,toastContainer:s})},o>0?300:0)})}function y(e){const{projectId:t,platform:n}=e;"android"===n?l.b.get(t,"androidResFolderReminderSeen").then(n=>{if(n)return void b(e);l.b.set(t,"androidResFolderReminderSeen",!0);const i=document.getElementById("androidResFolderReminderDoneButton");i&&i.addEventListener("click",function(t){t.stopPropagation(),b(e)});const s=document.getElementById("androidResFolderReminderDialog");s&&s.showModal()}):b(e)}function S(e,t=(e=>e.displayName)){const n={},i=new s.a;return e.forEach(e=>{let s=e;const a=t(s)+s.format;a in n||(n[a]=0);const o=++n[a];o>1&&((s=Object.assign({},e)).displayName+="_"+o,s.layerName+="_"+o),i.file(t(s)+"."+s.format,s.data)}),i}function v(e,t,n=!1){const i=n?`assets_${e}`:Object(o.c)(t[0],"snakeCase");return S(t,e=>{const t=Object(o.c)(e,"snakeCase"),{density:n,densityScale:i=Object(a.o)(n)}=e,s=Object(a.p)("android",i);return"svg"===e.format?t:`drawable-${s}/${t}`}).generateAsync({type:"blob"}).then(function(e){return{data:URL.createObjectURL(e),name:`${i}_${(new Date).toISOString().substr(0,10)}.zip`}})}function C(e,t,n,i=!1){let s;if(1===t.length){const e=t[0],i=new Blob([e.data],{type:p[e.format]});return s=`${g(e,n)}.${e.format}`,Promise.resolve({data:URL.createObjectURL(i),name:s})}const a=(new Date).toISOString().substr(0,10),r=S(t,e=>g(e,n));return s=`${i?`assets_${e}`:Object(o.c)(t[0],n)}_${a}.zip`,r.generateAsync({type:"blob"}).then(e=>({data:URL.createObjectURL(e),name:s}))}function E(e){const t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.style.display="none",document.body.appendChild(t),t.addEventListener("click",n=>{n.stopPropagation(),setTimeout(URL.revokeObjectURL,1500,e.data),t.remove()}),t.click()}function O(e,t,n,i){return Object.assign({},e,{contents:e.contents.filter(e=>Object(o.g)(t,e)).map(e=>{const s="svg"===e.format&&"svg"===n&&i&&e.optimized?e.optimized.url:e.url,{densityScale:o,density:r=Object(a.p)(t,o)}=e;return Object.assign({},e,{url:s,density:r})})})}function T({barrelId:e,platform:t,containerName:n,version:i,assetId:s,format:a,assetDensityScalePrefs:o,assetNamingConvention:l,showOptimizedSVG:c,toastContainer:d}){if(!Object(r.b)())return;const h=k(i.snapshot.assets,o);if(u.a.isWindowsApp){let n;if(0===(n="all"===s?h:[h.find(e=>e._id===s)]).length)return;y({projectId:e,platform:t,formatGroups:{[a]:function(e,t,n,i){return e.map(e=>O(e,t,n,i))}(n,t,a,c)},namingConvention:l,toastContainer:d})}else(function(e,t,n,i,s){let a;if("all"===n)a=[].concat.apply([],e.map(e=>m(e,i,t)));else{const s=e.find(e=>e._id===n);if(!s)return Promise.reject(`Asset with id ${n} not found.`);a=m(s,i,t)}return Promise.all(a.map(e=>f(e,s)))})(h,t,s,a,c).then(e=>{return("android"===t&&"svg"!==a?v:C)(n,e,l,"all"===s)}).then(E)}function k(e,t){return e.map(e=>Object.assign({},e,{contents:e.contents.filter(e=>{const{format:n,density:i,densityScale:s=Object(a.o)(i)}=e;return Object(o.f)(t,n,s)})}))}function D({barrelId:e,platform:t,containerName:n,version:i,assetList:s,assetDensityScalePrefs:a,assetNamingConvention:o,showOptimizedSVG:l,toastContainer:c}){if(!Object(r.b)())return;const d=k(i.snapshot.assets,a);if(u.a.isWindowsApp){const n={};return s.forEach(({assetId:e,format:i})=>{const s=d.find(t=>t._id===e);if(!s)return;let a;i in n?a=n[i]:(a=[],n[i]=a),a.push(O(s,t,i,l))}),void y({projectId:e,platform:t,formatGroups:n,namingConvention:o,toastContainer:c})}(function(e,t,n,i){const s=t.map(({assetId:t,format:s})=>{const a=e.find(e=>e._id===t);return a?m(a,s,i).map(e=>f(e,n)):null}).filter(Boolean);return s.length?Promise.all(s.reduce((e,t)=>e.concat(t))):Promise.reject("Selected assets not found.")})(d,s,l,t).then(e=>{return("android"===t?v:C)(n,e,!0)}).then(E)}function _({resourceType:e,barrelName:t,exportObjects:n}){if(Array.isArray(n)){const i=new s.a;n.forEach(e=>{i.file(e.filename,e.code)}),i.generateAsync({type:"blob"}).then(n=>{E({data:URL.createObjectURL(n),name:`${e}s_${t}.zip`})})}else E({data:URL.createObjectURL(new Blob([n.code],{type:p[n.language]})),name:n.filename})}async function w(e){const{name:t,versions:[{snapshot:{url:n}}]}=e,i=await fetch(n),s=await i.arrayBuffer();return{name:`${t}.png`,blob:new Blob([s],{type:p.png})}}async function j(e,t){if(!Object(r.b)()){if(1!==e.length)return;let{versions:[{snapshot:{url:t}}]}=screen;if(!t.includes("raven-warehouse")){const{pathname:e}=new URL(t);t=d.c+e}return void Object(r.l)(t)}if(1===e.length){const{name:t,blob:n}=await w(e[0]);return void E({data:URL.createObjectURL(n),name:t})}const n=new s.a,i={};(await Promise.all(e.map(w))).forEach(({name:e,blob:t})=>{let s;i[e]>0?s=e.replace(/(.*)\.(.*$)/,`$1 (${i[e]++}).$2`):(i[e]=1,s=e),n.file(s,t)});const a=await n.generateAsync({type:"blob"});E({data:URL.createObjectURL(a),name:t})}},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(20),o=n(126),r=n(12),l=n(376),c=n(464),d=n(56);const u=100,h=260,p=new Date(0),g=280;t.a=new class extends s.a{constructor(){super(o.a)}getInitialState(){return{loadingSnapshot:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,notesVisible:!0,noteMode:!1,tagManagerScreenId:null,layoutGridEnabled:!1,zoomLevel:1,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,screenSidebarWidth:h,selectedSidebarTab:l.a[0].id,shortlinks:{},sourceFiles:{},loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:Object(d.l)(),hasNewVersions:!1,showVersionsTutorial:!1,showVersionsAuntie:!1,versionsLastSeen:p,versionsSidebarWidth:g}}reset(){return this.getInitialState()}load(e={}){return Object.assign({},this.getInitialState(),e)}openScreen(e,t){let{shouldResetDashboardFilters:n,barrelId:i,dotId:s,commentId:a}=t,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["shouldResetDashboardFilters","barrelId","dotId","commentId"]);return Object.assign({},e,o,{selectedLayer:null,destinationLayer:null,noteMode:!1})}closeScreen(e){return Object.assign({},e,{loadingSnapshot:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,noteMode:!1,tagManagerScreenId:null,layoutGridEnabled:!1,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,selectedSidebarTab:l.a[0].id,loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:!1,hasNewVersions:!1,showVersionsAuntie:!1,versionsLastSeen:p})}changeZoomLevel(e,t,n=!1){const i=Math.max(c.c,Math.min(t,c.b));return Object.assign({},e,{zoomLevel:i,animateZooming:n})}zoomIn(e){const t=c.d.find(t=>t>e.zoomLevel)||c.b;return this.changeZoomLevel(e,t,!0)}zoomOut(e){const t=[...c.d].reverse().find(t=>t<e.zoomLevel)||c.c;return this.changeZoomLevel(e,t,!0)}resetZoom(e){return this.changeZoomLevel(e,c.a,!0)}zoomApplied(e){return e.animateZooming?Object.assign({},e,{animateZooming:!1}):e}startGesture(e){return Object.assign({},e,{zoomLevelAtGestureStart:e.zoomLevel})}zoomWithGesture(e,t){return this.changeZoomLevel(e,e.zoomLevelAtGestureStart*t)}zoomWithWheel(e,t){return this.changeZoomLevel(e,e.zoomLevel-t/u)}openTagManager(e,t){return Object.assign({},e,{tagManagerScreenId:t})}closeTagManager(e){return Object.assign({},e,{tagManagerScreenId:null})}toggleLayoutGrid(e){return Object.assign({},e,{layoutGridEnabled:!e.layoutGridEnabled})}enableNoteMode(e){return Object.assign({},e,{notesVisible:!0,noteMode:!0})}disableNoteMode(e){return Object.assign({},e,{noteMode:!1})}showNotes(e){return Object.assign({},e,{notesVisible:!0,noteMode:!1})}hideNotes(e){return Object.assign({},e,{notesVisible:!1,noteMode:!1})}selectLayer(e,t){return Object.assign({},e,{selectedLayer:t,destinationLayer:t})}deselectLayer(e){return Object.assign({},e,{selectedLayer:null,destinationLayer:null})}enterLayer(e,t){return e.selectedLayer?Object.assign({},e,{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?Object.assign({},e,{destinationLayer:null}):e}enablePercentageMode(e){return Object.assign({},e,{percentageMode:!0})}disablePercentageMode(e){return Object.assign({},e,{percentageMode:!1})}showFlowLinks(e){return Object.assign({},e,{flowLinksVisible:!0})}hideFlowLinks(e){return Object.assign({},e,{flowLinksVisible:!1})}changeSidebarTab(e,t){return Object.assign({},e,{selectedSidebarTab:t})}changeScreenSidebarWidth(e,t){return Object.assign({},e,{screenSidebarWidth:t})}setShortlink(e,t,n){return Object.assign({},e,{shortlinks:Object.assign({},e.shortlinks,{[t]:n})})}setSnapshot(e,{sid:t}){return t!==e.screenId?e:Object.assign({},e,{loadingSnapshot:!1})}setVersionId(e,{versionId:t,latestVersionSelected:n}){return Object.assign({},e,{versionId:t,latestVersionSelected:n,selectedLayer:null,destinationLayer:null})}setVersions(e,{sid:t,versionId:n}){return t!==e.screenId?e:Object.assign({},e,{versionId:n,loadingVersions:!1})}addVersion(e,{sid:t,versionId:n,latestVersionSelected:i,hasNewVersions:s}){return t!==e.screenId?e:Object.assign({},e,{versionId:n,latestVersionSelected:i,hasNewVersions:s})}showVersions(e,{loadingVersions:t}){return Object.assign({},e,{loadingVersions:t,versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})}hideVersions(e){return Object.assign({},e,{versionsVisible:!1,versionsCompactMode:!1})}toggleVersions(e,t){return e.versionsVisible?this.hideVersions(e):this.showVersions(e,t)}enableVersionsCompactMode(e){return Object.assign({},e,{versionsCompactMode:!0})}disableVersionsCompactMode(e){return Object.assign({},e,{versionsCompactMode:!1})}showVersionsAuntie(e){return Object.assign({},e,{showVersionsTutorial:!1,showVersionsAuntie:!0})}hideVersionsAuntie(e){return Object.assign({},e,{showVersionsAuntie:!1})}newVersionsFound(e){return Object.assign({},e,{hasNewVersions:!0})}changeVersionsSidebarWidth(e,t){return Object.assign({},e,{versionsSidebarWidth:t})}removeVersion(e,{sid:t,versionId:n,removingCurrentVersion:i}){return t===e.screenId&&i?Object.assign({},e,{versionId:n}):e}setSourceFile(e,{versionId:t,sourceFile:n}){return Object.assign({},e,{sourceFiles:Object.assign({},e.sourceFiles,{[t]:n})})}updateForRemoveScreen(e,{removingCurrentScreen:t}){return t?this.closeScreen():e}reduce(e,t){switch(t.type){case r.a.RESET:return this.reset();case r.a.LOAD:return this.load(t.screen);case r.a.CHANGE_SELECTED_VIEW:return"screen"===t.selectedView?e:this.closeScreen(e);case a.a.OPEN_SCREEN:return this.openScreen(e,t);case a.a.CHANGE_ZOOM_LEVEL:return this.changeZoomLevel(e,t.zoomLevel,t.animateZooming);case a.a.ZOOM_IN:return this.zoomIn(e);case a.a.ZOOM_OUT:return this.zoomOut(e);case a.a.RESET_ZOOM:return this.resetZoom(e);case a.a.START_GESTURE:return this.startGesture(e);case a.a.ZOOM_WITH_GESTURE:return this.zoomWithGesture(e,t.scale);case a.a.ZOOM_WITH_WHEEL:return this.zoomWithWheel(e,t.deltaY);case a.a.ZOOM_APPLIED:return this.zoomApplied(e);case a.a.OPEN_TAG_MANAGER:return this.openTagManager(e,t.sid);case a.a.CLOSE_TAG_MANAGER:return this.closeTagManager(e);case a.a.TOGGLE_LAYOUT_GRID:return this.toggleLayoutGrid(e);case a.a.ENABLE_NOTE_MODE:return this.enableNoteMode(e);case a.a.DISABLE_NOTE_MODE:return this.disableNoteMode(e);case a.a.SHOW_NOTES:case a.a.SELECT_DOT:case a.a.CREATE_NOTE:return this.showNotes(e);case a.a.HIDE_NOTES:return this.hideNotes(e);case a.a.SELECT_LAYER:return this.selectLayer(e,t.layer);case a.a.DESELECT_LAYER:return this.deselectLayer(e);case a.a.ENTER_LAYER:return this.enterLayer(e,t.layer,t.percentageMode);case a.a.LEAVE_LAYER:return this.leaveLayer(e);case a.a.ENABLE_PERCENTAGE_MODE:return this.enablePercentageMode(e);case a.a.DISABLE_PERCENTAGE_MODE:return this.disablePercentageMode(e);case a.a.SHOW_FLOW_LINKS:return this.showFlowLinks(e);case a.a.HIDE_FLOW_LINKS:return this.hideFlowLinks(e);case a.a.CHANGE_SIDEBAR_TAB:return this.changeSidebarTab(e,t.selectedSidebarTab);case a.a.CHANGE_SCREEN_SIDEBAR_WIDTH:return this.changeScreenSidebarWidth(e,t.screenSidebarWidth);case a.a.SET_SHORTLINK:return this.setShortlink(e,t.longURL,t.shortURL);case a.a.SET_SNAPSHOT:return this.setSnapshot(e,t);case a.a.SET_VERSION_ID:return this.setVersionId(e,t);case a.a.SET_VERSIONS:return this.setVersions(e,t);case a.a.ADD_VERSION:return this.addVersion(e,t);case a.a.SHOW_VERSIONS:return this.showVersions(e,t);case a.a.HIDE_VERSIONS:return this.hideVersions(e);case a.a.TOGGLE_VERSIONS:return this.toggleVersions(e,t);case a.a.SHOW_VERSIONS_AUNTIE:return this.showVersionsAuntie(e);case a.a.ENABLE_VERSIONS_COMPACT_MODE:return this.enableVersionsCompactMode(e);case a.a.DISABLE_VERSIONS_COMPACT_MODE:return this.disableVersionsCompactMode(e);case a.a.HIDE_VERSIONS_AUNTIE:return this.hideVersionsAuntie(e);case a.a.NEW_VERSIONS_FOUND:return this.newVersionsFound(e);case a.a.CHANGE_VERSIONS_SIDEBAR_WIDTH:return this.changeVersionsSidebarWidth(e,t.versionsSidebarWidth);case a.a.REMOVE_VERSION:return this.removeVersion(e,t);case a.a.SET_SOURCE_FILE:return this.setSourceFile(e,t);case a.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);default:return e}}}},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(198);n.n(r);function l(e){const{children:t,baseRef:n,class:s,style:a,type:r,disabled:l,inverted:c,ninja:d,primary:u,secondary:h,warning:p,onClick:g,onMouseEnter:m,onMouseLeave:f,"data-testid":b}=e,y=Object(o.a)("button",s,{inverted:!!c,ninja:!!d,primary:!!u,secondary:!!h,warning:!!p});return i.h("button",{style:a,ref:n,type:r,disabled:l,onClick:g,onMouseEnter:m,onMouseLeave:f,class:y},t)}l.propTypes={class:a.a.string,style:a.a.object,disabled:a.a.bool,children:a.a.node,onClick:a.a.func,primary:a.a.bool,secondary:a.a.bool},l.defaultProps={type:"button"},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(482);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(88),s=n(30),a=n(67),o=n(20),r=n(126),l=n(145),c=n(196),d=n(211),u=n(70),h=n(6),p=n(24);function g(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function m(e={}){if(!e.pid){const{barrelId:t}=s.a.getState();e.pid=t}if(!e.sid){const{screenId:t}=c.a.getState();e.sid=t}if(!e.vid){const{versionId:t}=c.a.getState();e.vid=t}if(!e.did){const{dotId:t}=d.a.getState();e.did=t}return e}const f={async openScreen(e,t,n,i){const a=l.a.getScreen({sid:e}),{barrelId:c}=s.a.getState(),d=await p.b.get(c,e,"versionsLastSeen"),u={type:o.a.OPEN_SCREEN,barrelId:c,screenId:e,dotId:n,commentId:i,versionsLastSeen:d};if(a){const{versions:[n={}]}=a;let i,s;t?(i=l.a.getVersion({sid:e,vid:t}),s=t,Object.assign(u,{versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})):s=(i=n)._id;const o=n._id===s,r=l.a.getVisibleScreens();if(!r)return;const c=!r.some(t=>t._id===e);Object.assign(u,{versionId:s,latestVersionSelected:o,loadingSnapshot:!(i&&"layers"in i.snapshot),loadingVersions:!a.totalVersionCount,shouldResetDashboardFilters:c})}r.a.dispatch(u)},selectLayer(e){r.a.dispatch({type:o.a.SELECT_LAYER,layer:e})},deselectLayer(){r.a.dispatch({type:o.a.DESELECT_LAYER})},enterLayer(e,t){r.a.dispatch({type:o.a.ENTER_LAYER,layer:e,percentageMode:t})},leaveLayer(){r.a.dispatch({type:o.a.LEAVE_LAYER})},enablePercentageMode(){r.a.dispatch({type:o.a.ENABLE_PERCENTAGE_MODE})},disablePercentageMode(){r.a.dispatch({type:o.a.DISABLE_PERCENTAGE_MODE})},copyCode({code:e,toastContainer:t,platform:n,extensionFunction:i,extensionId:s}){r.a.dispatch({type:o.a.COPY_CODE,code:e,toastContainer:t,platform:n,extensionFunction:i,extensionId:s})},addScreen(e){const{pid:t,seid:n,index:i,screen:s,syncWithApi:a=!1}=m(e);r.a.dispatch({type:o.a.ADD_SCREEN,pid:t,seid:n,index:i,screen:s,syncWithApi:a})},updateDescription(e){const{pid:t,sid:n,description:i,syncWithApi:s=!1}=m(e);let a;s&&({description:a}=l.a.getScreen({sid:n})),r.a.dispatch({type:o.a.UPDATE_DESCRIPTION,pid:t,sid:n,description:i,oldDescription:a,syncWithApi:s})},updateName(e){const{pid:t,sid:n,name:i,onError:s,syncWithApi:a=!1}=m(e);let c;a&&({name:c}=l.a.getScreen({sid:n})),r.a.dispatch({type:o.a.UPDATE_NAME,pid:t,sid:n,name:i,oldName:c,onError:s,syncWithApi:a})},removeScreen(e){const{pid:t,uid:n,sid:s,syncWithApi:a=!1}=m(e),{screenId:d}=c.a.getState(),u=s===d;let h,p,g,f;if((a||u)&&(h=l.a.getScreen({bid:t,sid:s})),a){const e=l.a.getSectionOfScreen({bid:t,sid:s});p=e._id,g=e.screens.indexOf(s)}if(n){f=i.a.getBarrel({bid:t}).findUser(n)}r.a.dispatch({type:o.a.REMOVE_SCREEN,pid:t,seid:p,index:g,sid:s,removedScreen:h,removingCurrentScreen:u,user:f,syncWithApi:a})},openTagManager(e){r.a.dispatch({type:o.a.OPEN_TAG_MANAGER,sid:e})},closeTagManager(){r.a.dispatch({type:o.a.CLOSE_TAG_MANAGER})},updateTags(e){const{pid:t,updates:n,syncWithApi:i=!1}=m(e);r.a.dispatch({type:o.a.UPDATE_TAGS,pid:t,updates:n,syncWithApi:i})},removeTag(e){const{pid:t,tag:n,syncWithApi:s=!1}=m(e),{screens:a}=i.a.getBarrel({bid:t}),o=a.filter(({tags:e})=>e&&e.includes(n)).map(({_id:e})=>({_id:e,operation:"remove",tags:[n]}));this.updateTags({pid:t,updates:o,syncWithApi:s})},openSourceFile(e){r.a.dispatch({type:o.a.OPEN_SOURCE_FILE,path:e})},openSourceFolder(e){r.a.dispatch({type:o.a.OPEN_SOURCE_FOLDER,path:e})},setDots(e){const{pid:t,sid:n,dots:i}=m(e);i.forEach(e=>{e.status=e.status||"open"});let{statusFilter:s,colorFilter:a,dotId:l,highlightedDots:c}=d.a.getState();if(l){const e=i.find(e=>e._id===l);e?[s,a]=[e.status,null]:l=null}else if(c.length>1){const e=i.some(e=>"open"===e.status&&c.includes(e._id));e&&"open"!==s?[s,a]=["open",null]:e||"resolved"===s||([s,a]=["resolved",null])}r.a.dispatch({type:o.a.SET_DOTS,pid:t,sid:n,dots:i,dotId:l,colorFilter:a,statusFilter:s})},selectDot(e,t){const{dotId:n}=d.a.getState();n!==e&&r.a.dispatch({type:o.a.SELECT_DOT,dotId:e,commentId:t})},highlightDots(e){r.a.dispatch({type:o.a.HIGHLIGHT_DOTS,dids:e})},unhighlightDot({did:e}){r.a.dispatch({type:o.a.UNHIGHLIGHT_DOT,did:e})},closeDotPopup(){r.a.dispatch({type:o.a.CLOSE_DOT_POPUP})},changeDotFilter(e,t){const n=i.a.findUser();let{dotId:s}=d.a.getState();if(s){const i=l.a.getDot({did:s});Object(u.a)(i,e,t,n.user)||(s=null)}r.a.dispatch({type:o.a.CHANGE_DOT_FILTER,dotId:s,status:e,color:t})},dotsFlashed(){r.a.dispatch({type:o.a.DOTS_FLASHED})},openPopout(e){const{pid:t,sid:n,vid:i}=m(e),{name:s}=l.a.getScreen({bid:t,sid:n}),{snapshot:{width:a,height:c,url:d}}=l.a.getVersion({bid:t,sid:n,vid:i});r.a.dispatch({type:o.a.OPEN_POPOUT,pid:t,name:s,width:a,height:c,url:d})},changeZoomLevel(e,t){r.a.dispatch({type:o.a.CHANGE_ZOOM_LEVEL,zoomLevel:e,animateZooming:t})},zoomIn(){r.a.dispatch({type:o.a.ZOOM_IN})},zoomOut(){r.a.dispatch({type:o.a.ZOOM_OUT})},resetZoom(){r.a.dispatch({type:o.a.RESET_ZOOM})},zoomApplied(){r.a.dispatch({type:o.a.ZOOM_APPLIED})},startGesture(){r.a.dispatch({type:o.a.START_GESTURE})},zoomWithGesture(e){r.a.dispatch({type:o.a.ZOOM_WITH_GESTURE,scale:e})},zoomWithWheel(e){r.a.dispatch({type:o.a.ZOOM_WITH_WHEEL,deltaY:e})},toggleLayoutGrid(){r.a.dispatch({type:o.a.TOGGLE_LAYOUT_GRID})},enableNoteMode({flash:e=!0}={}){r.a.dispatch({type:o.a.ENABLE_NOTE_MODE,flash:e})},disableNoteMode(){r.a.dispatch({type:o.a.DISABLE_NOTE_MODE})},createNote(e){const{pid:t,sid:n,x:i,y:s}=m(e),{dots:a}=l.a.getScreen(),{lastNoteColorUsed:c}=d.a.getState(),p={_id:`newDot${Object(h.e)()}`,name:a&&a.length?String(parseInt(a[a.length-1].name,10)+1):"1",x:i,y:s,color:Object(u.d)(c),comments:[]};r.a.dispatch({type:o.a.CREATE_NOTE,pid:t,sid:n,dot:p})},addDot(e){const{pid:t,sid:n,uid:i,dot:s,syncWithApi:l=!1}=m(e);let c,d;i&&({userId:c,username:d}=a.a.getState()),r.a.dispatch({type:o.a.ADD_DOT,pid:t,sid:n,uid:i,userId:c,username:d,dot:s,syncWithApi:l})},updateDot(e){const{pid:t,sid:n,did:i,dotData:s,syncWithApi:a=!1}=m(e);let c;if(a){let e;var d=l.a.getDot({pid:t,sid:n,did:i})||{};({_id:e}=d),c=g(d,["_id"])}r.a.dispatch({type:o.a.UPDATE_DOT,pid:t,sid:n,did:i,dotData:s,oldDotData:c,syncWithApi:a})},updateDotColor(e){const{pid:t,sid:n,did:i,color:s,syncWithApi:a=!1}=m(e);let c;if(a){var d=(l.a.getDot({pid:t,sid:n,did:i})||{}).color;({}=d),c=g(d,[])}r.a.dispatch({type:o.a.UPDATE_DOT_COLOR,pid:t,sid:n,did:i,color:s,oldColor:c,syncWithApi:a})},updateDotPosition(e){const{pid:t,sid:n,did:i,x:s,y:a,syncWithApi:c=!1}=m(e);let d,u;c&&({x:d,y:u}=l.a.getDot({pid:t,sid:n,did:i})||{}),r.a.dispatch({type:o.a.UPDATE_DOT_POSITION,pid:t,sid:n,did:i,x:s,y:a,oldX:d,oldY:u,syncWithApi:c})},updateDotStatus(e){const{pid:t,sid:n,did:i,status:s,syncWithApi:a=!1}=m(e);let c;a&&({status:c}=l.a.getDot({pid:t,sid:n,did:i})||{}),r.a.dispatch({type:o.a.UPDATE_DOT_STATUS,pid:t,sid:n,did:i,status:s,oldStatus:c,syncWithApi:a})},removeDot(e){const{pid:t,sid:n,did:i,syncWithApi:s=!1}=m(e);let a;s&&(a=l.a.getDot({pid:t,sid:n,did:i})),r.a.dispatch({type:o.a.REMOVE_DOT,pid:t,sid:n,did:i,removedDot:a,syncWithApi:s})},createComment(e){const{pid:t,sid:n,did:s,note:a,hasReaction:l,syncWithApi:c=!1}=m(e),d=`newComment${Object(h.e)()}`,{user:{_id:u,email:p,username:g,emotar:f,avatar:b}}=i.a.findUser(),y=Date.now(),S={_id:d,author:{_id:u,email:p,username:g,emotar:f,avatar:b},note:a,created:y,updated:y};r.a.dispatch({type:o.a.CREATE_COMMENT,pid:t,sid:n,did:s,comment:S,hasReaction:l,syncWithApi:c})},addComment(e){const{pid:t,sid:n,uid:i,did:s,comment:l}=m(e);let c,d;i&&({userId:c,username:d}=a.a.getState()),r.a.dispatch({type:o.a.ADD_COMMENT,pid:t,sid:n,uid:i,userId:c,username:d,did:s,comment:l})},updateComment(e){const{pid:t,sid:n,uid:s,did:c,cmid:d,commentData:u,syncWithApi:h=!1}=m(e);let p,f,b,y;if(h){let e;var S=l.a.getComment({pid:t,sid:n,did:c,cmid:d})||{};({_id:e}=S),p=g(S,["_id"])}s&&(({userId:f,username:b}=a.a.getState()),({user:y}=i.a.findUser({bid:t,uid:s})||{})),r.a.dispatch({type:o.a.UPDATE_COMMENT,pid:t,sid:n,uid:s,author:y,userId:f,username:b,did:c,cmid:d,commentData:u,oldCommentData:p,syncWithApi:h})},removeComment(e){const{pid:t,sid:n,did:i,cmid:s,syncWithApi:a=!1}=m(e);let c;a&&(c=l.a.getComment({pid:t,sid:n,did:i,cmid:s})),r.a.dispatch({type:o.a.REMOVE_COMMENT,pid:t,sid:n,did:i,cmid:s,removedComment:c,syncWithApi:a})},openDotMenu(){r.a.dispatch({type:o.a.OPEN_DOT_MENU})},showNotes(){r.a.dispatch({type:o.a.SHOW_NOTES})},hideNotes(){r.a.dispatch({type:o.a.HIDE_NOTES})},showFlowLinks(){r.a.dispatch({type:o.a.SHOW_FLOW_LINKS})},hideFlowLinks(){r.a.dispatch({type:o.a.HIDE_FLOW_LINKS})},changeSidebarTab(e){r.a.dispatch({type:o.a.CHANGE_SIDEBAR_TAB,selectedSidebarTab:e})},changeScreenSidebarWidth(e){r.a.dispatch({type:o.a.CHANGE_SCREEN_SIDEBAR_WIDTH,screenSidebarWidth:e})},setShortlink(e,t){r.a.dispatch({type:o.a.SET_SHORTLINK,longURL:e,shortURL:t})},getVersions(){const{screenId:e}=c.a.getState();r.a.dispatch({type:o.a.GET_VERSIONS,screenId:e})},setVersions(e){const{pid:t,sid:n,versions:i,totalVersionCount:s,allowedVersionCount:a}=m(e);i.forEach(e=>{e.commit=e.commit||{message:"",color:Object(u.d)("yellow"),author:e.creator}});let{versionId:l}=c.a.getState();i.some(({_id:e})=>e===l)||(l=i[0]._id),r.a.dispatch({type:o.a.SET_VERSIONS,pid:t,sid:n,versions:i,totalVersionCount:s,allowedVersionCount:a,versionId:l})},setVersionId(e){const{barrelId:t}=s.a.getState(),{screenId:n}=c.a.getState(),{versions:[{_id:i}]=[{}]}=l.a.getScreen()||{};let a=e;a||(a=i);const d=a===i;r.a.dispatch({type:o.a.SET_VERSION_ID,barrelId:t,screenId:n,versionId:a,latestVersionSelected:d})},setSnapshot(e){const{pid:t,sid:n,vid:i,snapshot:s}=m(e);r.a.dispatch({type:o.a.SET_SNAPSHOT,pid:t,sid:n,vid:i,snapshot:s})},showVersions(){const{totalVersionCount:e}=l.a.getScreen(),t=!e;r.a.dispatch({type:o.a.SHOW_VERSIONS,loadingVersions:t})},hideVersions(){r.a.dispatch({type:o.a.HIDE_VERSIONS})},toggleVersions(){const{totalVersionCount:e}=l.a.getScreen(),t=!e;r.a.dispatch({type:o.a.TOGGLE_VERSIONS,loadingVersions:t})},enableVersionsCompactMode(){r.a.dispatch({type:o.a.ENABLE_VERSIONS_COMPACT_MODE})},disableVersionsCompactMode(){r.a.dispatch({type:o.a.DISABLE_VERSIONS_COMPACT_MODE})},showVersionsAuntie(){r.a.dispatch({type:o.a.SHOW_VERSIONS_AUNTIE})},hideVersionsAuntie(){r.a.dispatch({type:o.a.HIDE_VERSIONS_AUNTIE})},newVersionsFound(){r.a.dispatch({type:o.a.NEW_VERSIONS_FOUND})},changeVersionsSidebarWidth(e){r.a.dispatch({type:o.a.CHANGE_VERSIONS_SIDEBAR_WIDTH,versionsSidebarWidth:e})},addVersion(e){const{pid:t,sid:n,version:s,syncWithApi:a=!1}=m(e);if(s.commit=s.commit||{message:"",color:Object(u.d)("yellow"),author:s.creator},!i.a.getBarrel({bid:t}).complete)return;let d;const{versions:h,allowedVersionCount:p}=l.a.getScreen({bid:t,sid:n});h.length>p&&(d=h[h.length-1]);let{versionId:g,latestVersionSelected:f,versionsLastSeen:b,versionsVisible:y}=c.a.getState();(f||d&&d._id===g)&&(f=!0,g=s._id);const S=Boolean(h.filter(({created:e})=>new Date(e)>b).length)&&!y;r.a.dispatch({type:o.a.ADD_VERSION,pid:t,sid:n,version:s,poppedVersion:d,syncWithApi:a,versionId:g,latestVersionSelected:f,hasNewVersions:S})},updateCommitColor(e){const{pid:t,sid:n,vid:i,color:s,syncWithApi:a=!1}=m(e);let c;if(a){var d=l.a.getVersion({sid:n,vid:i}).commit.color;({}=d),c=g(d,[])}r.a.dispatch({type:o.a.UPDATE_COMMIT_COLOR,pid:t,sid:n,vid:i,color:s,oldColor:c,syncWithApi:a})},updateCommitMessage(e){const{pid:t,sid:n,vid:i,message:s,syncWithApi:a=!1}=m(e);let c;if(a){c=l.a.getVersion({sid:n,vid:i}).commit.message}r.a.dispatch({type:o.a.UPDATE_COMMIT_MESSAGE,pid:t,sid:n,vid:i,message:s,oldMessage:c,syncWithApi:a})},removeVersion(e){const{pid:t,sid:n,vid:i,syncWithApi:s=!1}=m(e);let a;s&&(a=l.a.getVersion({sid:n,vid:i}));let{versionId:d}=c.a.getState();const u=i===d;u&&({versions:[{_id:d}]}=l.a.getScreen({sid:n})),r.a.dispatch({type:o.a.REMOVE_VERSION,pid:t,sid:n,vid:i,removedVersion:a,removingCurrentVersion:u,syncWithApi:s,versionId:d})},setSourceFile({versionId:e,sourceFile:t}){r.a.dispatch({type:o.a.SET_SOURCE_FILE,versionId:e,sourceFile:t})}};t.a=f},function(e,t,n){"use strict";t.a={UPDATE_STATE:"styleguide/updateState",CHANGE_LEFT_SIDEBAR_WIDTH:"styleguide/changeLeftSidebarWidth",CHANGE_RIGHT_SIDEBAR_WIDTH:"styleguide/changeRightSidebarWidth",CHANGE_SORT_TYPE:"styleguide/changeSortType",CHANGE_FILTER_VALUE:"styleguide/changeFilterValue",CHANGE_SELECTED_NAVIGATOR_ID:"styleguide/changeSelectedNavigatorId",HIGHLIGHT_COLORS:"styleguide/highlightColors",UNHIGHLIGHT_COLOR:"styleguide/unhighlightColor",HIGHLIGHT_TEXT_STYLES:"styleguide/highlightTextStyles",UNHIGHLIGHT_TEXT_STYLE:"styleguide/unhighlightTextStyle",HIGHLIGHT_SPACING_TOKENS:"styleguide/highlightSpacingTokens",UNHIGHLIGHT_SPACING_TOKEN:"styleguide/unhighlightSpacingToken",SECTION_SCROLLED:"styleguide/sectionScrolled",CHANGE_SELECTION:"styleguide/changeSelection",COMPONENT_SNAPSHOTS_READY:"styleguide/componetSnapshotsReady",HIDE_SUGGESTED_COLORS:"styleguide/hideSuggestedColors",HIDE_SUGGESTED_TEXT_STYLES:"stylegudie/hideSuggestedTextStyles",OPEN_MOVE_RESOURCES_POPUP:"styleguide/openMoveResourcesPopup",CLOSE_MOVE_RESOURCES_POPUP:"styleguide/closeMoveResourcesPopup",SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/selectMoveResourcesTargetStyleguide",DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/deselectMoveResourcesTargetStyleguide"}},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(632),r=n(670);function l(e){const{iconType:t,subIconType:n}=e;return i.h(o.a,{subIconType:n},i.h(r.a,{type:t}))}l.propTypes={iconType:a.a.string.isRequired,subIconType:a.a.string},t.a=l},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return r});var i=n(1);function s(e){return e instanceof Date?e:new Date(e)}function a(e){const t=s(e),n=new Date;if(n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()){if(n.getDate()===t.getDate())return"today";if(n.getDate()-t.getDate()==1)return"yesterday"}return Object(i.n)(t,{year:"numeric",month:"long",day:"numeric"})}function o(e,t){const n=s(e),i=s(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()}function r(e,t,n){const i={w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3};if(!e||!i[e.toLowerCase()])throw new TypeError(`Unknown datePart type: '${e}'. datePart should be one of (w, d, h, m, s)`);return Math.floor((s(n)-s(t))/i[e.toLowerCase()])}},function(e,t,n){"use strict";var i=n(630);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(416);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(366),s=(n(191),n(190),n(367));n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(517),s=(n(201),n(212),n(466));n(520);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(636);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(142),r=n(1),l=n(14),c=n(3),d=n(127),u=n.n(d),h=n(210),p=n(364);n.n(p);class g extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.stopPropagation()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),u.a.registerDialog(this.nodeRefs.dialog),this.nodeRefs.dialog.showModal()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:s,negativeButtonType:a,fallbackButtonType:d,positiveButtonDisabled:u,negativeButtonDisabled:p,fallbackButtonDisabled:g,onPositiveButtonClick:m,onNegativeButtonClick:f,onFallbackButtonClick:b,hideNegativeButton:y,onClose:S,width:v,footer:C,loading:E,loadingText:O,class:T}=this.props;return i.h(o.a,null,i.h("dialog",{onClick:r.J,onClose:S,style:{width:v},class:Object(c.a)(T,"dialog",{loading:E}),ref:Object(l.a)(this,"dialog")},i.h("div",{class:"body"},this.props.children),i.h(h.a,{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:s,negativeButtonType:a,fallbackButtonType:d,positiveButtonDisabled:u,negativeButtonDisabled:p,fallbackButtonDisabled:g,onPositiveButtonClick:m,onNegativeButtonClick:f,onFallbackButtonClick:b,hideNegativeButton:y,footer:C,loading:E,loadingText:O})))}}g.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},g.propTypes={positiveButtonText:a.a.string.isRequired,negativeButtonText:a.a.string,fallbackButtonText:a.a.string,positiveButtonType:a.a.string.isRequired,negativeButtonType:a.a.string.isRequired,fallbackButtonType:a.a.string.isRequired,positiveButtonDisabled:a.a.bool,negativeButtonDisabled:a.a.bool,onPositiveButtonClick:a.a.func,onNegativeButtonClick:a.a.func,onFallbackButtonClick:a.a.func,hideNegativeButton:a.a.bool,width:a.a.oneOfType([a.a.number,a.a.string]),onClose:a.a.func,children:a.a.node,footer:a.a.node,loading:a.a.bool,loadingText:a.a.string},t.a=g},function(e,t,n){"use strict";var i=n(362);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(126),o=n(20),r=n(31);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{loadingDots:!0,statusFilter:"open",colorFilter:null,lastNoteColorUsed:"yellow",flash:!1,dotId:null,highlightedDots:[],highlightedComments:[]}}reset(){return this.getInitialState()}load(e={}){return Object.assign({},this.getInitialState(),e)}setDots(e,t,n,i){return Object.assign({},e,{loadingDots:!1,dotId:t,statusFilter:n,colorFilter:i})}createNote(e,t){return Object.assign({},e,{dotId:t,statusFilter:"open",colorFilter:null})}updateDot(e,t,n){return e.dotId!==t&&t===n?e:Object.assign({},e,{dotId:n})}updateDotStatus(e,t,n){return e.dotId!==t||e.statusFilter===n?e:Object.assign({},e,{dotId:null})}removeDot(e,t){return e.dotId!==t?e:Object.assign({},e,{dotId:null})}changeDotFilter(e,t,n,i){return Object.assign({},e,{colorFilter:n,statusFilter:t,dotId:i})}flash(e,t){return Object.assign({},e,{flash:t})}dotsFlashed(e){return Object.assign({},e,{flash:!1})}selectDot(e,t,n){return e.dotId===t?e:Object.assign({},e,{dotId:t,highlightedComments:n,highlightedDots:e.highlightedDots.filter(e=>e!==t)})}deselectDot(e){return Object.assign({},e,{dotId:null})}highlightDots(e,t){return Object.assign({},e,{highlightedDots:[].concat(t).filter(Boolean)})}unhighlightDot(e,t){return Object.assign({},e,{highlightedDots:e.highlightedDots.filter(e=>e!==t)})}reduce(e,t){switch(t.type){case r.a.CHANGE_SELECTED_VIEW:case r.a.RESET:return this.reset();case r.a.LOAD:return this.load(t.dots);case o.a.SET_DOTS:return this.setDots(e,t.dotId,t.statusFilter,t.colorFilter);case o.a.CREATE_NOTE:return this.createNote(e,t.dot._id);case o.a.UPDATE_DOT:return this.updateDot(e,t.did,t.dotData._id);case o.a.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t.did,t.status);case o.a.REMOVE_DOT:return this.removeDot(e,t.did);case o.a.CHANGE_DOT_FILTER:return this.changeDotFilter(e,t.status,t.color,t.dotId);case o.a.ENABLE_NOTE_MODE:return this.flash(e,t.flash);case o.a.DOTS_FLASHED:return this.dotsFlashed(e);case o.a.OPEN_SCREEN:case o.a.SELECT_DOT:return this.selectDot(e,t.dotId,t.commentId);case o.a.SELECT_LAYER:case o.a.CLOSE_DOT_POPUP:case o.a.OPEN_DOT_MENU:case o.a.DESELECT_LAYER:return this.deselectDot(e);case o.a.HIGHLIGHT_DOTS:return this.highlightDots(e,t.dids);case o.a.UNHIGHLIGHT_DOT:return this.unhighlightDot(e,t.did);default:return e}}}},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a={INIT:"slackPreferences/init",LOAD:"slackPreferences/load",OPEN:"slackPreferences/open",CLOSE:"slackPreferences/close",UPDATE_EVENT_GROUP:"slackPreferences/updateEventGroup",EVENT_GROUP_UPDATED:"slackPreferences/eventGroupUpdated",EVENT_GROUP_UPDATE_FAILED:"slackPreferences/eventGroupUpdateFailed",EVENT_UPDATED:"slackPreferences/eventUpdated"}},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},,function(e,t,n){"use strict";n.d(t,"a",function(){return G});var i=n(36),s=n.n(i),a=n(188),o=n(147),r=n(25),l=n(17),c=n(13),d=n(8),u=n(1),h=n(21),p=n(5),g=n(189),m=n(390),f=n(294),b=n(206),y=n(192),S=n(27);const v=new g.a(m.a,document.body),C=new g.a(f.a,document.body),E=document.getElementById("planChooserOverlay"),O=document.getElementById("planChooserContent"),T=document.getElementById("discountNotice"),k=document.getElementById("couponForm"),D=document.getElementById("couponCode"),_=document.getElementById("plans"),w=document.getElementById("applyCouponButton"),j=document.getElementById("friendlyReminderDialog"),R=document.getElementById("cancelFriendlyReminderButton"),I=document.getElementById("continueToPaymentButton");let A,x,P,L,N,U,M,B,z,F;r.b.registerDialog(j);const W={},H=Object.freeze({monthly:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_monthly_v2",growing:"growing_monthly_v2",organization:"organization_monthly_v2"},annual:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_annual_v2",growing:"growing_annual_v2",organization:"organization_annual_v3"}}),V=Object.freeze(["starter_monthly_v2","starter_annual_v2","growing_monthly_v2","growing_annual_v2","organization_monthly_v2","organization_annual_v3"]);function G(e=null){S.a.isWindowsApp?location.replace(Object(d.j)("profile-billing",{query:{period:"annual"}})):(E.classList.remove("hidden"),b.a.setOverridingCategory(y.a.PRICING),F=e,mixpanel.webapp.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup"))}function $(){E.classList.add("hidden"),b.a.setOverridingCategory(null),F&&(F(),F=null)}const q=document.getElementById("updatePlanButton");function Z(e){a.b().then(t=>{const n=t.find(t=>t.id===e);A=e,(L=n.price)?([x,P="monthly"]=e.split("_"),N=x,U=P):(N=x=e,U=P="annual",q&&("banker_bilo"===e?q.querySelector("button").textContent="💰".repeat(3):"bff"===e&&(q.querySelector("button").textContent="💝"))),O.dataset.currentPlanId=e,"period"in W?(K(W.period),document.getElementById(`${W.period}Payment`).checked=!0,delete W.period,G()):(K(P),document.getElementById(`${P}Payment`).checked=!0),"coupon"in W&&(D.value=W.coupon,D.parentElement.classList.toggle("typed",!!D.value),X(W.coupon),delete W.coupon,G())}).catch(l.b)}function Y(e,t,n,i){const s=t.price/("monthly"===n?1:12),a=e.querySelector(".planPrice"),o=e.querySelector(".planProjectCount");let r=s*("organization"===e.dataset.planId?t.quantity:1);e.classList.toggle("annual","annual"===n),function(e,t){if(!t||"annual"===e)return!1;if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return!1;if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return!1;return!0}(U,i)&&(r-=i.percent_off?r*i.percent_off/100:i.amount_off,r=Math.max(r,0)),a.dataset.value=r;const l=(r/=100)%1;a.textContent=Math.trunc(r),a.dataset.fr=l>0?l.toFixed(2).substring(1,4):"",o.textContent=function(e){switch(e.projectLimit){case 1:return"1 active project";case 999:case-1:return e.multi?`Unlimited projects\nincludes ${e.quantity} members`:"Unlimited projects";default:return`${e.projectLimit} Active Projects`}}(t),"organization"===e.dataset.planId&&(e.querySelector(".perMember").textContent=`$${s/100}/mo per additional member`)}function K(e="monthly",t){const n=document.querySelector(".plan.growing"),i=document.querySelector(".plan.organization");let s=document.querySelector(".plan.current");U=e,k.classList.toggle("invisible","annual"===e),T.textContent=J(U,B),a.b().then(a=>{if(Array.from(document.querySelectorAll(".plan")).forEach(n=>{const i=a.find(t=>H[e][n.dataset.planId]===t.id);Y(n,i,e,t)}),s&&(s.classList.remove("current"),s.querySelector("button").disabled=!1),n.classList.toggle("recommended","growing"!==x||"monthly"===P&&"annual"===e),i.querySelector(".createLink").href=Object(d.j)("organization-create",{query:{period:e}}),"will_cancel_at_period_end"!==Zeplin.user.subscriptionStatus&&L&&e===P&&"company"!==x&&V.includes(A)){(s=document.querySelector(`.plan.${x}`)).classList.add("current"),s.querySelector("button").disabled=!0;const t=a.find(e=>A===e.id);Y(s,t,e)}}).catch(l.b)}function J(e,t){if(!t||"annual"===e)return"";if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return"This coupon is expired.";if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return"This coupon is maxed out.";return`${t.percent_off?`${t.percent_off}% off`:`${Object(u.l)(t.amount_off/100)} off`} ${function(e,t){switch(t.duration){case"once":return`for the first ${"monthly"===e?"month":"year"}`;case"repeating":return`for ${t.duration_in_months} months`;case"forever":return"forever";default:return""}}(e,t)}.`}function X(e,t="auto"){(function(e){return e?c.getCoupon(encodeURIComponent(e)):Promise.resolve(null)})(e).then(e=>{B=e,w.disabled=!0;const n=e.metadata&&e.metadata.source;mixpanel.webapp.track("Applied coupon",{type:t,source:n}),ga("legacyTracker.send","event","PAYMENT_EVENTS","applied-coupon","type:"+t+(n?";source:"+n:""))}).catch(e=>{B=null,w.disabled=!1,l.b(e)}).then(()=>{T.textContent=J(U,B),K(U,B)})}function Q(){const e=z&&z._id;(function(e){return e?c.getOrganizationUpcomingInvoice(e):c.getUserUpcomingInvoice()})(e).then(({invoice:t})=>{$();const n=Object(u.n)(1e3*t.period_end,{year:"numeric",month:"long",day:"numeric"});v.render({oid:e,organizationPlan:z&&z.paymentPlan,periodEndDate:n,onClose(){v.remove()},onBackClick(){E.classList.remove("hidden"),v.remove()}})}).catch(e=>{l.b(e)})}function ee(e){e.preventDefault(),Q()}Array.from(O.querySelectorAll("[name='paymentPeriod']")).forEach(e=>{e.addEventListener("change",e=>{K(e.target.value,B)})}),D.parentElement.classList.toggle("typed",!!D.value),D.addEventListener("keyup",()=>{D.parentElement.classList.toggle("typed",!!D.value),D.value||(B=null,K(U))}),D.addEventListener("blur",()=>{D.parentElement.classList.toggle("typed",!!D.value),D.value||(B=null,K(U))}),D.addEventListener("input",()=>{w.disabled=B&&B.id===D.value}),k.addEventListener("submit",e=>{e.preventDefault(),X(D.value,"manual")});const te=StripeCheckout.configure({name:"Zeplin, Inc.",key:p.D,image:Object(h.f)("img/favicon/128x128.png"),zipCode:!0,allowRememberMe:!1,token(e){C.render(),function(e,t,n,i){C.render();const s={plan:H[n][t],stripeToken:e};"monthly"===n&&i&&(s.coupon=i.id),c.subscribeUser(s).then(()=>{ga("legacyTracker.send","event","PAYMENT_EVENTS","subscribed","to:"+H[n][t]),mixpanel.webapp.track("Subscribed",{to:H[n][t]}),Zeplin.updateUser({paymentPlan:H[n][t]}),location.replace(Object(d.j)("thanks",{query:{at:"ns"}}))}).catch(e=>{C.remove(),l.b(e)})}(e.id,N,U,B)}});function ne(e,t){te.open({email:Zeplin.user.email,description:e,panelLabel:t,amount:M}),mixpanel.webapp.track("Opened Stripe popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-stripe-popup"),ga("send","pageview","/stripe-popup")}R.addEventListener("click",()=>{j.close()}),I.addEventListener("click",()=>{ne(j.dataset.planName,"Subscribe")}),_.addEventListener("click",e=>{if(e.target.classList.contains("choosePlan")){const t=e.target.closest(".plan");if(N=t.dataset.planId,L)"organization"===N?$():z?function(e,t,n,i){r.a({title:"Downgrade subscription?",message:"You can upgrade again at anytime.",done:{name:"UPDATE",cb(){C.render();const s={plan:H[n][t]};"monthly"===n&&i&&(s.coupon=i.id),c.downgradeOrganizationSubscription(e,s).then(()=>{Zeplin.updateUser({paymentPlan:H[n][t]}),location.replace(Object(d.j)("projects"))}).catch(e=>{C.remove(),l.b(e)})}},cancel:{name:"CANCEL"}})}(z._id,N,U,B):function(e,t,n){r.a({title:"Update subscription?",message:"You can update it again, anytime!",done:{name:"UPDATE",cb(){C.render();const i={plan:H[t][e]};"monthly"===t&&n&&(i.coupon=n.id),c.changeUserSubscription(i).then(()=>{mixpanel.webapp.track("Changed plan",{from:Zeplin.user.paymentPlan,to:H[t][e]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","changed-plan","from:"+Zeplin.user.paymentPlan+";to:"+H[t][e]),Zeplin.updateUser({paymentPlan:H[t][e]}),location.replace(Object(d.j)("thanks",{query:{at:"us"}}))}).catch(e=>{C.remove(),l.b(e)})}},cancel:{name:"CANCEL"}}),mixpanel.webapp.track("Opened change plan dialog",{currentPlan:Zeplin.user.paymentPlan}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-change-plan-dialog","currentPlan:"+Zeplin.user.paymentPlan)}(N,U,B);else if((M=parseInt(t.querySelector(".planPrice").dataset.value,10))||"forever"===B.duration){let e;"monthly"===U?e="Pay {{amount}}/mo":(e="Pay {{amount}}/year",M*=12),ne(t.querySelector(".planName").textContent,e)}else!function(e,t,n){let i;switch(n.duration){case"once":i="30 days";break;case"repeating":i=`${n.duration_in_months} months`}Array.from(j.querySelectorAll(".friendlyReminderDuration")).forEach(e=>{e.textContent=i}),j.dataset.planName=e.querySelector(".planName").textContent,a.b().then(n=>{const i=n.find(n=>H[t][e.dataset.planId]===n.id);j.querySelector(".friendlyReminderPrice").textContent=i.price/100,j.showModal(),mixpanel.webapp.track("Opened trial credit card explanation popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-trial-credit-card-explanation-popup")})}(t,U,B)}else e.target.classList.contains("cancelPlan")&&ee(e)}),Array.from(O.querySelectorAll(".warning .cancelPlanLink")).forEach(e=>{e.addEventListener("click",ee)}),O.addEventListener("click",e=>{e.stopPropagation()}),E.addEventListener("click",()=>{$()}),E.addEventListener("keydown",e=>{e.stopPropagation()}),document.addEventListener("keydown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&$()}),location.search&&location.search.substr(1).split("&").forEach(e=>{const[t,n]=e.split("=");W[decodeURIComponent(t)]=decodeURIComponent(n)});const[,ie]=location.pathname.match(/\/organization\/([\da-f]{24})\/profile/i)||[];s.a.get("userToken")&&(ie?c.getOrganization(ie).then(e=>{z=e,"organization_free"!==e.paymentPlan&&Z(e.paymentPlan),function(e){const t=o.a.subscribe(p.v+e);t.bind("CreateOrganizationSubscription",({body:{plan:e}})=>{z.paymentPlan=e,Z(e),K(P),document.getElementById(`${P}Payment`).checked=!0}),t.bind("UpdateOrganizationSubscription",({body:{plan:e,subscriptionStatus:t}})=>{z.paymentPlan=e,"will_cancel_at_period_end"===z.subscriptionStatus&&a.c(),z.subscriptionStatus=t,Z(e),K(P),document.getElementById(`${P}Payment`).checked=!0})}(e._id)}).catch(l.b):(Z(Zeplin.user.paymentPlan),o.b.bind("CreateUserSubscription",({body:{plan:e}})=>{Z(e),K(P),document.getElementById(`${P}Payment`).checked=!0,Zeplin.updateUser({paymentPlan:e})}),o.b.bind("UpdateUserSubscription",({body:{plan:e,subscriptionStatus:t}})=>{Z(e),K(P),document.getElementById(`${P}Payment`).checked=!0,Zeplin.updateUser({paymentPlan:e,subscriptionStatus:t}),a.c()}),o.b.bind("CancelUserSubscription",({body:{plan:e,subscriptionStatus:t,subscriptionCancelAt:n}})=>{Z(e),K(P),document.getElementById(`${P}Payment`).checked=!0,Zeplin.updateUser({paymentPlan:e,subscriptionStatus:t,subscriptionCancelAt:n}),a.d({currentRole:"owner",subscriptionCancelAt:n})})))},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(47),o=n(22);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{projectPreviewVisible:!1,projectToPreview:null}}openProjectPreview(e,{pid:t}){return Object.assign({},e,{projectPreviewVisible:!0,projectToPreview:t})}closeProjectPreview(e){return Object.assign({},e,{projectPreviewVisible:!1,projectToPreview:null})}reduce(e,t){switch(t.type){case o.a.OPEN_PROJECT_PREVIEW:return this.openProjectPreview(e,t);case o.a.CLOSE_PROJECT_PREVIEW:return this.closeProjectPreview(e);default:return e}}}},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(48),o=n(23);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{styleguidePreviewVisible:!1,styleguideToPreview:null}}openStyleguidePreview(e,{stid:t}){return Object.assign({},e,{styleguidePreviewVisible:!0,styleguideToPreview:t})}closeStyleguidePreview(e){return Object.assign({},e,{styleguidePreviewVisible:!1,styleguideToPreview:null})}reduce(e,t){switch(t.type){case o.a.OPEN_STYLEGUIDE_PREVIEW:return this.openStyleguidePreview(e,t);case o.a.CLOSE_STYLEGUIDE_PREVIEW:return this.closeStyleguidePreview(e);default:return e}}}},function(e,t,n){"use strict";n(220)},function(e,t,n){"use strict";var i=n(24),s=n(59),a=n(72);const o={setUserAttribute({name:e,value:t}){switch(e){case"verified":Zeplin.updateUser({status:"verified"});break;case"isEmailNotificationEnabled":Zeplin.updateUser({emailNotifications:t});break;case"isDesktopNotificationEnabled":i.d.set("notificationStatus",t);break;default:Zeplin.updateUser({[e]:t})}},markZeplinThreeZeroWhatsNewAsSeen(){i.d.set("zeplinThreeZeroWhatsNewSeen",!0)},stopPromotingSpacingSectionDescriptionEditButton(){i.d.set("shouldPromoteSpacingSectionDescriptionEditButton",!1)},hideStyleguideTutorial(){i.d.set("shouldDisplayStyleguideTutorial",!1)}};s.a.register(e=>{switch(e.type){case a.a.SET_USER_ATTRIBUTE:o.setUserAttribute(e);break;case a.a.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:o.markZeplinThreeZeroWhatsNewAsSeen();break;case a.a.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:o.stopPromotingSpacingSectionDescriptionEditButton();break;case a.a.HIDE_STYLEGUIDE_TUTORIAL:o.hideStyleguideTutorial()}})},function(e,t,n){"use strict";n(222),n(223),n(278),n(279)},function(e,t,n){"use strict";var i=n(38),s=n(12),a=n(119),o=n(1),r=n(84),l=n(10),c=n(33),d=n(17),u=n(69),h=n(73),p=n(13);const g={project:p.project,styleguide:p.styleguide},m={[c.e.COLORS]:"updateColorsStyleguide",[c.e.TEXT_STYLES]:"updateTextStylesStyleguide",[c.e.COMPONENTS]:"updateComponentSectionsStyleguide"},f={[c.e.COLORS]:"Moved colors to styleguide",[c.e.TEXT_STYLES]:"Moved text styles to styleguide",[c.e.COMPONENTS]:"Moved components to styleguide"},b={handleActivate({bid:e,barrelType:t}){g[t].activate(e).catch(t=>{Object(d.b)(t),a.a.archive({bid:e})})},handleArchive({bid:e,barrelType:t}){g[t].archive(e).catch(t=>{Object(d.b)(t),a.a.activate({bid:e})})},handleRemove({bid:e,oid:t,barrelType:n,oldBarrel:i}){g[n].delete(e).catch(e=>{Object(d.b)(e),a.a.add({barrel:i,oid:t,barrelType:n})})},handleUpdateName({bid:e,barrelType:t,name:n,oldName:i}){g[t].updateName(e,n).catch(t=>{Object(d.b)(t),a.a.updateName({bid:e,name:i})})},handleUpdateDescription({bid:e,barrelType:t,description:n,oldDescription:i}){g[t].updateDescription(e,n).catch(t=>{Object(d.b)(t),a.a.updateDescription({bid:e,description:i})})},handleUpdateDensityScale({bid:e,barrelType:t,densityScale:n,oldDensityScale:i}){g[t].updateDensityScale(e,n).catch(t=>{Object(d.b)(t),a.a.updateDensityScale({bid:e,densityScale:i})})},handleUpdateThumbnail({bid:e,barrelType:t,thumbnail:n,oldThumbnail:i}){g[t].updateThumbnail(e,n).catch(t=>{Object(d.b)(t),a.a.updateThumbnail({bid:e,thumbnail:i})})},handleRemoveIntegration({bid:e,barrelType:t,intype:n,inid:i,removedIntegration:s}){g[t].deleteIntegration(e,n,i).catch(t=>{Object(d.b)(t),a.a.addIntegration({bid:e,intype:n,integration:s})})},handleToggleScene({bid:e,barrelType:t,accessibility:n,oldAccessibility:i}){g[t].updateAccessibility(e,n).catch(t=>{Object(d.b)(t),a.a.toggleScene({bid:e,accessibility:i})})},handleAddMembers({members:e}){},handleJoin({bid:e,barrelType:t,shouldLoadBarrel:n}){g[t].inviteUser(e).then(i=>{a.a.addMembers({bid:e,barrelType:t,shouldLoadBarrel:n,members:[i]})}).catch(e=>{Object(d.b)(e)}).finally(()=>{a.a.stopLoadingJoin()})},handleUpdateUserRole({bid:e,barrelType:t,uid:n,role:i,oldRole:s}){g[t].updateUserRole(e,n,i).catch(t=>{Object(d.b)(t),a.a.updateUserRole({bid:e,uid:n,role:s})})},handleTransferOwnership({bid:e,barrelType:t,uid:n}){g[t].transferOwnership(e,n).then(()=>{a.a.ownershipTransferred({bid:e,barrelType:t,uid:n})}).catch(d.b)},handleRemoveMember({oid:e,bid:t,barrelType:n,mid:i,shouldRemoveBarrel:s,removedBarrel:o,removedMember:r}){g[n].removeUser(t,i).catch(i=>{Object(d.b)(i),s?a.a.add({oid:e,barrelType:n,barrel:o}):a.a.addMembers({bid:t,barrelType:n,members:[r]})})},handleAddColor({bid:e,barrelType:t,color:n}){const i=n._id,s=Object.assign({},n);delete s._id,delete s.id,g[t].createColor(e,s).then(({_id:t})=>{const n=Object.assign({},s,{_id:t});a.a.updateColor({bid:e,cid:i,colorData:n})}).catch(t=>{Object(d.b)(t),a.a.removeColor({bid:e,cid:i})})},handleAddMultipleColors({bid:e,barrelType:t,colors:n}){const i=[],s=n.map(n=>{const s=Object.assign({},n);return delete s._id,delete s.id,i.push(s),g[t].createColor(e,s)}).map(e=>e.catch(e=>e));Promise.all(s).then(t=>{t.forEach((t,s)=>{const o=i[s],r=n[s]._id;if(t instanceof u.a||t instanceof h.a)return Object(d.b)(t),void a.a.removeColor({bid:e,cid:r});const{_id:l}=t,c=Object.assign({},o,{_id:l});a.a.updateColor({bid:e,cid:r,colorData:c})})})},handleUpdateColor({bid:e,barrelType:t,cid:n,colorData:i,oldColorData:s}){g[t].updateColor(e,n,i).catch(t=>{Object(d.b)(t),a.a.updateColor({bid:e,cid:n,colorData:s})})},handleRemoveColor({bid:e,barrelType:t,cid:n,removedColor:i}){g[t].deleteColor(e,n).catch(t=>{Object(d.b)(t),a.a.addColor({bid:e,color:i})})},handleRemoveAllColors({bid:e,barrelType:t,colorsToRemove:n}){const i=n.map(({id:e})=>e);g[t].deleteAllColors(e,{colors:i}).catch(t=>{Object(d.b)(t),a.a.addMultipleColors({bid:e,colors:n})})},handleAddTextStyle({bid:e,barrelType:t,textStyle:n}){const i=n._id,s=Object.assign({},n);delete s._id,delete s.id,delete s.fontFamily,delete s.fontStretch,delete s.fontStyle,delete s.fontWeight,delete s.weightText,g[t].createTextStyle(e,s).then(({_id:t})=>{a.a.removeTextStyle({bid:e,tsid:i});const n=Object.assign({},s,{_id:t});a.a.addTextStyle({bid:e,textStyle:n})}).catch(t=>{Object(d.b)(t),a.a.removeTextStyle({bid:e,tsid:i})})},handleAddMultipleTextStyles({bid:e,barrelType:t,textStyles:n}){const i=[],s=n.map(n=>{const s=Object.assign({},n);return delete s._id,delete s.id,delete s.fontFamily,delete s.fontStretch,delete s.fontStyle,delete s.fontWeight,delete s.weightText,i.push(s),g[t].createTextStyle(e,s)}).map(e=>e.catch(e=>e));Promise.all(s).then(t=>{t.forEach((t,s)=>{const o=i[s],r=n[s]._id;if(t instanceof u.a||t instanceof h.a)return Object(d.b)(t),void a.a.removeTextStyle({bid:e,tsid:r});const{_id:l}=t,c=Object.assign({},o,{_id:l});a.a.updateTextStyle({bid:e,tsid:r,textStyleData:c})})})},handleUpdateTextStyle({bid:e,barrelType:t,tsid:n,textStyleData:i,oldTextStyleData:s}){g[t].updateTextStyle(e,n,i).catch(t=>{Object(d.b)(t),a.a.updateTextStyle({bid:e,tsid:n,textStyleData:s})})},handleRemoveTextStyle({bid:e,barrelType:t,tsid:n,removedTextStyle:i}){g[t].deleteTextStyle(e,n).catch(t=>{Object(d.b)(t),a.a.addTextStyle({bid:e,textStyle:i})})},handleRemoveAllTextStyles({bid:e,barrelType:t,textStylesToRemove:n}){const i=n.map(({id:e})=>e);g[t].deleteAllTextStyles(e,{textStyles:i}).catch(t=>{Object(d.b)(t),a.a.addMultipleTextStyles({bid:e,textStyles:n})})},handleAddSpacingSection({bid:e,barrelType:t,spacingSection:n}){const i=n._id,s=Object.assign({},n);delete s._id,g[t].createSpacingSection(e,s).then(({_id:t})=>{a.a.updateSpacingSection({bid:e,ssid:i,updatedSpacingSection:Object.assign({},s,{_id:t})})}).catch(t=>{Object(d.b)(t),a.a.removeSpacingSection({bid:e,ssid:i})})},handleUpdateSpacingSection({bid:e,barrelType:t,ssid:n,updatedSpacingSection:i,oldSpacingSection:s}){g[t].updateSpacingSection(e,n,i).catch(t=>{Object(d.b)(t),a.a.updateSpacingSection({bid:e,ssid:n,updatedSpacingSection:s})})},handleRemoveSpacingSection({bid:e,barrelType:t,ssid:n,removedSpacingSection:i}){g[t].deleteSpacingSection(e,n).catch(t=>{Object(d.b)(t),a.a.addSpacingSection({bid:e,spacingSection:i})})},handleAddSpacingToken({bid:e,barrelType:t,ssid:n,spacingToken:i}){const s=i._id,o=Object.assign({},i);delete o._id,g[t].createSpacingToken(e,n,o).then(({_id:t})=>{a.a.updateSpacingToken({bid:e,ssid:n,sptid:s,updatedSpacingToken:Object.assign({},o,{_id:t})})}).catch(t=>{Object(d.b)(t),a.a.removeSpacingToken({bid:e,ssid:n,sptid:s})})},handleUpdateSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,updatedSpacingToken:s,oldSpacingToken:o}){g[t].updateSpacingToken(e,n,i,s).catch(t=>{Object(d.b)(t),a.a.updateSpacingToken({bid:e,ssid:n,sptid:i,updatedSpacingToken:o})})},handleRemoveSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,isBaseToken:s,removedSpacingToken:o}){g[t].deleteSpacingToken(e,n,i).catch(t=>{Object(d.b)(t),a.a.addSpacingToken({bid:e,ssid:n,isBaseToken:s,spacingToken:o})})},handleUpdateRemPreferences({bid:e,barrelType:t,updatedRemPreferences:n,oldRemPreferences:i}){g[t].updateRemPreferences(e,n).catch(t=>{Object(d.b)(t),a.a.updateRemPreferences({bid:e,updatedRemPreferences:i})})},handleUpdateComponent({bid:e,barrelType:t,csids:n,coid:i,componentData:s,oldComponentData:o}){g[t].updateComponent(e,n,i,s).catch(t=>{Object(d.b)(t),a.a.updateComponent({bid:e,csids:n,coid:i,componentData:o})})},handleRemoveComponent({bid:e,barrelType:t,csids:n,coid:i,oldComponent:s}){g[t].deleteComponent(e,n,i).catch(t=>{Object(d.b)(t),a.a.addComponent({bid:e,csids:n,component:s})})},handleUpdateComponentSection({bid:e,barrelType:t,csids:n,componentSectionData:i,oldComponentSectionData:s}){g[t].updateComponentSection(e,n,i).catch(t=>{Object(d.b)(t),a.a.updateComponentSection({bid:e,csids:n,componentSectionData:s})})},handleMergeComponentSection({bid:e,barrelType:t,csids:n,tcsids:i,index:s,flatten:r,oldComponentSection:l}){g[t].mergeComponentSection(e,n,i,r).catch(t=>{Object(d.b)(t),r||l.componentSections.forEach(t=>{a.a.removeComponentSection({bid:e,csids:t.idPath})}),(r?Object(o.d)([l]):l.components).forEach(t=>{a.a.removeComponent({bid:e,csids:i,coid:t._id})}),a.a.addComponentSection({bid:e,csids:n,componentSection:l,index:s})})},handleMoveResourcesRequest(e){const{bid:t,barrelType:n,densityScale:i,resourceType:s,resources:o,targetStyleguideId:r}=e;let u=Promise.resolve();s===c.e.COMPONENTS&&i&&(u=g[l.a.STYLEGUIDE].updateDensityScale(r,i));const h=m[s],p=o.map(e=>e._id);u.then(()=>g[n][h](t,r,p)).then(()=>{mixpanel.master.track(f[s]),a.a.moveResourcesSuccess({resourceType:s,resources:o,bid:t,barrelType:n,targetStyleguideId:r})}).catch(e=>{Object(d.b)(e),a.a.moveResourcesFail()})},updateComponentsOrder({bid:e,barrelType:t,components:n}){const i={components:n.map(e=>({coid:e.coid,csid:e.csid.join("/"),tcsid:e.tcsid.join("/"),to:e.to}))};g[t].updateComponentsOrder(e,i).catch(t=>{Object(d.b)(t);const i=n.map(e=>({coid:e.coid,csid:e.tcsid,tcsid:e.csid,sourceIndex:e.to,to:e.sourceIndex}));a.a.updateComponentsOrder({bid:e,components:i})})},addComponentSection({bid:e,barrelType:t,csids:n,componentSection:i}){const s={index:i.index,name:i.name,components:i.components.map(e=>({coid:e.coid,csid:e.csid.join("/")}))};g[t].addComponentSection(e,n,s).then(({_id:t})=>{a.a.updateComponentSection({bid:e,csids:n.concat(r.a),componentSectionData:{_id:t,csids:n.concat(t),newSection:!1}})}).catch(t=>{Object(d.b)(t);const s=i.components.map(e=>({coid:e.coid,csid:n.concat(r.a),tcsid:e.csid,to:e.index}));a.a.updateComponentsOrder({bid:e,components:s}),a.a.removeComponentSection({bid:e,csids:n.concat(r.a)})})},handleUpdateComponentSectionsOrder({bid:e,barrelType:t,componentSections:n}){const i={componentSections:n.map(e=>({csid:e.csid.join("/"),to:e.to}))};g[t].updateComponentSectionsOrder(e,i).catch(t=>{Object(d.b)(t);const i=n.map(e=>({csid:e.csid,to:e.sourceIndex}));a.a.updateComponentSectionsOrder({bid:e,componentSections:i})})},handleUpdateWorkflowStatus({barrelType:e,bid:t,workflowStatus:{_id:n},oldWorkflowStatusData:i}){g[e].updateWorkflowStatus([t],n).catch(e=>{Object(d.b)(e),a.a.updateWorkflowStatus({bid:t,workflowStatus:i})})},handleDeleteWorkflowStatus({barrelType:e,bid:t,oldWorkflowStatusData:n}){g[e].deleteWorkflowStatus([t]).catch(e=>{Object(d.b)(e),a.a.updateWorkflowStatus({bid:t,workflowStatus:n})})}};i.a.register(e=>{if(e.syncWithApi)switch(e.type){case s.a.ACTIVATE:b.handleActivate(e);break;case s.a.ARCHIVE:b.handleArchive(e);break;case s.a.REMOVE:b.handleRemove(e);break;case s.a.UPDATE_NAME:b.handleUpdateName(e);break;case s.a.UPDATE_DESCRIPTION:b.handleUpdateDescription(e);break;case s.a.UPDATE_DENSITY_SCALE:b.handleUpdateDensityScale(e);break;case s.a.UPDATE_THUMBNAIL:b.handleUpdateThumbnail(e);break;case s.a.REMOVE_INTEGRATION:b.handleRemoveIntegration(e);break;case s.a.TOGGLE_SCENE:b.handleToggleScene(e);break;case s.a.ADD_MEMBERS:b.handleAddMembers(e);break;case s.a.UPDATE_USER_ROLE:b.handleUpdateUserRole(e);break;case s.a.TRANSFER_OWNERSHIP:b.handleTransferOwnership(e);break;case s.a.REMOVE_MEMBER:b.handleRemoveMember(e);break;case s.a.ADD_COLOR:b.handleAddColor(e);break;case s.a.ADD_MULTIPLE_COLORS:b.handleAddMultipleColors(e);break;case s.a.UPDATE_COLOR:b.handleUpdateColor(e);break;case s.a.REMOVE_COLOR:b.handleRemoveColor(e);break;case s.a.REMOVE_ALL_COLORS:b.handleRemoveAllColors(e);break;case s.a.ADD_TEXT_STYLE:b.handleAddTextStyle(e);break;case s.a.ADD_MULTIPLE_TEXT_STYLES:b.handleAddMultipleTextStyles(e);break;case s.a.UPDATE_TEXT_STYLE:b.handleUpdateTextStyle(e);break;case s.a.REMOVE_TEXT_STYLE:b.handleRemoveTextStyle(e);break;case s.a.REMOVE_ALL_TEXT_STYLES:b.handleRemoveAllTextStyles(e);break;case s.a.ADD_SPACING_SECTION:b.handleAddSpacingSection(e);break;case s.a.UPDATE_SPACING_SECTION:b.handleUpdateSpacingSection(e);break;case s.a.REMOVE_SPACING_SECTION:b.handleRemoveSpacingSection(e);break;case s.a.ADD_SPACING_TOKEN:b.handleAddSpacingToken(e);break;case s.a.UPDATE_SPACING_TOKEN:b.handleUpdateSpacingToken(e);break;case s.a.REMOVE_SPACING_TOKEN:b.handleRemoveSpacingToken(e);break;case s.a.UPDATE_REM_PREFERENCES:b.handleUpdateRemPreferences(e);break;case s.a.UPDATE_COMPONENT_SECTION:b.handleUpdateComponentSection(e);break;case s.a.MERGE_COMPONENT_SECTION:b.handleMergeComponentSection(e);break;case s.a.UPDATE_COMPONENT:b.handleUpdateComponent(e);break;case s.a.REMOVE_COMPONENT:b.handleRemoveComponent(e);break;case s.a.JOIN:b.handleJoin(e);break;case s.a.MOVE_RESOURCES_REQUEST:b.handleMoveResourcesRequest(e);break;case s.a.UPDATE_COMPONENTS_ORDER:b.updateComponentsOrder(e);break;case s.a.ADD_COMPONENT_SECTION:b.addComponentSection(e);break;case s.a.UPDATE_COMPONENT_SECTIONS_ORDER:b.handleUpdateComponentSectionsOrder(e);break;case s.a.UPDATE_WORKFLOW_STATUS:b.handleUpdateWorkflowStatus(e);break;case s.a.DELETE_WORKFLOW_STATUS:b.handleDeleteWorkflowStatus(e)}})},function(e,t,n){"use strict";var i=n(38),s=n(12),a=n(30),o=n(119),r=n(88),l=n(1),c=n(8),d=n(6),u=n(195),h=n(26),p=n(144),g=n(5),m=n(25),f=n(148),b=n(10),y=n(27),S=n(11),v=n(89),C=n(13);const E={handleGoToDashboard({bid:e,tagFilter:t}){const n=Object(c.c)(t),i=Object(c.j)("project-dashboard",{url:{pid:e},query:n});v.a.history.push(i)},handleGoToStyleguide({bid:e}){const t=Object(c.j)("project-styleguide",{url:{bid:e}});v.a.history.push(t)},handleAdd({barrel:e,barrelType:t}){Object(p.a)(t,e._id)},handleArchive({currentBid:e,affectedIds:t,name:n,uid:i,currentUserId:s,user:a,syncWithApi:o}){if(t.includes(e)){if(!o&&i!==s){const e=a&&a.user.username,t=a?`${e} archived “${n}”.`:`“${n}” is archived.`,i="You won’t be able to access its resources from now on."+(a?`\nIf you think this is a mistake, please contact ${e}.`:"");m.a({title:t,message:i})}r.a.navigateToWorkspace()}},handleRemove({bid:e,currentBid:t,barrelType:n,oldBarrel:i,uid:s,currentUserId:a,user:o,syncWithApi:l}){if(Object(p.e)(n,e),e===t){if(!l&&s!==a){const e=o&&o.user.username,{name:t}=i,n=o?`${e} deleted “${t}”.`:`“${t}” is deleted.`,s="You won’t be able to access its resources from now on."+(o?`\nIf you think this is a mistake, please contact ${e}.`:"");m.a({title:n,message:s})}r.a.navigateToWorkspace()}},handleAddMembers({bid:e,barrelType:t,shouldLoadBarrel:n}){if(n){const n=t===b.a.PROJECT?Object(c.j)("project-dashboard",{url:{pid:e}}):Object(c.j)("styleguide",{url:{bid:e}});setTimeout(()=>{v.a.history.push(n)},4)}},handleRemoveMember({bid:e,uid:t,barrelType:n,currentBid:i,currentUserId:s,removingUser:a,shouldRemoveBarrel:o,removedBarrel:l,syncWithApi:c}){if(o){if(Object(p.e)(n,e),!c&&t!==s&&e===i){const e=a&&a.user.username,{name:t}=l,n=a?`${e} removed you from “${t}”.`:`You’re removed from “${t}”.`,i="You won’t be able to access its resources from now on."+(a?`\nIf you think this is a mistake, please contact ${e}.`:"");m.a({title:n,message:i})}e===i&&r.a.navigateToWorkspace()}},handleDownloadAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,platform:s,containerName:a,version:o,assetId:r,format:c,toastContainer:d}){Object(u.b)({barrelId:e,platform:s,containerName:a,version:o,assetId:r,format:c,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,toastContainer:d}),Object(C.createIntercomUserTag)(Object(l.q)(s))},handleDownloadMultipleAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,platform:s,containerName:a,version:o,assetList:r,toastContainer:c}){Object(u.c)({barrelId:e,platform:s,containerName:a,version:o,assetList:r,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,toastContainer:c}),Object(C.createIntercomUserTag)(Object(l.q)(s))},handleExportCode({barrelName:e,platform:t,resourceType:n,exportObjects:i,extension:s}){Object(u.e)({resourceType:n,barrelName:e,exportObjects:i}),Object(C.createIntercomUserTag)(Object(l.q)(t)),mixpanel.webapp.track("Exported extension file",{type:n,extension:s})},handleOpenExportTarget(){f.c()},handleChangeExportTarget(){f.a()},handleCopyComponentSectionWebLink({bid:e,barrelType:t,seid:n}){const i=t===b.a.PROJECT?"project-styleguide-components":"styleguide-components",s=document.querySelector(`.${t}`),a=Object(c.j)(i,{url:{bid:e},query:{seid:n}});Object(h.c)({content:a,toastContainer:s})},handleCopyComponentSectionAppURI({bid:e,barrelType:t,cseid:n}){const i=t===b.a.PROJECT?"pid":"stid",s=document.querySelector(`.${t}`),a=`${g.L}//components?${i}=${e}&cseid=${n}`;Object(h.c)({content:a,toastContainer:s})},setBarrelShortlink(e){const{barrelType:t,barrelId:n}=e.barrel,{shortlinks:i}=a.a.getState(),s=Object(c.j)(t,{url:{bid:n}});s in i||Object(C.generateShortlink)(s).then(e=>{o.a.setShortlink(s,e)})},setSceneShortlink(e){const{barrelType:t,barrelId:n}=e.barrel,{shortlinks:i}=a.a.getState(),s=Object(c.j)(t,{origin:g.y,url:{bid:n}});s in i||Object(C.generateShortlink)(s,"scene").then(e=>{o.a.setShortlink(s,e)})},addToSlack({bid:e,barrelType:t}){if(y.a.isWindowsApp)return;const n=Object(d.e)();localStorage.setItem("slackState",n);const i=t===b.a.PROJECT?{pid:e}:{stid:e},s={scope:"incoming-webhook,emoji:read,links:read,links:write",client_id:"2330702581.8730394641",redirect_uri:Object(c.j)("huggingSlack",{query:i}),state:n},a="https://slack.com/oauth/authorize?"+Object.entries(s).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&");Object(h.l)(a,{inNewTab:!1})},trackEnableLocalConfiguration(){mixpanel.master.track("Enabled local configuration for connected components")},fetchLocalConnectedComponents({bid:e,barrelType:t,styleguideLink:n,ancestors:i}){if(t===b.a.PROJECT){if(Object(C.getProjectLocalConnectedComponents)(e).then(t=>{o.a.setLocalConnectedComponents(Object.assign({bid:e},t))}),!n)return;const{status:t,styleguide:i}=n;if("active"===!t)return;const s=[i._id,...i.ancestors];return void Promise.all(s.map(e=>Object(C.getStyleguideLocalConnectedComponents)(e))).then(e=>{e.forEach((e,t)=>{o.a.setLocalConnectedComponents(Object.assign({bid:s[t]},e))})})}const s=[e,...i];Promise.all(s.map(e=>Object(C.getStyleguideLocalConnectedComponents)(e))).then(e=>{e.forEach((e,t)=>{o.a.setLocalConnectedComponents(Object.assign({bid:s[t]},e))})})},handleAddSpacingSection(){mixpanel.master.track("Created spacing section")},handleUpdateSpacingSection({updatedSpacingSection:e}){e.name&&mixpanel.master.track("Changed spacing section name",{Name:e.name}),e.hasOwnProperty("description")&&mixpanel.master.track("Changed spacing section description")},handleAddSpacingToken(){mixpanel.master.track("Created spacing token")},handleUpdateSpacingToken({updatedSpacingToken:e}){const{value:t,color:n}=e;e.hasOwnProperty("value")&&mixpanel.master.track("Changed spacing token value",{Value:t}),n&&mixpanel.master.track("Changed spacing token color",{Color:new S.a(n).toHexString()})},handleUpdateRemPreferences({updatedRemPreferences:e}){const{status:t,useForFontSizes:n,useForMeasurements:i,remRootFontSize:s}=e,a={};t&&(a["Is Enabled"]="enabled"===t),e.hasOwnProperty("useForFontSizes")&&(a["Use for Font Size"]=n),e.hasOwnProperty("useForMeasurements")&&(a["Use for Measurements"]=i),s&&(a["Root Font Size"]=s),mixpanel.master.track("Changed rem settings",a)},handleUpdateWorkflowStatus({oid:e,organizationName:t,bid:n,workflowStatus:i}){mixpanel.master.track("Set project status",{Name:i.name,Color:i.color.toHexString(),"Project ID":n,"Organization ID":e,"Organization Name":t})},handleDeleteWorkflowStatus({oid:e,organizationName:t,bid:n}){mixpanel.master.track("Remove project status",{"Project ID":n,"Organization ID":e,"Organization Name":t})}};i.a.register(e=>{switch(e.type){case s.a.GO_TO_DASHBOARD:E.handleGoToDashboard(e);break;case s.a.GO_TO_STYLEGUIDE:E.handleGoToStyleguide(e);break;case s.a.ADD:E.handleAdd(e);break;case s.a.ARCHIVE:E.handleArchive(e);break;case s.a.REMOVE:E.handleRemove(e);break;case s.a.ADD_MEMBERS:E.handleAddMembers(e);break;case s.a.REMOVE_MEMBER:E.handleRemoveMember(e);break;case s.a.DOWNLOAD_ASSET:E.handleDownloadAsset(e);break;case s.a.DOWNLOAD_MULTIPLE_ASSET:E.handleDownloadMultipleAsset(e);break;case s.a.EXPORT_CODE:E.handleExportCode(e);break;case s.a.OPEN_EXPORT_TARGET:E.handleOpenExportTarget();break;case s.a.CHANGE_EXPORT_TARGET:E.handleChangeExportTarget();break;case s.a.COPY_COMPONENT_SECTION_WEB_LINK:E.handleCopyComponentSectionWebLink(e);break;case s.a.COPY_COMPONENT_SECTION_APP_URI:E.handleCopyComponentSectionAppURI(e);break;case s.a.ADD_TO_SLACK:E.addToSlack(e);break;case s.a.LOAD:E.setBarrelShortlink(e),E.setSceneShortlink(e);break;case s.a.ENABLE_DEV_MODE:E.trackEnableLocalConfiguration();case s.a.RELOAD_LOCAL_CONNECTED_COMPONENTS:E.fetchLocalConnectedComponents(e);break;case s.a.ADD_SPACING_SECTION:e.syncWithApi&&E.handleAddSpacingSection();break;case s.a.UPDATE_SPACING_SECTION:e.syncWithApi&&E.handleUpdateSpacingSection(e);break;case s.a.ADD_SPACING_TOKEN:e.syncWithApi&&E.handleAddSpacingToken();break;case s.a.UPDATE_SPACING_TOKEN:e.syncWithApi&&E.handleUpdateSpacingToken(e);break;case s.a.UPDATE_REM_PREFERENCES:e.syncWithApi&&E.handleUpdateRemPreferences(e);break;case s.a.UPDATE_WORKFLOW_STATUS:e.syncWithApi&&E.handleUpdateWorkflowStatus(e);break;case s.a.DELETE_WORKFLOW_STATUS:e.syncWithApi&&E.handleDeleteWorkflowStatus(e)}})},function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=n(225),i.prototype.loadAsync=n(273),i.support=n(54),i.defaults=n(172),i.version="3.1.5",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=n(91),e.exports=i},function(e,t,n){"use strict";var i=n(78),s=n(15),a=n(32),o=n(171),r=n(172),l=n(136),c=n(259),d=n(260),u=n(121),h=n(272),p=function(e,t,n){var i,o=s.getTypeOf(t),d=s.extend(n||{},r);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=m(e)),d.createFolders&&(i=g(e))&&f.call(this,i,!0);var p="string"===o&&!1===d.binary&&!1===d.base64;n&&void 0!==n.binary||(d.binary=!p),(t instanceof l&&0===t.uncompressedSize||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",o="string");var b=null;b=t instanceof l||t instanceof a?t:u.isNode&&u.isStream(t)?new h(e,t):s.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var y=new c(e,b,d);this.files[e]=y},g=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},f=function(e,t){return t=void 0!==t?t:r.createFolders,e=m(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1===arguments.length){if(b(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var s=this.files[this.root+e];return s&&!s.dir?s:null}return e=this.root+e,p.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(b(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=f.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");s.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new o(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=y},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=c(e),o=i[0],r=i[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,r)),d=0,u=r>0?o-4:o;for(n=0;n<u;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;2===r&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,l[d++]=255&t);1===r&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,s=n%3,a=[],o=0,r=n-s;o<r;o+=16383)a.push(u(e,o,o+16383>r?r:o+16383));1===s?(t=e[n-1],a.push(i[t>>2]+i[t<<4&63]+"==")):2===s&&(t=(e[n-2]<<8)+e[n-1],a.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return a.join("")};for(var i=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,l=o.length;r<l;++r)i[r]=o[r],s[o.charCodeAt(r)]=r;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function d(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function u(e,t,n){for(var i,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(d(i));return s.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,s){var a,o,r=8*s-i-1,l=(1<<r)-1,c=l>>1,d=-7,u=n?s-1:0,h=n?-1:1,p=e[t+u];for(u+=h,a=p&(1<<-d)-1,p>>=-d,d+=r;d>0;a=256*a+e[t+u],u+=h,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=i;d>0;o=256*o+e[t+u],u+=h,d-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),a-=c}return(p?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,n,i,s,a){var o,r,l,c=8*a-s-1,d=(1<<c)-1,u=d>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:a-1,g=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(o++,l/=2),o+u>=d?(r=0,o=d):o+u>=1?(r=(t*l-1)*Math.pow(2,s),o+=u):(r=t*Math.pow(2,u-1)*Math.pow(2,s),o=0));s>=8;e[n+p]=255&r,p+=g,r/=256,s-=8);for(o=o<<s|r,c+=s;c>0;e[n+p]=255&o,p+=g,o/=256,c-=8);e[n+p-g]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=s;var i=n(130).EventEmitter;function s(){i.call(this)}n(80)(s,i),s.Readable=n(131),s.Writable=n(237),s.Duplex=n(238),s.Transform=n(239),s.PassThrough=n(240),s.Stream=s,s.prototype.pipe=function(e,t){var n=this;function s(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",s),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",r),n.on("close",l));var o=!1;function r(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(d(),0===i.listenerCount(this,"error"))throw e}function d(){n.removeListener("data",s),e.removeListener("drain",a),n.removeListener("end",r),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",d),n.removeListener("close",d),e.removeListener("close",d)}return n.on("error",c),e.on("error",c),n.on("end",d),n.on("close",d),e.on("close",d),e.emit("pipe",n),e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";var i=n(132).Buffer,s=n(233);function a(e,t,n){e.copy(t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,s=0;n;)a(n.data,t,s),s+=n.data.length,n=n.next;return t},e}(),s&&s.inspect&&s.inspect.custom&&(e.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(t,n(93))},function(e,t,n){var i=n(79),s=i.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return s(e,t,n)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),a(s,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=s(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=a;var i=n(165),s=Object.create(n(90));function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}s.inherits=n(80),s.inherits(a,i),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(133)},function(e,t,n){e.exports=n(68)},function(e,t,n){e.exports=n(131).Transform},function(e,t,n){e.exports=n(131).PassThrough},function(e,t,n){n(242),e.exports=n(167).setImmediate},function(e,t,n){var i=n(243),s=n(251);i(i.G+i.B,{setImmediate:s.set,clearImmediate:s.clear})},function(e,t,n){var i=n(122),s=n(167),a=n(168),o=n(245),r=function(e,t,n){var l,c,d,u=e&r.F,h=e&r.G,p=e&r.S,g=e&r.P,m=e&r.B,f=e&r.W,b=h?s:s[t]||(s[t]={}),y=b.prototype,S=h?i:p?i[t]:(i[t]||{}).prototype;for(l in h&&(n=t),n)(c=!u&&S&&void 0!==S[l])&&l in b||(d=c?S[l]:n[l],b[l]=h&&"function"!=typeof S[l]?n[l]:m&&c?a(d,i):f&&S[l]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):g&&"function"==typeof d?a(Function.call,d):d,g&&((b.virtual||(b.virtual={}))[l]=d,e&r.R&&y&&!y[l]&&o(y,l,d)))};r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,e.exports=r},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(246),s=n(250);e.exports=n(135)?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(247),s=n(248),a=n(249),o=Object.defineProperty;t.f=n(135)?Object.defineProperty:function(e,t,n){if(i(e),t=a(t,!0),i(n),s)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(134);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(135)&&!n(169)(function(){return 7!=Object.defineProperty(n(170)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(134);e.exports=function(e,t){if(!i(e))return e;var n,s;if(t&&"function"==typeof(n=e.toString)&&!i(s=n.call(e)))return s;if("function"==typeof(n=e.valueOf)&&!i(s=n.call(e)))return s;if(!t&&"function"==typeof(n=e.toString)&&!i(s=n.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i,s,a,o=n(168),r=n(252),l=n(253),c=n(170),d=n(122),u=d.process,h=d.setImmediate,p=d.clearImmediate,g=d.MessageChannel,m=0,f={},b=function(){var e=+this;if(f.hasOwnProperty(e)){var t=f[e];delete f[e],t()}},y=function(e){b.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return f[++m]=function(){r("function"==typeof e?e:Function(e),t)},i(m),m},p=function(e){delete f[e]},"process"==n(254)(u)?i=function(e){u.nextTick(o(b,e,1))}:g?(a=(s=new g).port2,s.port1.onmessage=y,i=o(a.postMessage,a,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(e){d.postMessage(e+"","*")},d.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),e.exports={set:h,clear:p}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){e.exports=n(122).document&&document.documentElement},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var i=n(256);function s(){}var a={},o=["REJECTED"],r=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==s&&p(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){i(function(){var i;try{i=t(n)}catch(t){return a.reject(e,t)}i===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,i)})}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,a.reject(e,t))}function s(t){n||(n=!0,a.resolve(e,t))}var o=g(function(){t(s,i)});"error"===o.status&&i(o.value)}function g(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===r||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(s);this.state!==l?u(n,this.state===r?e:t,this.outcome):this.queue.push(new d(n,e,t));return n},d.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){a.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=g(h,t);if("error"===n.status)return a.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=r,e.outcome=t;for(var s=-1,o=e.queue.length;++s<o;)e.queue[s].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return a.resolve(new this(s),e)},c.reject=function(e){var t=new this(s);return a.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);var o=new Array(n),r=0,l=-1,c=new this(s);for(;++l<n;)d(e[l],l);return c;function d(e,s){t.resolve(e).then(function(e){o[s]=e,++r!==n||i||(i=!0,a.resolve(c,o))},function(e){i||(i=!0,a.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);var o=-1,r=new this(s);for(;++o<n;)l(e[o]);return r;function l(e){t.resolve(e).then(function(e){i||(i=!0,a.resolve(r,e))},function(e){i||(i=!0,a.reject(r,e))})}}},function(e,t,n){"use strict";(function(t){var n,i,s=t.MutationObserver||t.WebKitMutationObserver;if(s){var a=0,o=new s(d),r=t.document.createTextNode("");o.observe(r,{characterData:!0}),n=function(){r.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var l=new t.MessageChannel;l.port1.onmessage=d,n=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}e.exports=function(e){1!==c.push(e)||i||n()}}).call(t,n(93))},function(e,t,n){"use strict";var i=n(32),s=n(15);function a(e){i.call(this,"ConvertWorker to "+e),this.destType=e}s.inherits(a,i),a.prototype.processChunk=function(e){this.push({data:s.transformTo(this.destType,e.data),meta:e.meta})},e.exports=a},function(e,t,n){"use strict";var i=n(160).Readable;function s(e,t,n){i.call(this,t),this._helper=e;var s=this;e.on("data",function(e,t){s.push(e)||s._helper.pause(),n&&n(t)}).on("error",function(e){s.emit("error",e)}).on("end",function(){s.push(null)})}n(15).inherits(s,i),s.prototype._read=function(){this._helper.resume()},e.exports=s},function(e,t,n){"use strict";var i=n(171),s=n(173),a=n(78),o=n(136),r=n(32),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var s="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!s&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&s&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new r("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof r?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)l.prototype[c[u]]=d;e.exports=l},function(e,t,n){"use strict";var i=n(176),s=n(271);t.generateWorker=function(e,t,n){var a=new s(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var s=function(e,t){var n=e||t,s=i[n];if(!s)throw new Error(n+" is not a valid compression method !");return s}(n.options.compression,t.compression),r=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(s,r).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(e){a.error(e)}return a}},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=n(262),a=n(15),o=n(32),r=i?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(r,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},function(e,t,n){"use strict";var i={};(0,n(55).assign)(i,n(263),n(266),n(181)),e.exports=i},function(e,t,n){"use strict";var i=n(264),s=n(55),a=n(179),o=n(138),r=n(180),l=Object.prototype.toString,c=0,d=-1,u=0,h=8;function p(e){if(!(this instanceof p))return new p(e);this.options=s.assign({level:d,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(o[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var g;if(g="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,g))!==c)throw new Error(o[n]);this._dict_set=!0}}function g(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}p.prototype.push=function(e,t){var n,o,r=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new s.Buf8(d),r.next_out=0,r.avail_out=d),1!==(n=i.deflate(r,o))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(s.shrinkBuf(r.output,r.next_out))):this.onData(s.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==n);return 4===o?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==o||(this.onEnd(c),r.avail_out=0,!0)},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=p,t.deflate=g,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,g(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,g(e,t)}},function(e,t,n){"use strict";var i,s=n(55),a=n(265),o=n(177),r=n(178),l=n(138),c=0,d=1,u=3,h=4,p=5,g=0,m=1,f=-2,b=-3,y=-5,S=-1,v=1,C=2,E=3,O=4,T=0,k=2,D=8,_=9,w=15,j=8,R=286,I=30,A=19,x=2*R+1,P=15,L=3,N=258,U=N+L+1,M=32,B=42,z=69,F=73,W=91,H=103,V=113,G=666,$=1,q=2,Z=3,Y=4,K=3;function J(e,t){return e.msg=l[t],t}function X(e){return(e<<1)-(e>4?9:0)}function Q(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(s.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function ie(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function se(e,t,n,i){var a=e.avail_in;return a>i&&(a=i),0===a?0:(e.avail_in-=a,s.arraySet(t,e.input,e.next_in,a,n),1===e.state.wrap?e.adler=o(e.adler,t,a,n):2===e.state.wrap&&(e.adler=r(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)}function ae(e,t){var n,i,s=e.max_chain_length,a=e.strstart,o=e.prev_length,r=e.nice_match,l=e.strstart>e.w_size-U?e.strstart-(e.w_size-U):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+N,p=c[a+o-1],g=c[a+o];e.prev_length>=e.good_match&&(s>>=2),r>e.lookahead&&(r=e.lookahead);do{if(c[(n=t)+o]===g&&c[n+o-1]===p&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<h);if(i=N-(h-a),a=h-N,i>o){if(e.match_start=t,o=i,i>=r)break;p=c[a+o-1],g=c[a+o]}}}while((t=u[t&d])>l&&0!=--s);return o<=e.lookahead?o:e.lookahead}function oe(e){var t,n,i,a,o,r=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-U)){s.arraySet(e.window,e.window,r,r,0),e.match_start-=r,e.strstart-=r,e.block_start-=r,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=r?i-r:0}while(--n);t=n=r;do{i=e.prev[--t],e.prev[t]=i>=r?i-r:0}while(--n);a+=r}if(0===e.strm.avail_in)break;if(n=se(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=L)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+L-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<L)););}while(e.lookahead<U&&0!==e.strm.avail_in)}function re(e,t){for(var n,i;;){if(e.lookahead<U){if(oe(e),e.lookahead<U&&t===c)return $;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-U&&(e.match_length=ae(e,n)),e.match_length>=L)if(i=a._tr_tally(e,e.strstart-e.match_start,e.match_length-L),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=L){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(te(e,!1),0===e.strm.avail_out))return $}return e.insert=e.strstart<L-1?e.strstart:L-1,t===h?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?$:q}function le(e,t){for(var n,i,s;;){if(e.lookahead<U){if(oe(e),e.lookahead<U&&t===c)return $;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=L-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-U&&(e.match_length=ae(e,n),e.match_length<=5&&(e.strategy===v||e.match_length===L&&e.strstart-e.match_start>4096)&&(e.match_length=L-1)),e.prev_length>=L&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-L,i=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-L),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=L-1,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return $}else if(e.match_available){if((i=a._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return $}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<L-1?e.strstart:L-1,t===h?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?$:q}function ce(e,t,n,i,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=s}function de(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=k,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?B:V,e.adler=2===t.wrap?0:1,t.last_flush=c,a._tr_init(t),g):J(e,f)}function ue(e){var t=de(e);return t===g&&function(e){e.window_size=2*e.w_size,Q(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=L-1,e.match_available=0,e.ins_h=0}(e.state),t}function he(e,t,n,i,a,o){if(!e)return f;var r=1;if(t===S&&(t=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),a<1||a>_||n!==D||i<8||i>15||t<0||t>9||o<0||o>O)return J(e,f);8===i&&(i=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*x),this.dyn_dtree=new s.Buf16(2*(2*I+1)),this.bl_tree=new s.Buf16(2*(2*A+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(P+1),this.heap=new s.Buf16(2*R+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*R+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=r,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+L-1)/L),l.window=new s.Buf8(2*l.w_size),l.head=new s.Buf16(l.hash_size),l.prev=new s.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new s.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,ue(e)}i=[new ce(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oe(e),0===e.lookahead&&t===c)return $;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,te(e,!1),0===e.strm.avail_out))return $;if(e.strstart-e.block_start>=e.w_size-U&&(te(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?Z:Y):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),$)}),new ce(4,4,8,4,re),new ce(4,5,16,8,re),new ce(4,6,32,32,re),new ce(4,4,16,16,le),new ce(8,16,32,32,le),new ce(8,16,128,128,le),new ce(8,32,128,256,le),new ce(32,128,258,1024,le),new ce(32,258,258,4096,le)],t.deflateInit=function(e,t){return he(e,t,D,w,j,T)},t.deflateInit2=he,t.deflateReset=ue,t.deflateResetKeep=de,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,g):f},t.deflate=function(e,t){var n,s,o,l;if(!e||!e.state||t>p||t<0)return e?J(e,f):f;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===G&&t!==h)return J(e,0===e.avail_out?y:f);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===B)if(2===s.wrap)e.adler=0,ne(s,31),ne(s,139),ne(s,8),s.gzhead?(ne(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),ne(s,255&s.gzhead.time),ne(s,s.gzhead.time>>8&255),ne(s,s.gzhead.time>>16&255),ne(s,s.gzhead.time>>24&255),ne(s,9===s.level?2:s.strategy>=C||s.level<2?4:0),ne(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(ne(s,255&s.gzhead.extra.length),ne(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=r(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=z):(ne(s,0),ne(s,0),ne(s,0),ne(s,0),ne(s,0),ne(s,9===s.level?2:s.strategy>=C||s.level<2?4:0),ne(s,K),s.status=V);else{var b=D+(s.w_bits-8<<4)<<8;b|=(s.strategy>=C||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(b|=M),b+=31-b%31,s.status=V,ie(s,b),0!==s.strstart&&(ie(s,e.adler>>>16),ie(s,65535&e.adler)),e.adler=1}if(s.status===z)if(s.gzhead.extra){for(o=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),ee(e),o=s.pending,s.pending!==s.pending_buf_size));)ne(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=F)}else s.status=F;if(s.status===F)if(s.gzhead.name){o=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),ee(e),o=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,ne(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),0===l&&(s.gzindex=0,s.status=W)}else s.status=W;if(s.status===W)if(s.gzhead.comment){o=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),ee(e),o=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,ne(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>o&&(e.adler=r(e.adler,s.pending_buf,s.pending-o,o)),0===l&&(s.status=H)}else s.status=H;if(s.status===H&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&ee(e),s.pending+2<=s.pending_buf_size&&(ne(s,255&e.adler),ne(s,e.adler>>8&255),e.adler=0,s.status=V)):s.status=V),0!==s.pending){if(ee(e),0===e.avail_out)return s.last_flush=-1,g}else if(0===e.avail_in&&X(t)<=X(n)&&t!==h)return J(e,y);if(s.status===G&&0!==e.avail_in)return J(e,y);if(0!==e.avail_in||0!==s.lookahead||t!==c&&s.status!==G){var S=s.strategy===C?function(e,t){for(var n;;){if(0===e.lookahead&&(oe(e),0===e.lookahead)){if(t===c)return $;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?$:q}(s,t):s.strategy===E?function(e,t){for(var n,i,s,o,r=e.window;;){if(e.lookahead<=N){if(oe(e),e.lookahead<=N&&t===c)return $;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=L&&e.strstart>0&&(i=r[s=e.strstart-1])===r[++s]&&i===r[++s]&&i===r[++s]){o=e.strstart+N;do{}while(i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&s<o);e.match_length=N-(o-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=L?(n=a._tr_tally(e,1,e.match_length-L),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return $}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?$:q}(s,t):i[s.level].func(s,t);if(S!==Z&&S!==Y||(s.status=G),S===$||S===Z)return 0===e.avail_out&&(s.last_flush=-1),g;if(S===q&&(t===d?a._tr_align(s):t!==p&&(a._tr_stored_block(s,0,0,!1),t===u&&(Q(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),ee(e),0===e.avail_out))return s.last_flush=-1,g}return t!==h?g:s.wrap<=0?m:(2===s.wrap?(ne(s,255&e.adler),ne(s,e.adler>>8&255),ne(s,e.adler>>16&255),ne(s,e.adler>>24&255),ne(s,255&e.total_in),ne(s,e.total_in>>8&255),ne(s,e.total_in>>16&255),ne(s,e.total_in>>24&255)):(ie(s,e.adler>>>16),ie(s,65535&e.adler)),ee(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?g:m)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==B&&t!==z&&t!==F&&t!==W&&t!==H&&t!==V&&t!==G?J(e,f):(e.state=null,t===V?J(e,b):g):f},t.deflateSetDictionary=function(e,t){var n,i,a,r,l,c,d,u,h=t.length;if(!e||!e.state)return f;if(2===(r=(n=e.state).wrap)||1===r&&n.status!==B||n.lookahead)return f;for(1===r&&(e.adler=o(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===r&&(Q(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new s.Buf8(n.w_size),s.arraySet(u,t,h-n.w_size,n.w_size,0),t=u,h=n.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=h,e.next_in=0,e.input=t,oe(n);n.lookahead>=L;){i=n.strstart,a=n.lookahead-(L-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+L-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--a);n.strstart=i,n.lookahead=L-1,oe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=L-1,n.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,n.wrap=r,g},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var i=n(55),s=4,a=0,o=1,r=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,d=1,u=2,h=29,p=256,g=p+1+h,m=30,f=19,b=2*g+1,y=15,S=16,v=7,C=256,E=16,O=17,T=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(g+2));l(j);var R=new Array(2*m);l(R);var I=new Array(512);l(I);var A=new Array(256);l(A);var x=new Array(h);l(x);var P,L,N,U=new Array(m);function M(e,t,n,i,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=s,this.has_stree=e&&e.length}function B(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function z(e){return e<256?I[e]:I[256+(e>>>7)]}function F(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function W(e,t,n){e.bi_valid>S-n?(e.bi_buf|=t<<e.bi_valid&65535,F(e,e.bi_buf),e.bi_buf=t>>S-e.bi_valid,e.bi_valid+=n-S):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function H(e,t,n){W(e,n[2*t],n[2*t+1])}function V(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function G(e,t,n){var i,s,a=new Array(y+1),o=0;for(i=1;i<=y;i++)a[i]=o=o+n[i-1]<<1;for(s=0;s<=t;s++){var r=e[2*s+1];0!==r&&(e[2*s]=V(a[r]++,r))}}function $(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*C]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function q(e){e.bi_valid>8?F(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Z(e,t,n,i){var s=2*t,a=2*n;return e[s]<e[a]||e[s]===e[a]&&i[t]<=i[n]}function Y(e,t,n){for(var i=e.heap[n],s=n<<1;s<=e.heap_len&&(s<e.heap_len&&Z(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!Z(t,i,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=i}function K(e,t,n){var i,s,a,o,r=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*r]<<8|e.pending_buf[e.d_buf+2*r+1],s=e.pending_buf[e.l_buf+r],r++,0===i?H(e,s,t):(H(e,(a=A[s])+p+1,t),0!==(o=k[a])&&W(e,s-=x[a],o),H(e,a=z(--i),n),0!==(o=D[a])&&W(e,i-=U[a],o))}while(r<e.last_lit);H(e,C,t)}function J(e,t){var n,i,s,a=t.dyn_tree,o=t.stat_desc.static_tree,r=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(s=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[s]=0,e.opt_len--,r&&(e.static_len-=o[2*s+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)Y(e,a,n);s=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Y(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*s]=a[2*n]+a[2*i],e.depth[s]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=s,e.heap[1]=s++,Y(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,s,a,o,r,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(a=0;a<=y;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<b;n++)(a=l[2*l[2*(i=e.heap[n])+1]+1]+1)>g&&(a=g,m++),l[2*i+1]=a,i>c||(e.bl_count[a]++,o=0,i>=p&&(o=h[i-p]),r=l[2*i],e.opt_len+=r*(a+o),u&&(e.static_len+=r*(d[2*i+1]+o)));if(0!==m){do{for(a=g-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[g]--,m-=2}while(m>0);for(a=g;0!==a;a--)for(i=e.bl_count[a];0!==i;)(s=e.heap[--n])>c||(l[2*s+1]!==a&&(e.opt_len+=(a-l[2*s+1])*l[2*s],l[2*s+1]=a),i--)}}(e,t),G(a,c,e.bl_count)}function X(e,t,n){var i,s,a=-1,o=t[1],r=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)s=o,o=t[2*(i+1)+1],++r<l&&s===o||(r<c?e.bl_tree[2*s]+=r:0!==s?(s!==a&&e.bl_tree[2*s]++,e.bl_tree[2*E]++):r<=10?e.bl_tree[2*O]++:e.bl_tree[2*T]++,r=0,a=s,0===o?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))}function Q(e,t,n){var i,s,a=-1,o=t[1],r=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(s=o,o=t[2*(i+1)+1],!(++r<l&&s===o)){if(r<c)do{H(e,s,e.bl_tree)}while(0!=--r);else 0!==s?(s!==a&&(H(e,s,e.bl_tree),r--),H(e,E,e.bl_tree),W(e,r-3,2)):r<=10?(H(e,O,e.bl_tree),W(e,r-3,3)):(H(e,T,e.bl_tree),W(e,r-11,7));r=0,a=s,0===o?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}}l(U);var ee=!1;function te(e,t,n,s){W(e,(c<<1)+(s?1:0),3),function(e,t,n,s){q(e),s&&(F(e,n),F(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(function(){var e,t,n,i,s,a=new Array(y+1);for(n=0,i=0;i<h-1;i++)for(x[i]=n,e=0;e<1<<k[i];e++)A[n++]=i;for(A[n-1]=i,s=0,i=0;i<16;i++)for(U[i]=s,e=0;e<1<<D[i];e++)I[s++]=i;for(s>>=7;i<m;i++)for(U[i]=s<<7,e=0;e<1<<D[i]-7;e++)I[256+s++]=i;for(t=0;t<=y;t++)a[t]=0;for(e=0;e<=143;)j[2*e+1]=8,e++,a[8]++;for(;e<=255;)j[2*e+1]=9,e++,a[9]++;for(;e<=279;)j[2*e+1]=7,e++,a[7]++;for(;e<=287;)j[2*e+1]=8,e++,a[8]++;for(G(j,g+1,a),e=0;e<m;e++)R[2*e+1]=5,R[2*e]=V(e,5);P=new M(j,k,p+1,g,y),L=new M(R,D,0,m,y),N=new M(new Array(0),_,0,f,v)}(),ee=!0),e.l_desc=new B(e.dyn_ltree,P),e.d_desc=new B(e.dyn_dtree,L),e.bl_desc=new B(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,$(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,i){var l,c,h=0;e.level>0?(e.strm.data_type===r&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<p;t++)if(0!==e.dyn_ltree[2*t])return o;return a}(e)),J(e,e.l_desc),J(e,e.d_desc),h=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),J(e,e.bl_desc),t=f-1;t>=3&&0===e.bl_tree[2*w[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==t?te(e,t,n,i):e.strategy===s||c===l?(W(e,(d<<1)+(i?1:0),3),K(e,j,R)):(W(e,(u<<1)+(i?1:0),3),function(e,t,n,i){var s;for(W(e,t-257,5),W(e,n-1,5),W(e,i-4,4),s=0;s<i;s++)W(e,e.bl_tree[2*w[s]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,h+1),K(e,e.dyn_ltree,e.dyn_dtree)),$(e),i&&q(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(A[n]+p+1)]++,e.dyn_dtree[2*z(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){W(e,d<<1,3),H(e,C,j),function(e){16===e.bi_valid?(F(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var i=n(267),s=n(55),a=n(179),o=n(181),r=n(138),l=n(180),c=n(270),d=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(r[n]);if(this.header=new c,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===d.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=i.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(r[n])}function h(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||r[n.err];return n.result}u.prototype.push=function(e,t){var n,r,l,c,u,h=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?h.input=a.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(p),h.next_out=0,h.avail_out=p),(n=i.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&g&&(n=i.inflateSetDictionary(this.strm,g)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==o.Z_STREAM_END&&(0!==h.avail_in||r!==o.Z_FINISH&&r!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(h.output,h.next_out),c=h.next_out-l,u=a.buf2string(h.output,l),h.next_out=c,h.avail_out=p-c,c&&s.arraySet(h.output,h.output,l,c,0),this.onData(u)):this.onData(s.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(r=o.Z_FINISH),r===o.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):r!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),h.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,n){"use strict";var i=n(55),s=n(177),a=n(178),o=n(268),r=n(269),l=0,c=1,d=2,u=4,h=5,p=6,g=0,m=1,f=2,b=-2,y=-3,S=-4,v=-5,C=8,E=1,O=2,T=3,k=4,D=5,_=6,w=7,j=8,R=9,I=10,A=11,x=12,P=13,L=14,N=15,U=16,M=17,B=18,z=19,F=20,W=21,H=22,V=23,G=24,$=25,q=26,Z=27,Y=28,K=29,J=30,X=31,Q=32,ee=852,te=592,ne=15;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function se(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=E,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(ee),t.distcode=t.distdyn=new i.Buf32(te),t.sane=1,t.back=-1,g):b}function ae(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,se(e)):b}function oe(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?b:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,ae(e))):b}function re(e,t){var n,s;return e?(s=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=s,s.window=null,(n=oe(e,t))!==g&&(e.state=null),n):b}var le,ce,de=!0;function ue(e){if(de){var t;for(le=new i.Buf32(512),ce=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(r(c,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;r(d,e.lens,0,32,ce,0,e.work,{bits:5}),de=!1}e.lencode=le,e.lenbits=9,e.distcode=ce,e.distbits=5}function he(e,t,n,s){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),s>=o.wsize?(i.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>s&&(a=s),i.arraySet(o.window,t,n-s,a,o.wnext),(s-=a)?(i.arraySet(o.window,t,n-s,s,0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=ae,t.inflateReset2=oe,t.inflateResetKeep=se,t.inflateInit=function(e){return re(e,ne)},t.inflateInit2=re,t.inflate=function(e,t){var n,ee,te,ne,se,ae,oe,re,le,ce,de,pe,ge,me,fe,be,ye,Se,ve,Ce,Ee,Oe,Te,ke,De=0,_e=new i.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return b;(n=e.state).mode===x&&(n.mode=P),se=e.next_out,te=e.output,oe=e.avail_out,ne=e.next_in,ee=e.input,ae=e.avail_in,re=n.hold,le=n.bits,ce=ae,de=oe,Oe=g;e:for(;;)switch(n.mode){case E:if(0===n.wrap){n.mode=P;break}for(;le<16;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===re){n.check=0,_e[0]=255&re,_e[1]=re>>>8&255,n.check=a(n.check,_e,2,0),re=0,le=0,n.mode=O;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&re)<<8)+(re>>8))%31){e.msg="incorrect header check",n.mode=J;break}if((15&re)!==C){e.msg="unknown compression method",n.mode=J;break}if(le-=4,Ee=8+(15&(re>>>=4)),0===n.wbits)n.wbits=Ee;else if(Ee>n.wbits){e.msg="invalid window size",n.mode=J;break}n.dmax=1<<Ee,e.adler=n.check=1,n.mode=512&re?I:x,re=0,le=0;break;case O:for(;le<16;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(n.flags=re,(255&n.flags)!==C){e.msg="unknown compression method",n.mode=J;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=J;break}n.head&&(n.head.text=re>>8&1),512&n.flags&&(_e[0]=255&re,_e[1]=re>>>8&255,n.check=a(n.check,_e,2,0)),re=0,le=0,n.mode=T;case T:for(;le<32;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=re),512&n.flags&&(_e[0]=255&re,_e[1]=re>>>8&255,_e[2]=re>>>16&255,_e[3]=re>>>24&255,n.check=a(n.check,_e,4,0)),re=0,le=0,n.mode=k;case k:for(;le<16;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&re,n.head.os=re>>8),512&n.flags&&(_e[0]=255&re,_e[1]=re>>>8&255,n.check=a(n.check,_e,2,0)),re=0,le=0,n.mode=D;case D:if(1024&n.flags){for(;le<16;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.length=re,n.head&&(n.head.extra_len=re),512&n.flags&&(_e[0]=255&re,_e[1]=re>>>8&255,n.check=a(n.check,_e,2,0)),re=0,le=0}else n.head&&(n.head.extra=null);n.mode=_;case _:if(1024&n.flags&&((pe=n.length)>ae&&(pe=ae),pe&&(n.head&&(Ee=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,ee,ne,pe,Ee)),512&n.flags&&(n.check=a(n.check,ee,pe,ne)),ae-=pe,ne+=pe,n.length-=pe),n.length))break e;n.length=0,n.mode=w;case w:if(2048&n.flags){if(0===ae)break e;pe=0;do{Ee=ee[ne+pe++],n.head&&Ee&&n.length<65536&&(n.head.name+=String.fromCharCode(Ee))}while(Ee&&pe<ae);if(512&n.flags&&(n.check=a(n.check,ee,pe,ne)),ae-=pe,ne+=pe,Ee)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=j;case j:if(4096&n.flags){if(0===ae)break e;pe=0;do{Ee=ee[ne+pe++],n.head&&Ee&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ee))}while(Ee&&pe<ae);if(512&n.flags&&(n.check=a(n.check,ee,pe,ne)),ae-=pe,ne+=pe,Ee)break e}else n.head&&(n.head.comment=null);n.mode=R;case R:if(512&n.flags){for(;le<16;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(re!==(65535&n.check)){e.msg="header crc mismatch",n.mode=J;break}re=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=x;break;case I:for(;le<32;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}e.adler=n.check=ie(re),re=0,le=0,n.mode=A;case A:if(0===n.havedict)return e.next_out=se,e.avail_out=oe,e.next_in=ne,e.avail_in=ae,n.hold=re,n.bits=le,f;e.adler=n.check=1,n.mode=x;case x:if(t===h||t===p)break e;case P:if(n.last){re>>>=7&le,le-=7&le,n.mode=Z;break}for(;le<3;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}switch(n.last=1&re,le-=1,3&(re>>>=1)){case 0:n.mode=L;break;case 1:if(ue(n),n.mode=F,t===p){re>>>=2,le-=2;break e}break;case 2:n.mode=M;break;case 3:e.msg="invalid block type",n.mode=J}re>>>=2,le-=2;break;case L:for(re>>>=7&le,le-=7&le;le<32;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if((65535&re)!=(re>>>16^65535)){e.msg="invalid stored block lengths",n.mode=J;break}if(n.length=65535&re,re=0,le=0,n.mode=N,t===p)break e;case N:n.mode=U;case U:if(pe=n.length){if(pe>ae&&(pe=ae),pe>oe&&(pe=oe),0===pe)break e;i.arraySet(te,ee,ne,pe,se),ae-=pe,ne+=pe,oe-=pe,se+=pe,n.length-=pe;break}n.mode=x;break;case M:for(;le<14;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&re),re>>>=5,le-=5,n.ndist=1+(31&re),re>>>=5,le-=5,n.ncode=4+(15&re),re>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=J;break}n.have=0,n.mode=B;case B:for(;n.have<n.ncode;){for(;le<3;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.lens[we[n.have++]]=7&re,re>>>=3,le-=3}for(;n.have<19;)n.lens[we[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Te={bits:n.lenbits},Oe=r(l,n.lens,0,19,n.lencode,0,n.work,Te),n.lenbits=Te.bits,Oe){e.msg="invalid code lengths set",n.mode=J;break}n.have=0,n.mode=z;case z:for(;n.have<n.nlen+n.ndist;){for(;be=(De=n.lencode[re&(1<<n.lenbits)-1])>>>16&255,ye=65535&De,!((fe=De>>>24)<=le);){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(ye<16)re>>>=fe,le-=fe,n.lens[n.have++]=ye;else{if(16===ye){for(ke=fe+2;le<ke;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(re>>>=fe,le-=fe,0===n.have){e.msg="invalid bit length repeat",n.mode=J;break}Ee=n.lens[n.have-1],pe=3+(3&re),re>>>=2,le-=2}else if(17===ye){for(ke=fe+3;le<ke;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}le-=fe,Ee=0,pe=3+(7&(re>>>=fe)),re>>>=3,le-=3}else{for(ke=fe+7;le<ke;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}le-=fe,Ee=0,pe=11+(127&(re>>>=fe)),re>>>=7,le-=7}if(n.have+pe>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=J;break}for(;pe--;)n.lens[n.have++]=Ee}}if(n.mode===J)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=J;break}if(n.lenbits=9,Te={bits:n.lenbits},Oe=r(c,n.lens,0,n.nlen,n.lencode,0,n.work,Te),n.lenbits=Te.bits,Oe){e.msg="invalid literal/lengths set",n.mode=J;break}if(n.distbits=6,n.distcode=n.distdyn,Te={bits:n.distbits},Oe=r(d,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Te),n.distbits=Te.bits,Oe){e.msg="invalid distances set",n.mode=J;break}if(n.mode=F,t===p)break e;case F:n.mode=W;case W:if(ae>=6&&oe>=258){e.next_out=se,e.avail_out=oe,e.next_in=ne,e.avail_in=ae,n.hold=re,n.bits=le,o(e,de),se=e.next_out,te=e.output,oe=e.avail_out,ne=e.next_in,ee=e.input,ae=e.avail_in,re=n.hold,le=n.bits,n.mode===x&&(n.back=-1);break}for(n.back=0;be=(De=n.lencode[re&(1<<n.lenbits)-1])>>>16&255,ye=65535&De,!((fe=De>>>24)<=le);){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(be&&0==(240&be)){for(Se=fe,ve=be,Ce=ye;be=(De=n.lencode[Ce+((re&(1<<Se+ve)-1)>>Se)])>>>16&255,ye=65535&De,!(Se+(fe=De>>>24)<=le);){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}re>>>=Se,le-=Se,n.back+=Se}if(re>>>=fe,le-=fe,n.back+=fe,n.length=ye,0===be){n.mode=q;break}if(32&be){n.back=-1,n.mode=x;break}if(64&be){e.msg="invalid literal/length code",n.mode=J;break}n.extra=15&be,n.mode=H;case H:if(n.extra){for(ke=n.extra;le<ke;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.length+=re&(1<<n.extra)-1,re>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=V;case V:for(;be=(De=n.distcode[re&(1<<n.distbits)-1])>>>16&255,ye=65535&De,!((fe=De>>>24)<=le);){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(0==(240&be)){for(Se=fe,ve=be,Ce=ye;be=(De=n.distcode[Ce+((re&(1<<Se+ve)-1)>>Se)])>>>16&255,ye=65535&De,!(Se+(fe=De>>>24)<=le);){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}re>>>=Se,le-=Se,n.back+=Se}if(re>>>=fe,le-=fe,n.back+=fe,64&be){e.msg="invalid distance code",n.mode=J;break}n.offset=ye,n.extra=15&be,n.mode=G;case G:if(n.extra){for(ke=n.extra;le<ke;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}n.offset+=re&(1<<n.extra)-1,re>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=J;break}n.mode=$;case $:if(0===oe)break e;if(pe=de-oe,n.offset>pe){if((pe=n.offset-pe)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=J;break}pe>n.wnext?(pe-=n.wnext,ge=n.wsize-pe):ge=n.wnext-pe,pe>n.length&&(pe=n.length),me=n.window}else me=te,ge=se-n.offset,pe=n.length;pe>oe&&(pe=oe),oe-=pe,n.length-=pe;do{te[se++]=me[ge++]}while(--pe);0===n.length&&(n.mode=W);break;case q:if(0===oe)break e;te[se++]=n.length,oe--,n.mode=W;break;case Z:if(n.wrap){for(;le<32;){if(0===ae)break e;ae--,re|=ee[ne++]<<le,le+=8}if(de-=oe,e.total_out+=de,n.total+=de,de&&(e.adler=n.check=n.flags?a(n.check,te,de,se-de):s(n.check,te,de,se-de)),de=oe,(n.flags?re:ie(re))!==n.check){e.msg="incorrect data check",n.mode=J;break}re=0,le=0}n.mode=Y;case Y:if(n.wrap&&n.flags){for(;le<32;){if(0===ae)break e;ae--,re+=ee[ne++]<<le,le+=8}if(re!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=J;break}re=0,le=0}n.mode=K;case K:Oe=m;break e;case J:Oe=y;break e;case X:return S;case Q:default:return b}return e.next_out=se,e.avail_out=oe,e.next_in=ne,e.avail_in=ae,n.hold=re,n.bits=le,(n.wsize||de!==e.avail_out&&n.mode<J&&(n.mode<Z||t!==u))&&he(e,e.output,e.next_out,de-e.avail_out)?(n.mode=X,S):(ce-=e.avail_in,de-=e.avail_out,e.total_in+=ce,e.total_out+=de,n.total+=de,n.wrap&&de&&(e.adler=n.check=n.flags?a(n.check,te,de,e.next_out-de):s(n.check,te,de,e.next_out-de)),e.data_type=n.bits+(n.last?64:0)+(n.mode===x?128:0)+(n.mode===F||n.mode===N?256:0),(0===ce&&0===de||t===u)&&Oe===g&&(Oe=v),Oe)},t.inflateEnd=function(e){if(!e||!e.state)return b;var t=e.state;return t.window&&(t.window=null),e.state=null,g},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?b:(n.head=t,t.done=!1,g):b},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==A?b:n.mode===A&&s(1,t,i,0)!==n.check?y:he(e,t,i,i)?(n.mode=X,S):(n.havedict=1,g):b},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,s,a,o,r,l,c,d,u,h,p,g,m,f,b,y,S,v,C,E,O,T,k,D;n=e.state,i=e.next_in,k=e.input,s=i+(e.avail_in-5),a=e.next_out,D=e.output,o=a-(t-e.avail_out),r=a+(e.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,u=n.wnext,h=n.window,p=n.hold,g=n.bits,m=n.lencode,f=n.distcode,b=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{g<15&&(p+=k[i++]<<g,g+=8,p+=k[i++]<<g,g+=8),S=m[p&b];t:for(;;){if(p>>>=v=S>>>24,g-=v,0===(v=S>>>16&255))D[a++]=65535&S;else{if(!(16&v)){if(0==(64&v)){S=m[(65535&S)+(p&(1<<v)-1)];continue t}if(32&v){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}C=65535&S,(v&=15)&&(g<v&&(p+=k[i++]<<g,g+=8),C+=p&(1<<v)-1,p>>>=v,g-=v),g<15&&(p+=k[i++]<<g,g+=8,p+=k[i++]<<g,g+=8),S=f[p&y];n:for(;;){if(p>>>=v=S>>>24,g-=v,!(16&(v=S>>>16&255))){if(0==(64&v)){S=f[(65535&S)+(p&(1<<v)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(E=65535&S,g<(v&=15)&&(p+=k[i++]<<g,(g+=8)<v&&(p+=k[i++]<<g,g+=8)),(E+=p&(1<<v)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=v,g-=v,E>(v=a-o)){if((v=E-v)>d&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(O=0,T=h,0===u){if(O+=c-v,v<C){C-=v;do{D[a++]=h[O++]}while(--v);O=a-E,T=D}}else if(u<v){if(O+=c+u-v,(v-=u)<C){C-=v;do{D[a++]=h[O++]}while(--v);if(O=0,u<C){C-=v=u;do{D[a++]=h[O++]}while(--v);O=a-E,T=D}}}else if(O+=u-v,v<C){C-=v;do{D[a++]=h[O++]}while(--v);O=a-E,T=D}for(;C>2;)D[a++]=T[O++],D[a++]=T[O++],D[a++]=T[O++],C-=3;C&&(D[a++]=T[O++],C>1&&(D[a++]=T[O++]))}else{O=a-E;do{D[a++]=D[O++],D[a++]=D[O++],D[a++]=D[O++],C-=3}while(C>2);C&&(D[a++]=D[O++],C>1&&(D[a++]=D[O++]))}break}}break}}while(i<s&&a<r);i-=C=g>>3,p&=(1<<(g-=C<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<s?s-i+5:5-(i-s),e.avail_out=a<r?r-a+257:257-(a-r),n.hold=p,n.bits=g}},function(e,t,n){"use strict";var i=n(55),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],r=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,d,u,h){var p,g,m,f,b,y,S,v,C,E=h.bits,O=0,T=0,k=0,D=0,_=0,w=0,j=0,R=0,I=0,A=0,x=null,P=0,L=new i.Buf16(16),N=new i.Buf16(16),U=null,M=0;for(O=0;O<=15;O++)L[O]=0;for(T=0;T<l;T++)L[t[n+T]]++;for(_=E,D=15;D>=1&&0===L[D];D--);if(_>D&&(_=D),0===D)return c[d++]=20971520,c[d++]=20971520,h.bits=1,0;for(k=1;k<D&&0===L[k];k++);for(_<k&&(_=k),R=1,O=1;O<=15;O++)if(R<<=1,(R-=L[O])<0)return-1;if(R>0&&(0===e||1!==D))return-1;for(N[1]=0,O=1;O<15;O++)N[O+1]=N[O]+L[O];for(T=0;T<l;T++)0!==t[n+T]&&(u[N[t[n+T]]++]=T);if(0===e?(x=U=u,y=19):1===e?(x=s,P-=257,U=a,M-=257,y=256):(x=o,U=r,y=-1),A=0,T=0,O=k,b=d,w=_,j=0,m=-1,f=(I=1<<_)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){S=O-j,u[T]<y?(v=0,C=u[T]):u[T]>y?(v=U[M+u[T]],C=x[P+u[T]]):(v=96,C=0),p=1<<O-j,k=g=1<<w;do{c[b+(A>>j)+(g-=p)]=S<<24|v<<16|C|0}while(0!==g);for(p=1<<O-1;A&p;)p>>=1;if(0!==p?(A&=p-1,A+=p):A=0,T++,0==--L[O]){if(O===D)break;O=t[n+u[T]]}if(O>_&&(A&f)!==m){for(0===j&&(j=_),b+=k,R=1<<(w=O-j);w+j<D&&!((R-=L[w+j])<=0);)w++,R<<=1;if(I+=1<<w,1===e&&I>852||2===e&&I>592)return 1;c[m=A&f]=_<<24|w<<16|b-d|0}}return 0!==A&&(c[b+A]=O-j<<24|64<<16|0),h.bits=_,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var i=n(15),s=n(32),a=n(78),o=n(137),r=n(182),l=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},c=function(e,t,n,s,c,d){var u,h,p=e.file,g=e.compression,m=d!==a.utf8encode,f=i.transformTo("string",d(p.name)),b=i.transformTo("string",a.utf8encode(p.name)),y=p.comment,S=i.transformTo("string",d(y)),v=i.transformTo("string",a.utf8encode(y)),C=b.length!==p.name.length,E=v.length!==y.length,O="",T="",k="",D=p.dir,_=p.date,w={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(w.crc32=e.crc32,w.compressedSize=e.compressedSize,w.uncompressedSize=e.uncompressedSize);var j=0;t&&(j|=8),m||!C&&!E||(j|=2048);var R=0,I=0;D&&(R|=16),"UNIX"===c?(I=798,R|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,D)):(I=20,R|=function(e,t){return 63&(e||0)}(p.dosPermissions)),u=_.getUTCHours(),u<<=6,u|=_.getUTCMinutes(),u<<=5,u|=_.getUTCSeconds()/2,h=_.getUTCFullYear()-1980,h<<=4,h|=_.getUTCMonth()+1,h<<=5,h|=_.getUTCDate(),C&&(T=l(1,1)+l(o(f),4)+b,O+="up"+l(T.length,2)+T),E&&(k=l(1,1)+l(o(S),4)+v,O+="uc"+l(k.length,2)+k);var A="";return A+="\n\0",A+=l(j,2),A+=g.magic,A+=l(u,2),A+=l(h,2),A+=l(w.crc32,4),A+=l(w.compressedSize,4),A+=l(w.uncompressedSize,4),A+=l(f.length,2),A+=l(O.length,2),{fileRecord:r.LOCAL_FILE_HEADER+A+f+O,dirRecord:r.CENTRAL_FILE_HEADER+l(I,2)+A+l(S.length,2)+"\0\0\0\0"+l(R,4)+l(s,4)+f+O+S}};function d(e,t,n,i){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(d,s),d.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return r.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,s=function(e,t,n,s,a){var o=i.transformTo("string",a(s));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(o.length,2)+o}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},d.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=d},function(e,t,n){"use strict";var i=n(15),s=n(32);function a(e,t){s.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(a,s),a.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=a},function(e,t,n){"use strict";var i=n(15),s=n(91),a=n(78),o=(i=n(15),n(274)),r=n(175),l=n(121);function c(e){return new s.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new r);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new o(t);return n.load(e),n}).then(function(e){var n=[s.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var a=0;a<i.length;a++)n.push(c(i[a]));return s.Promise.all(n)}).then(function(e){for(var i=e.shift(),s=i.files,a=0;a<s.length;a++){var o=s[a];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},function(e,t,n){"use strict";var i=n(183),s=n(15),a=n(182),o=n(277),r=(n(78),n(54));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.uint8array?"uint8array":"array",n=s.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(i>0)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},function(e,t,n){"use strict";var i=n(185);function s(e){i.call(this,e)}n(15).inherits(s,i),s.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},s.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},s.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=s},function(e,t,n){"use strict";var i=n(186);function s(e){i.call(this,e)}n(15).inherits(s,i),s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=s},function(e,t,n){"use strict";var i=n(183),s=n(15),a=n(136),o=n(137),r=n(78),l=n(176),c=n(54);function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<s;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=r.utf8decode(this.fileName),this.fileCommentStr=r.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:o(this.fileName)!==t.readInt(4)?null:r.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:o(this.fileComment)!==t.readInt(4)?null:r.utf8decode(t.readData(e.length-5))}return null}},e.exports=d},function(e,t,n){"use strict";var i=n(38),s=n(12),a=n(10),o=n(24);const r={changeAssetName({bid:e,containerId:t,snapshot:n,assetId:i,name:s}){const a=n.assets.find(e=>e._id===i);return a?(a.localName=s,o.b.get(e,t,"assetNames").then((n={})=>(null===s?delete n[i]:n[i]=s,o.b.set(e,t,"assetNames",n)))):Promise.resolve()},setAssetDensityScalePrefs:({bid:e,format:t,assetDensityScalePrefsOfFormat:n})=>o.b.get(e,"assetDensityScalePrefs").then(i=>o.b.set(e,"assetDensityScalePrefs",Object.assign({},i,{[t]:n}))),changeAssetNamingConvention:({bid:e,assetNamingConvention:t})=>o.b.set(e,"assetNamingConvention",t),toggleSVGOptimization:({bid:e,showOptimizedSVG:t})=>o.b.set(e,"showOptimizedSVG",t),dismissNoResourceInfo:({bid:e})=>o.b.set(e,"noResourceInfoDismissed",!0),markSlackReconnectionAuntieAsSeen:({bid:e})=>o.b.set(e,"slackReconnectionAuntieSeen",!0),hideNoVectorAssetInfo:()=>o.d.set("noVectorAssetInfoHidden",!0),hideDensityMismatchWarning:()=>o.d.set("densityMismatchWarningHidden",!0),hideSourceFileInfo:()=>o.d.set("sourceFileInfoHidden",!0),dismissFlowLinkInfo:()=>o.d.set("flowLinkInfoDismissed",!0),enableDevMove:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","true"),disableDevMode:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","false"),setConnectedComponentsLocalWorkspace:({bid:e,barrelType:t,workspace:n})=>t===a.a.PROJECT?o.b.set(e,"connectedComponentsLocalWorkspace",n):o.c.set(e,"connectedComponentsLocalWorkspace",n)};i.a.register(e=>{switch(e.type){case s.a.CHANGE_ASSET_NAME:r.changeAssetName(e);break;case s.a.CHANGE_ASSET_DENSITY_SCALE_PREF:r.setAssetDensityScalePrefs(e);break;case s.a.CHANGE_ASSET_NAMING_CONVENTION:r.changeAssetNamingConvention(e);break;case s.a.TOGGLE_SVG_OPTIMIZATION:r.toggleSVGOptimization(e);break;case s.a.DISMISS_NO_RESOURCE_INFO:r.dismissNoResourceInfo(e);break;case s.a.HIDE_SLACK_RECONNECTION_AUNTIE:r.markSlackReconnectionAuntieAsSeen(e);break;case s.a.HIDE_NO_VECTOR_ASSET_INFO:r.hideNoVectorAssetInfo();break;case s.a.HIDE_DENSITY_MISMATCH_WARNING:r.hideDensityMismatchWarning();break;case s.a.HIDE_SOURCE_FILE_INFO:r.hideSourceFileInfo();break;case s.a.DISMISS_FLOW_LINK_INFO:r.dismissFlowLinkInfo();break;case s.a.ENABLE_DEV_MODE:r.enableDevMove();break;case s.a.DISABLE_DEV_MODE:r.disableDevMode();break;case s.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:r.setConnectedComponentsLocalWorkspace(e)}})},function(e,t,n){"use strict";var i=n(12),s=n(119),a=n(38),o=n(18),r=n(27);function l(e){const t=`${e}-workspace-path`;o.a.ipcRenderer.removeAllListeners(t),o.a.ipcRenderer.once(t,(e,t)=>{s.a.setConnectedComponentsWorkspacePath(t)})}const c={addToSlack({bid:e,barrelType:t,name:n}){o.a.ipcRenderer.send("add-to-slack",{id:e,barrelType:t,name:n})},getConnectedComponentsEditorInfo({bid:e}){o.a.ipcRenderer.removeAllListeners("editor-info"),o.a.ipcRenderer.once("editor-info",(e,t)=>{s.a.setConnectedComponentsEditorInfo(t)}),o.a.ipcRenderer.send("query-editor-info",{bid:e})},setConnectedComponentsEditorPreference({extension:e,editor:t}){o.a.ipcRenderer.send("set-default-editor",{extension:e,editor:t})},selectConnectedComponentsWorkspaceFolder({bid:e}){l(e),o.a.ipcRenderer.send("select-connected-components-workspace-folder",{bid:e})},openComponentFileInEditor({bid:e,filePath:t,editor:n}){l(e),o.a.ipcRenderer.send("open-file-in-editor",{bid:e,filePath:t,editor:n})}};a.a.register(e=>{if(r.a.isWindowsApp)switch(e.type){case i.a.ADD_TO_SLACK:c.addToSlack(e);break;case i.a.GET_CONNECTED_COMPONENTS_EDITOR_INFO:c.getConnectedComponentsEditorInfo(e);break;case i.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:c.setConnectedComponentsEditorPreference(e);break;case i.a.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER:c.selectConnectedComponentsWorkspaceFolder(e);break;case i.a.OPEN_COMPONENT_FILE_IN_EDITOR:c.openComponentFileInEditor(e)}})},function(e,t){const n=/[&<>"']/,i=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r=e=>o[e];const l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function c(e){return e.replace(l,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const d=/(^|[^\[])\^/g;const u=/[^\w:]/g,h=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const p={},g=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,f=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(e,t){p[" "+e]||(g.test(e)?p[" "+e]=e+"/":p[" "+e]=y(e,"/",!0));const n=-1===(e=p[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(m,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(f,"$1")+t:e+t}function y(e,t,n){const i=e.length;if(0===i)return"";let s=0;for(;s<i;){const a=e.charAt(i-s-1);if(a!==t||n){if(a===t||!n)break;s++}else s++}return e.substr(0,i-s)}e.exports={escape:function(e,t){if(t){if(n.test(e))return e.replace(i,r)}else if(s.test(e))return e.replace(a,r);return e},unescape:c,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,i)=>(i=(i=i.source||i).replace(d,"$1"),e=e.replace(t,i),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(c(n)).replace(u,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!h.test(n)&&(n=b(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},resolveUrl:b,noopTest:{exec:function(){}},merge:function(e){let t,n,i=1;for(;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,(e,t,n)=>{let i=!1,s=t;for(;--s>=0&&"\\"===n[s];)i=!i;return i?"|":" |"}).split(/ \|/);let i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n},rtrim:y,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let i=0,s=0;for(;s<n;s++)if("\\"===e[s])s++;else if(e[s]===t[0])i++;else if(e[s]===t[1]&&--i<0)return s;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}}},function(e,t,n){"use strict";var i=n(0),s=n(21);t.a=function(e){const{asset:t,descriptors:n}=e,a=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["asset","descriptors"]),o=Object(s.f)(t);return i.h("img",Object.assign({src:o,srcset:Object(s.g)(o,n)},a))}},function(e,t,n){"use strict";var i=n(290);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(412);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(100);t.a=class extends s.a{render(){const e=this.props,{class:t,children:n,type:s}=e,a=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["class","children","type"]),o=`<${s} ${Object.entries(a).map(([e,t])=>`${e}="${t}"`).join(" ")}></${s}>`;return i.h("span",{class:t,dangerouslySetInnerHTML:{__html:o}})}}},function(e,t,n){"use strict";var i=n(30),s=n(88),a=n(125),o=n(53),r=n(145),l=n(6);function c(e){if(!e.pid){const{barrelId:t}=i.a.getState();e.pid=t}return e}const d={changeSortType(e){a.a.dispatch({type:o.a.CHANGE_SORT_TYPE,sortType:e})},changeFilterValue(e){a.a.dispatch({type:o.a.CHANGE_FILTER_VALUE,filterValue:e})},toggleFixedThumbnailSize(){a.a.dispatch({type:o.a.TOGGLE_FIXED_THUMBNAIL_SIZE})},changeSidebarWidth(e){a.a.dispatch({type:o.a.CHANGE_SIDEBAR_WIDTH,sidebarWidth:e})},changeTagFilter(e){a.a.dispatch({type:o.a.CHANGE_TAG_FILTER,tagFilter:e})},changeJiraIssueFilter(e){a.a.dispatch({type:o.a.CHANGE_JIRA_ISSUE_FILTER,jiraIssueFilter:e})},setCollapsedSections(e){a.a.dispatch({type:o.a.SET_COLLAPSED_SECTIONS,collapsedSections:e})},expandSection(e){a.a.dispatch({type:o.a.EXPAND_SECTION,seid:e})},collapseSection(e){a.a.dispatch({type:o.a.COLLAPSE_SECTION,seid:e})},downloadScreens(e,t){a.a.dispatch({type:o.a.DOWNLOAD_SCREENS,screens:e,fileName:t})},downloadScreen(e){const t=r.a.getScreen({sid:e});d.downloadScreens([t],t.name)},downloadScreensOfTag(e){const{screens:t}=s.a.getBarrel(),n=t.filter(t=>t.tags&&t.tags.includes(e));d.downloadScreens(n,`${e}.zip`)},highlightScreens(e){a.a.dispatch({type:o.a.HIGHLIGHT_SCREENS,sids:e})},unhighlightScreen(e){a.a.dispatch({type:o.a.UNHIGHLIGHT_SCREEN,sid:e})},downloadScreensOfSection(e){const{sections:t,screens:n}=s.a.getBarrel(),i=t.find(t=>t._id===e),a=i.screens.map(e=>n.find(t=>t._id===e));d.downloadScreens(a,`${i.name}.zip`)},highlightSection(e){a.a.dispatch({type:o.a.HIGHLIGHT_SECTION,seid:e})},unhighlightSection(){a.a.dispatch({type:o.a.UNHIGHLIGHT_SECTION})},generateShortlink(e){a.a.dispatch({type:o.a.GENERATE_SHORTLINK,longURL:e})},setShortlink(e,t){a.a.dispatch({type:o.a.SET_SHORTLINK,longURL:e,shortURL:t})},splitSection(e){const{sections:t}=s.a.getBarrel(),n=t.find(t=>t.screens.includes(e)),i=n.screens.indexOf(e),a=t.findIndex(e=>e._id===n._id),o=n.screens.slice(i),r={_id:`newSectionFromSplit${Object(l.e)()}`,name:"Untitled section",screens:o};this.addSection({section:r,index:a+1})},addSection(e){const{pid:t,section:n,index:i,syncWithApi:s=!1}=c(e);a.a.dispatch({type:o.a.ADD_SECTION,pid:t,section:n,index:i,syncWithApi:s})},createSection(e){const{pid:t,seid:n,name:i}=c(e),{sections:r}=s.a.getBarrel(),l=r.findIndex(e=>e._id===n),d=r[l],u=Object.assign({},d,{name:i});a.a.dispatch({type:o.a.CREATE_SECTION,pid:t,section:u,index:l,syncWithApi:!0})},convertTagToSection(e){const{pid:t,tag:n}=c(e),{screens:i,sections:[r]}=s.a.getBarrel(),d=i.filter(e=>e.tags&&e.tags.includes(n)).map(e=>e._id),u=[...r.screens],h={_id:`newSectionFromTag${Object(l.e)()}`,name:n,screens:d};a.a.dispatch({type:o.a.CONVERT_TAG_TO_SECTION,pid:t,section:h,index:1,defaultSectionId:r._id,oldDefaultSectionScreens:u,syncWithApi:!0})},updateSection(e){const{pid:t,seid:n,sectionData:i,highlight:s=!1}=c(e);a.a.dispatch({type:o.a.UPDATE_SECTION,pid:t,seid:n,sectionData:i,highlight:s})},renameSection(e){const{pid:t,seid:n,name:i,onError:r,syncWithApi:l=!1}=c(e);let d;if(l){const{sections:e}=s.a.getBarrel();({name:d="Untitled section"}=e.find(e=>e._id===n)||{})}a.a.dispatch({type:o.a.RENAME_SECTION,pid:t,seid:n,name:i,oldName:d,onError:r,syncWithApi:l})},updateSectionDescription(e){const{pid:t,seid:n,description:i,onError:r,syncWithApi:l=!1}=c(e);let d;if(l){const{sections:e}=s.a.getBarrel();({description:d=""}=e.find(e=>e._id===n)||{})}a.a.dispatch({type:o.a.UPDATE_SECTION_DESCRIPTION,pid:t,seid:n,description:i,oldDescription:d,onError:r,syncWithApi:l})},updateSectionOrder(e){const{pid:t,seid:n,index:i,syncWithApi:r=!1}=c(e);let l;if(r){const{sections:e}=s.a.getBarrel();l=e.findIndex(e=>e._id===n)}a.a.dispatch({type:o.a.UPDATE_SECTION_ORDER,pid:t,seid:n,index:i,oldIndex:l,syncWithApi:r})},removeSection(e){const{pid:t,seid:n,syncWithApi:i=!1}=c(e);let r,l;if(i){const{sections:e}=s.a.getBarrel({bid:t});l=e[r=e.findIndex(e=>e._id===n)]}a.a.dispatch({type:o.a.REMOVE_SECTION,pid:t,seid:n,index:r,removedSection:l,syncWithApi:i})},updateScreenOrder(e){const{pid:t,screens:n,targetSectionId:i,targetIndex:r,syncWithApi:l=!1}=c(e),d=s.a.getBarrel({bid:t});if(!d.complete)return;const{sections:u}=d;let h;l&&(h=n.map(e=>{const{_id:t,screens:n}=u.find(t=>t.screens.includes(e));return{sourceSectionId:t,sourceIndex:n.findIndex(t=>t._id===e)}}));let p=r;if(void 0===r){const{screens:{length:e}}=u.find(e=>e._id===i);p=e}a.a.dispatch({type:o.a.UPDATE_SCREEN_ORDER,pid:t,screens:n,targetSectionId:i,targetIndex:p,oldIndices:h,syncWithApi:l})}};t.a=d},function(e,t,n){"use strict";var i=n(379),s=n(516);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";t.a=function(e,t){if(!t)return{};for(const n of e){const e=s(n,"_id",t);if(e)return{barrelId:n.id,component:e}}return{}},t.b=function(e,t,n){if(!e||!t||!n)return null;const i=function e(t,n,i=[]){if(t===n)return[t,...i];if(!t.layers||!t.layers.length)return null;for(const s of t.layers){const a=e(s,n,[t,...i]);if(a)return a}return null}(e,t);if(!i)return null;for(const s of i){const e=s.componentName;if(!e)continue;const{component:t}=a(n,e);if(t)return{rect:s.absoluteRect,_id:t._id,name:t.name}}return null},t.d=function(e,t){return e.filter(({versions:[{snapshot:{componentNames:e}}]})=>e&&e.includes(t))},t.c=function(e,t,n){if(!e||!t)return null;let s=null,a=0;for(const o of t){const t=n?o.localConnectedComponents:o.connectedComponents;if(t)for(const n of t){const{zeplinNames:t}=n;if(t.includes(e))return n;for(const o of t)if(new RegExp(`^${Object(i.i)(o)}$`.replace(/\*/g,".*")).test(e)){const e=o.replace(/\*/g,"").length;(!s||e>a)&&(s=n,a=e)}}}return s};var i=n(1);function s({componentSections:e},t,n){let i;for(const a of e){if(i=a.components.find(e=>e[t]===n))return i;if(i=s(a,t,n))return i}return null}function a(e,t){if(!t)return{};for(const n of e){const e=s(n,"name",t);if(e)return{barrelId:n.id,component:e}}return{}}},function(e,t,n){"use strict";var i=n(922);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e,{remove:t=!0}={}){if("apiData"in Zeplin&&e in Zeplin.apiData){const n=Zeplin.apiData[e];return t&&delete Zeplin.apiData[e],n}}},function(e,t,n){"use strict";var i=n(0),s=n(6),a=n(4),o=n.n(a),r=n(3),l=n(21),c=n(146),d=n(293);n.n(d);class u extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleMaskChange=this.handleMaskChange.bind(this),this.state={value:e.value,focusWithin:!1,isMasked:"password"===e.type}}handleInputChange(e){const t=e.target.value;this.setState({value:t});const{onInput:n}=this.props;n(t)}handleBlur(){const{onBlur:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!1})}handleFocus(){const{onFocus:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!0})}handleMaskChange(){this.setState(e=>({isMasked:!e.isMasked}))}componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({value:e.value})}render(){const{value:e,focusWithin:t,isMasked:n}=this.state,{label:a,onKeyPress:o,primary:d,valid:u,extraInfoText:h,extraInfoLoading:p,tipText:g,showTipText:m,minLength:f,maxLength:b,autoComplete:y,autofocus:S,inputRef:v,type:C}=this.props;let E;d&&u?E="img/icTickBlue.svg":u?E="img/icTick.svg":!1===u&&(E="img/icInvalid.svg");let O=C;const T="password"===C;T&&!n&&(O="text");const k=Object(s.e)(),D=(t||m)&&!!g,_=Object(r.a)("inputArea",{focus:t,typed:!!e});return i.h("div",{class:Object(r.a)("inputWithLabelContainer",{primary:d,invalid:!1===u})},i.h("div",{class:_,title:a},i.h("input",{id:k,value:e,name:"textInput",type:O,placeholder:a,minLength:f,maxLength:b,ref:v,autoComplete:y,autofocus:S,onInput:this.handleInputChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyPress:o}),i.h("label",{for:k,class:"inputLabel"},a),i.h("div",{class:"extraInputInfo"},p&&i.h("img",{src:Object(l.f)("img/icSpinnerBlueTheme.svg"),class:"spinner"}),!!E&&i.h("img",{src:Object(l.f)(E)}),i.h("span",{class:"extraInfoText"},h),T&&i.h("label",{class:"showPasswordContainer"},i.h(c.a,{onChange:this.handleMaskChange,checked:!n}),i.h("span",{class:"showText"},"Show")))),D&&i.h("div",{class:"tipText"},g))}}u.defaultProps={value:"",type:"text",maxLength:100,autoComplete:"off",autofocus:!1},u.propTypes={value:o.a.string,label:o.a.string,onKeyPress:o.a.func,onInput:o.a.func,onBlur:o.a.func,onFocus:o.a.func,primary:o.a.bool,valid:o.a.bool,extraInfoText:o.a.string,extraInfoLoading:o.a.bool,tipText:o.a.object,showTipText:o.a.boolean,maxLength:o.a.number,autoComplete:o.a.string,type:o.a.string,inputRef:o.a.func},t.a=u},function(e,t,n){"use strict";t.a=function(e){var t=Object.assign({},e);return delete t.class,i.h("div",{class:Object(s.a)("checkboxComponent",e.class)},i.h("input",Object.assign(t,{type:"checkbox"})),i.h("div",{class:"indicator"}))};var i=n(0),s=n(3),a=n(292);n.n(a)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(392);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(296),a=n(14);class o extends i.Component{constructor(...e){var t;return t=super(...e),this.findNode=(e=>"string"==typeof e?document.querySelector(e):e),t}componentDidMount(){const{didRender:e}=this.props,{portal:t}=this.nodeRefs;e&&e(t.firstChild)}render(){const{children:e,into:t}=this.props;return Object(s.a)(i.h("div",{ref:Object(a.a)(this,"portal")},e),this.findNode(t))}}o.defaultProps={into:document.body},t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i=n(194),s=n(0);function a(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}!function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.shouldComponentUpdate=function(e,t){return o(this.props,e)||o(this.state,t)}}(s.Component);var r=s.options.__b;s.options.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),r&&r(e)};var l=function(e,t){return e?Object(s.toChildArray)(e).reduce(function(e,n,i){return e.concat(t(n,i))},[]):null},c=(s.toChildArray,s.options.__e);function d(e){return e&&((e=a({},e)).__c=null,e.__k=e.__k&&e.__k.map(d)),e}function u(e){this.__u=0,this.o=null,this.__b=null}function h(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function p(){this.i=null,this.l=null}s.options.__e=function(e,t,n){if(e.then)for(var i,s=t;s=s.__;)if((i=s.__c)&&i.__c)return i.__c(e,t.__c);c(e,t,n)},(u.prototype=new s.Component).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var i=h(n.__v),s=!1,a=function(){s||(s=!0,i?i(o):o())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){a(),t.__c&&t.__c()};var o=function(){var e;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(a,a)},u.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=d(this.__b),this.__b=null),[Object(s.createElement)(s.Component,null,t.u?null:e.children),t.u&&e.fallback]};var g=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(p.prototype=new s.Component).u=function(e){var t=this,n=h(t.__v),i=t.l.get(e);return i[0]++,function(s){var a=function(){t.props.revealOrder?(i.push(s),g(t,e,i)):s()};n?n(a):a()}},p.prototype.render=function(e){this.i=null,this.l=new Map;var t=Object(s.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},p.prototype.componentDidUpdate=p.prototype.componentDidMount=function(){var e=this;e.l.forEach(function(t,n){g(e,n,t)})};var m=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function f(e){var t=this,n=e.container,i=Object(s.createElement)(m,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.v.parentNode&&t.s.removeChild(t.v),Object(s._unmount)(t.h),t.p=!1),e.vnode?t.p?(n.__k=t.__k,Object(s.render)(i,n),t.__k=n.__k):(t.v=document.createTextNode(""),Object(s.hydrate)("",n),n.appendChild(t.v),t.p=!0,t.s=n,Object(s.render)(i,n,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),Object(s._unmount)(t.h)),t.h=i,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),Object(s._unmount)(t.h)},null}function b(e,t){return Object(s.createElement)(f,{vnode:e,container:t})}var y=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;s.Component.prototype.isReactComponent={};var S="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;var v=s.options.event;function C(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}s.options.event=function(e){v&&(e=v(e)),e.persist=function(){};var t=!1,n=!1,i=e.stopPropagation;e.stopPropagation=function(){i.call(e),t=!0};var s=e.preventDefault;return e.preventDefault=function(){s.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var E={configurable:!0,get:function(){return this.class}},O=s.options.vnode;s.options.vnode=function(e){e.$$typeof=S;var t=e.type,n=e.props;if(n.class!=n.className&&(E.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",E)),"function"!=typeof t){var i,a,o;for(o in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(Object(s.toChildArray)(n.children).forEach(function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)}),delete n.value),n)if(i=y.test(o))break;if(i)for(o in a=e.props={},n)a[y.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=n[o]}!function(t){var n=e.type,i=e.props;if(i&&"string"==typeof n){var s={};for(var a in i)/^on(Ani|Tra|Tou)/.test(a)&&(i[a.toLowerCase()]=i[a],delete i[a]),s[a.toLowerCase()]=a;if(s.ondoubleclick&&(i.ondblclick=i[s.ondoubleclick],delete i[s.ondoubleclick]),s.onbeforeinput&&(i.onbeforeinput=i[s.onbeforeinput],delete i[s.onbeforeinput]),s.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(i.type))){var o=s.oninput||"oninput";i[o]||(i[o]=i[s.onchange],delete i[s.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(C(t.prototype,"componentWillMount"),C(t.prototype,"componentWillReceiveProps"),C(t.prototype,"componentWillUpdate"),t.m=!0),O&&O(e)};i.j,i.h,i.d,i.f,i.i,i.e,i.g,i.a,i.b,i.c,s.createElement,s.createContext,s.createRef,s.Fragment,s.Component},function(e,t,n){"use strict";var i=n(66),s=n(44),a=n(65),o=n(49);const r={updatePageState(e){i.a.dispatch({type:s.a.UPDATE_PAGE_STATE,updateState:e})},changeSelectedTab(e){i.a.dispatch({type:s.a.CHANGE_SELECTED_TAB,tab:e})},changeSelectedOrganization(e){i.a.dispatch({type:s.a.CHANGE_SELECTED_ORGANIZATION,oid:e})},changeFilterValue(e){i.a.dispatch({type:s.a.CHANGE_FILTER_VALUE,filterValue:e})},changeWorkflowStatusFilter({workflowStatus:e}){const{selectedOrganizationId:t}=a.a.getState(),{name:n}=o.a.getOrganization(t);i.a.dispatch({type:s.a.CHANGE_WORKFLOW_STATUS_FILTER,oid:t,organizationName:n,workflowStatusFilter:e._id,workflowStatus:e})},changeProjectSelectedSortType(e){i.a.dispatch({type:s.a.CHANGE_PROJECT_SELECTED_SORT_TYPE,sortType:e})},unhighlightBarrel(e){i.a.dispatch({type:s.a.UNHIGHLIGHT_BARREL,bid:e})},setStyleguidesTabVisited(){i.a.dispatch({type:s.a.SET_STYLEGUIDES_TAB_VISITED})},openCreateProjectDialog(){i.a.dispatch({type:s.a.OPEN_CREATE_PROJECT_DIALOG})},closeCreateProjectDialog(){i.a.dispatch({type:s.a.CLOSE_CREATE_PROJECT_DIALOG})},openCreateStyleguideDialog(){i.a.dispatch({type:s.a.OPEN_CREATE_STYLEGUIDE_DIALOG})},closeCreateStyleguideDialog(){i.a.dispatch({type:s.a.CLOSE_CREATE_STYLEGUIDE_DIALOG})},hideLoading(){i.a.dispatch({type:s.a.HIDE_LOADING})},openUpgradePlanDialog(e){i.a.dispatch({type:s.a.OPEN_UPGRADE_PLAN_DIALOG,barrelType:e})},closeUpgradePlanDialog(){i.a.dispatch({type:s.a.CLOSE_UPGRADE_PLAN_DIALOG})},setOrganizationBarrelsLoading(e){i.a.dispatch({type:s.a.SET_ORGANIZATION_BARRELS_LOADING,oid:e})},trackBarrelClick({isFromPinArea:e}){const{selectedOrganizationId:t}=a.a.getState(),{name:n}=o.a.getOrganization(t)||{};i.a.dispatch({type:s.a.TRACK_BARREL_CLICK,oid:t,organizationName:n,isFromPinArea:e})}};t.a=r},function(e,t,n){"use strict";var i=n(65),s=n(27),a=n(60),o=n(35),r=n(1),l=n(31),c=n(10);const d={[c.a.PROJECT]:r.C.canCreateProject,[c.a.STYLEGUIDE]:r.C.canCreateStyleguide};function u(e){const{barrelId:t}=l.e.getState(),{selectedOrganizationId:n}=i.a.getState(),{paymentPlan:r}=a.b.getState(),{organizations:c,organizationProfiles:u}=o.e.getState(),h=t?l.d.findBarrelOrganizationId(t):n,p="free"!==r.id;if("user"===h)return p||s.a.isWindowsApp;const g=c.find(e=>e._id===h),m=u[h];return g&&"suspended"!==g.status&&m&&d[e](m)}t.a={canCreateProject:function(){return u(c.a.PROJECT)},canCreateStyleguide:function(){return u(c.a.STYLEGUIDE)}}},function(e,t,n){"use strict";n(300)},function(e,t,n){"use strict";var i=n(44),s=n(66);const a={onWorkflowStatusFilterChange({oid:e,organizationName:t,workflowStatus:n}){mixpanel.master.track("Filtered by status",{Name:n.name,Color:n.color.toHexString(),"Organization ID":e,"Organization Name":t})}};s.a.register(e=>{switch(e.type){case i.a.CHANGE_WORKFLOW_STATUS_FILTER:return a.onWorkflowStatusFilterChange(e)}})},,,,,,function(e,t){function n(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1},getDefaults:n,changeDefaults:function(t){e.exports.defaults=t}}},function(e,t,n){"use strict";var i=n(285),s=(n(53),n(125),n(143));n(500);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";t.a={SHOW_IMPORTS_LIST:"showImportsList",HIDE_IMPORTS_LIST:"hideImportsList",HIDE_IMPORTS_INDICATOR:"hideImportsIndicator",SET_SUGGESTED_RESOURCES:"setSuggestedResources",HANDLE_IMPORTS:"handleImports",GO_TO_IMPORTED_VERSION:"goToImportedVersion",RETRY_IMPORT:"retryImport",CANCEL_IMPORT:"cancelImport",RETRY_GET_PROJECT_FOR_IMPORTS:"retryGetProjectForImports",CLEAR_IMPORTS:"clearImports",HIDE_COMPONENT_LIMIT_HINT:"hideComponentLimitHint",SEE_PLANS:"seePlans"}},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(383),s=(n(213),n(214),n(384));n(521);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n,transparent:s}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zm0-8.292L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}),i.h("path",{fill:s?"transparent":"#fff",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}))}s.defaultProps={color:"var(--gandalf)",width:14,height:14},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n,class:s}){return i.h("svg",{width:t,height:n,class:s,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.751 8.364c1.002-1.002 2.631-1.002 3.633 0l7.252 7.252c1.002 1.002 1.002 2.631 0 3.633-1.002 1.001-2.631 1.001-3.633 0l-3.26-3.263-3.862 3.863c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 3.862-3.862-3.26-3.263c-.96-.954-1.002-2.492-.127-3.495zm2.903.73c-.598-.598-1.574-.598-2.174.001-.597.593-.597 1.573.001 2.167l7.252 7.257c.599.598 1.575.598 2.173 0 .599-.599.599-1.575 0-2.173zm8.606-4.432l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n,class:s}){return i.h("svg",{width:t,height:n,class:s,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.807 4.605l.047.042 14.5 14.499c.195.195.195.512 0 .707-.18.18-.465.195-.661.042l-.047-.042-14.5-14.499c-.195-.195-.195-.512 0-.707.18-.18.465-.195.661-.042zm1.135 3.543c.194.196.193.513-.003.708-.56.557-.583 1.462-.066 2.048l.068.071 7.079 7.085c.585.585 1.54.585 2.125 0 .196-.196.513-.196.708 0 .196.195.196.512 0 .708-.947.947-2.47.975-3.451.086l-.09-.087-3.197-3.2c-.016.037-.037.072-.062.104l-.043.049-4.129 4.129c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 4.13-4.128c.044-.045.096-.08.15-.105l-3.197-3.2c-.979-.972-.979-2.568 0-3.54.196-.194.513-.193.708.003zM16.26 4.662l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}s.defaultProps={color:"var(--peach)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({width:e,color:t}){return i.h("svg",{width:e,viewBox:"0 0 16 15"},i.h("path",{fill:t,d:"M16 12.002c0 .51-.385.933-.88.991l-.115.007h-2.817l-1.925 1.925L8.337 13H1c-.512 0-.934-.386-.992-.882L0 12V1C0 .486.387.064.884.006L1.001 0H15c.513 0 .936.386.993.883L16 1v11.002zM8.49.998L1.001 1 1 12.002 8.544 12h.207l1.512 1.511L11.774 12h3.23l-.003-4.477L15 7.5V1H8.5L8.49.999zM12.5 7.5c.277 0 .5.224.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.224-.5-.5 0-.246.177-.45.41-.492L3.5 7.5h9zm0-3c.277 0 .5.223.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.223-.5-.5 0-.246.177-.45.41-.492L3.5 4.5h9z"}))}s.defaultProps={color:"var(--teflon)",width:16},t.a=s},function(e,t,n){"use strict";t.a=function*(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=t.map(e=>e.next());if(e.some(e=>e.done))return e.map(e=>e.value);yield e.map(e=>e.value)}}},function(e,t,n){"use strict";t.d=function(e,t,n){if(!t)return[e];const i={left:Math.min(e.absoluteRect.x,t.absoluteRect.x),top:Math.min(e.absoluteRect.y,t.absoluteRect.y),right:Math.max(e.absoluteRect.x+e.rect.width,t.absoluteRect.x+t.rect.width),bottom:Math.max(e.absoluteRect.y+e.rect.height,t.absoluteRect.y+t.rect.height)};let s=function e(t,n){let i=[];for(let s=0;s<t.length;s++){let a=t[s],o=a.absoluteRect.x+a.rect.width,r=a.absoluteRect.y+a.rect.height;a.absoluteRect.x<=n.left&&a.absoluteRect.y<=n.top&&o>=n.right&&r>=n.bottom&&(("group"!==a.type||["bottom","top"].includes(a.interactionLevel))&&i.push(a),"group"===a.type&&(i=i.concat(e(a.layers,n))))}return i}(n.layers,i);e===t&&(s=s.filter(t=>!function(e,t){return e.absoluteRect.x===t.absoluteRect.x&&e.absoluteRect.y===t.absoluteRect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}(t,e)));if(!s.length)return[n.layers[0]];return function(e){return e.sort((e,t)=>e.rect.width*e.rect.height-t.rect.width*t.rect.height)}(s)},t.a=function(e,t,n,a){const u={},p=new Set;for(let i=0;i<a.contents.length;i++){const{format:e,density:t,densityScale:n=Object(s.o)(t)}=a.contents[i];e in u?u[e]++:u[e]=1,p.add(n)}let g;g=!("jpg"in u)||"svg"in u||"pdf"in u||u.jpg!==u.png?"svg"in u?function(e){if("optimized"in e)return Promise.resolve();return e.optimized=Object.assign({},e,{url:`${i.p}/svgo/${encodeURIComponent(e.url)}`}),Promise.all([e,e.optimized].map(h)).then(([{length:t},{length:n}])=>{e.optimized.percent=Math.round((t-n)/t*c)}).catch(t=>{e.optimized=null})}(a.contents.find(({format:e})=>"svg"===e)):Promise.resolve():function(e,t){if("percent"in e)return Promise.resolve();let n=0,i=0,s=0;return Promise.all(e.contents.map(h)).then(a=>{t.forEach(e=>{const t=a.filter(t=>t.densityScale===e).reduce((e,t)=>(e[t.format]=t.length,e),{});i+=Number(t.jpg)/Number(t.png),s+=Number(t.png)/Number(t.jpg)}),i=Math.round(c-i/t.size*c),s=Math.round(c-s/t.size*c),i>=d?n={type:"jpg",diff:i}:s>=d&&(n={type:"png",diff:s}),n&&(e.percent=n)}).catch(e=>{})}(a,p);const m=function(e){return e.find(({density:e,densityScale:t=Object(s.o)(e),format:n})=>t===l.a.BASE&&"png"===n)}(a.contents),f=!m||"lightness"in a?Promise.resolve():Object(o.d)(m.url).then(e=>Object.assign(a,e)).catch(e=>null),b="localName"in a?Promise.resolve():function(e,t,n,i){const s=n.assets.find(e=>e._id===i);if(!s)return Promise.resolve();if("localName"in s)return Promise.resolve(s.localName);return r.b.get(e,t,"assetNames").then(e=>e&&e[i])}(e,t,n,a._id).then(e=>{e&&Object.assign(a,{localName:e})});return Promise.all([g,f,b])},t.b=function(e,{_id:t,width:n,height:i,backgroundColor:s}){return{_id:t,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:n,height:i},type:"shape",fills:s?[{fillType:"color",color:s}]:[],borders:[],shadows:[]}},t.f=function e(t,n={x:0,y:0}){for(const i of t)i.absoluteRect={x:i.rect.x+n.x,y:i.rect.y+n.y,width:i.rect.width,height:i.rect.height},"group"===i.type&&(Array.isArray(i.layers)?e(i.layers,i.absoluteRect):i.layers=[])},t.e=function(){let e=null,t=null;return{reset(){e=null,t=null},getLayerToSelectFromClick({ev:n,layerData:i,snapshot:{layers:a,width:o,height:r},selectedLayer:l,snapshotDetailRect:c}){let d=i;const h=(n.clientX-c.left)/c.width*o,g=(n.clientY-c.top)/c.height*r,m=p(a,h,g);if(e&&t){const n=p(a,e,t);if(Math.hypot(e-h,t-g)>u||!Object(s.a)(m,n,(e,t)=>e._id===t._id))d=m[0];else{const e=m.findIndex(e=>e._id===l._id);d=m[(e+1)%m.length]}}else d=m[0];return e=h,t=g,d}}},t.c=function(e,t,n){if(!n||!t.snapshot.links)return;const i=t.snapshot.links.find(e=>Object(s.F)(e.rect,n.absoluteRect));if(!i)return;let o,r,l;switch(i.destination.type){case"previous":r="previous screen";break;case"screen":r=i.destination.name,(o=e.findScreenByName(i.destination.name))&&(l=Object(a.j)("project-screen",{url:{pid:e.id,sid:o._id}}));break;default:return}return{name:r,url:l}};var i=n(5),s=n(1),a=n(8),o=n(21),r=n(24),l=n(33);const c=100,d=10,u=40;function h(e){const{url:t,format:n,density:i,densityScale:a=Object(s.o)(i)}=e;return fetch(t,{method:"HEAD"}).then(e=>({length:e.headers.get("Content-Length"),densityScale:a,format:n}))}function p(e,t,n){let i=[];for(let s=e.length-1;s>=0;s--){let a=e[s],o=a.absoluteRect.x+a.rect.width,r=a.absoluteRect.y+a.rect.height;a.absoluteRect.x<=t&&a.absoluteRect.y<=n&&o>=t&&r>=n&&("group"===a.type?("top"===a.interactionLevel&&i.push(a),i=i.concat(p(a.layers,t,n)),"bottom"===a.interactionLevel&&i.push(a)):i.push(a))}return i}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(509),s=n(510),a=n(10),o=n(455);const r=["load","layer","screen","component","comment","colors","textStyles","spacing","exportColors","exportTextStyles","exportSpacing","styleguideColors","styleguideTextStyles","exportStyleguideColors","exportStyleguideTextStyles"];class l{constructor(e){this._id=e._id,this._name=e.name,this._description=e.description,this._manifestURL=e.manifestURL,this._default=e.default,this._users=e.users,this._manifest=e.manifest,this._local=e.local,this._options={},this._barrelType="",this._loaded=!1,this._methods=[]}static loadManifest(e){return fetch(e).then(t=>{if(!t.ok)throw Error("Cannot load extension manifest: "+e);return t.json()})}static createLocal(e){const t=e.endsWith("manifest.json")?e:`${e.replace(/\/$/,"")}/manifest.json`;return l.loadManifest(t).then(e=>new l({_id:e.name,name:e.name,description:e.description,manifestURL:t,manifest:e,default:!1,users:[{user:{displayName:Zeplin.user.displayName||Zeplin.user.username},role:"owner"}],local:!0}))}workerLogger(e,t={}){this._local?(console.error(`Zeplin extension error (${this._name}):`,e),console.error("Data:",t)):Raven.captureException(e,{extra:Object.assign({extension:{name:this._name,id:this._id}},t)})}initWorker(e){const t=new i.a(new Worker(Zeplin.config.extensionWorkerPath),{errorLogger:this.workerLogger.bind(this),methods:r});return this._supervisor=t,this._supervisor.load(e)}initOptions(e,t,n){const i=n.reduce((e,t)=>{return e[t.id]=t.default,e},{}),a=s.a.create(e,t,i);return a.getAll().then(e=>{this._storage=a,this._options=e})}load(e,t=a.a.PROJECT){const n=this._manifestURL;return this._barrelType=t,(this._local?Promise.resolve(this._manifest):l.loadManifest(n)).then(t=>(this._manifest=t,this.initOptions(this._id,e,this.optionsSchema).then(()=>this.initWorker(new URL(t.moduleURL,n).toString())).then(e=>(this._loaded=!0,this._methods=e,this)))).catch(()=>this)}reload(){if(this._loaded)return this._supervisor.load(new URL(this._manifest.moduleURL,this._manifestURL).toString())}get manifest(){return this._manifest}get id(){return this._id}get name(){return this._name}get description(){return this._description}get optionsSchema(){return this._manifest&&this._manifest.options||[]}get options(){return this._options}get default(){return this._default}get loaded(){return this._loaded}get author(){const{user:e={displayName:"Anonymous"}}=this._users.find(({role:e})=>"owner"===e);return{displayName:e.displayName,url:this._manifest&&this._manifest.author&&this._manifest.author.url}}get repository(){return this._manifest&&this._manifest.repository}get local(){return this._local}terminate(){this._supervisor&&this._supervisor.terminate(),this._local&&s.a.clear(this._id)}setOption(e,t){this._options[e]=t,this._storage.set(e,t)}getOption(e){return this._options[e]}getContext(e){const t=this._barrelType===a.a.PROJECT,n={options:this._options};return t?n.project=e:n.styleguide=e,{model:"Context",data:n}}getDeprecatedContext(e){return{model:"Context",data:{project:e,options:this._options}}}hasMethod(e){return this._methods.includes(e)}styleguideColors(e){return this.hasMethod("colors")?this._supervisor.colors(this.getContext(e)):this._supervisor.styleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(o.c)(e,"Color")))}styleguideTextStyles(e){return this.hasMethod("textStyles")?this._supervisor.textStyles(this.getContext(e)):this._supervisor.styleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(o.c)(e,"Font")))}styleguideSpacings(e){return this._supervisor.spacing(this.getContext(e))}layer(e,t,n){const i=Object(o.a)(n.snapshot,t.id);return i?this._supervisor.layer(this.getContext(e),i,Object(o.e)(n)):Promise.resolve(null)}screen(e,t,n){return this._supervisor.screen(this.getContext(e),Object(o.e)(t),Object(o.d)(n))}component(e,t,n){return this._supervisor.component(this.getContext(e),Object(o.e)(t),Object(o.b)(n))}comment(e,t){return this._supervisor.comment(this.getContext(e),t)}exportStyleguideColors(e){return this.hasMethod("exportColors")?this._supervisor.exportColors(this.getContext(e)):this._supervisor.exportStyleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(o.c)(e,"Color")))}exportStyleguideTextStyles(e){return this.hasMethod("exportTextStyles")?this._supervisor.exportTextStyles(this.getContext(e)):this._supervisor.exportStyleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(o.c)(e,"Font")))}exportStyleguideSpacings(e){return this._supervisor.exportSpacing(this.getContext(e))}}},function(e,t,n){"use strict";var i=n(518),s=n(308),a=n(309),o=n(519);n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return s.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a})},function(e,t,n){"use strict";t.a=function(e,t){if("pawn"===e)return`Only organization members can ${t}.`;return[i.h("p",{key:"tooltipExplanation"},"Your organization role is ",a.w(e)," ",function(e){const t=a.t(e);return i.h("img",{src:Object(s.f)(`img/${t}.png`),srcSet:`${Object(s.f)(`img/${t}@2x.png`)} 2x, ${Object(s.f)(`img/${t}@3x.png`)} 3x`})}(e)," , only ",a.w("rook"),"s or higher can ",t,"."),i.h("p",{key:"tooltipLink"},i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!")]};var i=n(0),s=n(21),a=n(1)},function(e,t,n){"use strict";var i=n(1489);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"6",cy:"12",r:"2"}),i.h("circle",{cx:"12",cy:"12",r:"2"}),i.h("circle",{cx:"18",cy:"12",r:"2"})))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M9.053 17.599l7.714-7.715-2.651-2.651-7.715 7.714-.994 3.646 3.646-.994zm8.472-8.473l1.326-1.325a.268.268 0 0 0 0-.379l-2.273-2.273a.268.268 0 0 0-.379 0l-1.325 1.326 2.651 2.651zm2.083-.568L9.76 18.406a.262.262 0 0 1-.115.068L4.342 19.99a.268.268 0 0 1-.332-.331l1.515-5.303a.267.267 0 0 1 .069-.115l9.848-9.848a1.34 1.34 0 0 1 1.894 0l2.272 2.272a1.34 1.34 0 0 1 0 1.894z"}))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n,class:s}){return i.h("svg",{class:s,width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"}))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 9 16"},i.h("path",{fill:e,d:"M8.7 14.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-7-7c-.4-.4-.4-1 0-1.4l7-7c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L2.4 8l6.3 6.3z"}))}s.defaultProps={color:"var(--teflon)",width:9,height:16},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,d:"M.3 14.3c-.4.4-.4 1.02 0 1.4.38.4 1 .4 1.4 0l7-7c.4-.4.4-1.02 0-1.4l-7-7C1.3-.1.68-.1.3.3c-.4.38-.4 1 0 1.4L6.6 8 .3 14.3z"}))}s.defaultProps={color:"var(--teflon)",width:9,height:16},t.a=s},function(e,t,n){"use strict";var i=n(0);const s=12,a=8;function o({color:e,width:t,class:n}){const o=t*a/s;return i.h("svg",{class:n,width:t,height:o,viewBox:"0 0 12 8"},i.h("path",{fill:e,d:"M6.003 8c.356 0 .71-.148.982-.442l4.608-4.982c.543-.588.543-1.543-.002-2.132-.546-.593-1.425-.59-1.97-.002L6 4.356 2.383.442C1.84-.145.955-.145.413.444c-.55.593-.548 1.544-.004 2.132l4.605 4.982c.27.293.627.44.984.44L6.002 8z"}))}o.defaultProps={color:"var(--teflon)",width:s},t.a=o},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 6h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm2-1H8a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1z"}))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M5 18h14v-4.5a.5.5 0 1 1 1 0v5a.498.498 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5v-5a.5.5 0 1 1 1 0V18zm6.5-3.625V5.5a.5.5 0 1 1 1 0v8.875l2.654-2.543a.511.511 0 0 1 .7 0 .46.46 0 0 1 0 .671l-3.504 3.358a.511.511 0 0 1-.7 0l-3.505-3.358a.46.46 0 0 1 0-.671.511.511 0 0 1 .701 0l2.654 2.543z"}))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M18 11h-1.5a.5.5 0 1 1 0-1h2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H6v7h12v-7zm-5.5-5.375v8.363a.5.5 0 0 1-1 0V5.625L8.846 8.168a.511.511 0 0 1-.7 0 .46.46 0 0 1 0-.671l3.504-3.358a.511.511 0 0 1 .7 0l3.505 3.358a.46.46 0 0 1 0 .671.511.511 0 0 1-.701 0L12.5 5.625z"}))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 12 12"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.39 6.5H2.5a.5.5 0 0 1 0-1h5.89L6.633 3.77a.446.446 0 0 1 0-.638.462.462 0 0 1 .646 0l2.586 2.55a.446.446 0 0 1 0 .637L7.28 8.868a.462.462 0 0 1-.646 0 .446.446 0 0 1 0-.637L8.389 6.5zM6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12zm0-1A5 5 0 1 0 6 1a5 5 0 0 0 0 10z"}))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s);function o({color:e,width:t,height:n,type:s,opacity:a,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.h("path",{"fill-rule":"nonzero",d:"M17 13.96c0-3.208-5.87-9.538-6.12-9.808a.545.545 0 0 0-.755 0C9.87 4.422 4 10.752 4 13.959c0 3.323 2.915 6.026 6.5 6.026s6.5-2.703 6.5-6.026zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743 2.335 2.573 5.5 6.75 5.5 8.743 0 2.773-2.47 5.027-5.5 5.027zm6.035-14.834c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805a46.216 46.216 0 0 1 1.78-2.048.545.545 0 0 1 .755 0z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.247 13.337l4.731-3.724a.538.538 0 0 1 .725.06.462.462 0 0 1-.063.68l-5.126 4.034a.538.538 0 0 1-.725-.06l-2.316-2.588a.462.462 0 0 1 .064-.68.538.538 0 0 1 .725.059l1.985 2.219z"}),i.h("path",{"fill-rule":"nonzero",d:"M16.941 13.96c0-3.208-6.215-9.538-6.48-9.808a.602.602 0 0 0-.8 0c-.27.27-6.485 6.6-6.485 9.807 0 3.323 3.087 6.026 6.883 6.026s6.882-2.703 6.882-6.026zm-6.882 5.026c-3.214 0-5.824-2.254-5.824-5.027 0-1.998 3.351-6.165 5.824-8.743 2.472 2.573 5.823 6.75 5.823 8.743 0 2.773-2.615 5.027-5.823 5.027zm6.39-14.834c.27.27 6.48 6.6 6.496 9.822 0 3.323-3.087 6.026-6.883 6.026a7.622 7.622 0 0 1-1.588-.17c.42-.246.816-.529 1.18-.844h.398c3.213 0 5.823-2.254 5.823-5.027 0-1.993-3.35-6.17-5.823-8.743a29.453 29.453 0 0 0-1.626 1.789 66.546 66.546 0 0 0-.661-.805c1-1.149 1.794-1.958 1.884-2.048a.602.602 0 0 1 .8 0z"}));case"remove":return i.h("g",{fill:t,"fill-rule":"evenodd",transform:"translate(4 4)",opacity:n},i.h("rect",{width:"8",height:"1",x:"20",y:"7.5",rx:".5"}),i.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"}));default:return i.h("path",{fill:t,d:"M15.056 14.534c0-3.714-6.799-11.046-7.088-11.358a.632.632 0 0 0-.874 0C6.798 3.488 0 10.82 0 14.534c0 3.848 3.376 6.979 7.528 6.979 4.152 0 7.528-3.13 7.528-6.979zm-7.528 5.821c-3.515 0-6.37-2.61-6.37-5.82 0-2.315 3.666-7.141 6.37-10.127 2.704 2.98 6.37 7.818 6.37 10.126 0 3.212-2.861 5.821-6.37 5.821zm6.99-17.18c.294.313 7.087 7.645 7.104 11.377 0 3.848-3.376 6.978-7.528 6.978a7.892 7.892 0 0 1-1.737-.197c.46-.285.892-.612 1.292-.978h.434c3.515 0 6.37-2.61 6.37-5.82 0-2.31-3.666-7.147-6.37-10.127a33.5 33.5 0 0 0-1.778 2.072c-.243-.318-.486-.63-.724-.932a53.524 53.524 0 0 1 2.062-2.372.632.632 0 0 1 .874 0z"})}}(s,e,a))}o.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},o.propTypes={type:a.a.oneOf(["add","tick","remove"])},t.a=o},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s);function o({color:e,width:t,height:n,type:s,opacity:a,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889zM26.733 13.837l4.468-3.724a.488.488 0 0 1 .685.06.48.48 0 0 1-.06.68l-4.84 4.034a.488.488 0 0 1-.685-.06l-2.187-2.588a.48.48 0 0 1 .06-.68.488.488 0 0 1 .684.059l1.875 2.219z"}));case"remove":return i.h("g",{fill:t,transform:"translate(4 5)",opacity:n},i.h("path",{d:"M9.413 12.683L8.007 8.798H2.68l-1.407 3.885H0L4.746 0h1.195l4.738 12.683H9.413zM5.317 1.485L3.041 7.761h4.605L5.37 1.485h-.053zM14.31 11.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}),i.h("rect",{width:"8",height:"1",x:"20",y:"6.5",rx:".5"}));default:return i.h("path",{fill:t,d:"M11.3 18.825l-1.688-4.54H3.218l-1.688 4.54H0L5.698 4h1.434l5.687 14.825H11.3zM6.383 5.736l-2.732 7.336h5.528L6.447 5.736h-.064zM17.178 17.83c1.92 0 3.43-1.326 3.43-3.02v-1.182l-3.25.215c-1.73.113-2.69.843-2.69 2.024 0 1.161 1.023 1.963 2.51 1.963zM16.893 19c-2.163 0-3.64-1.264-3.64-3.134 0-1.828 1.404-2.938 3.936-3.102l3.418-.206v-.924c0-1.542-1.002-2.466-2.711-2.466-1.615 0-2.649.77-2.891 2.065h-1.35c.157-1.911 1.772-3.267 4.272-3.267S22 9.332 22 11.51v7.315h-1.33v-2.034h-.031C20.027 18.116 18.529 19 16.893 19z"})}}(s,e,a))}o.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},o.propTypes={type:a.a.oneOf(["add","tick","remove"])},t.a=o},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0-1A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0 1a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5A.75.75 0 0 1 8 7z"}))}s.defaultProps={color:"var(--teflon)",width:16,height:16},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("g",{fill:e},i.h("rect",{width:"1",height:"12",x:"2",y:"2",rx:".5"}),i.h("path",{"fill-opacity":".3",d:"M3 5.5h11v5H3z"}),i.h("rect",{width:"3",height:"1",x:"1",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"5",rx:".5"}),i.h("rect",{width:"1",height:"12",x:"10",y:"2",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"10",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"1",y:"10",rx:".5"})))}s.defaultProps={color:"var(--teflon)",width:16,height:16},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{stroke:e,fill:"none",d:"M2 7.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H2zm7-5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H9zm0 8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H9zm-7-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2z"}))}s.defaultProps={color:"var(--teflon)",width:16,height:16},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd",stroke:e},i.h("rect",{width:"15",height:"9",x:"4.5",y:"9.5",rx:"1"}),i.h("path",{d:"M5 5.5a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V7.444a.5.5 0 0 0-.5-.5h-6.615a1.5 1.5 0 0 1-1.006-.386l-.743-.671A1.5 1.5 0 0 0 9.63 5.5H5z"})))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M2.01 11.715c-2.68-2.68-2.68-7.025 0-9.705 2.68-2.68 7.025-2.68 9.705 0 2.35 2.35 2.64 5.978.87 8.643.034.028.068.06.1.09l2.912 2.913c.536.536.54 1.4 0 1.94-.536.537-1.402.54-1.94 0l-2.913-2.91c-.032-.033-.063-.067-.09-.102-2.666 1.77-6.295 1.48-8.644-.87zm1.94-1.94c1.61 1.607 4.216 1.607 5.824 0 1.608-1.61 1.608-4.216 0-5.824-1.608-1.607-4.215-1.607-5.823 0-1.607 1.61-1.607 4.216 0 5.824z"}))}s.defaultProps={color:"var(--teflon)",width:16,height:16},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}),i.h("path",{d:"M16.682 12.5H9.937a2 2 0 1 1 0-1h6.745l-2.543-2.654a.511.511 0 0 1 0-.7.46.46 0 0 1 .672 0l3.357 3.504a.511.511 0 0 1 0 .7l-3.357 3.505a.46.46 0 0 1-.672 0 .511.511 0 0 1 0-.701l2.543-2.654zM8 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(340);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(341);n.n(a);function o({color:e,width:t,height:n,class:a}){const o=Object(s.a)("iconSpinner",a);return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 12 12"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),i.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),i.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),i.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),i.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),i.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),i.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),i.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"})))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.a=o},function(e,t){},function(e,t,n){"use strict";var i=n(0);function s({color:e,circleColor:t,width:n,height:s}){return i.h("svg",{width:n,height:s,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("circle",{fill:t,cx:"12",cy:"12",r:"12"}),i.h("path",{fill:e,d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"})))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7.2 4.8V1.2C7.2.54 6.66 0 6 0c-.67 0-1.2.53-1.2 1.2v3.6H1.2C.54 4.8 0 5.34 0 6c0 .67.53 1.2 1.2 1.2h3.6v3.6c0 .65.54 1.2 1.2 1.2.67 0 1.2-.53 1.2-1.2V7.2h3.6c.65 0 1.2-.54 1.2-1.2 0-.67-.53-1.2-1.2-1.2H7.2z"}))}s.defaultProps={color:"var(--teflon)",width:12,height:12},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 14 14"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.167 13.903a7.047 7.047 0 0 1-2.334 0V12.12a5.22 5.22 0 0 1-1.652-.69l-1.26 1.26a7.04 7.04 0 0 1-1.61-1.61l1.26-1.26a5.22 5.22 0 0 1-.69-1.653H.096a7.047 7.047 0 0 1 0-2.334H1.88a5.22 5.22 0 0 1 .69-1.652L1.31 2.92a7.04 7.04 0 0 1 1.61-1.61l1.26 1.26a5.22 5.22 0 0 1 1.653-.69V.096a7.047 7.047 0 0 1 2.334 0V1.88a5.22 5.22 0 0 1 1.652.69l1.26-1.26a7.04 7.04 0 0 1 1.61 1.61l-1.264 1.254c.321.502.56 1.061.695 1.66h1.783a7.047 7.047 0 0 1 0 2.333H12.12a5.22 5.22 0 0 1-.695 1.659l1.263 1.255a7.04 7.04 0 0 1-1.609 1.608l-1.26-1.26a5.22 5.22 0 0 1-1.652.69v1.784zM7 10.15a3.15 3.15 0 1 0 0-6.3 3.15 3.15 0 0 0 0 6.3z"}))}s.defaultProps={color:"var(--teflon)",width:14,height:14},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 8 8"},i.h("path",{fill:e,"fill-rule":"nonzero",d:"M3.568 6.26L.938 1.752A.5.5 0 0 1 1.372 1h5.258a.5.5 0 0 1 .432.752L4.431 6.26a.5.5 0 0 1-.863 0z"}))}s.defaultProps={color:"var(--teflon)",width:8,height:8},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M12.985 16.557l4.608-4.982a1.596 1.596 0 0 0-.002-2.132C17.33 9.16 16.998 9 16.5 9s-8.496.005-9 .002c-.504-.002-.802.13-1.09.441a1.591 1.591 0 0 0-.001 2.132l4.607 4.982c.271.293.627.44.984.44a1.33 1.33 0 0 0 .985-.44z"}))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 18 18"},i.h("path",{d:"M10.8,3.7 L5.5,9.05 L10.8,14.4",stroke:e,"stroke-width":"2.4","stroke-linecap":"round",fill:"none","stroke-linejoin":"round"}))}s.defaultProps={color:"var(--teflon)",width:18,height:18},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M12 10.13L8.261 6.39a1.324 1.324 0 0 0-1.873-.002c-.52.52-.515 1.355.002 1.873L10.13 12l-3.74 3.739a1.324 1.324 0 0 0-.002 1.873c.52.52 1.355.515 1.873-.002L12 13.87l3.739 3.74a1.324 1.324 0 0 0 1.873.002c.52-.52.515-1.355-.002-1.873L13.87 12l3.74-3.739a1.324 1.324 0 0 0 .002-1.873 1.321 1.321 0 0 0-1.873.002L12 10.13z"}))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n,class:s}){return i.h("svg",{class:s,width:t,height:n},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"2",cy:"2",r:"2"}),i.h("circle",{cx:"2",cy:"10",r:"2"}),i.h("circle",{cx:"2",cy:"18",r:"2"})))}s.defaultProps={color:"var(--teflon)",width:4,height:20},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M16 10h2V6v8c0 1.1-.9 2-2 2H2c-1.1 0-2-.9-2-2V2C0 .9.9 0 2 0h10-4v2H2v12h14v-4z"}),i.h("path",{d:"M16 3.56V8h2V2c0-1.1-.9-2-2-2h-6v2h4.73l-3.95 3.95c-.4.4-.4 1.02 0 1.4.4.4 1.02.4 1.4 0L16 3.55z"})))}s.defaultProps={color:"var(--teflon)",width:18,height:16},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n,class:s}){return i.h("svg",{class:s,width:t,height:n,viewBox:"0 0 14 14"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"7",cy:"12",r:"2"}),i.h("circle",{cx:"7",cy:"2",r:"2"}),i.h("rect",{width:"14",height:"2",y:"6",rx:"1"})))}s.defaultProps={color:"var(--cornflower-blue)",width:14,height:14},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({width:e,height:t,disabled:n,class:s}){return i.h("svg",{class:s,width:e,height:t},i.h("path",{fill:n?"var(--clooney)":"#e01e5a",d:"M3.406 10.09c0 .916-.748 1.665-1.664 1.665A1.669 1.669 0 0 1 .077 10.09c0-.916.749-1.664 1.665-1.664h1.664v1.664zM4.245 10.09c0-.916.749-1.664 1.665-1.664s1.664.748 1.664 1.664v4.168c0 .916-.748 1.665-1.664 1.665a1.669 1.669 0 0 1-1.665-1.665V10.09z"}),i.h("path",{fill:n?"var(--clooney)":"#36c5f0",d:"M5.91 3.406a1.669 1.669 0 0 1-1.665-1.664c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742A1.669 1.669 0 0 1 .077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.h("path",{fill:n?"var(--clooney)":"#2eb67d",d:"M12.594 5.91c0-.916.748-1.665 1.664-1.665.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664h-1.664V5.91zM11.755 5.91c0 .916-.749 1.664-1.665 1.664A1.669 1.669 0 0 1 8.426 5.91V1.742c0-.916.748-1.665 1.664-1.665.916 0 1.665.749 1.665 1.665V5.91z"}),i.h("path",{fill:n?"var(--clooney)":"#ecb22e",d:"M10.09 12.594c.916 0 1.665.748 1.665 1.664 0 .916-.749 1.665-1.665 1.665a1.669 1.669 0 0 1-1.664-1.665v-1.664h1.664zM10.09 11.755a1.669 1.669 0 0 1-1.664-1.665c0-.916.748-1.664 1.664-1.664h4.168c.916 0 1.665.748 1.665 1.664 0 .916-.749 1.665-1.665 1.665H10.09z"}))}s.defaultProps={width:16,height:16},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M7 4h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H7z"}),i.h("path",{d:"M17 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-2V4h2zm-2 1v14h2a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2z"}),i.h("rect",{width:"6",height:"1",x:"8",y:"7",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"10",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"13",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"16",rx:".5"})))}s.defaultProps={color:"var(--teflon)",width:24,height:24},t.a=s},function(e,t,n){"use strict";n(355)},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(356);n.n(a);function o({color:e,width:t,height:n,class:a}){const o=Object(s.a)("iconDotSpinner",a);return i.h("svg",{class:o,width:t,height:n},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"12",cy:"1.8",r:"1.8"}),i.h("circle",{cx:"4.8",cy:"4.82",r:"1.8","fill-opacity":".44",transform:"rotate(-45 4.796 4.82)"}),i.h("circle",{cx:"1.8",cy:"12",r:"1.8","fill-opacity":".52"}),i.h("circle",{cx:"4.82",cy:"19.21",r:"1.8","fill-opacity":".6",transform:"rotate(-45 4.816 19.208)"}),i.h("circle",{cx:"12",cy:"22.2",r:"1.8","fill-opacity":".68"}),i.h("circle",{cx:"19.21",cy:"19.18",r:"1.8","fill-opacity":".76",transform:"rotate(-45 19.206 19.18)"}),i.h("circle",{cx:"22.2",cy:"12",r:"1.8","fill-opacity":".84"}),i.h("circle",{cx:"19.18",cy:"4.79",r:"1.8","fill-opacity":".92",transform:"rotate(-45 19.18 4.792)"})))}o.defaultProps={color:"var(--cornflower-blue)",width:24,height:24}},function(e,t){},function(e,t,n){"use strict";var i=n(0);function s({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("g",{fill:n},i.h("rect",{x:"5",width:"2",height:"12",rx:"1"}),i.h("rect",{y:"5",width:"12",height:"2",rx:"1"})))}s.defaultProps={color:"var(--teflon)",width:12,height:12},t.a=s},function(e,t,n){"use strict";var i=n(0);function s({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("rect",{fill:n,y:"5",width:"12",height:"2",rx:"1"}))}s.defaultProps={color:"var(--teflon)",width:12,height:12},t.a=s},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s);const o={DEFAULT:"default",OUTLINE:"outline"};function r({class:e,width:t,type:n}){return n===o.OUTLINE?i.h("svg",{class:e,width:t,viewBox:"0 0 25 20"},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M19.418 12.996c-1.091.714-2.31 1.316-3.625 1.79l-.067.023c-1.01-1.098-2.066-2.427-3.092-3.893l-.24-.345-.04-.433c-.154-1.768-.199-3.468-.133-4.948l.097-.035c1.863-.672 3.773-1.028 5.523-1.028 1.458 0 2.751.248 3.738.715.922.437 1.524 1.032 1.79 1.768.206.57.203 1.21-.009 1.9-.223.727-.685 1.51-1.335 2.26-.69.798-1.566 1.547-2.607 2.226m-9.163 2.821c-1.153 0-2.185-.15-3.066-.449l-.34-.114-.338.121-3.04 1.097.047-2.308.009-.395-.26-.299-1.51-1.746 3.05-1.1.338-.122.188-.304C6.11 8.942 7.401 7.744 9.01 6.746c.644 1.287 1.495 2.722 2.47 4.159.177 1.725.448 3.37.781 4.767-.684.096-1.356.145-2.006.145m2.106-12.369c.276-2.214.744-2.49.774-2.504.047.004.226.113.484.567.261.461.528 1.143.772 1.972v.005c-.69.15-1.391.345-2.096.586.02-.215.041-.424.066-.626m6.121 11.283c.369.848.606 1.57.684 2.093.074.488-.012.617-.027.635-.005.002-.019.005-.045.005-.104 0-.693-.069-2.155-1.428-.133-.123-.272-.256-.412-.395l.003-.033c.683-.263 1.336-.557 1.952-.877m-5.289.782c-.218-.9-.409-1.912-.564-2.992.704.947 1.42 1.83 2.116 2.608-.519.153-1.037.282-1.552.384m2.357.483c-.223 2.386-.708 3.017-.833 3.06-.044-.005-.21-.106-.452-.514-.25-.423-.507-1.052-.742-1.818-.022-.07-.044-.142-.065-.215.678-.138 1.368-.319 2.062-.544l.03.031M9.295 5.12c-.853-2.02-.61-2.511-.583-2.554.007-.002.02-.004.042-.004.122 0 .82.088 2.569 1.82l-.004.053c-.677.272-1.322.575-1.93.903l-.094-.218m2.025 3.808C10.744 8 10.24 7.102 9.827 6.27c.459-.25.94-.484 1.436-.698-.031 1.043-.012 2.178.057 3.355M24.336 6.26c-.738-2.045-3.275-3.162-6.495-3.162-.8 0-1.642.07-2.509.21l-.014-.048c-.312-1.06-.648-1.872-1-2.41C13.95.285 13.552 0 13.134 0c-.028 0-.056.001-.083.004-.423.037-.773.344-1.042.914-.248.526-.434 1.271-.566 2.276-1.147-1.045-2.053-1.575-2.695-1.575-.22 0-.414.058-.578.173-.347.243-.497.685-.445 1.313.05.605.28 1.385.7 2.382l.141.324C6.738 6.929 5.312 8.277 4.46 9.657L0 11.265l2.49 2.878-.079 3.805 4.449-1.605c.982.331 2.136.502 3.395.502.726 0 1.486-.056 2.268-.172.032.112.065.221.098.328.308 1.002.622 1.73.96 2.226.35.513.733.773 1.139.773.027 0 .054-.001.08-.004.423-.036.775-.353 1.049-.941.241-.52.428-1.268.557-2.227 1.146 1.047 2.052 1.577 2.696 1.577.22 0 .415-.058.58-.173.358-.252.505-.723.435-1.4-.066-.646-.331-1.5-.787-2.541l-.01-.024c3.79-2.234 5.94-5.444 5.016-8.006"})):i.h("svg",{class:e,width:t,viewBox:"0 0 60 48"},i.h("path",{fill:"#FDBD39",d:"M9.22500276 33.0840797L6.086191 34.2307306l-.1685294 9.3377181 10.8655059-3.9692989c-3.7267412-1.2518612-6.4482353-3.4543705-7.55816474-6.5150701"}),i.h("path",{fill:"#F69833",d:"M10.8676263 23.2078406L-.023009 27.1863498l6.1092 7.0443808 3.13881176-1.1466509c-1.10668235-3.0517727-.4242-6.5015026 1.64262354-9.8762391"}),i.h("path",{fill:"#FECF33",d:"M29.1946263 9.73401033C15.3264381 14.8002244 6.38569688 25.2544118 9.22500276 33.0840797L59.4462381 14.7376295C56.6069322 6.9079262 43.0628498 4.6677609 29.1946263 9.73401033"}),i.h("path",{fill:"#EE6723",d:"M39.4765792 38.0876989c13.8682236-5.0662495 22.8257647-15.4740664 19.9696589-23.3500694L9.22500276 33.0840797C12.0810734 40.9601181 25.608391 43.1539129 39.4765792 38.0876989"}),i.h("path",{fill:"#F69833",d:"M59.4462381 14.7376295L9.22500276 33.0840797c.98340004 2.7118406 4.73350584 4.0478701 9.99532944 4.0478701 5.1298588 0 11.6965412-1.2689004 18.5425764-3.7698952 13.8682589-5.066214 23.6254589-13.2687587 21.6833295-18.6244251"}),i.h("path",{fill:"#FDBD39",d:"M49.4509086 10.689724c-5.1298941 0-11.6965411 1.2689358-18.542647 3.7698952C17.0400734 19.5258686 7.28283806 27.7283779 9.22500276 33.0840797L59.4462381 14.7376295c-.9834-2.711876-4.7335059-4.0479055-9.9953295-4.0479055"}),i.h("path",{fill:"#EE6723",d:"M46.6773557 44.0629018h-.0003529c-1.4775883 0-3.6574942-1.3346833-6.4792236-3.9669254-3.3382588-3.1141904-7.1622353-7.6754657-10.7676706-12.8435247-3.6052941-5.1678465-6.5678117-10.3344886-8.3418-14.548251-1.9328117-4.59195273-2.2083882-7.41538004-.8191058-8.3919232.3046235-.21389226.6718235-.32225536 1.0913294-.32225536 1.1300823 0 3.3320117.84136384 7.4037529 4.84984207l.0890471.08760443-.0120353.12458746c-.0278471.28796456-.0535059.57851512-.0763765.86368117l-.0453882.56625833-.3994588-.4024561c-4.3871648-4.41986127-6.3183883-4.89702732-6.9451412-4.89702732-.1787294 0-.3210706.03634538-.4231059.1080797-.6026118.4234273-.6414 2.4973107 1.2324706 6.94869962 1.7423294 4.1386627 4.6617529 9.2271587 8.2204941 14.3280886 3.5588824 5.1014258 7.3243412 9.5952885 10.6029176 12.6537919 3.5354471 3.2980073 5.1286236 3.6541284 5.6495295 3.6541284.1798588 0 .3260117-.038648.4344-.1148812.6357176-.4466657.6364588-2.6683395-1.4532353-7.4595188l-.0959294-.2199498.21-.1149521c.2100352-.1149874.4131529-.2282037.6036352-.3364959l.2515765-.1429727.1159765.2657181c1.4817176 3.3949284 2.8667647 7.7097919 1.0506 8.9864856-.3062118.2150967-.6752118.3241682-1.0969059.3241682zm-.0003529-.5236782h.000375l-.00025.2618214-.000125-.2618214z"}),i.h("path",{fill:"#EE6723",d:"M39.8132498 37.9445491l-.0211059.2609358c-.3506117 4.3383144-1.2737647 9.5539837-3.6807529 9.7650775-.0484235.0043217-.0986471.0065535-.1488706.0065535-1.6351412 0-3.1821176-2.3427897-4.5978706-6.9634008-1.3395176-4.3713653-2.3789647-10.240614-2.9268706-16.526524-.5479411-6.2845992-.5397176-12.2458096.0231177-16.78540512.6134823-4.9467631 1.7814353-7.53011956 3.4712117-7.6784059.0499412-.00460517.1017177-.0069786.1528589-.0069786 1.1862 0 2.9739176 1.3431498 4.8040588 7.59930332l-1.1949882.23064797c-.6110471-2.09063912-1.2769765-3.79100812-1.9380706-4.9594096-.6115412-1.0807262-1.2061412-1.67589077-1.6743883-1.67589077-.0153882 0-.0308823.00063764-.0461647.00194834-.7324235.06433063-1.7990823 1.84096826-2.3937529 6.63629225-.5528118 4.458155-.5594824 10.3300251-.0187765 16.5339631.5410235 6.204859 1.5634941 11.986397 2.8789765 16.2794391.5891294 1.9227277 1.2353294 3.5073299 1.8687176 4.5826007.5840824.9915631 1.1493177 1.537665 1.5915883 1.537665.0152117 0 .0303529-.0007085.0454588-.0019838.7008-.0614258 2.0214706-1.9102229 2.5773176-8.4149136l1.2283059-.4215144"}))}r.propTypes={width:a.a.number,type:a.a.oneOf(Object.values(o))},r.defaultProps={width:25,type:"default"},t.a=r},function(e,t,n){"use strict";var i=n(361);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(209),l=n(365);n.n(l);function c(e){const{title:t,message:n,positiveButtonText:s,negativeButtonText:a,fallbackButtonText:l,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:h,onClose:p,width:g,loading:m,class:f}=e;return i.h(r.a,{class:Object(o.a)("basicDialog",f,{onlyMessage:!t}),positiveButtonText:s,negativeButtonText:a,fallbackButtonText:l,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:h,width:g,loading:m,onClose:p},i.h("div",{class:"dialogBody"},t&&i.h("h1",{class:"title"},t),i.h("div",{class:"message"},n)))}c.displayName="BasicDialog",c.propTypes={title:a.a.string,message:a.a.string.isRequired,positiveButtonText:a.a.string,negativeButtonText:a.a.string,fallbackButtonText:a.a.string,onPositiveButtonClick:a.a.func,onNegativeButtonClick:a.a.func,onFallbackButtonClick:a.a.func,hideNegativeButton:a.a.bool,onClose:a.a.func,width:a.a.number,loading:a.a.bool},t.a=c},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(21),l=n(363);n.n(l);function c(e){const{positiveButtonText:t,negativeButtonText:n,fallbackButtonText:s,positiveButtonType:a,negativeButtonType:l,fallbackButtonType:c,positiveButtonDisabled:d,negativeButtonDisabled:u,fallbackButtonDisabled:h,onPositiveButtonClick:p,onNegativeButtonClick:g,onFallbackButtonClick:m,hideNegativeButton:f,footer:b,loading:y,loadingText:S}=e;return i.h("form",{method:"dialog",class:Object(o.a)("buttonsContainer",{loading:y,hasLoadingText:Boolean(S)})},b&&i.h("div",{class:"footer"},b),!y&&s&&i.h("button",{class:"secondary fallback",onClick:m,type:c,disabled:h},s),!y&&!f&&i.h("button",{class:"secondary",onClick:g,type:l,disabled:u},n),i.h("button",{autofocus:!0,class:"primary",onClick:p,type:a,disabled:y||d},y?i.h(i.Fragment,null,i.h("img",{src:Object(r.f)("img/icSpinnerBlue.svg"),class:"spinning"}),S):t))}c.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},c.propTypes={positiveButtonText:a.a.string.isRequired,negativeButtonText:a.a.string,fallbackButtonText:a.a.string,positiveButtonType:a.a.string.isRequired,negativeButtonType:a.a.string.isRequired,fallbackButtonType:a.a.string.isRequired,positiveButtonDisabled:a.a.bool,negativeButtonDisabled:a.a.bool,onPositiveButtonClick:a.a.func,onNegativeButtonClick:a.a.func,onFallbackButtonClick:a.a.func,hideNegativeButton:a.a.bool,footer:a.a.node,loading:a.a.bool,loadingText:a.a.string},t.a=c},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(190),s=n(191);const a={setOverridingCategory(e){i.a.dispatch({type:s.a.SET_OVERRIDING_CATEGORY,overridingCategory:e})}};t.a=a},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(190),o=n(191);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{overridingCategory:null}}setOverridingCategory(e,t){return Object.assign({},e,{overridingCategory:t})}reduce(e,t){switch(t.type){case o.a.SET_OVERRIDING_CATEGORY:return this.setOverridingCategory(e,t.overridingCategory);default:return e}}}},function(e,t,n){"use strict";var i=n(610),s=n(6);function a(e){return e=e.replace(/_/g," "),i.a.find(function(t){return t.aliases.includes(e)})}t.a={addCustomEmojis:function(e){var t={};Object.keys(e).forEach(function(n){var s=e[n];if(n=n.replace(/_/g," "),s.startsWith("alias:"))t[n]=s.substring(6);else{var o=a(n);o?o.aliases.push(n):i.a.push({emoji:s,aliases:[n],customEmoji:!0})}}),Object.keys(t).forEach(function(e){var n=a(t[e]);n&&n.aliases.push(e)})},getSuggestedEmojis:function(e){var t=[];return e=e.toLowerCase().replace(/_/g," ").trim(),i.a.forEach(function(n){for(var i=0;i<n.aliases.length;i++)if(Object(s.a)(n.aliases[i],e)||n.aliases[i].startsWith(e))return void t.push({emoji:n.emoji,alias:n.aliases[i],customEmoji:n.customEmoji,formattedAlias:n.aliases[i].replace(/\s/g,"_")})}),t},searchEmoji:a}},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return s});var i=n(10);const s={[i.a.PROJECT]:{screens:{name:"Screens",info:"Screen added",events:["project.screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["project.screen.version.created"]},components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["project.component.created","project.component.version.created","project.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["project.color.created","project.color.updated","project.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["project.textstyle.created","project.textstyle.updated","project.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["project.spacingtoken.created","project.spacingtoken.updated","project.spacingtoken.deleted"]},notes:{name:"Notes",info:"Note added",events:["project.dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["project.dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["project.extension.added","project.extension.removed"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},[i.a.STYLEGUIDE]:{components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["styleguide.component.created","styleguide.component.version.created","styleguide.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["styleguide.color.created","styleguide.color.updated","styleguide.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["styleguide.textstyle.created","styleguide.textstyle.updated","styleguide.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["styleguide.spacingtoken.created","styleguide.spacingtoken.updated","styleguide.spacingtoken.deleted"]},members:{name:"Members",info:"Member invited",events:["styleguide.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["styleguide.extension.added","styleguide.extension.removed"]},styleguideStatus:{name:"Styleguide status",info:"Styleguide archived or activated",events:["styleguide.archived","styleguide.activated"]}}};function a(e){return Object.keys(s[e]).reduce((t,n)=>s[e][n].events.reduce((e,t)=>(e[t]=n,e),t),{})}const o={project:a(i.a.PROJECT),styleguide:a(i.a.STYLEGUIDE)};function r(e,t){return t.reduce((t,n)=>{const i=c(e,n);return i&&(t[i]?t[i].push(n):t[i]=[n]),t},{})}function l(e,t){return s[e][t].events}function c(e,t){return o[e][t]}},,,,function(e,t,n){"use strict";var i=n(396);n.d(t,"a",function(){return i.a})},,function(e,t,n){"use strict";var i=n(477);t.a=i.a},function(e,t,n){"use strict";t.a=[{id:"info",title:"Information"},{id:"colors",title:"Colors"},{id:"assets",title:"Assets"},{id:"notes",title:"Notes"}]},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t,n){"use strict";var i=n(377),s=n(11),a=n(513),o=n(2),r=["color","gradient"];function l(e,t,n){var o=Object.assign({},e);if(o.type=o.fillType,delete o.fillType,"color"===o.type)o.color=new s.a(o.color),delete o.gradient;else{if("gradient"!==o.type)throw new TypeError("Unknown fill type: '"+o.type+"'. Possible values: "+JSON.stringify(r));o.gradient=new a.a(o.gradient,t,n),delete o.color}Object.defineProperties(this,{type:{get:function(){return o.type},set:function(e){if(-1===r.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(r));o.type=e}},color:{get:function(){return o.color},set:function(e){o.type="color",o.color=new s.a(e),delete o.gradient}},gradient:{get:function(){return o.gradient},set:function(e){o.type="gradient",o.gradient=new a.a(e,t,n),delete o.color}},opacity:{get:function(){return o.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");o.opacity=e}},blendMode:{get:function(){return o.blendMode},set:function(e){if(-1===i.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.a));o.blendMode=e}},fill:{get:function(){return"color"===o.type?this.color:this.gradient},set:function(){}}})}l.prototype=Object.create(o.a.prototype),l.prototype.constructor=l,l.prototype.toObject=function(){var e={fillType:this.type,opacity:this.opacity,blendMode:this.blendMode,fill:this.fill.toObject()};return this.color?e.color=this.color.toObject():this.gradient&&(e.gradient=this.gradient.toObject()),e},t.a=l},function(e,t,n){"use strict";var i=n(380),s=n(381),a=n(382),o=n(13),r=n(317);const l={project:{add:o.addExtensionToProject,remove:o.removeExtensionFromProject},styleguide:{add:o.addExtensionToStyleguide,remove:o.removeExtensionFromStyleguide}},c={loadExtensions(e,t,n){a.a.getEnabledExtensions(e.id,t).then(i=>{if(i.length>0)return i;let s=n.filter(e=>e.default).map(e=>e.id);return 0===s.length&&1===n.length&&(s=[n[0].id]),a.a.setEnabledExtensions(e.id,t,s),s}).then(a=>{s.a.dispatch({type:i.a.LOAD_EXTENSIONS,barrel:e,barrelType:t,extensions:n,enabledExtensions:Array.from(a)})})},updateExtensionOption(e,t,n){s.a.dispatch({type:i.a.UPDATE_EXTENSION_OPTION,id:e,name:t,value:n})},enableExtension(e){s.a.dispatch({type:i.a.ENABLE_EXTENSION,id:e})},disableExtension(e){s.a.dispatch({type:i.a.DISABLE_EXTENSION,id:e})},removeExtension(e,t,n,a=!1){s.a.dispatch({type:i.a.REMOVE_EXTENSION_REQUESTED,bid:e,id:n});const o=l[t].remove;(a?Promise.resolve():o(e,n)).then(()=>{s.a.dispatch({type:i.a.REMOVE_EXTENSION_SUCCESS,bid:e,id:n}),a||mixpanel.webapp.track("Removed extension",{extension:n})}).catch(t=>{s.a.dispatch({type:i.a.REMOVE_EXTENSION_FAIL,bid:e,id:n,error:t})})},addExtension(e,t,n){(0,l[t].add)(e,n).then(e=>{const t=new r.a(e);s.a.dispatch({type:i.a.ADD_EXTENSION_REQUESTED,extension:t,local:!1})})},addLocalExtension(e){s.a.dispatch({type:i.a.ADD_EXTENSION_REQUESTED,extension:e,local:!0})},loadExtension(e,t,n){n.load(e._id,t).then(()=>{s.a.dispatch({type:i.a.LOAD_EXTENSION,extension:n})})},reloadLocalExtensions(){s.a.dispatch({type:i.a.RELOAD_LOCAL_EXTENSIONS})}};t.a=c},function(e,t,n){"use strict";t.a={LOAD_EXTENSIONS:"loadExtensions",ADD_EXTENSION_REQUESTED:"addExtensionRequested",ADD_EXTENSION:"addExtension",ADD_LOCAL_EXTENSION:"addLocalExtension",LOAD_EXTENSION:"loadExtension",RELOAD_LOCAL_EXTENSIONS:"reloadLocalExtensions",REMOVE_EXTENSION_REQUESTED:"removeExtensionRequested",REMOVE_EXTENSION_SUCCESS:"removeExtensionSuccess",REMOVE_EXTENSION_FAIL:"removeExtensionFail",ENABLE_EXTENSION:"enableExtension",DISABLE_EXTENSION:"disableExtension",UPDATE_EXTENSION_OPTION:"updateExtensionOption"}},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(24);const s={project:i.b,styleguide:i.c};t.a={disableExtension:function(e,t,n){const i=s[t];return i.get(e,"extensions").then(t=>{const s=t.filter(e=>e!==n);return i.set(e,"extensions",s)})},enableExtension:function(e,t,n){const i=s[t];return i.get(e,"extensions").then(t=>(t.push(n),i.set(e,"extensions",t)))},getEnabledExtensions:function(e,t){return s[t].get(e,"extensions")},setEnabledExtensions:function(e,t,n){return s[t].set(e,"extensions",n)}}},function(e,t,n){"use strict";var i=n(213),s=n(214),a=n(30);const o={init(){s.a.dispatch({type:i.a.INIT})},load(e,t){s.a.dispatch({type:i.a.LOAD,inid:e,events:t})},open(e,t){s.a.dispatch({type:i.a.OPEN,inid:e,channelName:t})},close(){s.a.dispatch({type:i.a.CLOSE})},updateEventGroup(e,t){s.a.dispatch({type:i.a.UPDATE_EVENT_GROUP,eventGroup:e,checked:t})},eventGroupUpdated(e,t){s.a.dispatch({type:i.a.EVENT_GROUP_UPDATED,inid:e,eventGroup:t})},eventGroupUpdateFailed(e,t){s.a.dispatch({type:i.a.EVENT_GROUP_UPDATE_FAILED,inid:e,eventGroup:t})},addIntegrationEvent({bid:e,intype:t,inid:n,event:o}){const{barrelId:r}=a.a.getState();"slacks"===t&&e===r&&s.a.dispatch({type:i.a.EVENT_UPDATED,inid:n,event:o,enabled:!0})},removeIntegrationEvent({bid:e,intype:t,inid:n,event:o}){const{barrelId:r}=a.a.getState();"slacks"===t&&e===r&&s.a.dispatch({type:i.a.EVENT_UPDATED,inid:n,event:o,enabled:!1})}};t.a=o},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(214),o=n(213),r=n(30),l=n(369),c=n(1);function d(e,t,n){const{barrelType:i}=r.a.getState();return n?Object.assign({},e,{[t]:l.b(i,t)}):Object(c.j)(e,t)}t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{open:!1,inid:null,channelName:null,eventGroupsByInid:{},loading:[]}}load(e,t,n){const{barrelType:i}=r.a.getState();return Object.assign({},e,{eventGroupsByInid:Object.assign({},e.eventGroupsByInid,{[t]:l.d(i,n)})})}open(e,t,n){return t in e.eventGroupsByInid?Object.assign({},e,{open:!0,inid:t,channelName:n}):e}close(e){return Object.assign({},e,{open:!1,inid:null,channelName:null,loading:[]})}updateEventGroup(e,t,n){return Object.assign({},e,{eventGroupsByInid:Object.assign({},e.eventGroupsByInid,{[e.inid]:d(e.eventGroupsByInid[e.inid],t,n)}),loading:e.loading.concat(t)})}eventGroupUpdated(e,t,n){return e.inid===t?Object.assign({},e,{loading:e.loading.filter(e=>e!==n)}):e}eventGroupUpdateFailed(e,t,n){return Object.assign({},e,{eventGroupsByInid:Object.assign({},e.eventGroupsByInid,{[t]:d(e.eventGroupsByInid[t],n,!e.eventGroupsByInid[t][n])}),loading:e.inid===t?e.loading.filter(e=>e!==n):e.loading})}eventUpdated(e,t,n,i){return e.eventGroupsByInid[t]?Object.assign({},e,{eventGroupsByInid:Object.assign({},e.eventGroupsByInid,{[t]:function(e,t,n){const{barrelType:i}=r.a.getState(),s=l.c(i,t);let a=e[s]||[];return n&&!a.includes(t)?Object.assign({},e,{[s]:a.concat(t)}):!n&&a.includes(t)?0===(a=a.filter(e=>e!==t)).length?Object(c.j)(e,s):Object.assign({},e,{[s]:a}):e}(e.eventGroupsByInid[t],n,i)})}):e}reduce(e,t){switch(t.type){case o.a.LOAD:return this.load(e,t.inid,t.events);case o.a.OPEN:return this.open(e,t.inid,t.channelName);case o.a.CLOSE:return this.close(e);case o.a.UPDATE_EVENT_GROUP:return this.updateEventGroup(e,t.eventGroup,t.checked);case o.a.EVENT_GROUP_UPDATED:return this.eventGroupUpdated(e,t.inid,t.eventGroup);case o.a.EVENT_GROUP_UPDATE_FAILED:return this.eventGroupUpdateFailed(e,t.inid,t.eventGroup);case o.a.EVENT_UPDATED:return this.eventUpdated(e,t.inid,t.event,t.enabled);default:return e}}}},function(e,t,n){"use strict";var i=n(930);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1331);n.d(t,"a",function(){return i.a})},,,,function(e,t,n){"use strict";var i=n(391);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(17),a=n(13),o=n(8),r=n(294),l=n(394),c=n(437),d=n(440),u=n(71);const h=255;function p(e,t,n){const i={Reason:e,Plan:n};if(t)for(let s=0;s*h<t.length;s++){const e=s*h;i[`Description${s?` ${s}`:""}`]=t.substring(e,e+h)}mixpanel.master.track("Cancelled plan",i),Intercom("trackEvent","cancelled plan",{reason:e,description:t,plan:n}),t&&Object(a.createIntercomMessage)(`Cancelled plan ${n}: ${e}\n\n${t}`)}function g(){location.replace(Object(o.j)("projects"))}function m(){location.replace(Object(o.j)("profile-account"))}function f(){Intercom("showNewMessage")}t.a=class extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this),this.handleTransferPlanClick=this.handleTransferPlanClick.bind(this),this.handleTransferPlanFormSubmit=this.handleTransferPlanFormSubmit.bind(this),this.handleQuestionChange=this.handleQuestionChange.bind(this),this.performTransferUserPlan=this.performTransferUserPlan.bind(this),this.performCancelPlan=this.performCancelPlan.bind(this),this.performCancelUserPlan=this.performCancelUserPlan.bind(this),this.performCancelOrgPlan=this.performCancelOrgPlan.bind(this),this.hideTransferPlanWarningDialog=this.hideTransferPlanWarningDialog.bind(this),this.hideTransferOrgOwnershipDialog=this.hideTransferOrgOwnershipDialog.bind(this),this.hideSubscriptionCancelledDialog=this.hideSubscriptionCancelledDialog.bind(this),this.hideCancelPlanDialog=this.hideCancelPlanDialog.bind(this),this.handleGoToOrgDashboardClick=this.handleGoToOrgDashboardClick.bind(this),this.state={loading:!1,transferEmail:"",transferPlanFormShown:!1,transferPlanFormError:"",cancelReason:"",cancelDescription:"",transferPlanWarningDialogShown:!1,transferOrgOwnershipDialogShown:!1,subscriptionCancelledDialogShown:!1,cancelPlanDialogShown:!1}}hideTransferPlanWarningDialog(){this.setState({transferPlanWarningDialogShown:!1})}hideTransferOrgOwnershipDialog(){this.setState({transferOrgOwnershipDialogShown:!1})}hideCancelPlanDialog(){this.setState({cancelPlanDialogShown:!1})}hideSubscriptionCancelledDialog(){this.setState({subscriptionCancelledDialogShown:!1})}performTransferUserPlan(){const{transferEmail:e}=this.state;this.setState({loading:!0}),Object(a.transferUserSubscription)(e).then(()=>{this.setState({loading:!1}),Zeplin.user.paymentPlan="free",delete Zeplin.user.subscriptionStatus,location.replace(Object(o.j)("profile-billing"))}).catch(e=>{this.setState({loading:!1}),Object(s.b)(e)})}performCancelUserPlan(){const{cancelReason:e,cancelDescription:t}=this.state;this.setState({loading:!0}),Object(a.cancelUserSubscription)().then(()=>{p(e,t,Zeplin.user.paymentPlan),Zeplin.updateUser({subscriptionStatus:"will_cancel_at_period_end"}),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(s.b)(e)})}performCancelOrgPlan(){const{oid:e,organizationPlan:t}=this.props,{cancelReason:n,cancelDescription:i}=this.state;this.setState({loading:!0}),Object(a.cancelOrganizationSubscription)(e).then(()=>{p(n,i,t),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(s.b)(e)})}performCancelPlan(){this.props.oid?this.performCancelOrgPlan():this.performCancelUserPlan()}handleQuestionChange(){this.state.transferPlanFormShown&&this.setState({transferPlanFormShown:!1})}handleGoToOrgDashboardClick(){const{oid:e}=this.props;location.replace(Object(o.j)("organization-dashboard",{url:{oid:e}}))}handleCancelPlanClick(e,t){this.setState({cancelReason:e,cancelDescription:t,cancelPlanDialogShown:!0})}handleTransferPlanFormSubmit(e){this.setState({transferPlanFormError:""}),function(e){return e===Zeplin.user.email?Promise.reject(new Error("C'mon, that's you")):new Promise((t,n)=>{Object(a.getUserStatus)(e).then(e=>{"invited"!==e.status?t():n(new Error("No registered user with this email"))}).catch(e=>{Object(s.b)(e,{serverErrorHandler:()=>n(new Error("Something is wrong :(")),clientErrorHandler:{404:()=>{n(new Error("No registered user with this email"))}},fallbackHandler:()=>{n(new Error("Something is wrong :("))}})})})}(e).then(()=>{this.setState({transferEmail:e,transferPlanWarningDialogShown:!0})}).catch(e=>{this.setState({transferPlanFormError:e.message})})}handleTransferPlanClick(){const{oid:e}=this.props;e?this.setState({transferOrgOwnershipDialogShown:!0}):this.setState({transferPlanFormShown:!0})}render(){const{onClose:e,onBackClick:t,periodEndDate:n,oid:s}=this.props,{loading:a,transferEmail:o,transferPlanFormError:h,transferPlanFormShown:p,subscriptionCancelledDialogShown:b,cancelPlanDialogShown:y,transferPlanWarningDialogShown:S,transferOrgOwnershipDialogShown:v}=this.state;return i.h("div",null,i.h(l.a,{onClose:e,onBackClick:t,onCancelPlanClick:this.handleCancelPlanClick,onTransferPlanClick:this.handleTransferPlanClick,onTransferPlanFormSubmit:this.handleTransferPlanFormSubmit,onQuestionChange:this.handleQuestionChange,onChangeEmailClick:m,onContactSupportClick:f,transferPlanFormError:h,transferPlanFormShown:p}),a&&i.h(r.a,null),S&&i.h(c.a,{email:o,onClose:this.hideTransferPlanWarningDialog,onTransfer:this.performTransferUserPlan}),v&&i.h(u.a,{title:"Transfer ownership?",message:'To transfer the ownership of the organization, select the user in the organization dashboard and click "Transfer Ownership"',positiveButtonText:"GO TO DASHBOARD",onPositiveButtonClick:this.handleGoToOrgDashboardClick,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.hideTransferOrgOwnershipDialog}),y&&i.h(d.a,{isOrganizationPlan:!!s,periodEndDate:n,onCancelPlan:this.performCancelPlan,onClose:this.hideCancelPlanDialog}),b&&i.h(u.a,{title:"Subscription cancelled successfully",message:"Let us know if there's anything bothering you: support@zeplin.io",positiveButtonText:"OK",onPositiveButtonClick:g,onClose:this.hideSubscriptionCancelledDialog}))}}},function(e,t,n){"use strict";t.a=function(){return i.h("div",{class:"loadingOverlay"},i.h("div",{class:"ripple ripple1"}),i.h("div",{class:"ripple ripple2"}),i.h("div",{class:"ripple ripple3"}),i.h("div",{class:"ripple ripple4"}))};var i=n(0),s=n(393);n.n(s)},function(e,t){},function(e,t,n){"use strict";var i=n(395);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(373),a=n(398),o=n(401),r=n(43),l=n(436);n.n(l);t.a=function(e){const{onClose:t,onBackClick:n,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:h,onQuestionChange:p,transferPlanFormError:g,transferPlanFormShown:m}=e;return i.h(s.a,{onClose:t},i.h("div",{class:"cancelPlanModal"},i.h("div",{class:"cancelPlanHeader"},i.h("button",{class:"cancelPlanHeaderButton",onClick:n},i.h(r.c,{color:"var(--gandalf)"}),i.h("span",{class:"cancelPlanHeaderButtonText"},"Plans"))),i.h("div",{class:"cancelPlanHero"},i.h("h2",{class:"title"},"Why are you cancelling?"),i.h("p",{class:"text"},"It's sad to see you go. Tell us why you're cancelling, maybe we can help!")),i.h(a.a,null),i.h(o.a,{onBackClick:n,onQuestionChange:p,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:h,transferPlanFormShown:m,transferPlanFormError:g})))}},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1),r=n(397);n.n(r);class l extends i.Component{constructor(e){super(e),this.handleClose=this.handleClose.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this)}handleClose(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose(e))}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onClose&&this.props.onClose(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeydown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown)}render(){const{children:e}=this.props;return i.h("div",{class:"overlay",onClick:this.handleClose},i.toChildArray(e).map(e=>i.cloneElement(e,{onClick:o.J})))}}l.propTypes={onClose:a.a.func},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(399);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(){return i.h("div",{class:"covidNotice"},"Here at Zeplin, we value our community—if you’re having financial/budgetary issues due to the current state of events, please contact us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io"),". We’d love to help.")};var i=n(0),s=n(400);n.n(s)},function(e,t){},function(e,t,n){"use strict";var i=n(402);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(403),a=n(405),o=n(435);n.n(o);t.a=function(e){const{onBackClick:t,onCancelPlanClick:n,onTransferPlanFormSubmit:o,onTransferPlanClick:r,onChangeEmailClick:l,onContactSupportClick:c,transferPlanFormError:d,transferPlanFormShown:u,onQuestionChange:h}=e;return i.h(s.a,{class:"cancelPlanSurvey",onChange:h},i.h(a.h,{onTransferPlanClick:r,onTransferPlanFormSubmit:o,onChangeEmailClick:l,transferPlanFormShown:u,transferPlanFormError:d}),i.h(a.e,{onBackClick:t}),i.h(a.c,{onCancelPlanClick:n}),i.h(a.a,{onCancelPlanClick:n}),i.h(a.f,{onCancelPlanClick:n}),i.h(a.d,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(a.g,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(a.b,{onCancelPlanClick:n}))}},function(e,t,n){"use strict";var i=n(404);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0);t.a=class extends i.Component{constructor(e){super(e),this.state={index:-1},this.handleSelectQuestion=this.handleSelectQuestion.bind(this)}handleSelectQuestion(e){this.props.onChange&&this.props.onChange(e.target.value),this.setState({index:Number(e.target.value)})}render(){const{index:e}=this.state,{class:t,children:n}=this.props;return i.h("div",{class:t},i.toChildArray(n).map((t,n)=>i.cloneElement(t,{value:n,selected:e===n,onSelect:this.handleSelectQuestion})))}}},function(e,t,n){"use strict";var i=n(406),s=n(415),a=n(424),o=n(425),r=n(426),l=n(430),c=n(431),d=n(432);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a}),n.d(t,"e",function(){return r.a}),n.d(t,"f",function(){return l.a}),n.d(t,"g",function(){return c.a}),n.d(t,"h",function(){return d.a})},function(e,t,n){"use strict";var i=n(0),s=n(149),a=n(128),o=n(117),r=n(129);t.a=class extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.a)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"Glad to hear that you'll be getting more out of Zeplin together! 👨‍👩‍👦‍👦"),i.h(s.a,null,i.h(a.a,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(o.a,{onSelect:e,selected:t,value:n,content:r,mainText:"Moved to a team plan"})}}},function(e,t,n){"use strict";var i=n(0),s=n(408);n.n(s);t.a=function(e){return i.h("div",{class:"questionButtons"},e.children)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(3),o=n(410);n.n(o);t.a=function(e){const{secondary:t,class:n}=e,o=Object(a.a)("questionButton",n,{primary:!t,secondary:t}),r=Object.assign({},e,{class:o});return delete r.secondary,i.h(s.a,r)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(283),a=n(3),o=n(414);n.n(o);t.a=function(e){const{content:t,mainText:n,subText:o,onSelect:r,selected:l,value:c}=e;return i.h("div",{class:"cancelPlanSurveyQuestion"},i.h("label",{class:Object(a.a)("selectWithText",{hasSubText:!!o})},i.h(s.a,{onClick:r,checked:l,value:c}),i.h("div",{class:"textContainer"},i.h("p",{class:"mainText"},n),o&&i.h("p",{class:"subText"},o))),l&&i.h("div",{class:"questionContent"},t))}},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(413);n.n(a);t.a=function(e){const t=Object.assign({},e);return delete t.class,i.h("span",null,i.h("input",Object.assign(t,{type:"radio",class:"radioButtonRadio"})),i.h("div",{tabIndex:e.tabIndex,class:Object(s.a)("radioButton",e.class)},i.h("div",{class:"radioButtonInner"})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(205),a=n(117),o=n(129);t.a=class extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(o.b,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,o=[i.h("p",null,"Mind sharing why? This'll help us improve Zeplin."),i.h(s.a,{onSubmit:this.handleFormSubmit,placeholder:"Notes on why you're cancelling",buttonText:"Cancel plan"})];return i.h(a.a,{onSelect:e,selected:t,value:n,content:o,mainText:"Other"})}}},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(14),o=n(128),r=n(417),l=n(420),c=n(423);n.n(c);class d extends i.Component{constructor(e){super(e),this.state={value:"",dirty:!1,isInputValid:!0},this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}isSubmitEnabled(){const{maxLength:e}=this.props,{value:t,isInputValid:n}=this.state;return t&&t.length<e&&t.trim()&&n}handleInput(e){this.setState({value:e.target.value,dirty:!0})}handleSubmit(e){e.preventDefault(),this.isSubmitEnabled()&&(this.props.onSubmit(this.state.value),this.setState({dirty:!1}))}componentDidMount(){this.nodeRefs.textInput.focus()}componentDidUpdate(e,t){"email"===this.props.type&&t.value!==this.state.value&&this.setState({isInputValid:this.nodeRefs.textInput.checkValidity()})}render(){const{placeholder:e,buttonText:t,label:n,type:c,error:d,maxLength:u,class:h}=this.props,{value:p,dirty:g,isInputValid:m}=this.state,f="email"===c&&l.a||r.a,b=!g&&!!d,y=p&&p.trim()&&m;return i.h("form",{class:Object(s.a)("questionTextForm",{hasError:b},h),onSubmit:this.handleSubmit},n&&i.h("label",{class:"questionTextFormLabel"},n),i.h(f,{class:"formInput",maxLength:u,onInput:this.handleInput,type:c,placeholder:e,value:p,inputRef:Object(a.a)(this,"textInput")}),b&&i.h("div",{class:"errorText"},d),i.h(o.a,{class:"questionTextFormButton",disabled:!y,type:"submit"},t))}}d.defaultProps={maxLength:2048},t.a=d},function(e,t,n){"use strict";var i=n(418);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(419);n.n(a);t.a=class extends i.Component{constructor(e){super(e),this.state={value:e.value},this.handleInput=this.handleInput.bind(this)}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}render(){const{value:e}=this.state,{placeholder:t,inputRef:n,maxLength:a,class:o}=this.props;return i.h("div",{class:Object(s.a)("questionTextArea",o)},i.h("div",{class:"mirror"},i.h("pre",null,e," ")),i.h("textarea",{value:e,maxLength:a,placeholder:t,ref:n,onInput:this.handleInput}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(421);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(422);n.n(a);t.a=function(e){const t=Object.assign({},e,{class:Object(s.a)("questionTextInput",e.class),type:e.type||"text",ref:e.inputRef});return delete t.inputRef,i.h("input",t)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(149),a=n(128),o=n(117),r=n(129);t.a=class extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.c)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"Thanks for using Zeplin, hope to have you back on board soon! 👋"),i.h(s.a,null,i.h(a.a,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(o.a,{onSelect:e,selected:t,value:n,content:r,mainText:"Project ended, won't need Zeplin for a while"})}}},function(e,t,n){"use strict";var i=n(0),s=n(149),a=n(128),o=n(117),r=n(129);t.a=class extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.d)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"Sorry to hear that. Contact us and we'd love to help you out right away. 💪"),i.h(s.a,null,i.h(a.a,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(a.a,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(o.a,{onSelect:e,selected:t,value:n,content:r,mainText:"Ran into an issue",subText:"e.g. “I couldn't export my designs.”, “I failed to install the Photoshop plugin.”"})}}},function(e,t,n){"use strict";var i=n(0),s=n(117),a=n(427);t.a=function(e){const{onSelect:t,selected:n,value:o,onBackClick:r}=e,l=[i.h("p",null,"You can always switch your billing frequency. ",i.h(a.a,{onClick:r},"Go back")," to plan selection, select the Monthly tab and select your plan."),i.h("br",null),i.h("p",null,"Your previous payment will be pro-rated and credited to your account automatically. For a refund, please contact us.")];return i.h(s.a,{onSelect:t,selected:n,value:o,content:l,mainText:"Subscribed annually, instead of monthly"})}},function(e,t,n){"use strict";var i=n(428);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(429);n.n(s);t.a=function(e){return i.h("button",{class:"questionInlineButton",onClick:e.onClick},e.children)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(205),a=n(117),o=n(129);t.a=class extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(o.e,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,o=[i.h("p",null,"Mind sharing which tool and why? This'll help us improve Zeplin."),i.h(s.a,{onSubmit:this.handleFormSubmit,placeholder:"Notes on which tool you're switching to, and why",buttonText:"Cancel plan"})];return i.h(a.a,{onSelect:e,selected:t,value:n,content:o,mainText:"Switched to another tool"})}}},function(e,t,n){"use strict";var i=n(0),s=n(149),a=n(128),o=n(117),r=n(129);t.a=class extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(r.f)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"We wouldn't want to lose you over pricing. Mind contacting us and sharing why? We'd love to figure out the best plan for you and your team."),i.h(s.a,null,i.h(a.a,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(a.a,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(o.a,{onSelect:e,selected:t,value:n,content:r,mainText:"Too expensive",subText:"e.g. Dollar is really high in my country"})}}},function(e,t,n){"use strict";var i=n(433);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(149),a=n(128),o=n(205),r=n(117),l=n(434);n.n(l);const c=254;t.a=function(e){const{onSelect:t,selected:n,value:l}=e;return i.h(r.a,{onSelect:t,selected:n,value:l,content:function(e){const{onChangeEmailClick:t,onTransferPlanClick:n,onTransferPlanFormSubmit:r,transferPlanFormError:l,transferPlanFormShown:d}=e;return d?[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h("div",{class:"transferPlanFormContainer"},i.h("span",{class:"emoji"},"☝️"),i.h("div",{class:"text"},i.h("p",null,"By transferring the subscription, you will transfer your billing information and all the projects under this account."),i.h("br",null),i.h("p",null,"Your personal plan will be downgraded to Free plan and you can own only one project."))),i.h(o.a,{class:"transferPlanForm",type:"email",maxLength:c,label:"Enter the email of the user to transfer to:",error:l,onSubmit:r,placeholder:"Email",buttonText:"Transfer plan"})]:[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h(s.a,null,i.h(a.a,{onClick:n},"Transfer plan"),i.h(a.a,{onClick:t},"Change email"))]}(e),mainText:"Subscribed with the wrong account or email address",subText:"e.g. “I used my personal email address.”, “I subscribed with my own account, instead of our designers.”"})}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(438);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(71),a=n(439);n.n(a);t.a=function(e){const{email:t}=e;return i.h(s.c,{onClose:e.onClose,width:444,class:"transferWarningDialog",positiveButtonText:"TRANSFER",negativeButtonText:"CANCEL",onPositiveButtonClick:e.onTransfer,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Transfer subscription"),i.h("div",{class:"dialogBody"},i.h("p",{class:"primaryInfo"},"You’re transferring your subscription to ",i.h("strong",null,'"',t,'"'),"."),i.h("p",null,"By transferring the subscription, you will ",i.h("strong",null,"transfer your billing information and all the projects under this account.")))))}},function(e,t){},function(e,t,n){"use strict";var i=n(441);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(71),a=n(442);n.n(a);t.a=function(e){const{isOrganizationPlan:t,periodEndDate:n,onCancelPlan:a,onClose:o}=e;return i.h(s.c,{width:484,class:"cancelPlanDialog",positiveButtonText:"CANCEL PLAN",negativeButtonText:"KEEP PLAN",onClose:o,onPositiveButtonClick:a,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Cancel Plan"),i.h("div",{class:"dialogBody"},i.h("p",null,"You can continue using your plan until your billing period ends on",i.h("strong",null," ",n),". Once the billing period ends, your projects and styleguides will be archived automatically."),t&&i.h("p",null,"Once your plan is cancelled, you’ll need to resubscribe to invite or remove members."))))}},function(e,t){},function(e,t,n){"use strict";var i=n(444);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(74),a=n(206),o=n(445),r=n(31),l=n(151),c=n(10),d=n(192);t.a=Object(s.a)(class extends i.Component{static calculateState(){const{overridingCategory:e}=a.b.getState(),{barrelId:t,barrelType:n,selectedView:i}=r.e.getState(),{selectedOrganizationId:s,selectedTab:o}=l.e.getState();if(e)return{category:e};if(!t)return{category:"projects"===o&&"user"!==s?d.a.ORGANIZATION_PROJECTS:o};let u;if(n===c.a.STYLEGUIDE)u=d.a.STYLEGUIDE;else switch(i){case"dashboard":u=d.a.PROJECT_DASHBOARD;break;case"styleguide":u=d.a.PROJECT_STYLEGUIDE;break;case"screen":u=d.a.PROJECT_SCREEN;break;default:u=d.a.DEFAULT}return{category:u}}static getStores(){return[a.b,l.e,r.e]}render(){const{category:e}=this.state;return i.h(o.a,{category:e})}},{withProps:!0,pure:!1})},function(e,t,n){"use strict";var i=n(446);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(100),a=n(3),o=n(21),r=n(192),l=n(447);n.n(l);const c={[r.a.DEFAULT]:[{text:"Downloading Mac and Windows apps",url:"https://support.zeplin.io/en/articles/244698-downloading-mac-and-windows-apps"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Exporting assets from Sketch",url:"https://support.zeplin.io/en/articles/367379-exporting-assets-from-sketch"},{text:"Exporting designs from Photoshop",url:"https://support.zeplin.io/en/articles/1067453-exporting-designs-from-photoshop"},{text:"Updating plans, billing information",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"}],[r.a.PRICING]:[{text:"Pricing & Plans",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"},{text:"Creating an account",url:"https://support.zeplin.io/en/articles/1067135-creating-an-account"},{text:"Collaborating with your team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Choosing a subscription plan",url:"https://support.zeplin.io/en/articles/1166181-choosing-a-subscription-plan"}],[r.a.PROJECTS]:[{text:"Adding a user to a project",url:"https://support.zeplin.io/en/articles/1988444-adding-a-user-to-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Managing profile",url:"https://support.zeplin.io/en/collections/48616-profile"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Transferring a project",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"}],[r.a.PROJECT_DASHBOARD]:[{text:"Adding a project to Slack",url:"https://support.zeplin.io/en/articles/246424-adding-a-project-to-slack"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Downloading screens as images",url:"https://support.zeplin.io/en/articles/774216-downloading-screens-as-images"},{text:"Organizing screens with Sections",url:"https://support.zeplin.io/en/articles/1396666-organizing-screens-with-sections"},{text:"Collaborating with the team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"}],[r.a.PROJECT_STYLEGUIDE]:[{text:"Organizing styleguide colors",url:"https://support.zeplin.io/en/articles/1444421-organizing-styleguide-colors"},{text:"Organizing styleguide text styles",url:"https://support.zeplin.io/en/articles/1504520-organizing-styleguide-text-styles"},{text:"Exporting colors from Sketch",url:"https://support.zeplin.io/en/articles/1444521-exporting-colors-from-sketch"},{text:"Exporting text styles from Sketch",url:"https://support.zeplin.io/en/articles/367382-exporting-text-styles-from-sketch"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[r.a.PROJECT_SCREEN]:[{text:"Updating a screen",url:"https://support.zeplin.io/en/articles/1090335-updating-a-screen"},{text:"Exporting assets",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Comparing app/website with designs using Pop Out",url:"https://support.zeplin.io/en/articles/1437093-comparing-app-website-with-designs-using-pop-out"},{text:"Changing units",url:"https://support.zeplin.io/en/articles/377715-changing-units"}],[r.a.STYLEGUIDES]:[{text:"Creating a styleguide",url:"https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"},{text:"Choosing a styleguide type",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[r.a.STYLEGUIDE]:[{text:"Learning styleguide types",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Adding a user to a styleguide",url:"https://support.zeplin.io/en/articles/3074305-adding-a-user-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[r.a.ORGANIZATION_DASHBOARD]:[{text:"Assigning roles to organization members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Restricting organization members",url:"https://support.zeplin.io/en/articles/581979-restricting-organization-members"},{text:"Grouping organization members by tags",url:"https://support.zeplin.io/en/articles/419850-grouping-organization-members-by-tags"},{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Transfer organization ownership",url:"https://support.zeplin.io/en/articles/1374947-transferring-an-organization"}],[r.a.ORGANIZATION_PROJECTS]:[{text:"Transferring personal projects to organization",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Assigning roles to organization members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Archiving a project",url:"https://support.zeplin.io/en/articles/867652-archiving-a-project"}],[r.a.ORGANIZATION_PROFILE]:[{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Updating credit card",url:"https://support.zeplin.io/en/articles/481582-updating-credit-card"},{text:"Sending Invoices",url:"https://support.zeplin.io/en/articles/479220-sending-invoices"}],[r.a.PROFILE]:[{text:"Setting your profile picture",url:"https://support.zeplin.io/en/articles/246033-setting-your-profile-picture"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Transferring subscription",url:"https://support.zeplin.io/en/articles/980050-transferring-a-subscription"}]};class d extends s.a{constructor(){super(),this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.buttonClickHandler=this.buttonClickHandler.bind(this),this.popupClickHandler=this.popupClickHandler.bind(this),this.showMessages=this.showMessages.bind(this),this.state={popupOpen:!1,unreadCount:0}}closePopup(){this.state.popupOpen&&this.setState({popupOpen:!1})}showMessages(){Intercom("showMessages")}handleLinkClick(e){mixpanel.webapp.track("Clicked support link",{article:e.target.textContent})}buttonClickHandler(e){e.stopPropagation(),this.setState(e=>({popupOpen:!e.popupOpen}))}escHandler(e){this.state.popupOpen&&e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}popupClickHandler(e){e.stopPropagation(),this.closePopup()}componentDidMount(){Intercom("onShow",()=>{this.setState({intercomOpen:!0})}),Intercom("onHide",()=>{this.setState({intercomOpen:!1})}),Intercom("onUnreadCountChange",e=>{this.setState({unreadCount:e})})}componentDidUpdate(){this.state.popupOpen?(document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler)):(document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler))}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}renderPopup(){if(!this.state.popupOpen)return null;const{category:e}=this.props,t=c[e].map(e=>i.h("li",{key:e.url},i.h("a",{href:e.url,target:"_blank",onClick:this.handleLinkClick},i.h("span",null,e.text))));return i.h("div",{class:"supportPopup",onClick:this.popupClickHandler},i.h("h3",null,"Handy articles:"),i.h("ul",null,t),i.h("hr",null),i.h("a",{href:"https://support.zeplin.io",target:"_blank"},"Got another question? ☝️"),i.h("hr",null),i.h("button",{type:"button",onClick:this.showMessages},i.h("span",null,"Contact us",this.renderUnreadBadge())))}renderUnreadBadge(){return this.state.unreadCount?i.h("div",{class:"unreadBadge"}):null}render(){const{popupOpen:e,intercomOpen:t}=this.state,n=Object(a.a)("supportButton",{popupOpen:e,intercomOpen:t});return i.h("div",{class:n,onClick:this.buttonClickHandler},i.h("img",{src:o.f("img/icLifeBuoy.svg")}),this.renderPopup(),this.renderUnreadBadge())}}d.defaultProps={category:r.a.DEFAULT},t.a=d},function(e,t){},,function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(14),l=n(450);n.n(l);class c extends i.Component{constructor(...e){var t;return t=super(...e),this.state={loading:!0,error:!1},this.handleLoad=(()=>{this.setState({loading:!1,error:!1})}),this.handleError=(()=>{this.setState({error:!0})}),t}componentDidMount(){const{loading:e,error:t}=this.state,{img:n}=this.nodeRefs;e&&!t&&n.src&&n.complete&&this.handleLoad()}componentWillReceiveProps(e){e.src===this.props.src&&e.srcset===this.props.srcset||this.setState({loading:!0,error:!1})}componentDidUpdate(){const{loading:e,error:t}=this.state,{img:n}=this.nodeRefs;e&&!t&&n.src&&n.complete&&this.handleLoad()}render(){const{loading:e,error:t}=this.state,{width:n,height:s,src:a,srcset:l,type:c,bgSize:d,title:u,class:h}=this.props,p=Object(o.a)("avatarFrame",{placeholder:e||t},c,h),g={};return"bgSize"in this.props&&(g.backgroundSize=d),i.h("div",{class:p,style:g,title:u},i.h("img",{ref:Object(r.a)(this,"img"),srcSet:l,src:a,width:n,height:s,onLoad:this.handleLoad,onError:this.handleError,alt:"👤"}))}}c.propTypes={width:a.a.oneOfType([a.a.string,a.a.number]),height:a.a.oneOfType([a.a.string,a.a.number]),bgSize:a.a.number,class:a.a.string,type:a.a.oneOf(["user","organization"]),title:a.a.string,srcset:a.a.string,src:a.a.string},c.defaultProps={width:32,height:32},t.a=c},function(e,t){},,,function(e,t,n){const{defaults:i}=n(306),{cleanUrl:s,escape:a}=n(280);e.exports=class{constructor(e){this.options=e||i}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,i);null!=t&&t!==e&&(n=!0,e=t)}return i?'<pre><code class="'+this.options.langPrefix+a(i,!0)+'">'+(n?e:a(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:a(e,!0))+"</code></pre>"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=s(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<a href="'+a(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"}image(e,t,n){if(null===(e=s(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"}text(e){return e}}},function(e,t,n){"use strict";t.a=c,t.b=function(e,t,{filterValue:n,tagFilter:c,jiraIssueFilter:d}){let u,h;if(n)return{sortedSections:u=function(e,t){const n={},a=e.screens.filter(e=>{const i=Object(s.a)(t,e.name);return n[e._id]=i,i}).sort((e,t)=>{const s=n[t._id]-n[e._id];return s||i.H.name(e,t)}),{jira:o}=e.integration||{};if(o){const{filteredScreens:n}=l(e,[t]);a.push(...n.filter(e=>!a.some(t=>t._id===e._id)))}if(a.length>0)return[r("filtered",a)];return[]}(e,n.toLowerCase()),visibleTags:e.tags};const{filteredSections:p,filteredScreens:g}=l(e,d);(u=function(e,t){if(!function(e){return e.tags.length||e.untagged}(t))return e;let n;return t.tags.length?n=function(e){return Array.isArray(e)?t=>e.reduce((e,n)=>e&&t.tags&&t.tags.includes(n),!0):t=>t.tags&&t.tags.includes(e)}(t.tags):t.untagged&&(n=(e=>!e.tags||!e.tags.length)),e.map(e=>Object.assign(e,{screens:e.screens.filter(n)})).filter(e=>e.screens.length)}(function(e,t,n){switch(n){case"default":default:return function(e,t){return e&&e.length?e.map(e=>{let n=Object.assign({},e);return n.screens=e.screens.map(e=>t.find(t=>t._id===e)).filter(Boolean),n.type="user",n}):[]}(e,t);case"lastUpdated":{const e=t.slice(0).sort(i.H.lastUpdated);return function(e){const t=[],n={};return e.forEach(e=>{const s=Object(i.v)(new Date(e.updated));let a;s in n?a=n[s]:(t.push(s),a=[],n[s]=a),a.push(e)},{}),t.map(e=>({_id:e,name:Object(o.h)(e),actionsDisabled:!0,screens:n[e],type:"timeline"}))}(e)}case"name":return function(e){return e.length?[r("sorted",e.slice(0).sort(i.H.name))]:[]}(t)}}(p,g,t),c)).length&&e.sections[0]._id===u[0]._id&&(u[0].type="default");return h=Object(a.a)(g),{sortedSections:u,visibleTags:h}};var i=n(1),s=n(124),a=n(92),o=n(6);function r(e,t){return{_id:e,screens:t,type:"default"}}function l(e,t){const{jira:n}=e.integration||{};if(!t||!t.length||!n)return{filteredSections:e.sections,filteredScreens:e.screens};const i=n.attachments.filter(e=>t.some(t=>t.toLowerCase()===e.issueKey.toLowerCase())),s=i.filter(e=>"section"===e.type),a=i.filter(e=>"screen"===e.type),o=c(e.sections),r=e.screens.map(e=>Object.assign({},e,{sectionId:o[e._id]})).filter(e=>a.find(t=>t.itemId===e._id)||s.find(t=>t.itemId===e.sectionId));return{filteredSections:e.sections.filter(e=>r.find(t=>t.sectionId===e._id)||!Object.values(o).includes(e._id)&&s.find(t=>t.itemId===e._id)).map(e=>Object.assign({},e,{screens:r.filter(t=>t.sectionId===e._id).map(e=>e._id)})),filteredScreens:r}}function c(e){return e.reduce((e,t)=>(t.screens.forEach(n=>{e[n]=t._id}),e),{})}},function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return g}),n.d(t,"a",function(){return h});var i=n(465),s=n(10),a=n(31),o=n(57),r=n(58);function l(e,t){return{model:t,data:e}}function c(e){const{name:t,description:n,tags:i}=e;return{model:"Screen",data:{name:t,description:n,tags:i}}}function d(e){const{name:t,description:n}=e;return{model:"Component",data:{name:t,description:n}}}function u(e){const t=Object.assign({},e,{snapshot:Object.assign({},e.snapshot)}),n=t.snapshot.layers||[];return t.snapshot.layers=n.map(e=>{return new i.a(e).toObject()}),{model:"Version",data:t}}function h(e,t,n=[]){if(!e.layers||0===e.layers.length)return null;for(const[i,s]of e.layers.entries()){if(s._id===t)return n.concat(i);const e=h(s,t,n.concat(i));if(e)return e}return null}function p(e,t){let n=t[e],i=n.toObject();const s=i;for(;n;){const e=t[n.parent],s=e?e.toObject():null;n=e,i.parent=s,i=s}return s}function g(e,t,n){const i=e.toObject(),l=a.d.getStyleguidesData({barrelStore:a.e,styleguidesDataStore:r.c,projectsDataStore:o.c});return i.remPreferences=Object.assign({},l[0].remPreferences,{rootFontSize:l[0].remPreferences.remRootFontSize}),t===s.a.PROJECT&&e.styleguideLink&&"active"===e.styleguideLink.status?i.styleguide=p(e.styleguideLink.styleguide._id,n):t===s.a.STYLEGUIDE&&e.parent&&(i.parent=p(e.parent,n)),i}},function(e,t,n){"use strict";var i=n(626);t.a=i.a},function(e,t,n){"use strict";var i=n(1265);t.a=i.a},,,function(e,t,n){"use strict";var i=n(489);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedEmojis",function(){return S}),n.d(t,"open",function(){return C}),n.d(t,"close",function(){return E}),n.d(t,"formatEmojiString",function(){return v}),n.d(t,"replace",function(){return y});var i=n(1),s=n(368),a=n(493);const o=document.getElementById("suggestedEmojisContainer"),r=document.getElementById("suggestedEmojiTemplate");let l,c,d,u,h=0,p=[];const g=/:(\S+?):/g;function m(e){return e?(u=e,(p=s.a.getSuggestedEmojis(e)).length?(p.forEach(f),!l||function(e){return!p.some(function(t){return t.emoji===e.emoji})}(l)?(h=0,l=p[0]):h=o.querySelector(`.suggestedItem[data-emoji="${l.emoji}"]`).dataset.index,o):void(l=null)):(l=null,h=0,void E())}function f(e,t){const n=o.querySelector(".suggestedListBox"),i=document.importNode(r.content,!0),s=i.querySelector(".suggestedItem"),a=e.alias.replace(/\s/gi,"_");s.dataset.index=t,s.dataset.emoji=e.emoji,e.customEmoji?(s.querySelector(".emojiImg").src=e.emoji,s.classList.add("customEmoji")):s.querySelector(".emojiChar").textContent=e.emoji,s.querySelector(".emojiAlias").textContent=a,s.querySelector(".emojiAlias").title=a,n.appendChild(i)}function b(e){const t=c.selectionStart,n=c.value.substring(0,t),s=n.length-n.split("").reverse().join("").search(/:/)-1,a=c.value.substring(s,t),o=e.alias.replace(/\s/g,"_");c.value=c.value.substring(0,s)+a.replace(u,o+": ")+c.value.substring(t),d.innerHTML=Object(i.h)(c.value)+"&nbsp;";const r=t-u.length+o.length+2;c.focus(),c.setSelectionRange(r,r),E()}function y(e,t,n){return e.replace(g,function(e,i){const a=s.a.searchEmoji(i);if(a){if(n)return"";if(!a.customEmoji)return a.emoji;if(!t)return'<img class="customEmoji" src="'+a.emoji+'" title="'+i+'">'}return t?e:`<span class="customEmojiPlainText">${e}</span>`})}function S(e,t){if(c=e,d=t,!o.classList.contains("hidden")){const e=o.querySelector(".suggestedItem.selected");e&&(l=p[e.dataset.index])}const n=e.value.substring(0,e.selectionStart),i=n.lastIndexOf(":"),a=e.value.substring(i,e.selectionStart).match(/^:(.+)/);if(a){const e=a[0].substring(1);if(u===e&&!o.classList.contains("hidden"))return;E();const t=n.substring(0,i).lastIndexOf(":"),r=n.substring(t,i+1).match(g);if(r&&s.a.searchEmoji(r[0].substring(1,r[0].length-1)))return;return m(e)}h=0,l=null,E()}function v(e,t){return y(e,t)}function C(){const e={elements:{textContainer:c,suggestedListContainer:o},cb:{autoComplete:b},index:h,list:p};a.b(e)}function E(){a.a()}},function(e,t,n){"use strict";var i=n(612);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(613);n.d(t,"c",function(){return i.c}),n.d(t,"b",function(){return i.b}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o});const i=Object.freeze([.25,.5,.75,1,1.5,2,2.5,3,4,5]),s=1,a=i[0],o=i[i.length-1];t.d=i},function(e,t,n){"use strict";var i=n(377),s=n(511),a=n(512),o=n(378),r=n(52),l=n(2),c=n(515),d=["text","shape","group"];function Layer(e){var t=Object.assign({},e);t.blur&&(t.blur=new s.a(t.blur)),t.borders=t.borders.map(function(e){return new a.a(e,t.rect.width,t.rect.height)}),t.fills=t.fills.map(function(e){return new o.a(e,t.rect.width,t.rect.height)}),t.shadows=t.shadows.map(function(e){return new c.a(e)}),t.textStyles=(t.textStyles||[]).map(function(e){var t=parseInt(e.range.location,10);return{range:{start:t,end:t+parseInt(e.range.length,10)},font:new r.a(e.style)}}),t.layers=(t.layers||[]).map(function(e){return new Layer(e)}),t.asset?t.assets=t.asset.contents.map(({densityScale:e,format:t})=>({densityScale:e,format:t})):t.assets=[],Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:function(){return t.type},set:function(e){if(-1===d.indexOf(e))throw new TypeError("Unknown layer type: '"+e+"'. Possible values: "+JSON.stringify(d));t.type=e}},name:{get:function(){return t.name},set:function(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:function(){return t.rotation},set:function(e){t.rotation=e}},opacity:{get:function(){return t.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");t.opacity=e}},blendMode:{get:function(){return t.blendMode},set:function(e){if(-1===i.a.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.a));t.blendMode=e}},borderRadius:{get:function(){return t.borderRadius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.borderRadius=e}},blur:{get:function(){return t.blur},set:function(e){t.blur=new s.a(e)}},absoluteRect:{get:function(){return t.absoluteRect},set:function(e){t.absoluteRect=e}},rect:{get:function(){return t.rect},set:function(e){t.rect=e}},content:{get:function(){return"text"===t.type&&t.content||""},set:function(e){"text"===t.type&&(t.content=e)}},textStyles:{get:function(){return t.textStyles}},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows},assets:{value:t.assets},assetData:{value:t.asset},component:{value:t.component},layers:{value:t.layers},componentName:{value:t.componentName},sourceId:{value:t.sourceId}})}Layer.prototype=Object.create(l.a.prototype),Layer.prototype.constructor=Layer,Layer.prototype.toObject=function(){var e={type:this.type,name:this.name,exportable:this.exportable,rotation:this.rotation||0,opacity:this.opacity,blendMode:this.blendMode||"normal",borderRadius:this.borderRadius||0,absoluteRect:this.absoluteRect,rect:this.rect,content:this.content,borders:this.borders.map(function(e){return e.toObject()}),fills:this.fills.map(function(e){return e.toObject()}),shadows:this.shadows.map(function(e){return e.toObject()}),textStyles:this.textStyles.map(function(e){var t=e.range;return{range:{location:t.start,length:t.end-t.start},style:e.font.toObject()}}),assets:this.assets,layers:this.layers.map(function(e){return e.toObject()}),componentName:this.componentName,sourceId:this.sourceId};return this.blur&&(e.blur=this.blur.toObject()),e},Layer.prototype.hasGradient=function(){return this.fills.some(function(e){return"gradient"===e.type})},Layer.prototype.hasBlendMode=function(){return this.fills.some(function(e){return e.blendMode&&"normal"!==e.blendMode})},Layer.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach(function(i){var s=t.find(function(e){return e.font.equals(i.font)}),a=i.range.end-i.range.start;s||(s={font:i.font,totalLength:0},t.push(s)),s.totalLength+=a,s.totalLength>n&&(n=s.totalLength,e=s)}),e&&e.font}},t.a=Layer},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(201),o=n(212),r=n(12),l=n(318);t.a=new class extends s.a{constructor(){super(o.a)}getInitialState(){return{sortType:"default",filterValue:"",leftSidebarWidth:200,rightSidebarWidth:280,selectedStyleguideSection:"about",selectedNavigatorId:null,highlightedColors:[],highlightedTextStyles:[],highlightedSpacingTokens:[],scrolledSection:null,highlightScrolledSection:!1,selectionComponentId:null,selection:null,moveResourcesPopup:null,showSuggestedResourcesBadge:{colors:!1,textStyles:!1}}}load(e={}){return Object.assign({},this.getInitialState(),e)}updateState(e,t){return Object.assign({},e,t)}changeSortType(e,t){return Object.assign({},e,{sortType:t})}changeFilterValue(e,t){return Object.assign({},e,{filterValue:t})}changeLeftSidebarWidth(e,t){return Object.assign({},e,{leftSidebarWidth:t})}changeRightSidebarWidth(e,t){return Object.assign({},e,{rightSidebarWidth:t})}changeSelectedNavigatorId(e,t,n){return Object.assign({},e,{selectedStyleguideSection:t,selectedNavigatorId:n,scrolledSection:n,highlightScrolledSection:!1})}highlightColors(e,t){return Object.assign({},e,{highlightedColors:[].concat(t).filter(Boolean)})}unhighlightColor(e,t){return Object.assign({},e,{highlightedColors:e.highlightedColors.filter(e=>e!==t)})}highlightTextStyles(e,t){return Object.assign({},e,{highlightedTextStyles:[].concat(t).filter(Boolean)})}unhighlightTextStyle(e,t){return Object.assign({},e,{highlightedTextStyles:e.highlightedTextStyles.filter(e=>e!==t)})}highlightSpacingTokens(e,t){return Object.assign({},e,{highlightedSpacingTokens:[].concat(t).filter(Boolean)})}unhighlightSpacingToken(e,t){return Object.assign({},e,{highlightedSpacingTokens:e.highlightedSpacingTokens.filter(e=>e!==t)})}sectionScrolled(e){return Object.assign({},e,{scrolledSection:null,highlightScrolledSection:!1})}changeSelection(e,{selectionComponentId:t,selection:n}){return Object.assign({},e,{selectionComponentId:t,selection:n})}updateForChangeSelectedView(e,{selectedView:t}){return"styleguide"===t?e:Object.assign({},e,{selectionComponentId:null,selection:null})}componentSnapshotsReady(e){return Object.assign({},e)}removeComponent(e,{coid:t}){return t===e.selectionComponentId?Object.assign({},e,{selectionComponentId:null,selection:null}):e}openMoveResourcesPopup(e,{resources:t,resourceType:n,targetNode:i}){return Object.assign({},e,{moveResourcesPopup:{resources:t,resourceType:n,targetNode:i,targetStyleguide:null}})}closeMoveResourcesPopup(e){return Object.assign({},e,{moveResourcesPopup:null})}selectMoveResourcesTargetStyleguide(e,{targetStyleguide:t}){const{moveResourcesPopup:n}=e;return Object.assign({},e,{moveResourcesPopup:Object.assign({},n,{targetStyleguide:t})})}deselectMoveResourcesTargetStyleguide(e){const{moveResourcesPopup:t}=e;return Object.assign({},e,{moveResourcesPopup:Object.assign({},t,{targetStyleguide:null})})}setSuggestedResources(e){return Object.assign({},e,{showSuggestedResourcesBadge:{colors:"colors"!==e.selectedStyleguideSection,textStyles:"textStyles"!==e.selectedStyleguideSection}})}reduce(e,t){switch(t.type){case r.a.LOAD:return this.load(t.styleguide);case r.a.CHANGE_SELECTED_VIEW:return this.updateForChangeSelectedView(e,t);case a.a.UPDATE_STATE:return this.updateState(e,t.update);case a.a.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case a.a.CHANGE_FILTER_VALUE:return this.changeFilterValue(e,t.filterValue);case a.a.CHANGE_LEFT_SIDEBAR_WIDTH:return this.changeLeftSidebarWidth(e,t.leftSidebarWidth);case a.a.CHANGE_RIGHT_SIDEBAR_WIDTH:return this.changeRightSidebarWidth(e,t.rightSidebarWidth);case a.a.CHANGE_SELECTED_NAVIGATOR_ID:return this.changeSelectedNavigatorId(e,t.selectedStyleguideSection,t.selectedNavigatorId);case a.a.HIGHLIGHT_COLORS:return this.highlightColors(e,t.cids);case a.a.UNHIGHLIGHT_COLOR:return this.unhighlightColor(e,t.cid);case a.a.HIGHLIGHT_TEXT_STYLES:return this.highlightTextStyles(e,t.tsids);case a.a.UNHIGHLIGHT_TEXT_STYLE:return this.unhighlightTextStyle(e,t.tsid);case a.a.HIGHLIGHT_SPACING_TOKENS:return this.highlightSpacingTokens(e,t.sptids);case a.a.UNHIGHLIGHT_SPACING_TOKEN:return this.unhighlightSpacingToken(e,t.sptid);case a.a.SECTION_SCROLLED:return this.sectionScrolled(e);case a.a.CHANGE_SELECTION:return this.changeSelection(e,t);case a.a.COMPONENT_SNAPSHOTS_READY:return this.componentSnapshotsReady(e);case a.a.OPEN_MOVE_RESOURCES_POPUP:return this.openMoveResourcesPopup(e,t);case a.a.CLOSE_MOVE_RESOURCES_POPUP:return this.closeMoveResourcesPopup(e);case a.a.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.selectMoveResourcesTargetStyleguide(e,t);case a.a.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.deselectMoveResourcesTargetStyleguide(e);case r.a.REMOVE_COMPONENT:return this.removeComponent(e,t);case r.a.MOVE_RESOURCES_SUCCESS:return this.closeMoveResourcesPopup(e);case r.a.MOVE_RESOURCES_FAIL:return this.deselectMoveResourcesTargetStyleguide(e);case l.a.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e);default:return e}}}},function(e,t,n){"use strict";n(7);var i=n(28),s=n(535);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"j",function(){return be}),n.d(t,"b",function(){return ve}),n.d(t,"h",function(){return Ce}),n.d(t,"i",function(){return ge}),n.d(t,"f",function(){return he}),n.d(t,"g",function(){return ue}),n.d(t,"d",function(){return me}),n.d(t,"e",function(){return fe});n(622);var i=n(25),s=n(1),a=n(26),o=n(13),r=n(17),l=n(35);const c=new Set,d=document.getElementById("inviteUserPopup"),u=document.getElementById("inviteUserPopupAnchor"),h=document.getElementById("inviteeHandle"),p=d.querySelector(".userList"),g=document.getElementById("inviteeTemplate"),m=document.getElementById("inviteNewUserTemplate"),f=document.getElementById("typedUserAlreadyAddedTemplate"),b=document.getElementById("inviteByTagTemplate"),y=document.querySelector(".organizationInviteeList"),S=document.querySelector(".tagList"),v=document.querySelector(".showRemainingTags"),C=document.querySelector(".memberList"),E=document.querySelector(".membersWithTagHeader"),O=document.querySelector(".membersWithTagList"),T=document.querySelector(".wildlingList"),k=3;let D,_,w,j,R,I,A,x={},P=[],L=[],N=new Set,U={},M=new Set,B=new Set,z=new Set,F=!0;function W(e){if(e.classList.contains("newUser")){if(!h.checkValidity()&&!/^\w{3,30}$/.test(h.value))return Object(a.p)(h.parentElement),void(F=!0);d.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))re(h.value,e);else if(e.classList.contains("user")){var t=L.find(function(t){return t._id===e.dataset.uid});re(t.username||t.email,e)}else if(e.classList.contains("member")){var n=U.members.find(function(t){return t.user._id===e.dataset.mid});re(n.user.username||n.user.email,e)}else if(e.classList.contains("wildling")){var s=U.wildlings.find(function(t){return t.user._id===e.dataset.wid});re(s.user.username||s.user.email,e)}else e.classList.contains("inviteByTag")&&function(e,t){o[_].inviteUsersByTag(U._id,w,e).then(function(e){le(e,t)}).catch(function(){t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),i.a({done:{cb(){Object(a.g)(h),F=!0}}})})}(e.dataset.tag,e)}function H(){d.classList.contains("organizationBarrel")?J():X()}function V(e,t,n){var i=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*i:e.includes(t)?4*i:0:16}function G(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach(function(t){t.classList.remove("hidden","selected"),e.appendChild(t)})}function $(e){return S.querySelector(`[data-tag="${CSS.escape(e)}"]`)}function q(e){return C.querySelector("[data-mid='"+e.user._id+"']")}function Z(e){return T.querySelector("[data-wid='"+e.user._id+"']")}function Y(e,t,n,i){t.forEach(function(t){var i=n(t);i.classList.remove("hidden","selected"),e.appendChild(i)});for(var s=0;s<e.childElementCount-t.length;s++){var a=e.children[s];a.classList.add("hidden"),a.classList.remove("selected")}e.parentElement.classList.toggle(i,0===t.length)}function K(e,t,n){var i={};if(!e)return[];var s=e.filter(function(e){if(z.has(e.user._id)){var s=n(e);if(!s)return!1;if(!s.classList.contains("inviteDone"))return!1}var a=0;return e.user.username&&(a+=V(e.user.username,t)),!!(a+=V(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(i[e.user._id]=a,!0)});return s.sort(function(e,t){return i[t.user._id]-i[e.user._id]}),s}function J(){ee(".wildlingList .newUser"),ee(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=h.value.toLowerCase();if(d.classList.remove("noNewInvitees","noInvitees"),y.classList.remove("noTags","noMembers","hasMembersWithTag","noWildlings","writeAnEmailToInvite","showAddsToTheBarrelOnlyInfo"),O.innerHTML="",h.placeholder="Invite with email/username",n){e=!!(t=B.has(n))||M.has(n);var i=Object.keys(x);i.sort();var s={},a=i.filter(function(e){var t=V(e.toLowerCase(),n);return!!t&&(s[e]=t,!0)}).sort(function(e,t){return s[t]-s[e]});Y(S,a,$,"noTags");var o=K(U.members,n,q);Y(C,o,q,"noMembers");var r=$(a[0]);y.classList.toggle("hasMembersWithTag",1===a.length&&(x[a[0]]>0||r&&r.classList.contains("inviteDone")))&&(E.textContent=a[0],O.innerHTML="",U.members.forEach(function(e){var t=q(e);if((!z.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(a[0])){var n=ne(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),O.appendChild(n)}}));var l=K(U.wildlings,n,Z);if(Y(T,l,Z,"noWildlings"),e||n.includes("@")){if(!e){y.classList.add("showAddsToTheBarrelOnlyInfo");var c=document.importNode(m.content,!0);c.querySelector(".invitee").classList.add("wildling"),c.querySelector(".newUserHandle").textContent=h.value,T.appendChild(c)}}else y.classList.add("writeAnEmailToInvite");if(t&&!y.querySelector(".invitee.inviteDone")){var u=document.importNode(f.content,!0);u.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),u.querySelector("span").textContent=h.value,y.appendChild(u)}}else{if(G(S,"noTags"),v.textContent){var p=Array.from(S.querySelectorAll(".inviteByTag")).map(function(e){return e.dataset.tag});p.sort(),p.forEach(function(e){var t=$(e);S.appendChild(t)});for(var g=S.firstElementChild,b=k;b<S.childElementCount;b++){var D=S.children[b];D.classList.add("hidden"),S.insertBefore(D,g)}S.childElementCount-k>0?(v.textContent=S.childElementCount-k,v.classList.toggle("multiple",S.childElementCount-k>1)):v.textContent=""}G(C,"noMembers"),G(T,"noWildlings")}var _=y.querySelectorAll(".invitee:not(.hidden)");if(_.length)_[0].classList.add("selected");else if(!t&&!y.classList.contains("writeAnEmailToInvite")){const e=(U.members||[]).filter(e=>!z.has(e.user._id)),t=(U.wildlings||[]).filter(e=>!z.has(e.user._id));e.length+t.length===0&&j.length>1?d.classList.add("noNewInvitees"):1===j.length&&(d.classList.add("noInvitees"),h.placeholder="Invite with email")}}function X(){ee(".userList .user.newUser"),ee(".userList .userListTypedUserAlreadyAdded"),p.classList.remove("writeAnEmailToInvite"),h.placeholder="Invite with email/username";var e,t,n=h.value.toLowerCase(),i=document.importNode(f.content,!0);if(n){e=!!(t=B.has(n))||c.has(n);var s={},a=L.filter(function(e){var t=0;return e.username&&(t+=V(e.username,n)),(t+=V(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(s[e._id]=t,!0)}).sort(function(e,t){return s[t._id]-s[e._id]});a.forEach(function(e){var t=Q(e._id);t.classList.remove("hidden","selected"),p.appendChild(t)});for(var o=0;o<L.length-a.length;o++){var r=p.children[o].classList;r.add("hidden"),r.remove("selected")}}else L.forEach(function(e){var t=Q(e._id);t.classList.remove("hidden","selected"),p.appendChild(t)});if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(m.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".newUserHandle").textContent=h.value,p.appendChild(l)}}else p.classList.add("writeAnEmailToInvite");t&&(i.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=h.value,p.appendChild(i))}d.classList.remove("noInvitees"),d.classList.remove("noNewInvitees");var u=p.querySelectorAll(".user:not(.hidden)");u.length?u[0].classList.add("selected"):t||p.classList.contains("writeAnEmailToInvite")||(P.length?d.classList.add("noNewInvitees"):(d.classList.add("noInvitees"),h.placeholder="Invite with email"))}function Q(e){return p.querySelector(".invitee[data-uid='"+e+"']")}function ee(e){var t=document.querySelector(e);t&&t.remove()}function te(e,t,n){var i=document.importNode(b.content,!0),s=i.querySelector(".inviteByTag"),a=i.querySelector(".tagName"),o=i.querySelector(".memberCount");return s.classList.toggle("hidden",!!n),s.dataset.tag=e,a.textContent=e,a.title=e,o.textContent=t+(t>1?" members":" member"),i}function ne(e){var t=document.importNode(g.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),s=t.querySelector(".username"),o=t.querySelector(".email"),r=t.querySelector(".organizationTags");n.classList.add("member"),n.dataset.mid=e.user._id,Object(a.o)(i,e.user),e.user.username?(s.textContent=e.user.username,s.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email):(s.textContent=e.user.email,s.title=e.user.email,o.textContent="Pending Invitation");var l=e.tags.join(", ");return r.textContent=l,r.title=l,t}function ie(e){var t=document.importNode(g.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),s=t.querySelector(".username"),o=t.querySelector(".email"),r=t.querySelector(".inviteExtraInfo");return n.classList.add("wildling"),n.dataset.wid=e.user._id,Object(a.o)(i,e.user),s.textContent=e.user.username,s.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email,e.user.username||(r.textContent="Pending Invitation"),t}function se(e,t){var n=document.importNode(g.content,!0),i=n.querySelector(".invitee"),s=n.querySelector(".userImage"),o=n.querySelector(".username"),r=n.querySelector(".inviteExtraInfo"),l=e.username||e.email;(i.classList.add("user"),Object(a.o)(s,e),i.dataset.uid=e._id,o.textContent=l,o.title=l,e.username)?n.querySelector(".email").textContent=e.email:r.textContent="Pending invitation";return t&&i.classList.add("hidden"),n}function ae(e){N.has(e._id)||(P.push(e),N.add(e._id),e.username&&c.add(e.username),c.add(e.email))}function oe(e){z.add(e._id),e.username&&B.add(e.username),B.add(e.email)}function re(e,t){o[_].inviteUser(w,e).then(function(e){le(e,t)}).catch(function(e){d.querySelector(".inputArea img").classList.add("hidden"),Ce()||t.classList.contains("newUser")?(F=!1,r.b(e,{dialogCallback(){Object(a.g)(h),F=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)}).catch(function(){i.a({done:{cb(){Object(a.g)(h),F=!0}}})})}function le(e,t){Object(a.g)(h),d.querySelector(".inputArea img").classList.add("hidden");const n=e.users||[e];(I&&I(n),n.forEach(({user:e})=>{oe(e),t.classList.contains("user")&&ae(e)}),mixpanel.master.track("Invited user"),D&&D.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),d.classList.contains("organizationBarrel"))&&((e.users?e.users:[e]).forEach(function(e){if(U.members){var t=U.members.find(function(t){return t.user._id===e.user._id});t&&t.tags.forEach(function(e){x[e]-=1})}}),Object.keys(x).forEach(function(e){var t=x[e],n=$(e);0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=t+(t>1?" members":" member")}));if(t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach(function(e){Array.from(y.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach(function(e){e.classList.add("inviteDone")})}),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){L.push(e.user);var i=se(e.user);i.querySelector(".user").classList.add("inviteDone"),p.querySelector(".user.selected")||i.querySelector(".user").classList.add("selected"),de(i)}else{U.wildlings&&U.wildlings.push({user:e.user}),M.add(e.user.email);var s=ie(e);s.querySelector(".wildling").classList.add("inviteDone"),T.querySelector(".wildling.selected")||s.querySelector(".wildling").classList.add("selected"),T.appendChild(s)}}function ce(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach(function(e){e.remove()})}function de(e){p.lastElementChild&&p.lastElementChild.classList.contains("user")?p.appendChild(e):p.insertBefore(e,p.lastElementChild)}function ue(e){e.forEach(function(e){(ae(e.user),D&&!z.has(e.user._id))&&(L.some(function(t){return t._id===e.user._id})||(L.push(e.user),de(se(e.user))))}),Ce()||H()}function he(e,t){if(ae(t),D){if(w===e)oe(t),s.b(L,function(e){return e._id===t._id});else L.some(function(e){return e._id===t._id})||L.push(t);var n,i=h.value;if(n=d.classList.contains("organizationBarrel")?q(t):Q(t.user._id),w===e&&n){if(n.classList.contains("selected")&&p.querySelector(".user:not(.hidden)")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove(),n.classList.contains("newUser")||!p.querySelector(".user:not(.hidden)")){var a=document.importNode(f.content,!0);a.querySelector(".userListTypedUserAlreadyAdded").classList.add(h.value===Zeplin.user.username||h.value===Zeplin.user.email?"selfUser":"someUser"),a.querySelector("span").textContent=h.value,p.appendChild(a)}}else w!==e&&(n?n.classList.contains("newUser")&&(p.appendChild(se(t)),n.classList.contains("selected")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove()):de(se(t,i&&!(t.username&&t.username.includes(i))&&!t.email.includes(i))))}}function pe(e,t,n,i){var s=t(n),a=!(!h.value||n.user.username&&n.user.username.includes(h.value)||n.user.email.includes(h.value));s.querySelector(".invitee").classList.toggle("hidden",a),a?e.append(s):(e.insertBefore(s,e.querySelector(".invitee:not(.hidden)")),e.parentElement.classList.remove(i))}function ge(e,t){if(w===e)if(d.classList.contains("organizationBarrel")){var n,i,s=U.members.find(function(e){return e.user._id===t});s?(n=s,i=q(s),s.tags.forEach(function(e){x[e]?x[e]+=1:x[e]=1;var t=$(e);if(t)t.querySelector(".memberCount").textContent=x[e]+(x[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=te(e,x[e]);n.querySelector(".invitee").classList.toggle("hidden",!!h.value&&!e.includes(h.value))?S.appendChild(n):S.insertBefore(te(e,x[e]),S.querySelector(".invitee:not(.hidden)"))}})):i=Z(n=U.wildlings.find(function(e){return e.user._id===t})),z.delete(t),B.delete(n.user.username),B.delete(n.user.email);var a=y.querySelector(".userListTypedUserAlreadyAdded");if(h.value===n.user.username&&a&&a.remove(),!D)return;i?i.classList.remove("inviteDone"):s?pe(C,ne,s,"noMembers"):pe(T,ie,n,"noWildlings")}else{var o=P.find(e=>e._id===t);if(function(e){z.delete(e._id),e.username&&(B.delete(e.username),c.add(e.username)),B.delete(e.email),c.add(e.email),L.some(function(t){return t._id===e._id})||L.push(e)}(o),!D)return;var r=h.value,l=Q(o._id);l?l.classList.remove("inviteDone"):de(se(o,r&&!(o.username&&o.username.includes(r))&&!o.email.includes(r)))}}function me(e){var t=P.find(t=>t._id===e._id);if(t&&(Object.assign(t,e),D)){var n=Q(e._id);n&&(n.querySelector(".username").textContent=e.username,n.querySelector(".inviteExtraInfo").textContent="")}}function fe(e){var t=s.b(P,function(t){return t._id===e});if(t&&(function(e){z.delete(e._id),N.delete(e._id),e.username&&(B.delete(e.username),c.delete(e.username)),B.delete(e.email),c.delete(e.email),s.b(L,function(t){return t._id===e._id})}(t),D)){var n=Q(t._id);n&&(p.removeChild(n),n.classList.contains("selected")&&p.querySelector(".user:not(.hidden)")&&p.querySelector(".user:not(.hidden)").classList.add("selected"))}}function be({bt:e,popupContainer:t,bid:n,members:i,oid:a,onInvite:o,onDismiss:r}){const u=a&&"user"!==a;_=e,d.classList.toggle("organizationBarrel",u),A=r,I=o,u?(U=l.d.getOrganization(a),x=function(e){const t={};return e.forEach(e=>{e.tags.forEach(e=>{t[e]?t[e]+=1:t[e]=1})}),t}(U.members),function(e,t,n){if(t!==w){ye(),B=new Set,z=new Set,M=new Set,w=t,(j=n).forEach(function(e){oe(e.user)}),U.members&&U.members.forEach(function(e){z.has(e.user._id)?e.tags.forEach(function(e){x[e]>0&&(x[e]-=1,0===x[e]&&delete x[e])}):(M.add(e.user.username).add(e.user.email),C.appendChild(ne(e)))}),y.classList.toggle("noMembers",!C.childElementCount);var i=Object.keys(x);i.sort(),i.forEach(function(e){S.appendChild(te(e,x[e],!1))});var s=i.length-k;s>0&&(v.textContent=s,v.classList.toggle("multiple",s>1)),y.classList.toggle("noTags",!i.length),U.wildlings&&U.wildlings.forEach(function(e){z.has(e.user._id)||(M.add(e.user.username).add(e.user.email),T.appendChild(ie(e)))}),y.classList.toggle("noWildlings",!T.childElementCount)}else Object.keys(x).forEach(function(e){0===x[e]&&delete x[e]}),R&&new Date-R>1e4&&(v.textContent=Object.keys(x).length-k,v.classList.toggle("multiple",Object.keys(x).length-k>1)),ce(S),ce(C),ce(T);R=0,D=e,e.appendChild(d),e.getBoundingClientRect().right+80>window.innerWidth&&d.classList.add("left");J(),d.classList.remove("hidden"),y.scrollTop=0,h.focus()}(t,n,i)):function(e,t,n){t!==w?(ye(),L=[],B=new Set,z=new Set,w=t,(j=n).forEach(function(e){oe(e.user)}),P.forEach(function(e){z.has(e._id)||(L.push(e),e.username&&c.add(e.username),c.add(e.email))}),L.forEach(function(e){p.appendChild(se(e))})):(ce(p),z.forEach(function(e){s.b(L,function(t){return t._id===e})}));D=e,e.appendChild(d),e.getBoundingClientRect().right+80>window.innerWidth&&d.classList.add("left");X(),d.classList.remove("hidden"),p.scrollTop=0,h.focus()}(t,n,i),document.addEventListener("click",e=>{if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&!Ce()){d.contains(e.target)||ve()}},!0)}function ye(){p.innerHTML="",S.innerHTML="",v.textContent="",C.innerHTML="",T.innerHTML=""}function Se(){h.value="",h.dispatchEvent(new Event("input"))}function ve(){document.removeEventListener("click",ve),D=null,d.classList.add("hidden"),d.classList.remove("left"),d.querySelector(".inputArea img").classList.add("hidden"),Se(),R||(R=new Date),A&&A(),document.body.append(d)}function Ce(){return d.classList.contains("hidden")}o.getUserAcquaintances().then(e=>{P=e.acquaintances,N=new Set(P.map(e=>e._id))}).catch(e=>{}),function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),W(t))}}let t,n;h.addEventListener("input",function(){h.parentElement.classList.toggle("typed",!!h.value),F=!0,H(),D&&D.dispatchEvent(new CustomEvent("listRefreshed"))}),d.addEventListener("click",function(e){e.stopPropagation()}),d.addEventListener("contextmenu",function(e){e.stopPropagation()}),p.addEventListener("click",e),y.addEventListener("click",e),d.addEventListener("mouseenter",function(e){t=e.clientX,n=e.clientY}),d.addEventListener("mousemove",function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var i=d.querySelector(".selected");i&&i.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}}),document.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:if(Ce())break;if(e.stopImmediatePropagation(),h.value){Se();break}ve();break;case Zeplin.KEY_CODE.ENTER:{if(Ce()||!F)break;const e=d.querySelector(".selected");if(!e||e.classList.contains("inviteDone")||e.classList.contains("inviteSpinner"))break;F=!1,W(e);break}case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(Ce())break;F=!0,e.preventDefault(),function(e){d.classList.contains("organizationBarrel")?function(e){var t=y.querySelector(".invitee.selected");if(t){var n,i=Array.from(y.querySelectorAll(".invitee:not(.hidden)")),s=i.findIndex(function(e){return e.classList.contains("selected")});if((n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?s-1:s+1)>-1&&n<i.length){var o=i[n];t.classList.remove("selected"),o.classList.add("selected"),Object(a.m)(o,y)}}else{var r=y.querySelector(".invitee:not(.hidden)");r&&(r.classList.add("selected"),Object(a.m)(r,y))}}(e):function(e){var t=p.querySelector(".selected");if(t){var n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;n&&n.classList.contains("user")&&!n.classList.contains("hidden")&&(t.classList.remove("selected"),n.classList.add("selected"),Object(a.m)(n))}else{var i=p.querySelector(".user:not(.hidden)");i&&(i.classList.add("selected"),Object(a.m)(i))}}(e)}(e)}}),v.addEventListener("click",function(e){e.stopPropagation(),v.textContent="",Array.from(S.querySelectorAll(".inviteByTag.hidden")).forEach(function(e){e.classList.remove("hidden"),S.appendChild(e)})})}()},function(e,t,n){"use strict";t.a={PROJECT_SUBMENU:"PROJECT",NEW_PROJECT:"NEW_PROJECT",OPEN_RECENT_PROJECT_SUBMENU:"OPEN_RECENT_PROJECT_SUBMENU",OPEN_RECENT_PROJECT:"OPEN_RECENT_PROJECT",STYLEGUIDE_SUBMENU:"STYLEGUIDE",NEW_STYLEGUIDE:"NEW_STYLEGUIDE",OPEN_RECENT_STYLEGUIDE_SUBMENU:"OPEN_RECENT_STYLEGUIDE_SUBMENU",OPEN_RECENT_STYLEGUIDE:"OPEN_RECENT_STYLEGUIDE",EDIT_SUBMENU:"EDIT",DELETE_PROJECT:"DELETE_PROJECT",DELETE_STYLEGUIDE:"DELETE_STYLEGUIDE",LEAVE_PROJECT:"LEAVE_PROJECT",LEAVE_STYLEGUIDE:"LEAVE_STYLEGUIDE",RENAME_SCREEN:"RENAME_SCREEN",DELETE_SCREEN:"DELETE_SCREEN",SET_AS_THUMBNAIL:"SET_AS_THUMBNAIL",ADD_TAG:"ADD_TAG",MANAGE_TAGS:"MANAGE_TAGS",VIEW_SUBMENU:"VIEW",ZOOM_IN:"ZOOM_IN",ZOOM_OUT:"ZOOM_OUT",ACTUAL_SIZE:"ACTUAL_SIZE",OPEN_POPOUT:"OPEN_POPOUT",WORKSPACE:"WORKSPACE",DASHBOARD:"DASHBOARD",STYLEGUIDE:"STYLEGUIDE",JUMP_TO_SCREEN:"JUMP_TO_SCREEN",SHOW_VERSIONS:"SHOW_VERSIONS",HIDE_VERSIONS:"HIDE_VERSIONS",SHOW_BADGE:"SHOW_BADGE",TOGGLE_FULL_SCREEN:"TOGGLE_FULL_SCREEN",RELOAD:"RELOAD",RELOAD_IGNORING_CACHE:"RELOAD_IGNORING_CACHE",TOGGLE_DEV_TOOLS:"TOGGLE_DEV_TOOLS",TOGGLE_DEV_TOOLS_HOST:"TOGGLE_DEV_TOOLS_HOST",WINDOW_SUBMENU:"WINDOW",MINIMIZE:"MINIMIZE",CLOSE:"CLOSE",HELP_SUBMENU:"HELP",CHECK_FOR_UPDATES:"CHECK_FOR_UPDATES",CHECK_FOR_PLUGIN_UPDATES:"CHECK_FOR_PLUGIN_UPDATES",INSTALL_UPDATES_AUTOMATICALLY:"INSTALL_UPDATES_AUTOMATICALLY",INSTALL_FIGMA_PLUGIN:"INSTALL_FIGMA_PLUGIN",INSTALL_PHOTOSHOP_PLUGIN:"INSTALL_PHOTOSHOP_PLUGIN",SHOW_LOGS_IN_EXPLORER:"SHOW_LOGS_IN_EXPLORER",RESET_SUGGESTED_COLORS:"RESET_SUGGESTED_COLORS",RESET_SUGGESTED_TEXT_STYLES:"RESET_SUGGESTED_TEXT_STYLES",CLEAR_CACHE_AND_RESTART:"CLEAR_CACHE_AND_RESTART",RESET_ZEPLIN:"RESET_ZEPLIN",OPEN_HELP_CENTER:"OPEN_HELP_CENTER",ABOUT_ZEPLIN:"ABOUT_ZEPLIN"}},function(e,t,n){"use strict";var i=n(1082);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1244),s=n(1245),a=n(1246);n.d(t,"c",function(){return a.a}),n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(1491);n.d(t,"a",function(){return i.a})},,,,,function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1),r=n(14),l=n(26),c=n(478);n.n(c);const d=100;function u(e,t,n){return`<line x1="${e}" y1="0.5" x2="${t}" y2="0.5" stroke="%23419bf9" stroke-width="1" stroke-linecap="${n}"/>`}function h(...e){return`<svg xmlns="http://www.w3.org/2000/svg" width="3" height="1">${e.join(" ")}</svg>`}class p extends i.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleDocumentMouseUp=this.handleDocumentMouseUp.bind(this),this.handleDocumentMouseMove=Object(o.f)(this.handleDocumentMouseMove).bind(this),this.handleSelectionChange=Object(o.f)(this.handleSelectionChange).bind(this),this.getSelectionPoints=this.getSelectionPoints.bind(this),this.state={focusWithin:!1,discard:!1,selectionPoints:{selectionStart:0,selectionEnd:0},shouldCheckRightSelection:!1,value:e.value}}getSelectionPoints(){return{selectionStart:this.nodeRefs.input.selectionStart,selectionEnd:this.nodeRefs.input.selectionEnd}}calculateShouldCheckRightSelection(){const{widthlessMirror:e,inputContainer:t}=this.nodeRefs;return e.scrollWidth>=t.offsetWidth}highlight(){Object(l.g)(this.nodeRefs.input)}focus(){this.nodeRefs.input.focus()}handleBlur(){const{required:e,value:t,readOnly:n}=this.props;if(n)return;const{value:i}=this.state;let s=this.state.discard;const a={focusWithin:!1};e&&!i&&(a.value=t,s=!0),this.setState(a),this.props.onBlur({discard:s,value:i})}handleFocus(){this.props.readOnly||this.setState({focusWithin:!0,discard:!1})}handleInput(e){const{onAttemptToChange:t}=this.props;if(t)return void t();const n=e.target.value;if(n===this.state.value)return;const i=this.getSelectionPoints();this.setState({value:n,selectionPoints:i})}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:{e.stopPropagation();const{value:t}=this.props;this.setState({value:t,discard:!0}),this.nodeRefs.input.blur();break}case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:this.handleSelectionChange()}}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),document.addEventListener("mousemove",this.handleDocumentMouseMove),document.addEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseMove(e){1&e.buttons?this.handleSelectionChange():(document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseUp(){this.handleSelectionChange(),document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp)}handleClick(e){e.stopPropagation(),this.handleSelectionChange()}handleSubmit(e){e.preventDefault(),this.nodeRefs.input.blur()}handleSelectionChange(){const e=this.getSelectionPoints();this.setState({selectionPoints:e})}componentDidMount(){this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}componentWillReceiveProps(e){const t={};this.state.focusWithin||e.value===this.state.value||(t.value=e.value),Object.keys(t).length&&this.setState(t)}componentDidUpdate(e,t){this.state.value!==t.value&&this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}render(){const{required:e,readOnly:t,maxLength:n=d,showRemaining:s,fontStyle:a,tabIndex:o=0}=this.props,{focusWithin:l,value:c,selectionPoints:p,shouldCheckRightSelection:g}=this.state;let m=Object.assign({},a);if(l&&!t){const{selectionStart:e,selectionEnd:t}=p,n=function(e,t){return e&&t?h(u(0,2.5,"butt")):e?h(u(0,1.5,"butt"),u(1.5,2.5,"round")):t?h(u(.5,1.5,"round"),u(1.5,2.5,"butt")):void 0}(e!==t&&0===e,g&&e!==t&&t===c.length);n&&Object.assign(m,{borderImageSource:`url('data:image/svg+xml;utf8,${n}')`,borderImageSlice:"0 1 1 1",borderImageRepeat:"stretch"})}return i.h("div",{class:"expandableInputWrapper"},i.h("form",{ref:Object(r.a)(this,"inputContainer"),class:"expandableInputForm",onSubmit:this.handleSubmit},i.h("span",{ref:Object(r.a)(this,"widthlessMirror"),class:"mirror widthless",style:a},c||" "),i.h("span",{class:"mirror",style:a},c||" "),i.h("input",{style:m,type:"text",name:"expandableInput",class:"expandableInput",minlength:"1",maxlength:n,autocomplete:"off",spellCheck:"false",required:e,value:c,readonly:t,tabIndex:o,ref:Object(r.a)(this,"input"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onSelect:this.handleSelectionChange,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleBlur})),s&&l&&i.h("span",{class:"remainingCounter"},n-c.length))}}p.propTypes={value:a.a.string,required:a.a.bool,onBlur:a.a.func,readOnly:a.a.bool,maxLength:a.a.oneOfType([a.a.number,a.a.string]),showRemaining:a.a.bool,fontStyle:a.a.object,inputRef:a.a.func,tabIndex:a.a.number},t.a=p},function(e,t){},,,,function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(142),r=n(3),l=n(14),c=n(1),d=n(483);n.n(d);class u extends i.Component{constructor(...e){var t;return t=super(...e),this.positionPopover=(()=>{const{open:e,offsetX:t,offsetY:n,targetNode:i,left:s,top:a,faceLeft:o,faceTop:r,centerX:l,centerY:c,anchorTop:d,stickToEdge:u,showAnchor:h,openToLeft:p}=this.props,g=i||this.nodeRefs.container,m=this.nodeRefs.popover,f=this.nodeRefs.anchor;if(!e||!m||!g)return;const b=g.getBoundingClientRect(),y=m.getBoundingClientRect(),S=s,v=a;let C=o?b.left:b.right;C+=l?(b.width-y.width)/2:S;let E=r||h?b.top:b.bottom;E+=c?(b.height-y.height)/2:v;let O=!1;(p||C+y.width+t>window.innerWidth)&&(C=b.right-y.width-b.width-s,O=!0),u&&E+n<0?E=64:E+y.height+n>window.innerHeight&&(E=u?window.innerHeight-y.height-n-12:Math.max(E-y.height,0)),m.style.transform=`translate3d(${C}px, ${E}px, 0)`,h&&(f.style.top=`${Math.min(b.top-E+f.offsetHeight/2+d,y.height-28)}px`,f.classList.toggle("faceLeft",O))}),this.registerListeners=(()=>{window.addEventListener("resize",this.handleResize),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleKeyDown)}),this.removeListeners=(()=>{window.removeEventListener("resize",this.handleResize),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleKeyDown)}),this.handleToggle=(e=>{const{open:t,onOpen:n,onClose:i}=this.props;e.stopPropagation(),t&&i?i():!t&&n&&n()}),this.handleClose=(()=>{const{onClose:e}=this.props;e&&e()}),this.handleDocumentClick=(e=>{if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{container:t,popover:n}=this.nodeRefs;t.contains(e.target)||n&&n.contains(e.target)||this.handleClose()}),this.handleKeyDown=(e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleClose()}),this.handleResize=(()=>{requestAnimationFrame(this.positionPopover)}),t}componentDidMount(){const{targetNode:e,open:t}=this.props;e&&t&&this.registerListeners()}componentDidUpdate(e){!e.open&&this.props.open?this.registerListeners():e.open&&!this.props.open&&this.removeListeners()}componentWillUnmount(){this.removeListeners()}renderAnchor(){const{faceLeft:e}=this.props,t=Object(r.a)("popoverAnchor",{faceLeft:e});return i.h("div",{ref:Object(l.a)(this,"anchor"),class:t})}renderPopoverContent(){const{content:e,showAnchor:t,contentClass:n}=this.props,s=Object(r.a)("popoverContent",n),a="function"==typeof e?e():e;return i.h("div",{onClick:c.J,class:s,ref:Object(l.a)(this,"popover")},t&&this.renderAnchor(),i.toChildArray(a))}render(){const{open:e,children:t,portalInto:n,class:s}=this.props,a=Object(r.a)(s,"popoverContainer");return i.h("div",{ref:Object(l.a)(this,"container"),class:a,onClick:this.handleToggle},i.h(i.Fragment,null,t,e&&i.h(o.a,{didRender:this.positionPopover,into:n},this.renderPopoverContent())))}}u.defaultProps={offsetX:0,offsetY:0,left:0,top:0,anchorTop:0},u.propTypes={open:a.a.bool.isRequired,children:a.a.node,onClose:a.a.func,onOpen:a.a.func,portalInto:a.a.object,contentClass:a.a.string,class:a.a.string,offsetX:a.a.number,offsetY:a.a.number,targetNode:a.a.oneOfType([a.a.node,a.a.object]),left:a.a.number,top:a.a.number,faceLeft:a.a.bool,faceTop:a.a.bool,centerX:a.a.bool,anchorTop:a.a.number,openToLeft:a.a.bool},t.a=u},function(e,t){},,,,,,function(e,t,n){"use strict";var i=n(0),s=n(71),a=n(282),o=n(490);n.n(o);t.a=class extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.state={value:""}}handleInputChange(e){this.setState({value:e})}handleKeyPress(e){if(e.keyCode!==Zeplin.KEY_CODE.ENTER)return;const{value:t}=this.state,{confirmationText:n,onDelete:i}=this.props;t===n&&i()}render(){const{value:e}=this.state,{onDelete:t,onClose:n,title:o,placeholder:r,confirmationText:l,loading:c}=this.props,d=l!==e;return i.h(s.c,{class:"deleteDialog",positiveButtonText:"DELETE",negativeButtonText:"CANCEL",positiveButtonDisabled:d,onPositiveButtonClick:t,hideNegativeButton:!1,onClose:n,width:400,loading:c},i.h("div",{class:"deleteDialogBody"},i.h("h2",null,o),i.h(a.a,{label:r,onInput:this.handleInputChange,onKeyPress:this.handleKeyPress,primary:!0})))}}},function(e,t){},,,function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return g});var i=n(26);let s,a,o,r,l,c,d=0,u=[],h=!1;function p(e){o&&!o.classList.contains("hidden")&&g(),c=e.cb.autoComplete,o=e.elements.suggestedListContainer,r=o.querySelector(".suggestedListBox"),l=e.elements.textContainer,d=e.index,u=e.list,s=0,a=0,o.classList.remove("hidden");const t=r.querySelector(`.suggestedItem[data-index="${d}"]`);t.classList.add("selected"),Object(i.m)(t),h||(h=!0,r.addEventListener("mousemove",f),r.addEventListener("click",b),l.addEventListener("keydown",m))}function g(){if(h&&(l.removeEventListener("keydown",m),r.removeEventListener("mousemove",f),r.removeEventListener("click",m)),!o||o.classList.contains("hidden"))return;const e=r.querySelector(".suggestedItem.selected");e&&e.classList.remove("selected"),o.classList.add("hidden"),r.innerHTML="",l=null,h=!1,u=[],d=0}function m(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),c(u[r.querySelector(".suggestedItem.selected").dataset.index]);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),g();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),d<u.length-1&&y(++d);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),d>0&&y(--d)}}function f(e){if(e.stopPropagation(),s===e.clientX&&a===e.clientY)return;const t=e.target.closest(".suggestedItem");t.classList.contains("selected")||y(t.dataset.index),s=e.clientX,a=e.clientY}function b(e){e.preventDefault(),e.stopPropagation();const t=e.target.closest(".suggestedItem");c(u[t.dataset.index])}function y(e){d=e;const t=r.querySelector(".suggestedItem.selected");t&&t.classList.remove("selected");const n=r.querySelector(`.suggestedItem[data-index="${d}"]`);n&&(n.classList.add("selected"),Object(i.m)(n))}},function(e,t,n){const{noopTest:i,edit:s,merge:a}=n(280),o={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:i,table:i,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};o.def=s(o.def).replace("label",o._label).replace("title",o._title).getRegex(),o.bullet=/(?:[*+-]|\d{1,9}\.)/,o.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,o.item=s(o.item,"gm").replace(/bull/g,o.bullet).getRegex(),o.list=s(o.list).replace(/bull/g,o.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+o.def.source+")").getRegex(),o._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",o._comment=/<!--(?!-?>)[\s\S]*?-->/,o.html=s(o.html,"i").replace("comment",o._comment).replace("tag",o._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),o.paragraph=s(o._paragraph).replace("hr",o.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",o._tag).getRegex(),o.blockquote=s(o.blockquote).replace("paragraph",o.paragraph).getRegex(),o.normal=a({},o),o.gfm=a({},o.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),o.gfm.nptable=s(o.gfm.nptable).replace("hr",o.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",o._tag).getRegex(),o.gfm.table=s(o.gfm.table).replace("hr",o.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",o._tag).getRegex(),o.pedantic=a({},o.normal,{html:s("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",o._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:i,paragraph:s(o.normal._paragraph).replace("hr",o.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",o.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const r={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:i,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:i,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};r.em=s(r.em).replace(/punctuation/g,r._punctuation).getRegex(),r._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=s(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,r.tag=s(r.tag).replace("comment",o._comment).replace("attribute",r._attribute).getRegex(),r._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,r._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,r.link=s(r.link).replace("label",r._label).replace("href",r._href).replace("title",r._title).getRegex(),r.reflink=s(r.reflink).replace("label",r._label).getRegex(),r.normal=a({},r),r.pedantic=a({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:s(/^!?\[(label)\]\((.*?)\)/).replace("label",r._label).getRegex(),reflink:s(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r._label).getRegex()}),r.gfm=a({},r.normal,{escape:s(r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),r.gfm.url=s(r.gfm.url,"i").replace("email",r.gfm._extended_email).getRegex(),r.breaks=a({},r.gfm,{br:s(r.br).replace("{2,}","*").getRegex(),text:s(r.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),e.exports={block:o,inline:r}},function(e,t){e.exports=class{constructor(){this.seen={}}slug(e){let t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){const e=t;do{this.seen[e]++,t=e+"-"+this.seen[e]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t}}},function(e,t,n){const i=n(453),{defaults:s}=n(306),{inline:a}=n(494),{findClosingBracket:o,escape:r}=n(280);e.exports=class e{constructor(e,t){if(this.options=t||s,this.links=e,this.rules=a.normal,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=a.pedantic:this.options.gfm&&(this.options.breaks?this.rules=a.breaks:this.rules=a.gfm)}static get rules(){return a}static output(t,n,i){return new e(n,i).output(t)}output(t){let n,i,s,a,l,c,d="";for(;t;)if(l=this.rules.escape.exec(t))t=t.substring(l[0].length),d+=r(l[1]);else if(l=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(l[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(l[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(l[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(l[0])&&(this.inRawBlock=!1),t=t.substring(l[0].length),d+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):r(l[0]):l[0]);else if(l=this.rules.link.exec(t)){const i=o(l[2],"()");if(i>-1){const e=(0===l[0].indexOf("!")?5:4)+l[1].length+i;l[2]=l[2].substring(0,i),l[0]=l[0].substring(0,e).trim(),l[3]=""}t=t.substring(l[0].length),this.inLink=!0,s=l[2],this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s))?(s=n[1],a=n[3]):a="":a=l[3]?l[3].slice(1,-1):"",s=s.trim().replace(/^<([\s\S]*)>$/,"$1"),d+=this.outputLink(l,{href:e.escapes(s),title:e.escapes(a)}),this.inLink=!1}else if((l=this.rules.reflink.exec(t))||(l=this.rules.nolink.exec(t))){if(t=t.substring(l[0].length),n=(l[2]||l[1]).replace(/\s+/g," "),!(n=this.links[n.toLowerCase()])||!n.href){d+=l[0].charAt(0),t=l[0].substring(1)+t;continue}this.inLink=!0,d+=this.outputLink(l,n),this.inLink=!1}else if(l=this.rules.strong.exec(t))t=t.substring(l[0].length),d+=this.renderer.strong(this.output(l[4]||l[3]||l[2]||l[1]));else if(l=this.rules.em.exec(t))t=t.substring(l[0].length),d+=this.renderer.em(this.output(l[6]||l[5]||l[4]||l[3]||l[2]||l[1]));else if(l=this.rules.code.exec(t))t=t.substring(l[0].length),d+=this.renderer.codespan(r(l[2].trim(),!0));else if(l=this.rules.br.exec(t))t=t.substring(l[0].length),d+=this.renderer.br();else if(l=this.rules.del.exec(t))t=t.substring(l[0].length),d+=this.renderer.del(this.output(l[1]));else if(l=this.rules.autolink.exec(t))t=t.substring(l[0].length),s="@"===l[2]?"mailto:"+(i=r(this.mangle(l[1]))):i=r(l[1]),d+=this.renderer.link(s,null,i);else if(this.inLink||!(l=this.rules.url.exec(t))){if(l=this.rules.text.exec(t))t=t.substring(l[0].length),this.inRawBlock?d+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):r(l[0]):l[0]):d+=this.renderer.text(r(this.smartypants(l[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===l[2])s="mailto:"+(i=r(l[0]));else{do{c=l[0],l[0]=this.rules._backpedal.exec(l[0])[0]}while(c!==l[0]);i=r(l[0]),s="www."===l[1]?"http://"+i:i}t=t.substring(l[0].length),d+=this.renderer.link(s,null,i)}return d}static escapes(t){return t?t.replace(e.rules._escapes,"$1"):t}outputLink(e,t){const n=t.href,i=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,r(e[1]))}smartypants(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e}mangle(e){if(!this.options.mangle)return e;const t=e.length;let n,i="",s=0;for(;s<t;s++)n=e.charCodeAt(s),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}}},function(e,t){e.exports=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}},function(e,t,n){"use strict";n(499),n(505),n(506),n(507),n(508)},function(e,t,n){"use strict";var i=n(20),s=n(200),a=n(126),o=n(13),r=n(17),l=n(307),c=n(31),d=n(145),u=n(24),h=n(70);const p={handleUpdateDescription({pid:e,sid:t,description:n,oldDescription:i}){o.updateScreen(e,t,{description:n}).catch(n=>{Object(r.b)(n),s.a.updateDescription({pid:e,sid:t,description:i})})},handleUpdateName({pid:e,sid:t,name:n,oldName:i,onError:a}){o.updateScreen(e,t,{name:n}).catch(n=>{s.a.updateName({pid:e,sid:t,name:i}),Object(r.b)(n,{dialogCallback:a})})},handleRemoveScreen:({pid:e,seid:t,index:n,sid:i,removedScreen:a})=>o.deleteScreen(e,i).catch(i=>{Object(r.b)(i),s.a.addScreen({pid:e,seid:t,index:n,screen:a})}),handleUpdateTags({pid:e,updates:t}){o.updateScreensTags(e,t).then(()=>{const{tagFilter:{tags:e,untagged:t},highlightedScreens:n}=l.b.getState();if(t||!e.length)return;const{tags:i}=c.d.getBarrel(),s=[...new Set(n.map(e=>d.a.getScreen({sid:e})).reduce((e,{tags:t=[]})=>e.concat(t),[]))],a=e.filter(e=>i.includes(e)&&(!n.length||s.includes(e)));a.length!==e.length&&l.a.changeTagFilter({tags:a,untagged:t})}).catch(n=>{Object(r.b)(n);const i=t.map(({_id:e,operation:t,tags:n})=>({_id:e,tags:n,operation:"add"===t?"remove":"add"}));s.a.updateTags({pid:e,updates:i})})},handleUpdateCommitColor({pid:e,sid:t,vid:n,color:i,oldColor:a}){o.updateCommitColor(e,t,n,i).catch(i=>{Object(r.b)(i),s.a.updateCommitColor({pid:e,sid:t,vid:n,color:a})})},handleUpdateCommitMessage({pid:e,sid:t,vid:n,message:i,oldMessage:a}){o.updateCommitMessage(e,t,n,i).catch(i=>{Object(r.b)(i),s.a.updateCommitMessage({pid:e,sid:t,vid:n,message:a})})},handleRemoveVersion({pid:e,sid:t,vid:n,removedVersion:i}){o.deleteVersion(e,t,n).then(()=>{s.a.getVersions()}).catch(n=>{Object(r.b)(n),s.a.addVersion({pid:e,sid:t,version:i})})},handleAddDot({pid:e,sid:t,dot:n}){const{_id:i,x:a,y:l,color:c,comments:d}=n;o.createDot(e,t,{x:a,y:l,color:c,comments:d}).then(n=>{const a=Object(h.c)(c);u.b.set(e,"lastNoteColorUsed",a),s.a.updateDot({pid:e,sid:t,did:i,dotData:n}),mixpanel.webapp.track("Created dot")}).catch(n=>{Object(r.b)(n),s.a.removeDot({pid:e,sid:t,did:i})})},handleUpdateDotColor({pid:e,sid:t,did:n,color:i,oldColor:a}){o.updateDot(e,t,n,{color:i}).then(()=>{const t=Object(h.c)(i);u.b.set(e,"lastNoteColorUsed",t),mixpanel.webapp.track("Changed dot color")}).catch(i=>{Object(r.b)(i),s.a.updateDotColor({pid:e,sid:t,did:n,color:a})})},handleUpdateDotPosition({pid:e,sid:t,did:n,x:i,y:a,oldX:l,oldY:c}){o.updateDot(e,t,n,{x:i,y:a}).catch(i=>{Object(r.b)(i),s.a.updateDotPosition({pid:e,sid:t,did:n,x:l,y:c})})},handleUpdateDotStatus({pid:e,sid:t,did:n,status:i,oldStatus:a}){o.updateDot(e,t,n,{status:i}).then(()=>{mixpanel.webapp.track(`Re${"open"===i?"open":"solv"}ed dot`)}).catch(i=>{Object(r.b)(i),s.a.updateDotStatus({pid:e,sid:t,did:n,status:a})})},handleRemoveDot({pid:e,sid:t,did:n,removedDot:i}){o.deleteDot(e,t,n).then(()=>{mixpanel.webapp.track("Deleted dot")}).catch(n=>{Object(r.b)(n),s.a.addDot({pid:e,sid:t,dot:i})})},handleCreateComment({pid:e,sid:t,did:n,hasReaction:i,comment:a}){const{_id:l,note:c}=a;o.createDotComment(e,t,n,c).then(a=>{s.a.updateComment({pid:e,sid:t,did:n,cmid:l,commentData:a}),i?mixpanel.webapp.track("Created comment with reaction",{reaction:c}):mixpanel.webapp.track("Created comment")}).catch(i=>{Object(r.b)(i),s.a.removeComment({pid:e,sid:t,did:n,cmid:l})})},handleUpdateComment({pid:e,sid:t,did:n,cmid:i,commentData:a,oldCommentData:l}){const{note:c}=a,{note:d}=l;c!==d&&o.updateDotCommentNote(e,t,n,i,c).then(()=>{mixpanel.webapp.track("Edited comment")}).catch(a=>{Object(r.b)(a),s.a.updateComment({pid:e,sid:t,did:n,cmid:i,commentData:l})})},handleRemoveComment({pid:e,sid:t,did:n,cmid:i,removedComment:a}){o.deleteComment(e,t,n,i).then(()=>{mixpanel.webapp.track("Deleted comment")}).catch(i=>{Object(r.b)(i),s.a.addComment({pid:e,sid:t,did:n,comment:a})})}};a.a.register(e=>{if(e.syncWithApi)switch(e.type){case i.a.UPDATE_DESCRIPTION:p.handleUpdateDescription(e);break;case i.a.UPDATE_NAME:p.handleUpdateName(e);break;case i.a.REMOVE_SCREEN:p.handleRemoveScreen(e);break;case i.a.UPDATE_TAGS:p.handleUpdateTags(e);break;case i.a.UPDATE_COMMIT_COLOR:p.handleUpdateCommitColor(e);break;case i.a.UPDATE_COMMIT_MESSAGE:p.handleUpdateCommitMessage(e);break;case i.a.REMOVE_VERSION:p.handleRemoveVersion(e);break;case i.a.ADD_DOT:p.handleAddDot(e);break;case i.a.UPDATE_DOT_COLOR:p.handleUpdateDotColor(e);break;case i.a.UPDATE_DOT_POSITION:p.handleUpdateDotPosition(e);break;case i.a.UPDATE_DOT_STATUS:p.handleUpdateDotStatus(e);break;case i.a.REMOVE_DOT:p.handleRemoveDot(e);break;case i.a.CREATE_COMMENT:p.handleCreateComment(e);break;case i.a.UPDATE_COMMENT:p.handleUpdateComment(e);break;case i.a.REMOVE_COMMENT:p.handleRemoveComment(e)}})},function(e,t,n){"use strict";n(501),n(502),n(503),n(504)},function(e,t,n){"use strict";var i=n(30),s=n(53),a=n(125),o=n(8),r=n(195);const l={changeURL(e){const{barrelId:t,selectedView:n}=i.a.getState();if("dashboard"!==n)return;const{tags:s,untagged:a}=e,r=a?{untagged:"true"}:{tag:s};history.replaceState({},"",Object(o.j)("project-dashboard",{url:{pid:t},query:r}))},downloadScreens(e,t){Object(r.d)(e,t)}};a.a.register(e=>{switch(e.type){case s.a.CHANGE_TAG_FILTER:l.changeURL(e.tagFilter);break;case s.a.DOWNLOAD_SCREENS:l.downloadScreens(e.screens,e.fileName)}})},function(e,t,n){"use strict";var i=n(24),s=n(30),a=n(53),o=n(125),r=n(143);const l={saveFixedThumbnailSize(){const{barrelId:e}=s.a.getState(),{fixedThumbnailSize:t}=r.a.getState();i.b.set(e,"fixedThumbnailSize",t)},saveSidebarWidth(e){const{barrelId:t}=s.a.getState();i.b.set(t,"dashboardSidebarWidth",e)},toggleSectionState(e,{shouldCollapse:t}){const{barrelId:n}=s.a.getState();i.b.get(n,"collapsedSections").then(s=>{s[e]=t,i.b.set(n,"collapsedSections",s)})}};o.a.register(e=>{switch(e.type){case a.a.TOGGLE_FIXED_THUMBNAIL_SIZE:l.saveFixedThumbnailSize();break;case a.a.CHANGE_SIDEBAR_WIDTH:l.saveSidebarWidth(e.sidebarWidth);break;case a.a.EXPAND_SECTION:l.toggleSectionState(e.seid,{shouldCollapse:!1});break;case a.a.COLLAPSE_SECTION:l.toggleSectionState(e.seid,{shouldCollapse:!0})}})},function(e,t,n){"use strict";var i=n(53),s=n(285),a=n(125),o=n(200),r=n(13),l=n(17),c=n(315);const d={handleCreateSection({pid:e,section:t,index:n}){const{_id:i,name:a,screens:o}=t;r.createSection(e,{name:a,screens:o,index:n}).then(t=>{s.a.updateSection({pid:e,seid:i,sectionData:t})}).catch(t=>{Object(l.b)(t),s.a.removeSection({pid:e,seid:i})})},handleConvertTagToSection({pid:e,section:t,index:n,defaultSectionId:i,oldDefaultSectionScreens:a}){const{_id:c,name:d,screens:u}=t;r.createSection(e,{name:d,screens:u,index:n}).then(t=>{s.a.updateSection({pid:e,seid:c,sectionData:t,highlight:!0}),o.a.removeTag({pid:e,tag:d,syncWithApi:!0})}).catch(t=>{Object(l.b)(t),s.a.updateSection({pid:e,seid:i,sectionData:{screens:a}})})},handleRenameSection({pid:e,seid:t,name:n,oldName:i,onError:a}){r.updateSection(e,t,{name:n}).catch(n=>{s.a.renameSection({pid:e,seid:t,name:i}),Object(l.b)(n,{dialogCallback:a})})},handleUpdateSectionDescription({pid:e,seid:t,description:n,oldDescription:i,onError:a}){r.updateSection(e,t,{description:n}).catch(n=>{s.a.updateSectionDescription({pid:e,seid:t,description:i}),Object(l.b)(n,{dialogCallback:a})})},handleUpdateSectionOrder({pid:e,seid:t,index:n,oldIndex:i}){const a=[{_id:t,to:n}];r.updateSectionOrder(e,{sections:a}).catch(n=>{Object(l.b)(n),s.a.updateSectionOrder({pid:e,seid:t,index:i})})},handleRemoveSection({pid:e,seid:t,index:n,removedSection:i}){r.deleteSection(e,t).catch(t=>{Object(l.b)(t),s.a.addSection({pid:e,section:i,index:n})})},handleUpdateScreenOrder({pid:e,screens:t,targetIndex:n,targetSectionId:i,oldIndices:a}){r.updateSectionScreens(e,i,n,t).catch(n=>{Object(l.b)(n),Object(c.a)(t,a).forEach(([t,{sourceSectionId:n,sourceIndex:i}])=>{s.a.updateScreenOrder({pid:e,screens:[t],targetSectionId:n,targetIndex:i})})})}};a.a.register(e=>{if(e.syncWithApi)switch(e.type){case i.a.CREATE_SECTION:d.handleCreateSection(e);break;case i.a.CONVERT_TAG_TO_SECTION:d.handleConvertTagToSection(e);break;case i.a.RENAME_SECTION:d.handleRenameSection(e);break;case i.a.UPDATE_SECTION_DESCRIPTION:d.handleUpdateSectionDescription(e);break;case i.a.UPDATE_SECTION_ORDER:d.handleUpdateSectionOrder(e);break;case i.a.REMOVE_SECTION:d.handleRemoveSection(e);break;case i.a.UPDATE_SCREEN_ORDER:d.handleUpdateScreenOrder(e)}})},function(e,t,n){"use strict";var i=n(53),s=n(285),a=n(125),o=n(143),r=n(13);const l={generateShortlink(e){const{shortlinks:t}=o.a.getState();e in t||r.generateShortlink(e).then(t=>{s.a.setShortlink(e,t)})}};a.a.register(e=>{switch(e.type){case i.a.GENERATE_SHORTLINK:l.generateShortlink(e.longURL)}})},function(e,t,n){"use strict";var i=n(8),s=n(316),a=n(13),o=n(17),r=n(200),l=n(20),c=n(126),d=n(145),u=n(196),h=n(30),p=n(88),g=n(211);let m,f,b;const y={setVersionShortlink({barrelId:e,screenId:t,versionId:n}){const{shortlinks:s}=u.a.getState(),o=d.a.getScreen();if(!o)return;const l=n===o.versions[0]._id?Object(i.j)("project-screen",{url:{pid:e,sid:t}}):Object(i.j)("project-screen-version",{url:{pid:e,sid:t,vid:n}});l in s||a.generateShortlink(l).then(e=>{r.a.setShortlink(l,e)})},getSnapshot({barrelId:e,screenId:t,versionId:n}){clearTimeout(m);const i=d.a.getScreen();if(!i)return;const l=d.a.getVersion();p.a.isUserRestricted()||l&&l.snapshot&&l.snapshot.layers?setTimeout(()=>{const i=l&&l.snapshot||{};r.a.setSnapshot({pid:e,sid:t,vid:n,snapshot:i})},4):m=setTimeout(()=>{a.getSnapshot(e,t,n).then(e=>{const t=Object(s.b)(i.name,e);return e.layers.unshift(t),Object(s.f)(e.layers),e}).catch(o.b).then((i={})=>{if(r.a.setSnapshot({pid:e,sid:t,vid:n,snapshot:i}),!i.assets)return;const a=Object.assign({},i);requestIdleCallback(async()=>{await Promise.all(a.assets.map(n=>Object(s.a)(e,t,a,n))),r.a.setSnapshot({pid:e,sid:t,vid:n,snapshot:a})})})},300)},getDots({barrelId:e,screenId:t,dotId:n}){clearTimeout(f);const i=d.a.getScreen();if(i)if("dots"in i){const{highlightedComments:e}=g.a.getState();n&&setTimeout(t=>{r.a.selectDot(n,e)},4)}else f=setTimeout(()=>{a.getDots(e,t).then(({dots:n=[]})=>{r.a.setDots({pid:e,sid:t,dots:n})})},300)},getVersions({screenId:e}){clearTimeout(b);const t=d.a.getScreen();if(!t)return;const{versions:n,totalVersionCount:i=1/0,allowedVersionCount:s=1/0}=t;if(!(n.length<s&&i>=s))return;const{barrelId:l}=h.a.getState();b=setTimeout(()=>{a.getVersions(l,e).then(({versions:e=[],totalVersionCount:t,allowedVersionCount:i})=>(n.forEach(t=>{if(!("layers"in t.snapshot))return;const n=e.find(e=>t._id===e._id);n&&Object.assign(n.snapshot,t.snapshot)}),{versions:e,totalVersionCount:t,allowedVersionCount:i})).catch(e=>(Object(o.b)(e),{versions:n,totalVersionCount:i,allowedVersionCount:s})).then(({versions:t,totalVersionCount:n,allowedVersionCount:i})=>{r.a.setVersions({pid:l,sid:e,versions:t,totalVersionCount:n,allowedVersionCount:i})})},300)}};c.a.register(e=>{switch(e.type){case l.a.OPEN_SCREEN:y.setVersionShortlink(e),y.getVersions(e),y.getSnapshot(e),y.getDots(e);break;case l.a.GET_VERSIONS:y.getVersions(e);break;case l.a.SET_VERSION_ID:y.setVersionShortlink(e),y.getSnapshot(e)}})},function(e,t,n){"use strict";var i=n(1),s=n(8),a=n(26),o=n(45),r=n(25),l=n(13),c=n(89),d=n(20),u=n(126),h=n(145),p=n(60);const g={copyCode({code:e,toastContainer:t,platform:n,extensionFunction:s,extensionId:o}){Object(a.c)({content:e,toastContainer:t}),mixpanel.webapp.track("Copied extension snippet",{from:s,extension:o}),l.createIntercomUserTag(Object(i.q)(n))},notify({pid:e,sid:t,uid:n,did:o,userId:r,username:l,comment:d}){if(n===r)return;const{_id:u,note:h,author:p}=d,g=Object(i.A)(l);if(!p||!g.test(h))return;const m=Object(s.j)("project-screen",{url:{pid:e,sid:t},query:{did:o,cmid:u}});Object(a.k)({title:`${p.username} mentioned you`,body:h,notifier:p,handler(){c.a.history.push(m)}})},warnScreenNotFound({barrelId:e,screenId:t}){h.a.getScreen({sid:t})||(r.a({title:"Screen not available anymore.",message:"It was probably deleted, please contact the owner."}),c.a.history.replace(Object(s.j)("project-dashboard",{url:{pid:e}})))},warnScreenRemoval({pid:e,syncWithApi:t,removedScreen:n,removingCurrentScreen:i,user:a}){if(t||!i)return;const{userId:o}=p.b.getState();if(o===a.user._id)return;const l=a?a.user.username:"Anonymous";r.a({title:`${l} deleted this screen`,message:`You won’t be able to access "${n.name}" from now on.`}),c.a.history.replace(Object(s.j)("project-dashboard",{url:{pid:e}}))},warnVersionRemoval({syncWithApi:e,removingCurrentVersion:t,poppedVersion:n}){if(e||!t&&!n)return;const i=t?"deleteScreenVersion":"createScreenVersion";Object(o.a)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:i})},warnVersionNotFound({versionId:e}){const{versions:t,totalVersionCount:n}=h.a.getScreen(),i=t.some(({_id:t})=>t===e);n&&!i&&r.a({title:"Invalid version link",message:"It was either deleted or not accessible due to the limit, please contact the owner."})}};u.a.register(e=>{switch(e.type){case d.a.COPY_CODE:g.copyCode(e);break;case d.a.OPEN_SCREEN:g.warnScreenNotFound(e);break;case d.a.REMOVE_SCREEN:g.warnScreenRemoval(e);break;case d.a.SET_VERSION_ID:g.warnVersionNotFound(e);break;case d.a.ADD_VERSION:case d.a.REMOVE_VERSION:g.warnVersionRemoval(e);break;case d.a.ADD_DOT:{const{pid:t,sid:n,uid:i,userId:s,username:a,dot:{_id:o,comments:[r]}}=e;g.notify({pid:t,sid:n,uid:i,did:o,userId:s,username:a,comment:r});break}case d.a.ADD_COMMENT:g.notify(e);break;case d.a.UPDATE_COMMENT:{const{pid:t,sid:n,uid:i,author:s,userId:a,username:o,did:r,cmid:l,commentData:{note:c}}=e;g.notify({pid:t,sid:n,uid:i,did:r,userId:a,username:o,comment:{_id:l,note:c,author:s}});break}}})},function(e,t,n){"use strict";var i=n(24),s=n(20),a=n(126),o=n(145),r=n(196),l=n(30);let c,d,u,h,p;const g={saveNoteVisibility(){const{barrelId:e}=l.a.getState(),{notesVisible:t}=r.a.getState();clearTimeout(c),c=setTimeout(()=>i.b.set(e,"noteVisibility",t),1e3)},saveNoteFilter(e){const{barrelId:t}=l.a.getState(),{status:n,color:s}=e;clearTimeout(d),d=setTimeout(async()=>{await i.b.set(t,"noteStatusFilter",n),i.b.set(t,"noteColorFilter",s)},1e3)},saveZoomLevel(){const{barrelId:e}=l.a.getState(),{zoomLevel:t}=r.a.getState();clearTimeout(u),u=setTimeout(()=>i.b.set(e,"zoomLevel",t),1e3)},saveLayoutGridEnabled(){const{barrelId:e}=l.a.getState(),{layoutGridEnabled:t}=r.a.getState();clearTimeout(h),h=setTimeout(()=>i.b.set(e,"layoutGridEnabled",t),1e3)},saveVersionsTutorialSeen(){i.d.set("versionsTutorialSeen",!0)},saveVersionsLastSeen(){clearTimeout(p);const{screenId:e,versionsVisible:t}=r.a.getState();if(!t)return;const{barrelId:n}=l.a.getState(),{versions:[{created:s}]}=o.a.getScreen();p=setTimeout(()=>{i.b.set(n,e,"versionsLastSeen",new Date(s))},1e3)},saveScreenSidebarWidth(){const{barrelId:e}=l.a.getState(),{screenSidebarWidth:t}=r.a.getState();i.b.set(e,"screenSidebarWidth",t)},saveVersionsSidebarWidth(){const{barrelId:e}=l.a.getState(),{versionsSidebarWidth:t}=r.a.getState();i.b.set(e,"versionsSidebarWidth",t)}};a.a.register(e=>{switch(e.type){case s.a.SHOW_NOTES:case s.a.HIDE_NOTES:case s.a.SELECT_DOT:case s.a.CREATE_NOTE:case s.a.ENABLE_NOTE_MODE:g.saveNoteVisibility();break;case s.a.CHANGE_DOT_FILTER:g.saveNoteFilter(e);break;case s.a.ZOOM_WITH_GESTURE:case s.a.ZOOM_WITH_WHEEL:case s.a.CHANGE_ZOOM_LEVEL:case s.a.ZOOM_IN:case s.a.ZOOM_OUT:case s.a.RESET_ZOOM:g.saveZoomLevel();break;case s.a.TOGGLE_LAYOUT_GRID:g.saveLayoutGridEnabled();break;case s.a.CHANGE_SCREEN_SIDEBAR_WIDTH:g.saveScreenSidebarWidth();break;case s.a.CHANGE_VERSIONS_SIDEBAR_WIDTH:g.saveVersionsSidebarWidth(e.sidebarWidth);break;case s.a.OPEN_SCREEN:case s.a.ADD_VERSION:g.saveVersionsLastSeen();break;case s.a.SHOW_VERSIONS:case s.a.TOGGLE_VERSIONS:g.saveVersionsTutorialSeen(),g.saveVersionsLastSeen();break;case s.a.HIDE_VERSIONS_AUNTIE:g.saveVersionsTutorialSeen()}})},function(e,t,n){"use strict";var i=n(18),s=n(27),a=n(200),o=n(20),r=n(126);const l={querySourceFile(e){i.a.ipcRenderer.removeAllListeners(`${e}:sourceFile`),i.a.ipcRenderer.once(`${e}:sourceFile`,(t,n)=>{a.a.setSourceFile({versionId:e,sourceFile:n})}),i.a.ipcRenderer.send("query-source-file",e)},openSourceFile(e){e&&i.a.ipcRenderer.send("open-item",e)},openSourceFolder(e){e&&i.a.ipcRenderer.send("show-item-in-folder",e)},openPopout({pid:e,name:t,width:n,height:s,url:a}){i.a.ipcRenderer.send("open-popout",{name:t,width:n,height:s,url:a},e)}};r.a.register(e=>{if(s.a.isWindowsApp)switch(e.type){case o.a.OPEN_SCREEN:case o.a.SET_VERSION_ID:l.querySourceFile(e.versionId);break;case o.a.OPEN_SOURCE_FILE:l.openSourceFile(e.path);break;case o.a.OPEN_SOURCE_FOLDER:l.openSourceFolder(e.path);break;case o.a.OPEN_POPOUT:l.openPopout(e)}})},function(e,t,n){"use strict";let i=0;t.a=class{constructor(e,t){this.worker=e,this.callbacks={},this.errorLogger=t&&t.errorLogger,this.attachToWorker();const n=t&&t.methods;n&&Array.isArray(n)&&n.forEach(e=>{Object.defineProperty(this,e,{value:function(){return this.invoke(e,Array.from(arguments))}})})}static getInvocationId(){return++i}attachToWorker(){this.worker.addEventListener("message",e=>{if("invokeResult"!==e.data.type)return;const t=e.data.data,n=this.callbacks[t.id];if(n)if(delete this.callbacks[t.id],"result"in t)n.resolve(t.result);else if("error"in t){const e=new Error;Object.assign(e,t.error),n.reject(e)}})}invoke(e,t){return new Promise((n,i)=>{const s=this.constructor.getInvocationId();this.callbacks[s]={resolve:n,reject:i},this.worker.postMessage({type:"invoke",data:{id:s,name:e,args:t}})}).catch(n=>{throw this.errorLogger&&this.errorLogger(n,{fnName:e,args:t}),n})}terminate(){this.worker.terminate()}}},function(e,t,n){"use strict";var i=n(24);const s={create:function(e,t,n={}){return{get:s=>i.a.get(e,t,s).then(function(e){return null===e||void 0===e?n[s]:e}),getAll:()=>i.a.get(e,t).then(function(e){return Object.assign({},n,e)}),set:(n,s)=>i.a.set(e,t,n,s)}},clear:function(e){return i.a.remove(e)}};t.a=s},function(e,t,n){"use strict";var i=n(2),s=["gaussian","background"];function a(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(s));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}a.prototype=Object.create(i.a.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){return{type:this.type,radius:this.radius}},t.a=a},function(e,t,n){"use strict";var i=n(378),s=n(2);function a(e,t,n){var s=Object.assign({},e);s.fill=new i.a({fillType:s.fillType,color:s.color,gradient:s.gradient,opacity:s.opacity,blendMode:s.blendMode},t,n),delete s.fillType,delete s.color,delete s.gradient,delete s.opacity,delete s.blendMode,Object.defineProperties(this,{position:{get:function(){return s.position},set:function(e){s.position=e}},thickness:{get:function(){return s.thickness},set:function(e){s.thickness=e}},fill:{get:function(){return s.fill},set:function(e){s.fill=e}}})}a.prototype=Object.create(s.a.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){const e={position:this.position,thickness:this.thickness,fillType:this.fill.type,opacity:this.fill.opacity,blendMode:this.fill.blendMode};return this.fill.color?e.color=this.fill.color.toObject():this.fill.gradient&&(e.gradient=this.fill.gradient.toObject()),e},t.a=a},function(e,t,n){"use strict";var i=n(514),s=n(2),a=["linear","radial","angular"];function o(e,t,n){var s=Object.assign({},e);s.colorStops=s.colorStops.map(function(e){return new i.a(e)}),Object.defineProperties(this,{type:{get:function(){return s.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(a));s.type=e},enumerable:!0},from:{get:function(){return s.from},set:function(e){s.from=e},enumerable:!0},to:{get:function(){return s.to},set:function(e){s.to=e},enumerable:!0},angle:{get:function(){return s.angle},set:function(e){s.angle=e},enumerable:!0},scale:{get:function(){return s.scale},set:function(e){s.scale=e},enumerable:!0},colorStops:{value:s.colorStops,enumerable:!0}})}o.prototype=Object.create(s.a.prototype),o.prototype.constructor=o,o.prototype.toObject=function(){const e={type:this.type,from:this.from,to:this.to,scale:this.scale,colorStops:this.colorStops.map(function(e){return e.toObject()})};return void 0!==this.angle&&(e.angle=this.angle),e},t.a=o},function(e,t,n){"use strict";var i=n(11),s=n(2);function a(e){var t=Object.assign({},e);t.color=new i.a(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new i.a(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}a.prototype=Object.create(s.a.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){return{color:this.color.toObject(),position:this.position}},t.a=a},function(e,t,n){"use strict";var i=n(11),s=n(2),a=["outer","inner"];function o(e){var t=Object.assign({},e);t.color=new i.a(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(a));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new i.a(e)}}})}o.prototype=Object.create(s.a.prototype),o.prototype.constructor=o,o.prototype.toObject=function(){return{type:this.type,offsetX:this.offsetX,offsetY:this.offsetY,blurRadius:this.blurRadius,spread:this.spread,color:this.color.toObject()}},t.a=o},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(379),o=n(380),r=n(381),l=n(382);t.a=new class extends s.a{constructor(){super(r.a)}getInitialState(){return{removedExtensions:{},enabledExtensions:{},extensions:[],barrel:null,barrelType:"project",initialized:!1}}loadExtensions(e,{barrel:t,barrelType:n,extensions:i,enabledExtensions:s}){return e.extensions.forEach(e=>{e.terminate()}),{initialized:!0,removedExtensions:{project:[],styleguide:[]},enabledExtensions:{[n]:s},barrel:t,barrelType:n,extensions:i}}updateExtensionOption(e,t,n,i){const s=e.extensions.slice(0);return s.find(e=>e.id===t).setOption(n,i),Object.assign({},e,{extensions:s})}enableExtension(e,t){const{enabledExtensions:n,barrel:i,barrelType:s}=e;return l.a.enableExtension(i.id,s,t),Object.assign({},e,{enabledExtensions:Object.assign({},n,{[s]:n[s].concat(t)})})}disableExtension(e,t){const{enabledExtensions:n,barrel:i,barrelType:s}=e;return l.a.disableExtension(i.id,s,t),Object.assign({},e,{enabledExtensions:Object.assign({},n,{[s]:n[s].filter(e=>e!==t)})})}removeExtensionRequested(e,t,n){const{extensions:i,enabledExtensions:s,removedExtensions:a,barrelType:o}=e;l.a.disableExtension(t,o,n);const r=i.find(e=>e.id===n),c={enabledExtensions:Object.assign({},s,{[o]:s[o].filter(e=>e!==n)}),removedExtensions:r?Object.assign({},a,{[o]:a[o].concat(r)}):a,extensions:i.filter(e=>e.id!==n)};return Object.assign({},e,c)}removeExtensionResult(e,t,n,i){const{barrel:s,barrelType:a,removedExtensions:o,extensions:r,enabledExtensions:c}=e,d=o[a].find(e=>e.id===n);if(!d)return e;let u={removedExtensions:Object.assign({},o,{[a]:o[a].filter(e=>e.id!==n)})};return i?(s.removeExtension(n),d.terminate()):(l.a.enableExtension(t,a,d.id),u=Object.assign({},u,{enabledExtensions:Object.assign({},c,{[a]:c[a].concat(n)}),extensions:r.concat(d)})),Object.assign({},e,u)}addExtensionRequested(e,t,n){const i=e.extensions.find(e=>t.id===e.id);return i?(n&&i.reload(),Object.assign({},this.enableExtension(e,i.id))):(a.a.loadExtension(e.barrel,e.barrelType,t),e)}loadExtension(e,t){return e.extensions.push(t),Object.assign({},this.enableExtension(e,t.id))}reloadLocalExtensions(e){const t=e.extensions.filter(e=>e.local);return t.length?(t.forEach(e=>{console.log(`Local extension "${e.name}" reloaded`),e.reload()}),Object.assign({},e)):e}reduce(e,t){switch(t.type){case o.a.LOAD_EXTENSIONS:return this.loadExtensions(e,t);case o.a.UPDATE_EXTENSION_OPTION:return this.updateExtensionOption(e,t.id,t.name,t.value);case o.a.DISABLE_EXTENSION:return this.disableExtension(e,t.id);case o.a.ENABLE_EXTENSION:return this.enableExtension(e,t.id);case o.a.REMOVE_EXTENSION_REQUESTED:return this.removeExtensionRequested(e,t.pid,t.id);case o.a.REMOVE_EXTENSION_SUCCESS:return this.removeExtensionResult(e,t.pid,t.id,!0);case o.a.REMOVE_EXTENSION_FAIL:return this.removeExtensionResult(e,t.pid,t.id,!1);case o.a.ADD_EXTENSION_REQUESTED:return this.addExtensionRequested(e,t.extension,t.local);case o.a.LOAD_EXTENSION:return this.loadExtension(e,t.extension);case o.a.ADD_LOCAL_EXTENSION:return this.addLocalExtension(e,t.extension);case o.a.RELOAD_LOCAL_EXTENSIONS:return this.reloadLocalExtensions(e);default:return e}}}},function(e,t,n){"use strict";var i=n(212),s=n(201);const a={updateState(e){i.a.dispatch({type:s.a.UPDATE_STATE,update:e})},changeLeftSidebarWidth(e){i.a.dispatch({type:s.a.CHANGE_LEFT_SIDEBAR_WIDTH,leftSidebarWidth:e})},changeRightSidebarWidth(e){i.a.dispatch({type:s.a.CHANGE_RIGHT_SIDEBAR_WIDTH,rightSidebarWidth:e})},changeSortType(e){i.a.dispatch({type:s.a.CHANGE_SORT_TYPE,sortType:e})},changeFilterValue(e){i.a.dispatch({type:s.a.CHANGE_FILTER_VALUE,filterValue:e})},changeSelectedNavigatorId({selectedStyleguideSection:e,selectedNavigatorId:t}){i.a.dispatch({type:s.a.CHANGE_SELECTED_NAVIGATOR_ID,selectedStyleguideSection:e,selectedNavigatorId:t})},highlightColors(e){i.a.dispatch({type:s.a.HIGHLIGHT_COLORS,cids:e})},unhighlightColor({cid:e}){i.a.dispatch({type:s.a.UNHIGHLIGHT_COLOR,cid:e})},highlightTextStyles(e){i.a.dispatch({type:s.a.HIGHLIGHT_TEXT_STYLES,tsids:e})},unhighlightTextStyle({tsid:e}){i.a.dispatch({type:s.a.UNHIGHLIGHT_TEXT_STYLE,tsid:e})},highlightSpacingTokens(e){i.a.dispatch({type:s.a.HIGHLIGHT_SPACING_TOKENS,sptids:e})},unhighlightSpacingToken(e){i.a.dispatch({type:s.a.UNHIGHLIGHT_SPACING_TOKEN,sptid:e})},sectionScrolled(){i.a.dispatch({type:s.a.SECTION_SCROLLED})},changeSelection({selectionComponentId:e,selection:t}){i.a.dispatch({type:s.a.CHANGE_SELECTION,selectionComponentId:e,selection:t})},componentSnapshotsReady(){i.a.dispatch({type:s.a.COMPONENT_SNAPSHOTS_READY})},hideSuggestedColors(e,t){i.a.dispatch({type:s.a.HIDE_SUGGESTED_COLORS,barrelId:e,colors:t})},hideSuggestedTextStyles(e,t){i.a.dispatch({type:s.a.HIDE_SUGGESTED_TEXT_STYLES,barrelId:e,textStyles:t})},openMoveResourcesPopup({resources:e,resourceType:t,targetNode:n}){i.a.dispatch({type:s.a.OPEN_MOVE_RESOURCES_POPUP,resources:e,resourceType:t,targetNode:n})},closeMoveResourcesPopup(){i.a.dispatch({type:s.a.CLOSE_MOVE_RESOURCES_POPUP})},selectMoveResourcesTargetStyleguide({targetStyleguide:e}){i.a.dispatch({type:s.a.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE,targetStyleguide:e})},deselectMoveResourcesTargetStyleguide(){i.a.dispatch({type:s.a.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE})}};t.a=a},function(e,t,n){"use strict";var i=n(308),s=n(309);const a={hideImportsIndicator(){s.a.dispatch({type:i.a.HIDE_IMPORTS_INDICATOR})},showImportsList(){s.a.dispatch({type:i.a.SHOW_IMPORTS_LIST})},hideImportsList(){s.a.dispatch({type:i.a.HIDE_IMPORTS_LIST})},handleImports(e){s.a.dispatch({type:i.a.HANDLE_IMPORTS,imports:e})},setSuggestedResources(e){s.a.dispatch({type:i.a.SET_SUGGESTED_RESOURCES,suggestedResourcesByBarrel:e})},goToImportedVersion(e,t,n,a){s.a.dispatch({type:i.a.GO_TO_IMPORTED_VERSION,barrelId:e,barrelType:t,versionCollectionId:n,versionCollectionType:a})},retryImport(e){s.a.dispatch({type:i.a.RETRY_IMPORT,id:e})},cancelImport(e){s.a.dispatch({type:i.a.CANCEL_IMPORT,id:e})},retryGetProjectForImports(e){s.a.dispatch({type:i.a.RETRY_GET_PROJECT_FOR_IMPORTS,id:e})},clearImports(e){s.a.dispatch({type:i.a.CLEAR_IMPORTS,ev:e})},hideComponentLimitHint(e){s.a.dispatch({type:i.a.HIDE_COMPONENT_LIMIT_HINT,barrelId:e})},seePlans(){s.a.dispatch({type:i.a.SEE_PLANS})}};t.a=a},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(309),o=n(308),r=n(153),l=n(31),c=n(6),d=n(201),u=n(11),h=n(52);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{componentRejections:{},suggestedResourcesByBarrel:{},versionImports:[],indicatorVisible:!1,listVisible:!1}}hideImportsIndicator(e){return Object.assign({},e,{indicatorVisible:!1})}showImportsList(e){return Object.assign({},e,{indicatorVisible:!0,listVisible:!0})}hideImportsList(e){return Object.assign({},e,{listVisible:!1})}removeColorFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{color:i,bid:s}=t;if(!n[s])return e;const{[s]:{colors:a,textStyles:o}}=n;if(!a.length)return e;const r=new u.a(i);return Object.assign({},e,{suggestedResourcesByBarrel:Object.assign({},n,{[s]:{textStyles:o,colors:a.filter(e=>e.id!==r.id)}})})}removeColorsFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{colors:i,bid:s}=t;if(!n[s])return e;const{[s]:{colors:a}}=n;return a.length?i.reduce((e,t)=>this.removeColorFromSuggestions(e,{color:t,bid:s}),e):e}removeTextStyleFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyle:i,bid:s}=t;if(!n[s])return e;const{[s]:{colors:a,textStyles:o}}=n;if(!o.length)return e;const r=new h.a(i);return Object.assign({},e,{suggestedResourcesByBarrel:Object.assign({},n,{[s]:{colors:a,textStyles:o.filter(e=>e.id!==r.id)}})})}removeTextStylesFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyles:i,bid:s}=t;if(!n[s])return e;const{[s]:{textStyles:a}}=n;return a.length?i.reduce((e,t)=>this.removeTextStyleFromSuggestions(e,{textStyle:t,bid:s}),e):e}hideSuggestedColors(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:s}}=e;return Object.assign({},e,{suggestedResourcesByBarrel:Object.assign({},i,{[n]:Object.assign({},s,{colors:[]})})})}hideSuggestedTextStyles(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:s}}=e;return Object.assign({},e,{suggestedResourcesByBarrel:Object.assign({},i,{[n]:Object.assign({},s,{textStyles:[]})})})}setSuggestedResources(e,t){const{suggestedResourcesByBarrel:n}=t;return Object.assign({},e,{suggestedResourcesByBarrel:function(e){return Object.keys(e).reduce((t,n)=>{const{colors:i=[],textStyles:s=[]}=e[n];return Object.assign({},t,{[n]:{colors:i.map(e=>new u.a(Object.assign({_id:Object(c.e)()},e))),textStyles:s.map(e=>new h.a(Object.assign({_id:Object(c.e)()},e)))}})},{})}(n)})}handleImports(e,t){const{componentImportRejections:n,versionCollectionImports:i}=t;return Object.assign({},e,{componentRejections:n,versionImports:i,indicatorVisible:i.length>0,listVisible:0!==i.length&&e.listVisible})}reduce(e,t){switch(t.type){case r.b.OPEN_SCREEN:return this.hideImportsList(e);case l.a.ADD_MULTIPLE_COLORS:return this.removeColorsFromSuggestions(e,t);case l.a.ADD_COLOR:return this.removeColorFromSuggestions(e,t);case l.a.ADD_TEXT_STYLE:return this.removeTextStyleFromSuggestions(e,t);case l.a.ADD_MULTIPLE_TEXT_STYLES:return this.removeTextStylesFromSuggestions(e,t);case d.a.HIDE_SUGGESTED_COLORS:return this.hideSuggestedColors(e,t);case d.a.HIDE_SUGGESTED_TEXT_STYLES:return this.hideSuggestedTextStyles(e,t);case o.a.HIDE_IMPORTS_INDICATOR:return this.hideImportsIndicator(e);case o.a.SHOW_IMPORTS_LIST:return this.showImportsList(e);case o.a.HIDE_IMPORTS_LIST:return this.hideImportsList(e);case o.a.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e,t);case o.a.HANDLE_IMPORTS:return this.handleImports(e,t.imports);case o.a.GO_TO_IMPORTED_VERSION:return this.hideImportsList(e);default:return e}}}},function(e,t,n){"use strict";var i=n(24),s=n(8),a=n(13),o=n(10),r=n(201),l=n(212),c=n(31),d=n(57),u=n(58),h=n(18),p=n(27);const g=Object.freeze({project:d.c,styleguide:u.c});function m(){const{barrelId:e,barrelType:t}=c.e.getState(),{[`${t}s`]:n}=g[t].getState();return n[e]}const f={changeLeftSidebarWidth(e){const{id:t}=m();i.b.set(t,"styleguideLeftSidebarWidth",e)},changeRightSidebarWidth(e){const{id:t}=m();i.b.set(t,"styleguideRightSidebarWidth",e)}};l.a.register(e=>{switch(e.type){case r.a.CHANGE_LEFT_SIDEBAR_WIDTH:f.changeLeftSidebarWidth(e.leftSidebarWidth);break;case r.a.CHANGE_RIGHT_SIDEBAR_WIDTH:f.changeRightSidebarWidth(e.rightSidebarWidth)}});const b={setComponentShortlink(e){if(!e)return;const{barrelId:t,barrelType:n,shortlinks:i}=c.e.getState(),r=n===o.a.PROJECT?"project-styleguide-components":"styleguide-components",l=Object(s.j)(r,{url:{bid:t},query:{coid:e}});l in i||a.generateShortlink(l).then(e=>{c.b.setShortlink(l,e)})},sendHideColorsToElectron({barrelId:e,colors:t}){p.a.isWindowsApp&&h.a.ipcRenderer.send("hide-suggested-colors",{id:e,colors:t})},sendHideTextStylesToElectron({barrelId:e,textStyles:t}){p.a.isWindowsApp&&h.a.ipcRenderer.send("hide-suggested-text-styles",{id:e,textStyles:t})}};c.c.register(e=>{switch(e.type){case c.a.LOAD:e.styleguide&&e.styleguide.selectionComponentId&&b.setComponentShortlink(e.styleguide.selectionComponentId)}}),l.a.register(e=>{switch(e.type){case r.a.CHANGE_SELECTION:b.setComponentShortlink(e.selectionComponentId);break;case r.a.HIDE_SUGGESTED_COLORS:b.sendHideColorsToElectron(e);break;case r.a.HIDE_SUGGESTED_TEXT_STYLES:b.sendHideTextStylesToElectron(e)}})},function(e,t,n){"use strict";var i=n(383),s=n(213),a=n(214),o=n(384),r=n(17),l=n(369),c=n(25),d=n(13),u=n(31);const h={project:d.project,styleguide:d.styleguide},p={initChannel:(e,t,n)=>h[t].getIntegrationEvents(e,n).then(e=>i.a.load(n,e.events)),init(){const e=u.d.getBarrel(),{barrelType:t}=u.e.getState();e.integration.slacks.forEach(n=>{this.initChannel(e._id,t,n._id).catch(()=>{})})},initIfNecessary(e,t){e in o.a.getState().eventGroupsByInid||this.showInitializationError(e,t)},showInitializationError(e,t){c.a({message:"Something went wrong while fetching Slack preferences.",done:{name:"TRY AGAIN",cb:()=>this.initChannel(o.a.getState().barrelId,[e]).then(()=>i.a.open(e,t)).catch(()=>this.showInitializationError(e,t))}})},updateEventGroup(e,t){const{inid:n}=o.a.getState();(t?this.addPreferenceGroup(n,e):this.deletePreferenceGroup(n,e)).then(()=>{i.a.eventGroupUpdated(n,e)}).catch(t=>{i.a.eventGroupUpdateFailed(n,e),r.b(t)})},addPreferenceGroup(e,t){const{barrelId:n,barrelType:i}=u.e.getState();return l.b(i,t).reduce((t,s)=>t.then(()=>h[i].addIntegrationEvent(n,e,s)),Promise.resolve())},deletePreferenceGroup(e,t){const{barrelId:n,barrelType:i}=u.e.getState();return l.b(i,t).reduce((t,s)=>t.then(()=>h[i].deleteIntegrationEvent(n,e,s)),Promise.resolve())}};a.a.register(e=>{switch(e.type){case s.a.INIT:p.init();break;case s.a.OPEN:p.initIfNecessary(e.inid,e.channelName);break;case s.a.UPDATE_EVENT_GROUP:p.updateEventGroup(e.eventGroup,e.checked)}})},function(e,t,n){"use strict";t.a={ADD_NOTIFICATION:"addNotification",GET_NOTIFICATIONS_REQUESTED:"getNotificationsRequested",GET_NOTIFICATIONS_SUCCESS:"getNotificationsSuccess",GET_NOTIFICATIONS_FAILED:"getNotificationsFailed",UPDATE_NOTIFICATION_LAST_READ_TIME:"updateNotificationLastReadTime"}},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";class i{constructor(e){const{id:t,label:n,accelerator:s,type:a,enabled:o,checked:r,visible:l,role:c,submenu:d}=e;this.id=t,this.label=n,this.accelerator=s,this.type=a,this.enabled=o,this.checked=r,this.visible=l,this.role=c,this.submenu=d?d.map(e=>new i(e)):null}}t.a=i},function(e,t,n){"use strict";var i=n(75);const s=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});t.a=class{constructor(e){this.project=e}percentage(e,t=0){return`${Object(i.c)(100*e,t)}%`}withUnit(e){return`${e}${this.project.dimensionSuffix}`}withTextUnit(e){return`${e}${this.project.textDimensionSuffix}`}length(e){return this.withUnit(Object(i.c)(e/this.project.densityScale,1))}textLength(e){return this.withTextUnit(Object(i.c)(e/this.project.densityScale,1))}letterSpacing(e){return this.withTextUnit(Object(i.c)(e/this.project.densityScale,2))}fontVariationAxis(e){return String(Object(i.c)(e,2))}colorString(e,t){return e.toPlatformString(this.project.type,t)}alpha(e){return s.format(e)}}},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1516);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1566);n.d(t,"a",function(){return i.a}),t.b=i.b},function(e,t,n){"use strict";var i=n(1632);n.d(t,"b",function(){return i.a});var s=n(1634);n.d(t,"a",function(){return s.a})},,,,,function(e,t){e.exports=Prism},function(e,t,n){"use strict";var i=n(7),s=n(28);const a={hydrateEmbeddedData({projects:e,styleguides:t,focusedBarrels:n,oid:a,organizations:o,barrel:r,versions:l,dots:c,project:d,linkedStyleguides:u,ancestors:h,organization:p,user:g}){i.a.dispatch({type:s.a.HYDRATE_EMBEDDED_DATA,projects:e,styleguides:t,focusedBarrels:n,oid:a,organizations:o,barrel:r,versions:l,dots:c,project:d,linkedStyleguides:u,ancestors:h,organization:p,user:g})},initRecentlyLoadedBarrels({projects:e,styleguides:t}){i.a.dispatch({type:s.a.INIT_RECENTLY_LOADED_BARRELS,projects:e,styleguides:t})}};t.a=a},function(e,t,n){"use strict";var i=n(522),s=n(523),a=n(1),o=n(13);const r=Object(a.g)(o.updateNotificationLastReadTime),l={addNotification(e){s.a.dispatch({type:i.a.ADD_NOTIFICATION,notification:e})},getNotifications(e,t){s.a.dispatch({type:i.a.GET_NOTIFICATIONS_REQUESTED}),Object(o.getNotifications)(e,t).then(e=>{s.a.dispatch({type:i.a.GET_NOTIFICATIONS_SUCCESS,notifications:e.notifications,hasMore:e.hasMore})}).catch(e=>{s.a.dispatch({type:i.a.GET_NOTIFICATIONS_FAILED,error:e})})},setNotificationLastReadTime(e){s.a.dispatch({type:i.a.UPDATE_NOTIFICATION_LAST_READ_TIME,notificationLastReadTime:e})},updateNotificationLastReadTime(){r().then(e=>{const t=new Date(e.notificationLastReadTime);Zeplin.updateUser({notificationLastReadTime:t}),l.setNotificationLastReadTime(t)})}};t.a=l},function(e,t,n){"use strict";t.a={CREATE:"CreateUser",DELETE:"DeleteUser",UPDATE_EMAIL:"UpdateEmail",UPDATE_EMAIL_NOTIFICATION:"UpdateEmailNotifications",UPDATE_AVATAR:"UpdateUserAvatar",UPDATE_BILLING:"UpdateUserBilling",UPDATE_EMOTAR:"UpdateUserEmotar",UPDATE_USERNAME:"UpdateUsername",VERIFY:"VerifyUser"}},function(e,t,n){"use strict";var i=n(1053);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1095);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1138);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1164);n.d(t,"f",function(){return i.f}),n.d(t,"d",function(){return i.d}),n.d(t,"e",function(){return i.e}),n.d(t,"b",function(){return i.b}),n.d(t,"c",function(){return i.c}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return u});var i=n(0),s=n(6),a=n(1188),o=n(1189);const r=Object.freeze({wght:"Weight",wdth:"Width",slnt:"Slant",ital:"Italic",opsz:"Optical sizing"}),l=Object.freeze({wght:0,wdth:1,slnt:2,ital:3,opsz:4});function c(e){return Object.entries(e).sort(([e],[t])=>e in r&&t in r?l[e]-l[t]:e in r&&!(t in r)?-1:!(e in r)&&t in r?1:e<t?-1:1)}function d(e){const{fontFamily:t,fontStyle:n,fontSize:i,stretchText:a,weightText:o,fontVariationSettings:r}=e,l=r||"normal"===a?"":` ${Object(s.h)(a)}`,c=r||"normal"===n?"":` ${Object(s.h)(n)}`,d=r?"":Object(s.h)(o);return{content:`${t}${l}${d||c?", ":""}${d}${c}`,fontSize:i}}function u(e,t){const{textAlign:n,lineHeight:l,letterSpacing:d,fontVariationSettings:u}=t;let h=[];if(n&&"left"!==n&&h.push(Object(s.h)(n)),u){const t=c(u).map(([t,n])=>i.h("span",{key:t},r[t]||i.h("code",null,t),": ",e.fontVariationAxis(n)));h.push(...t)}return l&&h.push(`Line height: ${e.textLength(l)}`),"number"==typeof d&&h.push(`Letter spacing: ${e.letterSpacing(d)}`),(h=[...Object(a.a)(h,Object(o.a)(", "))]).pop(),h}},function(e,t,n){"use strict";t.b=function(e){return p(e,[a.formatEmojiString,o.I])},t.a=function(e){return p(e,[g,m,a.formatEmojiString,o.I])};var i=n(1330),s=n.n(i),a=n(461),o=n(1),r=n(3),l=n(8),c=n(5),d=n(31),u=n(60);function h(e){const t=function(e){const t=new URL(e),n=t.origin===location.origin,i=t.protocol===c.L;if(!n&&!i)return;const s={query:{}};if(t.hash||i){const e=(i?t.search||t.href.substring(t.href.indexOf("?")):t.hash).replace(/&amp;/g,"&").substring(1),a=Object(l.h)(e);if(!("pid"in a))return;return s.url={pid:a.pid[0]},"sid"in a?(s.url.sid=a.sid[0],"vid"in a&&(s.url.vid=a.vid[0])):n&&"styleguide"in a||i&&(t.pathname.startsWith("//styleguide")||t.pathname.startsWith("//guideline"))?s.subpage="styleguide":s.subpage="dashboard",s}const a=Object(l.i)(t.pathname);if(!a)return;Object.assign(s,{url:a});const o=t.pathname.match(/\/(dashboard|styleguide)$/);if(o&&(s.subpage=o[1]),t.search){const e=Object(l.h)(t.search.replace(/&amp;/g,"&"));Object.assign(s,{query:e})}return s}(e),n=d.d.getBarrel();if(!n||!(t&&"pid"in t.url&&t.url.pid===n.id))return;let i="project-dashboard",s="Dashboard",a=["link"];if("sid"in t.url){i="vid"in t.url?"project-screen-version":"project-screen";const e=n.screens.find(function(e){return e._id===t.url.sid}),o=e?e.name:"unknown";if("did"in t.query)if(t.query.did.length>1)s=`Notes on ${o}`;else{const n=e.dots&&e.dots.find(function(e){return e._id===t.query.did[0]}),i=`Note${n?` #${n.name}`:""}`;s="cmid"in t.query?`Comment${t.query.cmid.length>1?"s":""} on ${i}, ${o}`:`${i}, ${o}`}else a.push("screenLink"),s=o}return"subpage"in t&&"styleguide"===t.subpage&&(i="project-styleguide",s="Styleguide",delete t.subpage),{anchorText:s,classList:a,url:Object(l.j)(i,t)}}function p(e,t=[]){var n=[],i=new s.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:function(e){return function(t){switch(t.getType()){case"url":{if(t.protocolRelativeMatch)return!1;const n=h(t.getUrl());if(n){const{anchorText:t,classList:i,url:s}=n;return e.push(`<a href="${s}" class="${i.join(" ")}" data-link-type="inApp">${t}</a>`),`{{link:${e.length-1}}}`}const i=t.buildTag();return i.setAttr("rel","nofollow external noopener noreferrer"),e.push(i.toAnchorString()),`{{link:${e.length-1}}}`}case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}(n)});return t.reduce(function(e,t){return t(e)},i.link(Object(o.h)(e))).replace(/{{link:(\d+)}}/g,function(e,t){return n[parseInt(t,10)]})}function g(e){const t=d.d.getBarrel();return t?e.replace(/#([\w-]+)/g,function(e,n){var i=t.findColorByName(n);return i?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+i.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(i=t.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+i.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e}):e}function m(e){const t=d.d.getBarrel();if(!t)return e;const n=Object(o.K)(t.users),{username:i}=u.b.getState(),s=Object(o.A)(i);return e.replace(n,e=>{const t=s.test(e);return`<span class="${Object(r.a)("user",{self:t})}">${e}</span>`})}},function(e,t,n){"use strict";var i=n(1348);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return g});var i=n(1),s=n(75),a=n(150),o=n(26);function r(e,t){return`linear-gradient(to bottom, ${e.colorStops.map(e=>(function(e,t){const n=e.position>0&&e.position<1?"":` ${Math.round(100*e.position)}%`;return`${e.color.toCSS(t)}${n}`})(e,t)).join(", ")})`}function l(e){const t=e.getDefaultTextStyle(),n=[];let i=0;return e.textStyles.forEach(({font:s,range:a})=>{const o=n.find(e=>e.font.equals(s));let r,l;t.equals(s)?l="default":o?l=o.group:(l=function(e){return["turquoise","cornflower-blue","green","yellow","peach"][parseInt(e,10)]||"group-"+e}(i),r=e.content.substring(a.start,a.end),i+=1),r=e.content.substring(a.start,a.end),n.push({font:s,range:a,group:l,content:r})}),n}function c(e,t,n){const{localName:s,displayName:o,layerName:r,contents:l,percent:c,size:d,lightness:u,_id:h}=e,p={},g={},m={previewImages:p,displayName:o,layerName:r,localName:s,formats:g,percent:c,size:d,light:"light"===u,id:h},f=l.filter(e=>Object(a.g)(n,e));for(const a of f){const{density:e,densityScale:t=Object(i.o)(e),format:n,optimized:s,url:o}=a,r={densityScale:t,optimized:s,url:o};n in g?g[n].variants.push(r):g[n]={variants:[r]},"diff"in g[n]||(c&&c.type===n?g[n].diff={type:"jpg"===c.type?"png":"jpg",percent:c.diff}:s&&s.percent&&(g[n].diff={type:"svg",percent:s.percent}))}return m.size&&(m.size={width:t.withUnit(m.size.width),height:t.withUnit(m.size.height)}),"svg"in g?(p.svg=g.svg.variants[0].url,m):"png"in g?(g.png.variants.forEach(e=>{p[e.densityScale]=e.url}),m):null}function d(e){const t=e.reduce((e,t)=>{const n=t.creator?t.creator._id:"anonymous";return e[n]=(e[n]||[]).concat(t),e},{});return Object.keys(t).map(e=>{const n=t[e];n.sort((e,t)=>e.created<t.created);const i=n[0];let s=i.creator?i.creator:{username:"Anonymous"};return{username:s.username,avatar:Object(o.f)(s),versions:n.length,lastUpdated:i.created}})}function u(e,t,n){const i={r:e.r,g:e.g,b:e.b,a:e.a},s=e.toCSS(),a=t.colorString(e);for(const o of n){const{id:t,name:n,colors:r,isMember:l,isOrganizationBarrel:c}=o,{id:d,name:u}=r.find(t=>t.equals(e))||{};if(d)return{styleguideId:t,styleguideName:n,isMember:l,isOrganizationBarrel:c,added:!0,id:d,value:i,colorStyle:s,colorString:a,name:u}}for(const o of n){const{id:n,name:r,colors:l,isMember:c,isOrganizationBarrel:d}=o,u=l.find(t=>t.hexBase()===e.hexBase());if(u&&1===u.a){const{id:o,name:l}=u;return{styleguideId:n,styleguideName:r,isMember:c,isOrganizationBarrel:d,added:!1,id:o,value:i,colorStyle:s,colorString:a,name:l,opacity:t.alpha(e.a)}}}return{added:!1,value:i,colorStyle:s,colorString:a}}function h(e,t,n){return{gradientStyle:r(e),colorStops:e.colorStops.map(({color:e,position:i})=>({position:Object(s.c)(i,2),color:u(e,t,n)}))}}function p(e,t,n,a){return"text"!==e.type?[]:l(e).map(({font:e,group:o,content:r,range:l})=>({textStyle:function(e,t,n,a){const o=Object(i.r)(a,e),{color:r,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:h,textAlign:p,fontVariationSettings:g}=e,{densityScale:m,remPreferences:f}=a[0],b="web"===n&&"enabled"===f.status&&f.useForFontSizes,y=r&&u(r,t,a),{id:S,styleguideId:v,styleguideName:C,isMember:E,isOrganizationBarrel:O}=o||{};return{styleguideId:v,styleguideName:C,isMember:E,isOrganizationBarrel:O,id:S,added:!!o,color:y,name:o&&o.name,fontFace:l,fontSize:b?Object(s.e)(c/m,f.remRootFontSize):t.textLength(c),letterSpacing:d&&t.letterSpacing(d),lineHeight:h&&(b?Object(s.e)(h/m,f.remRootFontSize):t.textLength(h)),textAlign:p,fontVariationSettings:g,value:{color:y&&y.value,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:h,textAlign:p,fontVariationSettings:g}}}(e,t,n,a),group:o,content:r,range:l}))}function g(e,t,n,i){const{_id:a,id:o=a,absoluteRect:r,assetData:l,blendMode:d,blur:g,borders:m,borderRadius:f,component:b,content:y,fills:S,name:v,opacity:C,rotation:E,shadows:O,type:T}=e,k={id:o,borders:m.map(e=>(function(e,t,n){const{fill:{color:i,gradient:s},position:a,thickness:o}=e;return{color:i&&u(i,t,n),gradient:s&&h(s,t,n),position:a,thickness:t.length(o)}})(e,t,i)),component:b,content:y,fills:S.map(e=>(function(e,t,n){const i={type:e.type};return"color"===e.type?i.color=u(e.color,t,n):"gradient"===e.type&&(i.gradient=h(e.gradient,t,n)),i})(e,t,i)),name:v,rect:function(e,t,n,i){const{densityScale:a,remPreferences:o}=i,{status:r,useForMeasurements:l,remRootFontSize:c}=o;return"web"===n&&"enabled"===r&&l?{x:Object(s.e)(e.x/a,c),y:Object(s.e)(e.y/a,c),width:Object(s.e)(e.width/a,c),height:Object(s.e)(e.height/a,c)}:{x:t.length(e.x),y:t.length(e.y),width:t.length(e.width),height:t.length(e.height)}}(r,t,n,i[0]),shadows:O.map(e=>(function(e,t,n){const{blurRadius:i,color:s,offsetX:a,offsetY:o,spread:r,type:l}=e;return{blurRadius:t.length(i),color:u(s,t,n),offsetX:t.length(a),offsetY:t.length(o),spread:t.length(r),type:l}})(e,t,i)),type:T,typefaces:p(e,t,n,i)};return l&&(k.asset=c(l,t,n)),g&&(k.blur=function(e,t){const{type:n,radius:i}=e;return{type:n,radius:t.length(i)}}(g,t)),C<1&&(k.opacity=t.percentage(C)),f>0&&(k.borderRadius=t.length(f)),0!==E&&(k.rotation=E),"normal"!==d&&(k.blendMode=d),k}},function(e,t,n){"use strict";var i=n(1585);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1624);n.d(t,"a",function(){return i.a})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),s=n.n(i),a=n(188),o=n(61),r=n(25),l=n(1),c=n(24),d=n(17),u=(n(609),n(27)),h=n(39),p=n(10),g=n(85),m=n(89),f=n(317),b=n(148),y=n(461),S=n(368),v=n(286),C=n(35),E=n(153),O=n(31),T=n(207),k=n(307),D=n(310),_=n(60),w=n(289),j=n(13),R=n(58),I=n(6),A=n(287),x=n(150),P=n(45),L=n(8),N=n(315),U=n(144);var M=document.getElementById("androidResFolderReminderDialog"),B=!1;function z(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:s}=e;O.b.setAssetExportTarget({name:t,type:n,path:i,pathParts:s})}function F(e,t,n){if(document.body.dataset.projectType=e.type,t){const i=t._id;if("pawn"===n&&-1!==t.transitionLeft){const n=Math.ceil(t.transitionLeft/1e3/60/60/24);!function(e,t,n){const i=`transitionBannerStatus${e}`;if("dismissed"===sessionStorage.getItem(i))return;o.b({content:"This project now belongs to an organization but looks like you’re not a member yet. "+`For ${Object(I.g)(n,"day",{one:"a"})}, you’ll be able to access its resources but if you’re a designer or a developer,`+' <a href="#">request an invite</a> from admins.',type:"info",contentType:"html",group:"transition",closeCallback(){sessionStorage.setItem(i,"dismissed")},bodyCallbacks:{a(e){e.preventDefault(),C.b.requestInvite(t,document.querySelector("main")),sessionStorage.setItem(i,"dismissed"),o.a("transition")}}})}(e._id,i,n)}"past_due"===t.subscriptionStatus?a.e({oid:i,currentRole:n}):"will_cancel_at_period_end"===t.subscriptionStatus&&a.d({oid:i,currentRole:n,subscriptionCancelAt:t.subscriptionCancelAt})}else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?a.e({currentRole:n,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus&&a.d({currentRole:n,subscriptionCancelAt:t.user.subscriptionCancelAt})}e.integration.slacks.length>0&&function(e){return j.getProjectSlackIntegrationEmojis(e).catch(()=>{}).then(e=>{e&&"emoji"in e&&S.a.addCustomEmojis(e.emoji)})}(e.id).then(X)}function W(e,t){if(!e.length)return Promise.resolve({});const n=e.map(e=>(function(e,t){const n=C.d.getOrganizationProfile(e);return n||j.getOrganizationMemberProfile(e,t)})(e,t));return Promise.all(n).then(t=>Object.fromEntries(Object(N.a)(e,t))).catch(d.b)}function H(e,t){if(!t)return Promise.resolve([]);const{status:n,styleguide:i}=t;return"active"!==n?Promise.resolve([]):Promise.all([i._id,...i.ancestors].map(t=>(function(e,{projectId:t}){const n=O.d.getBarrel({bid:e});return n&&n.complete?n:j.getStyleguide(e,{projectId:t})})(t,{projectId:e})))}function V(e,{projectId:t}){const n=O.d.getBarrel({bid:e});return n&&n.connectedComponents?{connectedComponents:n.connectedComponents}:j.getStyleguideConnectedComponents(e,{projectId:t})}function G(e,{projectId:t}){const n=O.d.getBarrel({bid:e});return n&&n.localConnectedComponents?{localConnectedComponents:n.localConnectedComponents}:j.getStyleguideLocalConnectedComponents(e,{projectId:t})}function $(e,t,{local:n=!1}){if(!t)return Promise.resolve([]);const{status:i,styleguide:s}=t;if("active"!==i)return Promise.resolve([]);const a=n?G:V;return Promise.all([s._id,...s.ancestors].map(t=>a(t,{projectId:e})))}function q(e,t){const n=function(e){const t=O.d.getBarrel({bid:e});return t&&t.connectedComponents?{connectedComponents:t.connectedComponents}:j.getProjectConnectedComponents(e)}(e),i=$(e,t,{local:!1}),s="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,s?j.getProjectLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),s?$(e,t,{local:!0}):Promise.resolve([])]}function Z(e){return e.map(e=>Object.assign({},e,{complete:!1}))}async function Y(e,t,n,i){const{pid:s,sid:a}=e;let o;if(t.complete)o=t;else{const[e,n]=await Promise.all([j.getProjectExtensions(s),j.getProjectComponentSections(s)]);o=Object.assign({},t,e,n)}const[r,{connectedComponents:l},g,{localConnectedComponents:m},y]=await Promise.all([H(s,t.styleguideLink),...q(s,t.styleguideLink)]),S=new h.a(Object.assign({},o,{connectedComponents:l,localConnectedComponents:m,complete:!0})),{userId:E}=_.b.getState(),{role:T}=S.findUser(E);F(S,n,T),g.forEach((e,t)=>{r[t].connectedComponents=e.connectedComponents}),y.forEach((e,t)=>{r[t].localConnectedComponents=e.localConnectedComponents});const k=n?n._id:"user",w=W(i.map(e=>e._id),E),R="pawn"!==T?function(e){const t=C.d.getOrganizationProjects(e);return t||j.getProjects("user"===e?null:e).then(Z)}(k):Promise.resolve(),I="pawn"!==T?function(e){const t=C.d.getOrganizationStyleguides(e);return t||j.getStyleguides("user"===e?null:e).then(Z)}(k):Promise.resolve();r.forEach(e=>Object(U.d)(e._id));const[{assetDensityScalePrefs:A,assetNamingConvention:P,collapsedSections:L,dashboardSidebarWidth:N,fixedThumbnailSize:M,lastNoteColorUsed:V,layoutGridEnabled:G,noteVisibility:$,noteStatusFilter:Y,noteColorFilter:K,noResourceInfoDismissed:J,screenSidebarWidth:X,showOptimizedSVG:Q,slackReconnectionAuntieSeen:te,styleguideLeftSidebarWidth:ne,styleguideRightSidebarWidth:ie,versionsSidebarWidth:se,zoomLevel:ae,connectedComponentsLocalWorkspace:oe,[a]:{versionsLastSeen:re}={}},{noVectorAssetInfoHidden:le,densityMismatchWarningHidden:ce,sourceFileInfoHidden:de,flowLinkInfoDismissed:ue,versionsTutorialSeen:he},pe,ge,me]=await Promise.all([c.b.getAll(S.id),c.d.getAll(),w,R,I]);return O.b.load({barrel:{barrelType:"project",barrelId:s,organizationId:k,organizationTransitionFinished:n&&-1===n.transitionLeft,assetDensityScalePrefs:Object(x.e)(S.type,A),assetNamingConvention:"android"===S.type?"snakeCase":P,showOptimizedSVG:Q,noResourceInfoDismissed:J,noVectorAssetInfoHidden:le,densityMismatchWarningHidden:ce,sourceFileInfoHidden:de,flowLinkInfoDismissed:ue,showSlackReconnectionAuntie:!te,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:oe},styleguide:{selectedStyleguideSection:"colors",leftSidebarWidth:ne,rightSidebarWidth:ie},dashboard:{collapsedSections:L,fixedThumbnailSize:M,sidebarWidth:N},screen:{layoutGridEnabled:G,zoomLevel:ae,notesVisible:$,screenSidebarWidth:X,showVersionsTutorial:!he,versionsLastSeen:re,versionsSidebarWidth:se},dots:Object.assign({},function(e){let t=null,n=[],i=[];return e.did?(1===e.did.length?(t=e.did[0],e.cmid&&(i=e.cmid)):e.did.length>1&&(n=e.did),{dotId:t,highlightedDots:n,highlightedComments:i}):{}}(e),{statusFilter:Y,colorFilter:K,lastNoteColorUsed:V}),notifications:{notificationLastReadTime:Zeplin.user.notificationLastReadTime},data:{project:S,organization:"pawn"!==T?n:null,organizations:i,organizationProfiles:pe,organizationProjects:ge,organizationStyleguides:me,linkedStyleguides:r}}),requestIdleCallback(async()=>{if(!n||n.members||"pawn"===T)return;const e=pe[k].restricted?{_id:k,members:[],wildlings:[]}:await function(e){const t=C.d.getOrganization(e);return t&&t.members&&t.wildlings?t:j.getOrganizationMembers(e)}(k);C.b.addOrganization(e)}),B=!1,function(e){Promise.all(e.extensions.map(t=>new f.a(t).load(e._id,p.a.PROJECT))).then(t=>{v.a.loadExtensions(e,p.a.PROJECT,t)}).catch(d.b)}(S),D.a.init(),u.a.isWindowsApp&&(O.b.getConnectedComponentsEditorInfo(),b.d(S.id,S.type,z)),ee(S),S}async function K(e){try{const{pid:t}=e,n=function(){const{organizations:e}=C.e.getState();if(e.length)return Promise.resolve(e);const t=g.a.mark();return j.getOrganizations().then(e=>(g.a.measure("api.getOrganizations",{start:t,minTime:50,labels:{status:200}}),e)).catch(e=>{throw g.a.measure("api.getOrganizations",{start:t,minTime:50,labels:{status:e.status}}),e})}(),i=await function(e){const t=O.d.getBarrel({bid:e});return t&&t.complete?Promise.resolve(t):j.getProject(e)}(t),s=function(e){if(!l.z(e))return Promise.resolve(null);const t=O.d.findBarrelOrganizationId(e._id);let n=C.d.getOrganization(t);return n||(n=Object(w.a)("organization")),n?Promise.resolve(n):j.getProjectOrganization(e._id).catch(()=>null)}(i),[a,o]=await Promise.all([s,n]),{barrelId:c}=O.e.getState();return c&&c!==t&&Object(U.g)(t),i.partial?function(e,t,n,i){const s=new h.a(Object.assign({},t,{complete:!1})),a=n?n._id:"user";return O.b.load({barrel:{barrelType:"project",barrelId:s.id,organizationId:a},data:{project:s,organization:n,organizations:i}}),ee(s),s}(0,i,a,o):Y(e,i,a,o)}catch(e){B?(B=!1,navigator.onLine&&location.reload()):function(e){d.b(e,{clientErrorHandler(){r.a({title:e.title,message:e.message}),O.d.navigateToWorkspace()}})}(e)}}function J(e,t,n=!0){const i=e.extensions.find(e=>e._id===t);if(i||v.a.addExtension(e._id,"project",t),!n)return;if(i)return void O.b.openExtensionSettings({extensionId:t});const s=v.b.addListener(e=>{v.b.getState().extensions.find(e=>e.id===t)&&(O.b.openExtensionSettings({extensionId:t}),s.remove())})}function X(){const e=document.querySelectorAll(".customEmojiPlainText");Array.prototype.forEach.call(e,e=>{const t=l.h(e.innerText.trim()),n=y.formatEmojiString(t);e.outerHTML=n})}function Q(...e){const{body:{integration:t}}=e[e.length-1],n=O.d.getBarrel(),i=t.slacks.filter(e=>!n.integration.slacks.find(t=>t._id===e._id));i.length&&(i.forEach(e=>{O.b.addIntegration({intype:"slacks",integration:e})}),function(){const e=O.e.findUser();l.C.canUpdateProject(e)&&D.a.init()}())}function ee(e){const t=Object(U.c)(e._id);t.bind("UpdateUserSubscription",({params:{uid:t},body:{plan:n,subscriptionStatus:i}})=>{const s=e.findUser(t);if(!s)return;const o=s.user.paymentPlan;s.user.paymentPlan=n;const r=s.user.subscriptionStatus;s.user.subscriptionStatus=i,"owner"===s.role&&("will_cancel_at_period_end"===r&&(a.c(),s.user.subscriptionCancelAt=null),a.b().then(t=>{const{versionLimit:i}=t.find(e=>e.id===o),{versionLimit:s}=t.find(e=>e.id===n),a=E.e.getScreen();if(i>s){if(e.screens.forEach(e=>{e.allowedVersionCount=s,e.versions.length>s&&(e.versions.length=s)}),a){E.e.getVersion()||(E.c.setVersionId(a.versions[0]._id),Object(P.a)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:"UpdateUserSubscription"}))}}else i<s&&(e.screens.forEach(e=>{e.allowedVersionCount=s,e.totalVersionCount&&e.totalVersionCount>i&&delete e.totalVersionCount}),a&&(!a.totalVersionCount||a.totalVersionCount>i)&&E.c.getVersions())}))}),t.bind("CancelUserSubscription",({params:{uid:e},body:{plan:t,subscriptionStatus:n,subscriptionCancelAt:i}})=>{const s=O.d.findUser();s&&(O.b.updateUserData({uid:e,userData:{paymentPlan:t,subscriptionStatus:n,subscriptionCancelAt:i}}),"owner"===s.role&&"will_cancel_at_period_end"===n&&a.d({currentRole:s.role,subscriptionCancelAt:i}))}),t.bind("AuthProjectSlack",Q),t.bind("UpdateProjectUserRole",({params:{pid:e,mid:t},body:{role:n}})=>{const{barrelId:i}=O.e.getState(),{userId:s}=_.b.getState();i===e&&s===t&&"pawn"!==n&&o.a("transition")}),t.bind("TransferProjectOwnership",({params:{pid:e,oid:t="user"},body:{users:n}})=>{n.forEach(({user:{_id:t},role:n})=>{O.b.updateUserRole({bid:e,uid:t,role:n})}),O.b.setOrganizationId({oid:t})}),t.bind("RequestPaymentFail",function(e){const t=O.d.findUser(),n={currentRole:t.role};Object.assign(n,e.params),e.params.oid||"owner"===t.role||(n.ownerEmail=e.body.email),a.e(n)}),t.bind("AddProjectExtension",function(t){J(e,t.body._id,!1)}),t.bind("RemoveExtensionFromProject",({params:{pid:e,eid:t}})=>{v.a.removeExtension(e,"project",t,!0)})}function te(e){const{pid:t}=e;if(!t||!l.L(t,"project"))return r.a({title:"Invalid project link",message:"There might be a typo, please try again."}),O.d.navigateToWorkspace(),Promise.reject();const n=O.d.getBarrel();return B||!n||n.id!==t||n.partial?(O.b.reset(),K(e)):Promise.resolve(n)}r.b.registerDialog(M);var ne=!1;function ie(){ne||(ne=!0,g.a.measure("page.interactive"),g.a.measureFirstInteraction())}function se(e){const{subpage:t}=e,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["subpage"]);return te(e).then(e=>{if(!e||e.partial)return;const{selectedView:i}=O.e.getState();if("sid"in n){"dashboard"!==i&&O.b.changeSelectedView("dashboard"),k.a.highlightScreens(n.sid);const{tagFilter:{tags:e}}=k.b.getState();e.length&&k.a.changeTagFilter({tags:[],untagged:!1})}else if("seid"in n)k.a.highlightSection(n.seid[0]),"dashboard"!==i&&O.b.changeSelectedView("dashboard");else if("eid"in n)"dashboard"!==i&&O.b.changeSelectedView("dashboard"),J(e,n.eid[0]);else if("dashboard"===t){"dashboard"!==i&&O.b.changeSelectedView("dashboard");const{filterValue:t,tagFilter:s,jiraIssueFilter:a}=k.b.getState();if(n.tag||n.ja){if(n.tag){!l.a(s.tags,n.tag,e=>n.tag.includes(e))&&k.a.changeTagFilter({tags:n.tag,untagged:!1})}if(n.ja){!l.a(a,n.ja,e=>n.ja.includes(e))&&k.a.changeJiraIssueFilter(n.ja)}}else{let i={tags:[],untagged:!1},a="q"in n&&n.q[0]||"";"untagged"in n&&"true"===n.untagged[0]&&e.tags&&e.tags.length&&(i.untagged=!0),(s.tags.length||s.untagged!==i.untagged)&&k.a.changeTagFilter(i),t!==a&&k.a.changeFilterValue(a)}}else"cid"in n?"styleguide"!==i&&O.b.changeSelectedView("styleguide"):"tsid"in n?"styleguide"!==i&&O.b.changeSelectedView("styleguide"):"styleguide"===t&&"styleguide"!==i&&O.b.changeSelectedView("styleguide");ie()})}let ae;m.a.route(/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i,function(e){ga("set","location",location.href),ga("set","title","Screen - Zeplin"),ga("send","pageview");const{match:[t,n,i],query:s,query:{did:[a]=[],cmid:[o]=[]}}=e;return te(Object.assign({pid:t,sid:n,vid:i},s)).then(e=>{if(!e||e.partial)return;const{screenId:s,versionId:c}=E.f.getState(),{dotId:d}=E.a.getState();l.L(n,"screen")?s&&s===n?s&&s===n&&(c!==i&&E.c.setVersionId(i),a&&d!==a&&E.c.selectDot(a,o)):E.c.openScreen(n,i,a,o):(r.a({title:"Invalid screen link",message:"There might be a typo, please try again."}),O.b.goToDashboard()),a&&history.replaceState(null,null,Object(L.j)("project-screen",{url:{pid:t,sid:n,vid:i}})),ie()})}),m.a.route(/\/project\/([\da-f]{24})\/styleguide\/colors/i,function(e){ga("set","location",location.href),ga("set","title","Color Palette - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{cid:i=[],seid:[s]=[]}={}}=e;return te(Object.assign({pid:t},n)).then(e=>{e&&!e.partial&&(O.b.changeSelectedView("styleguide"),T.a.changeSelectedNavigatorId({selectedStyleguideSection:"colors",selectedNavigatorId:s}),T.a.highlightColors(i))})}),m.a.route(/\/project\/([\da-f]{24})\/styleguide\/textstyles/i,function(e){ga("set","location",location.href),ga("set","title","Text Style Catalog - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{tsid:i=[],seid:[s]=[]}={}}=e;return te(Object.assign({pid:t},n)).then(e=>{e&&!e.partial&&(O.b.changeSelectedView("styleguide"),T.a.changeSelectedNavigatorId({selectedStyleguideSection:"textStyles",selectedNavigatorId:s}),T.a.highlightTextStyles(i))})}),m.a.route(/\/project\/([\da-f]{24})\/styleguide\/spacing/i,function(e){ga("set","location",location.href),ga("set","title","Spacing and Layout - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{sptid:i=[],seid:[s]=[]}={}}=e;return te(Object.assign({pid:t},n)).then(e=>{e&&!e.partial&&(O.b.changeSelectedView("styleguide"),T.a.changeSelectedNavigatorId({selectedStyleguideSection:"spacing",selectedNavigatorId:s}),T.a.highlightSpacingTokens(i))})}),m.a.route(/\/project\/([\da-f]{24})\/styleguide\/components/i,function(e){ga("set","location",location.href),ga("set","title","Components - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{coid:[i]=[],cseid:[s]=[],seid:[a]=[s]}={}}=e;return te(Object.assign({pid:t},n)).then(e=>{if(!e||e.partial)return;O.b.changeSelectedView("styleguide");const t=O.d.getStyleguidesData({barrelStore:O.e,styleguidesDataStore:R.c}),{component:n}=i?Object(A.a)(t,i):{};T.a.changeSelectedNavigatorId({selectedStyleguideSection:"components",selectedNavigatorId:a}),T.a.changeSelection({selectionComponentId:i,selection:n})})}),m.a.route(/\/project\/([\da-f]{24})(?:\/(dashboard|styleguide))?$/i,function(e){const[t,n="dashboard"]=e.match;return ga("set","location",location.href),ga("set","title",`${Object(I.h)(n)} - Zeplin`),ga("send","pageview"),se(Object.assign({pid:t,subpage:n},e.query))}),m.a.bootstrap(function(){g.a.measurePageDefaults(),g.a.measure("page.start"),window.addEventListener("online",()=>{if(!s.a.get("userToken"))return;const e=Object(L.d)();e||O.d.navigateToWorkspace(),B=!0,clearTimeout(ae),ae=setTimeout(()=>{te(e).then(()=>{"sid"in e&&E.c.openScreen(e.sid)})},1e3)})})},function(e,t,n){"use strict";var i=n(25),s=n(461),a=n(611),o=n(462),r=n(463),l=n(1),c=n(56),d=n(70),u=n(26),h=n(6),p=n(8),g=n(189),m=n(153),f=n(31),b=n(60);const y=document.getElementById("dotPopup"),S=document.getElementById("dotPopupAnchor"),v=document.getElementById("dotColors"),C=document.getElementById("commentTemplate"),E=document.getElementById("dotComments"),O=document.getElementById("newComment"),T=document.getElementById("newCommentButtons"),k=document.getElementById("newCommentButton"),D=document.getElementById("newCommentMirror"),_=document.getElementById("newCommentNote"),w=document.getElementById("newCommentSendButton"),j=document.getElementById("newCommentArea"),R=document.getElementById("suggestedUsersContainer"),I=document.getElementById("suggestedEmojisContainer"),A={},x=6,P=13,L=26,N=29;function U(e){if(e&&e.length)if(Array.isArray(e)){let t,n=m.e.getDot().comments.length;if(e.forEach(e=>{const i=E.querySelector(`.comment[data-id="${e}"]`);i&&i.classList.add("highlight");const s=Array.from(i.parentElement.children).indexOf(i);s<n&&(n=s,t=i)}),t){const e=y.getBoundingClientRect().top,n=t.getBoundingClientRect().top-e;setTimeout(()=>{E.scrollTop+=n-24},200)}else i.a({message:"Comments not available anymore."})}else{const t="string"==typeof e?E.querySelector(`.comment[data-id="${e}"]`):e;if(!t)return void i.a({message:"Comment not available anymore."});t.classList.add("new"),t.scrollIntoView(),setTimeout(()=>{t.classList.add("highlight"),setTimeout(()=>{t.classList.remove("highlight"),t.addEventListener("transitionend",()=>{t.classList.remove("new")},{once:!0})},1e3)},150)}}function M(e,t,n){if(t.innerHTML=Object(l.h)(e.value)+"&nbsp;",e.selectionStart!==e.selectionEnd)return;const i=Object(h.d)(e.value.substring(0,e.selectionStart),!0),o=e.value.charAt(i);if("@"===o){const i=a.manageSuggestedUsers(e,t);i&&B(i,n,a)}else if(":"===o){const i=s.manageSuggestedEmojis(e,t);i&&B(i,n,s)}else a.close(),s.close()}function B(e,t,n){e.style.top="",e.style.left="",e.style.bottom="",e.style.right="",t.appendChild(e),n.open();const i=t.getBoundingClientRect(),s=y.getBoundingClientRect();i.bottom+42>=window.innerHeight?(e.style.bottom=s.bottom-i.bottom+t.offsetHeight+"px",e.style.top=""):(e.style.top=`${i.bottom-s.top}px`,e.style.bottom="",e.style.maxHeight=`${window.innerHeight-i.bottom-x}px`)}function z(){const e=s.formatEmojiString(_.value.trim(),!0);if(!e)return;O.classList.remove("composing");const t=m.e.getDot(),{name:n}=t,i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["name"]);i.comments=[{note:e}],m.c.createComment({did:i._id,note:e}),m.c.addDot({dot:i,syncWithApi:!0})}function F(e){e.classList.remove(...d.b)}function W(){k.textContent=E.lastElementChild.classList.contains("commentOwner")?"POST":"REPLY"}function H(e,t,n,i){delete e.status;const s=document.importNode(C.content,!0);!function(e,t,n,i,s){Object(u.o)(e.querySelector(".commentAuthorImage"),t.author),e.querySelector(".commentAuthorName").textContent=t.author?t.author.username:"Anonymous",e.dataset.id=t._id,e.classList.toggle("commentOwner",t.author&&t.author._id===Zeplin.user._id);const a=new Date(t.created),o=new Date(t.updated);e.querySelector(".commentLink").href=Object(p.j)("project-screen",{url:{pid:n,sid:i},query:{did:s,cmid:t._id}}),e.querySelector(".commentCreated").setAttribute("datetime",a);const r=e.querySelector(".commentMirror");r.innerHTML="",V(t.note,r),e.querySelector(".commentEdited").setAttribute("datetime",o-a>3e5?o:"")}(s.querySelector(".comment"),e,t,n,i),E.appendChild(s);const a=E.lastElementChild,o=a.querySelector(".commentNote"),r=a.querySelector(".commentMirror");return o.addEventListener("input",()=>{M(o,r,a),ee()}),o.addEventListener("keyup",e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:M(o,r,a)}}),a}function V(e,t){new g.a(o.a,t).render({children:e,disabledFeatures:[r.a.SPOTIFY,r.a.YOUTUBE,r.b.IMAGE,r.b.CHECKBOX,r.b.TABLE,r.b.HEADING]})}function G({scroll:e=!1}={}){E.innerHTML="",_.value="";const{barrelId:t}=f.e.getState(),{screenId:n}=m.f.getState(),{dotId:i}=m.a.getState();m.e.getDot().comments.forEach(e=>H(e,t,n,i)),e&&Object(u.m)(E.lastElementChild),O.classList.remove("hidden"),W(),ee()}function $({hasReaction:e=!1}={}){const t=s.formatEmojiString(_.value.trim(),!0);s.close(),a.close(),t&&(O.classList.remove("composing"),m.c.createComment({note:t,hasReaction:e,syncWithApi:!0}))}function q(e){const t=e.querySelector(".commentNote"),n=s.formatEmojiString(t.value.trim(),!0);if(s.close(),a.close(),""===n)return void Z(e.dataset.id);const{screenId:i}=m.f.getState(),{dotId:o}=m.a.getState(),r=e.dataset.id;m.c.updateComment({sid:i,did:o,cmid:r,commentData:{note:n,updated:new Date},syncWithApi:!0})}function Z(e){const{userId:t}=b.b.getState(),{screenId:n}=m.f.getState(),{dotId:s}=m.a.getState(),a=m.e.getDot(),o=m.e.getComment({sid:n,did:s,cmid:e}),r=1===a.comments.length?"note":"comment";let l;l=o.author?o.author._id===t?`Delete your ${r}?`:`Delete ${o.author.username}’s ${r}?`:`Delete ${r}?`,i.a({title:l,message:`Deleted ${r}s cannot be restored.`,done:{name:"DELETE",cb(){1===a.comments.length&&m.c.removeDot({sid:n,did:s,syncWithApi:!0}),m.c.removeComment({sid:n,did:s,cmid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}function Y(){a.close(),s.close(),E.innerHTML="",E.scrollTop=0,y.dataset.id="",F(y),function(e){e.classList.remove("open","resolved")}(y),y.classList.add("hidden"),y.classList.remove("left","right")}function K(){Y(),document.removeEventListener("click",ie),document.removeEventListener("keydown",se);const e=document.querySelector('.dot[data-id^="new"]');e&&setTimeout(()=>{m.c.removeDot({did:e.dataset.id})},4)}function J(){const{screenId:e}=m.f.getState();if(!y.classList.contains("hidden")&&e){A[e]=A[e]||{};const t=y.dataset.id;t.startsWith("new")?A[e].comment=_.value:(A[e].reply=A[e].reply||{},A[e].reply[t]=_.value)}}function X(){J(),K()}function Q(e,t){const{id:n,users:i}=f.d.getBarrel();if(!e||!i)return void Y();Array.isArray(t)&&1===t.length&&(t=t[0]);const s=m.e.getDot({did:e});if(!s)return;if(y.dataset.id===s._id)return void U(t);Y();const a=f.d.findUser();y.dataset.id=e,y.classList.add(Object(d.c)(s.color),s.x<=.5?"left":"right"),y.classList.toggle("canRemoveNotes",l.C.canRemoveNotes(a)),D.innerHTML="&nbsp;",_.value="",O.classList.remove("hidden");const{screenId:o}=m.f.getState();if(e.startsWith("new"))y.classList.add("open"),O.classList.add("composing"),A[o]&&A[o].comment&&(D.innerHTML=Object(l.h)(A[o].comment)+"&nbsp;",_.value=A[o].comment),setTimeout(function(){_.focus(),_.setSelectionRange(_.value.length,_.value.length)},4);else{y.classList.add(s.status),s.comments.forEach(t=>H(t,n,o,e)),U(t);const i=A[o]&&A[o].reply&&A[o].reply[e];i?(O.classList.add("composing"),D.innerHTML=Object(l.h)(i)+"&nbsp;",_.value=i,setTimeout(function(){_.focus(),_.setSelectionRange(_.value.length,_.value.length)},4)):(W(),O.classList.remove("composing"))}e.startsWith("new")?ne():(setTimeout(function(){!function(e){const n=document.querySelector(".screenViewContainer section.screenView");if(Object(u.j)(e,n))ne();else{const t=e.getBoundingClientRect();let i=n.scrollLeft,s=n.scrollTop;t.left<0?i=n.scrollLeft+t.left-60:t.right>n.offsetWidth&&(i=t.right-n.offsetWidth+60),t.top<92?s=n.scrollTop+t.top-60-N-60:t.bottom>window.innerHeight&&(s=n.scrollTop+(t.bottom-window.innerHeight)+60),"scrollTo"in Element.prototype?(n.scrollTo({left:i,top:s,behavior:"smooth"}),setTimeout(ne,450)):(n.scrollLeft=i,n.scrollTop=s,ne())}t?U(t):E.lastElementChild.scrollIntoView()}(document.querySelector(`.dot[data-id="${e}"]`))},200),document.addEventListener("click",ie),document.addEventListener("keydown",se))}function ee(){const{dotId:e}=m.a.getState();if(!e)return;const t=document.querySelector(`.dot[data-id="${e}"]`);if(!t)return;const n=document.querySelector(".screenViewContainer section.screenView").getBoundingClientRect(),i=t.getBoundingClientRect(),s=y.getBoundingClientRect();let a=x,o=x,r=N,l=!1;i.right<=0?(l=!0,a=x):i.left>=n.width?(l=!0,a=n.width-x-s.width):i.left<=s.width+x+P?(y.classList.remove("left"),y.classList.add("right"),a=i.right+P):i.right+P+s.width+x>=n.width?(y.classList.remove("right"),y.classList.add("left"),a=i.left-P-s.width):(y.classList.remove("left","right"),y.classList.add(t.dataset.position),a="left"===t.dataset.position?i.left-P-s.width:i.right+P),i.top<=n.top+L+x?(l=!0,o=n.top+x):i.bottom>=window.innerHeight-L?(l=!0,o=window.innerHeight-s.height-x):i.top>=window.innerHeight-s.height+L-x?(o=window.innerHeight-s.height-x,r=i.top-o+x):i.top+s.height-N>window.innerHeight?(l=!0,o=window.innerHeight-s.height-x):o=i.top-L,y.classList.toggle("overflown",l),y.style.transform="translate("+a.toFixed()+"px, "+o.toFixed()+"px)",S.style.top=r+"px"}v.addEventListener("click",e=>{e.target.classList.contains("dotColor")&&function(e,t){const n=Object(d.d)(e);if(t.startsWith("new"))return void m.c.updateDotColor({did:t,color:n});m.c.updateDotColor({did:t,color:n,syncWithApi:!0});const{colorFilter:i}=m.a.getState();i&&i!==e&&K()}(e.target.dataset.color,y.dataset.id)}),E.addEventListener("mouseover",e=>{e.target!==E&&e.target.closest(".comment").classList.remove("highlight")}),T.addEventListener("click",e=>{if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;if(y.classList.contains("resolved")){const e=document.querySelector("#dotPopup .comment:first-child .commentButtons");return e.classList.add("flashing"),void e.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:1e3,easing:"ease-in-out"}).addEventListener("finish",()=>{e.classList.remove("flashing")})}if(e.target.closest("#newCommentButton"))return O.classList.add("composing"),void _.focus();const t=e.target.closest(".newCommentReaction"),n=m.e.getDot(),i=n.comments[n.comments.length-1];if(i.author&&i.author._id===Zeplin.user._id&&i.note===d.e[t.dataset.reaction])return;const s=_.value;_.value=d.e[t.dataset.reaction],$({hasReaction:!0}),_.value=s}),_.addEventListener("input",()=>{M(_,D,j),ee()}),Object(c.g)()===c.a.SAFARI&&(_.addEventListener("beforeinput",e=>{const t=e.data||"";_.value.length+t.length>_.maxLength&&e.preventDefault()}),y.addEventListener("beforeinput",e=>{const t=e.target,n=e.data||"";t.value.length+n.length>t.maxLength&&e.preventDefault()})),_.addEventListener("click",e=>{e.stopPropagation(),M(_,D,j)}),w.addEventListener("click",()=>{const{dotId:e}=m.a.getState();e.startsWith("new")?z():$()}),_.addEventListener("keyup",e=>{switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:M(_,D,j)}}),_.addEventListener("keydown",e=>{if(e.stopPropagation(),R.classList.contains("hidden")&&I.classList.contains("hidden"))switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:if(Object(c.d)(e)){const{dotId:e}=m.a.getState();e.startsWith("new")?z():$()}break;case Zeplin.KEY_CODE.ESC:{const{screenId:e}=m.f.getState(),{dotId:t}=m.a.getState();A[e]&&(t.startsWith("new")?A[e].comment=null:A[e].reply&&(A[e].reply[t]=null)),O.classList.remove("composing"),D.innerHTML="&nbsp;",_.value="",t.startsWith("new")&&K();break}}});let te=!1;function ne(){y.classList.remove("hidden"),ee()}function ie(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&m.c.closeDotPopup()}function se(e){e.keyCode===Zeplin.KEY_CODE.ESC&&m.c.closeDotPopup()}y.addEventListener("click",e=>{if(e.stopPropagation(),"A"===e.target.tagName)return;const t=y.dataset.id;if(e.target.classList.contains("dotResolveButton"))m.c.updateDotStatus({did:t,status:"resolved",syncWithApi:!0});else if(e.target.classList.contains("dotReopenButton"))m.c.updateDotStatus({did:t,status:"open",syncWithApi:!0});else if(e.target.classList.contains("commentEditButton")){const n=y.querySelector(".comment.editing");if(n){const e=m.e.getComment({did:t,cmid:n.dataset.id}),i=n.querySelector(".commentMirror");i.innerHTML="",V(e.note,i),n.classList.remove("editing")}a.close(),s.close(),O.classList.add("hidden"),O.classList.remove("composing"),D.innerHTML="&nbsp;",_.value="";const i=e.target.closest(".comment"),o=i.querySelector(".commentMirror"),r=i.querySelector(".commentNote"),c=i.dataset.id,d=m.e.getComment({did:t,cmid:c});o.innerHTML=Object(l.h)(d.note)+"&nbsp",r.value=d.note,i.classList.add("editing"),r.setSelectionRange(d.note.length,d.note.length),r.focus(),ee()}else if(e.target.classList.contains("commentDeleteButton")){Z(e.target.closest(".comment").dataset.id)}else if(e.target.classList.contains("commentDoneButton")){q(e.target.closest(".comment"))}}),y.addEventListener("keydown",e=>{if(e.target.classList.contains("commentNote")){e.stopPropagation();const t=e.target.closest(".comment");switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:Object(c.d)(e)&&q(t);break;case Zeplin.KEY_CODE.ESC:{a.close(),s.close(),t.classList.remove("editing"),O.classList.remove("hidden");const n=t.querySelector(".commentMirror"),i=m.e.getComment({cmid:t.dataset.id});n.innerHTML="",V(i.note,n),e.target.blur(),ee();break}}}}),f.c.register(e=>{switch(e.type){case f.a.RESET:K();break;case f.a.CHANGE_SELECTED_VIEW:X();break;case f.a.UPDATE_USER_ROLE:{const{uid:t,role:n}=e,{userId:i}=b.b.getState();t===i&&y.classList.toggle("canRemoveNotes",l.C.canRemoveNotes({role:n}));break}case f.a.UPDATE_USER_DATA:{const{dotId:e}=m.a.getState();e&&G();break}case f.a.REMOVE_MEMBER:a.checkStatus()}}),m.d.register(e=>{switch(e.type){case m.b.OPEN_SCREEN:e.dotId?(K(),Q(e.dotId,e.commentId)):X();break;case m.b.SELECT_LAYER:X();break;case m.b.ZOOM_APPLIED:case m.b.ZOOM_WITH_GESTURE:case m.b.ZOOM_WITH_WHEEL:!function(){const{dotId:e}=m.a.getState();e&&!te&&(requestAnimationFrame(function(){ee(),te=!1}),te=!0)}();break;case m.b.SET_DOTS:{const{loadingDots:e,dotId:t,highlightedComments:n}=m.a.getState();!e&&t&&(J(),Q(t,n));break}case m.b.SELECT_DOT:K(),Q(e.dotId,e.commentId);break;case m.b.CLOSE_DOT_POPUP:X();break;case m.b.CHANGE_DOT_FILTER:e.dotId||X();break;case m.b.OPEN_DOT_MENU:a.close(),s.close(),X();break;case m.b.CREATE_NOTE:X(),setTimeout(Q,4,e.dot._id);break;case m.b.UPDATE_DOT:e.did===y.dataset.id&&(y.dataset.id=e.dotData._id,function(){const{dotId:e}=m.a.getState();e&&(K(),Q(e))}());break;case m.b.UPDATE_DOT_COLOR:!function(e,t){y.dataset.id===e&&(F(y),y.classList.add(Object(d.c)(t)))}(e.did,e.color);break;case m.b.UPDATE_DOT_STATUS:e.did!==y.dataset.id||y.classList.contains(e.status)||K();break;case m.b.REMOVE_DOT:e.did===y.dataset.id&&K();break;case m.b.CREATE_COMMENT:case m.b.ADD_COMMENT:{const{dotId:t}=m.a.getState();t===e.did&&G({scroll:!0});break}case m.b.UPDATE_COMMENT:case m.b.REMOVE_COMMENT:e.did===y.dataset.id&&G();break;case m.b.DESELECT_LAYER:K();break;case m.b.REMOVE_SCREEN:e.removingCurrentScreen&&K()}})},function(e,t,n){"use strict";t.a=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀️‍",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀️",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀️",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀️",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀️",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕️",aliases:["woman health worker"]},{emoji:"👨‍⚕️",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈️",aliases:["woman pilot"]},{emoji:"👨‍✈️",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖️",aliases:["woman judge"]},{emoji:"👨‍⚖️",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀️",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂️",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂️",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂️",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂️",aliases:["raising hand man"]},{emoji:"🤦‍♀️",aliases:["woman facepalming"]},{emoji:"🤦‍♂️",aliases:["man facepalming"]},{emoji:"🤷‍♀️",aliases:["woman shrugging"]},{emoji:"🤷‍♂️",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂️",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂️",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂️",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂️",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂️",aliases:["dancing men"]},{emoji:"🚶‍♀️",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀️",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀️",aliases:["women wrestling"]},{emoji:"🤼‍♂️",aliases:["men wrestling"]},{emoji:"🤸‍♀️",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂️",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀️",aliases:["woman playing handball"]},{emoji:"🤾‍♂️",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀️",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀️",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀️",aliases:["woman playing water polo"]},{emoji:"🤽‍♂️",aliases:["man playing water polo"]},{emoji:"🚣‍♀️",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀️",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀️",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀️",aliases:["woman juggling"]},{emoji:"🤹‍♂️",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"manageSuggestedUsers",function(){return E}),n.d(t,"checkStatus",function(){return O}),n.d(t,"open",function(){return T}),n.d(t,"close",function(){return k});var i=n(1),s=n(6),a=n(26),o=n(493),r=n(31),l=n(35);const c=document.getElementById("suggestedUsersContainer"),d=c.querySelector(".suggestedListBox"),u=document.getElementById("suggestedUsersTemplate");let h,p,g,m,f=[],b=0,y=null;function S(){const e=r.d.getBarrel(),t=l.d.getOrganization(),n=t?[{user:{username:"everyone",_id:"everyone"},icon:t.logo,projectName:e.name}]:[];if(n.push({user:{username:"project",_id:"project"},icon:e.icon.type,projectName:e.name},...e.users),(f=n.filter(({user:e})=>"invited"!==e.status&&("me"===y&&Zeplin.user._id===e._id||e.username.startsWith(y)))).length)return y||(g=f[b=t?2:1]),f.forEach(v),c.appendChild(d),!g||function(e){return!f.some(function(t){return t.user._id===e.user._id})}(g)||"me"===y?(b=0,g=f[0]):b=c.querySelector(".suggestedItem[data-id='"+g.user._id+"']").dataset.index,c;k()}function v(e,t){const n=document.importNode(u.content,!0),i=n.querySelector(".suggestedItem"),s=n.querySelector(".suggestedUserName"),o=n.querySelector(".mentionInfo"),r=n.querySelector(".suggestedUserImage"),l=n.querySelector(".projectIcon");i.dataset.id=e.user._id,i.dataset.index=t,s.textContent=e.user.username||e.user.email,s.title=e.user.username||e.user.email,e.user._id===Zeplin.user._id&&s.classList.add("you"),"everyone"===e.user._id?(o.textContent="Notify all organization members",e.icon?(l.dataset.type="organization",l.style.background=`url(${e.icon})`,l.style.backgroundSize="contain"):l.dataset.type="organizationPlaceholder",r.parentElement.classList.add("hidden")):"project"===e.user._id?(o.textContent="Notify all project members",l.dataset.type=e.icon,r.parentElement.classList.add("hidden")):(o.textContent="",Object(a.o)(r,e.user)),d.appendChild(n)}function C(e){const t=h.value.substring(0,h.selectionStart),n=h.value.substring(h.selectionStart),s=e.user.username,a=t.substr(0,t.lastIndexOf("@"))+"@"+s+" ";h.value=a+n,p.innerHTML=`${Object(i.h)(h.value)}&nbsp;`,h.focus(),h.setSelectionRange(a.length+1,a.length+1),k()}function E(e,t){if(h=e,p=t,!c.classList.contains("hidden")){var n=c.querySelector(".suggestedItem.selected");n&&(g=f[n.dataset.index])}var a,o=Object(s.d)(h.value.substring(0,h.selectionStart),!0);return a=(a=Object(s.d)(h.value.substr(h.selectionStart)))>-1?h.selectionStart+a:0,k(),y=a?h.value.substring(o+1,a):h.value.substring(o+1),i.y.includes(y)&&(y=""),S()}function O(){y&&o.b(m)}function T(){m={elements:{textContainer:h,suggestedListContainer:c},cb:{autoComplete:C},index:b,list:f},o.b(m)}function k(){y=null,o.a()}},function(e,t,n){"use strict";var i=n(0),s=n(31),a=n(57),o=n(58),r=n(35),l=n(151),c=n(60),d=n(74),u=n(463);t.a=Object(d.a)(class extends i.Component{static getStores(){return[s.e,r.e,a.c,l.e,o.c,c.b]}static calculateState(){const{organizations:e}=r.e.getState(),{selectedOrganizationId:t}=l.e.getState(),{barrelId:n,organizationId:i}=s.e.getState(),{username:d}=c.b.getState(),{projects:u}=a.c.getState(),{styleguides:h}=o.c.getState(),p=s.d.getBarrel(),{members:g}=r.d.getOrganization(i||t)||{};return{organizations:e,barrelId:n,username:d,members:g,barrel:p,projects:u,styleguides:h}}render(){const{children:e,disabledFeatures:t,onUpdate:n}=this.props,{organizations:s,barrelId:a,barrel:o,username:r,members:l,projects:c,styleguides:d}=this.state;return i.h(u.c,{disabledFeatures:t,organizations:s,barrelId:a,barrel:o,username:r,members:l,projects:c,styleguides:d,onUpdate:n},e)}},{withProps:!0})},function(e,t,n){"use strict";n.d(t,"b",function(){return I}),n.d(t,"a",function(){return R});var i=n(0),s=n(614),a=n.n(s),o=n(534),r=n.n(o),l=n(87),c=n.n(l),d=n(617),u=n(1),h=n(8),p=n(3),g=n(14),m=n(5),f=n(368),b=n(11),y=n(618);n.n(y);const S=/#([\w-]+)/g,v=/^#(?:[\da-f]{8}|[\da-f]{6}|[\da-f]{3,4})$/i,C=/rgba?\s*\(\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,E=/hsla?\s*\(\s*(\d*\.?\d+(?:deg)?)\s*,?\s*(\d*\.?\d+%)\s*,?\s*(\d*\.?\d+%)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,O=new RegExp(`(${m.L}//\\S+)`,"g"),T=/tel:([\d+.-]+)\b/g,k=/spotify:([\w:]+)\b/g,D=/youtube\.com\/watch\?v=(\w+)/,_=/youtu\.be\/(\w+)/,w=/:([a-z_-]+?):/g,j=c()();a.a.setOptions({headerIds:!1,highlight(e,t){if(!t)return e;const n=r.a.languages[t];return n?r.a.highlight(e,n):e}});const R={SPOTIFY:"spotify",YOUTUBE:"youtube"},I={HEADING:"heading",TABLE:"table",IMAGE:"image",CHECKBOX:"checkbox"};class A extends i.Component{constructor(e){super(e),x.call(this);const{disabledFeatures:t}=e;this.renderer=new a.a.Renderer,this.renderer.checkbox=this.checkboxRenderer,this.renderer.link=this.linkRenderer,this.renderer.text=this.textRenderer,this.renderer.image=this.imageRenderer,t.includes(I.HEADING)&&(this.renderer.heading=this.disableHeadingRenderer),this.lexer=new a.a.Lexer,t.includes(I.TABLE)&&(this.lexer.rules.table={exec:()=>{}}),this.makeEmojisJumbo=!1}getBarrel(e){const{projects:t,styleguides:n}=this.props;return t[e]||n[e]||{}}parseURL(e){const{organizations:t,barrelId:n}=this.props,i=Object(d.a)(e);if(!i)return null;const{url:s={},query:a={},urlSlug:o}=i,{oid:r,bid:l,sid:c}=s,u=this.getBarrel(l);let p;switch(o){case"organization-projects":{const{name:e="Organization"}=t.find(e=>e._id===r)||{};p=`${e}ʼs Projects`;break}case"organization-styleguides":{const{name:e="Organization"}=t.find(e=>e._id===r)||{};p=`${e}ʼs Styleguides`;break}case"projects":p="Projects";break;case"styleguides":p="Styleguides";break;case"project-screen":{const{did:e=[],cmid:t=[]}=a;if(l!==n){p=t.length?`Comment${t.length>1?"s":""} on screen of ${u.name}`:e.length?`Note${e.length>1?"s":""} on screen of ${u.name}`:`Screen in ${u.name}`;break}const{name:i="screen",dots:s=[]}=(u.screens||[]).find(e=>e._id===c)||{};if(e.length)if(e.length>1)p=`Notes on ${i}`;else{const{name:n=""}=s.find(t=>t._id===e[0])||{},a=`Note #${n}, ${i}`;p=t.length?`Comment${t.length>1?"s":""} on ${a}`:a}else p=i;break}case"project-screen-version":{const{name:e="screen"}=(u.screens||[]).find(e=>e._id===c)||{};p=`Version of ${e}`;break}case"project-styleguide":case"styleguide":p=l===n?u.name:"Styleguide";break;case"project-styleguide-colors":case"styleguide-colors":p=`${l===n?"":u.name} Colors`;break;case"project-styleguide-textstyles":case"styleguide-textstyles":p=`${l===n?"":u.name} Text Styles`;break;case"project-styleguide-spacing":case"styleguide-spacing":p=`${l===n?"":u.name} Spacing`;break;case"project-styleguide-components":case"styleguide-components":p=`${l===n?"":u.name} Components`;break;case"styleguide-about":p=`${l===n?"":u.name} About`;break;case"project-dashboard":default:{const{sid:e=[]}=a;p=e.length?`${e.length} screens in ${l===n?"dashboard":u.name}`:l===n?"Dashboard":u.name;break}}return{anchorText:p,href:Object(h.j)(o,{url:s,query:a})}}componentDidMount(){this.bindCheckboxEventListeners()}componentDidUpdate(){this.bindCheckboxEventListeners()}renderMarkdown(){const{children:e}=this.props;return this.checkboxCounter=0,a()(e,{renderer:this.renderer,sanitize:!0})}render(){const e=Object(p.a)("markdown",{jumboEmojis:this.makeEmojisJumbo});return i.h("div",{ref:Object(g.a)(this,"base"),class:e,dangerouslySetInnerHTML:{__html:this.renderMarkdown()}})}}var x=function(){this.disableHeadingRenderer=((e,t)=>"#".repeat(t)+" "+e),this.checkboxRenderer=(e=>{const{disabledFeatures:t}=this.props;return t.includes(I.CHECKBOX)?e?"[x] ":"[ ] ":`<input type="checkbox" data-index="${this.checkboxCounter++}" ${e?"checked":""}/>`}),this.imageRenderer=((e,t,n)=>{const{disabledFeatures:i}=this.props,s=t||"";return i.includes(I.IMAGE)?`<a\n                href="${e}"\n                title="${s}"\n                rel="nofollow external noopener noreferrer"\n                target="_blank">${n}</a>`:`<img src="${e}" srcset="${e} ${window.devicePixelRatio}x" title="${s}" alt="${n}">`}),this.spotifyURLRenderer=(e=>{const{disabledFeatures:t}=this.props;return t.includes(R.SPOTIFY)?e:`<iframe\n            src="${e.origin}/embed${e.pathname}${e.search}"\n            width="300" height="80"\n            frameborder="0"\n            allowtransparency="true" allow="encrypted-media"></iframe>`}),this.spotifyURIRenderer=(e=>{const{disabledFeatures:t}=this.props;return t.includes(R.SPOTIFY)?e:e.replace(k,(e,t)=>`<iframe\n                src="https://open.spotify.com/embed/${t.replace(/:/g,"/")}"\n                width="300" height="80" frameborder="0"\n                allowtransparency="true" allow="encrypted-media"></iframe>`)}),this.youtubeRenderer=(e=>{const{disabledFeatures:t}=this.props;if(t.includes(R.YOUTUBE))return e;let n="youtu.be"===e.hostname?_:D;const[,i]=e.href.match(n);return`<iframe\n                src="https://www.youtube.com/embed/${i}"\n                width="480" height="270"\n                frameborder="0"></iframe>`}),this.linkRenderer=((e,t,n="")=>{const{barrelId:i}=this.props,s=Object(h.j)("project",{url:{bid:i}}),a=new URL(e.replace(/&amp;/g,"&"),s),o=t||"";if(a.origin===location.origin||a.protocol===m.L){const e=this.parseURL(a);if(e){const t=n.startsWith("<")?n:e.anchorText;return`<a\n                    href="${e.href}"\n                    title="${o}"\n                    data-link-type="inApp">${t}</a>`}}return["spotify.com","open.spotify.com"].includes(a.hostname)?this.spotifyURLRenderer(a):["youtube.com","www.youtube.com","youtu.be"].includes(a.hostname)?this.youtubeRenderer(a):`<a href="${e}" title="${o}" rel="nofollow external noopener noreferrer" target="_blank">${n}</a>`}),this.colorRenderer=(e=>{const{barrelId:t,barrel:n}=this.props,i=[];return e.replace(S,(e,s)=>{let a,o=n&&n.colors.find(e=>e.name===s),r=e;if(o)a=`{{color${i.length}}}`,i.push(o.toCSS()),r=`<span class="color">${e}<span class="colorPreview" style="background-color: ${a};"></span></span>`;else if(v.test(e)){const t=b.a.fromHex(s),i=(o=n&&n.colors.find(e=>e.equals(t)))?o.name:s;a=o?e:"",r=`<span class="color">#${i}<span class="colorPreview" style="background-color: ${e};"></span></span>`}if(o){const e=Object(h.j)("project-styleguide-colors",{url:{bid:t},query:{cid:o.id}});return this.linkRenderer(e,a,r)}return r}).replace(C,(e,...i)=>{const{r:s,g:a,b:o,a:r}=Object(d.c)(...i),l=n&&n.colors.find(e=>e.equals({r:s,g:a,b:o,a:r}));let c;if(c=l?`<span class="color">#${l.name}<span class="colorPreview" style="background-color: ${l.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,l){const n=Object(h.j)("project-styleguide-colors",{url:{bid:t},query:{cid:l.id}});return this.linkRenderer(n,e,c)}return c}).replace(E,(e,...i)=>{const{h:s,s:a,l:o,a:r}=Object(d.b)(...i),l=b.a.fromHSLA(s,a,o,r),c=n&&n.colors.find(e=>e.equals(l));let u;if(u=c?`<span class="color">#${c.name}<span class="colorPreview" style="background-color: ${c.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,c){const n=Object(h.j)("project-styleguide-colors",{url:{bid:t},query:{cid:c.id}});return this.linkRenderer(n,e,u)}return u}).replace(/{{color(\d+)}}/g,(e,t)=>i[parseInt(t,10)])}),this.mentionRenderer=(e=>{const{username:t,members:n}=this.props,i=Object(u.A)(t),s=Object(u.K)(n);return e.replace(/@\w+\b/g,e=>i.test(e)?`<span class="user self">${e}</span>`:s.test(e)?`<span class="user">${e}</span>`:e)}),this.telRenderer=(e=>e.replace(T,(e,t)=>`<a href="tel:${t}">${t}</a>`)),this.emojiRenderer=(e=>e.replace(w,(e,t)=>{const n=f.a.searchEmoji(t);return n?n.customEmoji?`<img class="customEmoji" src="${n.emoji}" title="${t}">`:n.emoji:`<span class="customEmojiPlainText">${e}</span>`})),this.textRenderer=(e=>{let t=e.replace(/&amp;/g,"&");const n=(t.match(O)||[]).sort((e,t)=>t.length-e.length);for(const i of n)t=t.replace(i,this.linkRenderer(i));return this.makeEmojisJumbo=this.canWeMakeThisJumbo(t),Object(u.D)(this.colorRenderer,this.mentionRenderer,this.telRenderer,this.spotifyURIRenderer,this.emojiRenderer,u.I)(t)}),this.canWeMakeThisJumbo=(e=>{const t=(e.match(j)||[]).length+(e.match(w)||[]).length;let n=e.replace(j,"");return!(n=n.replace(w,""))&&t>0&&t<=5}),this.bindCheckboxEventListeners=(()=>{const{disabledFeatures:e,onUpdate:t}=this.props;!e.includes(I.CHECKBOX)&&t&&this.nodeRefs.base.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("change",this.handleChange)})}),this.handleChange=(e=>{const{children:t,onUpdate:n}=this.props,i=parseInt(e.target.dataset.index,10);let s=-1;n(t.replace(/- \[(x| )\]/g,(e,t)=>++s===i?" "===t?"- [x]":"- [ ]":e))})};A.defaultProps={disabledFeatures:[],organizations:[]},t.c=A},function(e,t,n){const i=n(615),s=n(616),a=n(453),o=n(497),r=n(496),l=n(495),{merge:c,checkSanitizeDeprecation:d,escape:u}=n(280),{getDefaults:h,changeDefaults:p,defaults:g}=n(306);function m(e,t,n){if(void 0===e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),t=c({},m.defaults,t||{}),d(t);const a=t.highlight;let o,r,l=0;try{o=i.lex(e,t)}catch(e){return n(e)}r=o.length;const u=function(e){if(e)return t.highlight=a,n(e);let i;try{i=s.parse(o,t)}catch(t){e=t}return t.highlight=a,e?n(e):n(null,i)};if(!a||a.length<3)return u();if(delete t.highlight,!r)return u();for(;l<o.length;l++)!function(e){"code"!==e.type?--r||u():a(e.text,e.lang,function(t,n){return t?u(t):null==n||n===e.text?--r||u():(e.text=n,e.escaped=!0,void(--r||u()))})}(o[l])}else try{return t=c({},m.defaults,t||{}),d(t),s.parse(i.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||m.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}m.options=m.setOptions=function(e){return c(m.defaults,e),p(m.defaults),m},m.getDefaults=h,m.defaults=g,m.Parser=s,m.parser=s.parse,m.Renderer=a,m.TextRenderer=o,m.Lexer=i,m.lexer=i.lex,m.InlineLexer=r,m.inlineLexer=r.output,m.Slugger=l,m.parse=m,e.exports=m},function(e,t,n){const{defaults:i}=n(306),{block:s}=n(494),{rtrim:a,splitCells:o,escape:r}=n(280);e.exports=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||i,this.rules=s.normal,this.options.pedantic?this.rules=s.pedantic:this.options.gfm&&(this.rules=s.gfm)}static get rules(){return s}static lex(t,n){return new e(n).lex(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(e,!0)}token(e,t){let n,i,l,c,d,u,h,p,g,m,f,b,y,S,v,C;for(e=e.replace(/^ +$/gm,"");e;)if((l=this.rules.newline.exec(e))&&(e=e.substring(l[0].length),l[0].length>1&&this.tokens.push({type:"space"})),l=this.rules.code.exec(e)){const t=this.tokens[this.tokens.length-1];e=e.substring(l[0].length),t&&"paragraph"===t.type?t.text+="\n"+l[0].trimRight():(l=l[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?l:a(l,"\n")}))}else if(l=this.rules.fences.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"code",lang:l[2]?l[2].trim():l[2],text:l[3]||""});else if(l=this.rules.heading.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"heading",depth:l[1].length,text:l[2]});else if((l=this.rules.nptable.exec(e))&&(u={type:"table",header:o(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split("\n"):[]}).header.length===u.align.length){for(e=e.substring(l[0].length),f=0;f<u.align.length;f++)/^ *-+: *$/.test(u.align[f])?u.align[f]="right":/^ *:-+: *$/.test(u.align[f])?u.align[f]="center":/^ *:-+ *$/.test(u.align[f])?u.align[f]="left":u.align[f]=null;for(f=0;f<u.cells.length;f++)u.cells[f]=o(u.cells[f],u.header.length);this.tokens.push(u)}else if(l=this.rules.hr.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"hr"});else if(l=this.rules.blockquote.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"blockquote_start"}),l=l[0].replace(/^ *> ?/gm,""),this.token(l,t),this.tokens.push({type:"blockquote_end"});else if(l=this.rules.list.exec(e)){for(e=e.substring(l[0].length),h={type:"list_start",ordered:S=(c=l[2]).length>1,start:S?+c:"",loose:!1},this.tokens.push(h),p=[],n=!1,y=(l=l[0].match(this.rules.item)).length,f=0;f<y;f++)m=(u=l[f]).length,~(u=u.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(m-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+m+"}","gm"),"")),f!==y-1&&(d=s.bullet.exec(l[f+1])[0],(c.length>1?1===d.length:d.length>1||this.options.smartLists&&d!==c)&&(e=l.slice(f+1).join("\n")+e,f=y-1)),i=n||/\n\n(?!\s*$)/.test(u),f!==y-1&&(n="\n"===u.charAt(u.length-1),i||(i=n)),i&&(h.loose=!0),C=void 0,(v=/^\[[ xX]\] /.test(u))&&(C=" "!==u[1],u=u.replace(/^\[[ xX]\] +/,"")),g={type:"list_item_start",task:v,checked:C,loose:i},p.push(g),this.tokens.push(g),this.token(u,!1),this.tokens.push({type:"list_item_end"});if(h.loose)for(y=p.length,f=0;f<y;f++)p[f].loose=!0;this.tokens.push({type:"list_end"})}else if(l=this.rules.html.exec(e))e=e.substring(l[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===l[1]||"script"===l[1]||"style"===l[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):r(l[0]):l[0]});else if(t&&(l=this.rules.def.exec(e)))e=e.substring(l[0].length),l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),b=l[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[b]||(this.tokens.links[b]={href:l[2],title:l[3]});else if((l=this.rules.table.exec(e))&&(u={type:"table",header:o(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split("\n"):[]}).header.length===u.align.length){for(e=e.substring(l[0].length),f=0;f<u.align.length;f++)/^ *-+: *$/.test(u.align[f])?u.align[f]="right":/^ *:-+: *$/.test(u.align[f])?u.align[f]="center":/^ *:-+ *$/.test(u.align[f])?u.align[f]="left":u.align[f]=null;for(f=0;f<u.cells.length;f++)u.cells[f]=o(u.cells[f].replace(/^ *\| *| *\| *$/g,""),u.header.length);this.tokens.push(u)}else if(l=this.rules.lheading.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"heading",depth:"="===l[2].charAt(0)?1:2,text:l[1]});else if(t&&(l=this.rules.paragraph.exec(e)))e=e.substring(l[0].length),this.tokens.push({type:"paragraph",text:"\n"===l[1].charAt(l[1].length-1)?l[1].slice(0,-1):l[1]});else if(l=this.rules.text.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"text",text:l[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens}}},function(e,t,n){const i=n(453),s=n(495),a=n(496),o=n(497),{defaults:r}=n(306),{merge:l,unescape:c}=n(280);e.exports=class e{constructor(e){this.tokens=[],this.token=null,this.options=e||r,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new s}static parse(t,n){return new e(n).parse(t)}parse(e){this.inline=new a(e.links,this.options),this.inlineText=new a(e.links,l({},this.options,{renderer:new o})),this.tokens=e.reverse();let t="";for(;this.next();)t+=this.tok();return t}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let e=this.token.text;for(;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)}tok(){let e="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let t,n,i,s,a="";for(i="",t=0;t<this.token.header.length;t++)i+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(a+=this.renderer.tablerow(i),t=0;t<this.token.cells.length;t++){for(n=this.token.cells[t],i="",s=0;s<n.length;s++)i+=this.renderer.tablecell(this.inline.output(n[s]),{header:!1,align:this.token.align[s]});e+=this.renderer.tablerow(i)}return this.renderer.table(a,e)}case"blockquote_start":for(e="";"blockquote_end"!==this.next().type;)e+=this.tok();return this.renderer.blockquote(e);case"list_start":{e="";const t=this.token.ordered,n=this.token.start;for(;"list_end"!==this.next().type;)e+=this.tok();return this.renderer.list(e,t,n)}case"list_item_start":{e="";const t=this.token.loose,n=this.token.checked,i=this.token.task;if(this.token.task)if(t)if("text"===this.peek().type){const e=this.peek();e.text=this.renderer.checkbox(n)+" "+e.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(n)});else e+=this.renderer.checkbox(n);for(;"list_item_end"!==this.next().type;)e+=t||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(e,i,n)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const e='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(e);console.log(e)}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return y});var i=n(10),s=n(5);const a=/\/organization\/([\da-f]{24})\/(projects|styleguides)?/i,o=/\/(styleguide|project)\/([\da-f]{24})/i,r=/\/(dashboard|screen|styleguide)/,l=/\/(about|colors|textStyles|spacing|components)/i,c=/\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i;function d(e){return e===i.a.PROJECT?"dashboard":"about"}function u(e){return e===i.a.PROJECT?"colors":"about"}function h(e){const[t,n="project",s]=e.match(o)||[];if(!s)return null;const a=e.substring(t.length),[,h=d(n)]=a.match(r)||[],p={url:{pid:s,stid:s,bid:s}};if(n===i.a.STYLEGUIDE||"styleguide"===h){const[,e=u(n)]=a.match(l)||[];p.urlSlug=`${function(e){return e===i.a.PROJECT?"project-styleguide":"styleguide"}(n)}-${e.toLowerCase()}`}else if("screen"===h){const[,e,t]=a.match(c)||[];p.urlSlug=t?"project-screen-version":"project-screen",Object.assign(p.url,{sid:e,vid:t})}else p.urlSlug="project-dashboard";return p}function p(e){const t=e.origin===location.origin;return e.protocol===s.L?function(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("//styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=e.searchParams.get("pid"),i=e.searchParams.get("stid");if(!n&&!i)return null;if(t.url={pid:n,bid:n||i},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid"),i=e.searchParams.get("vid");t.urlSlug=i?"project-screen-version":"project-screen",t.url.sid=n,t.url.vid=i}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),s=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:s}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),s=e.searchParams.getAll("tsid"),a=e.searchParams.getAll("sptid"),o=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide":"project-styleguide",t.query={cid:n,tsid:s,sptid:a,coid:o}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug=i?"styleguide-colors":"project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug=i?"styleguide-textstyles":"project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//spacing")){const n=e.searchParams.getAll("sptid");t.urlSlug=i?"styleguide-spacing":"project-styleguide-spacing",t.query={sptid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide-components":"project-styleguide-components",t.query={coid:n}}else{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.urlSlug="project-dashboard",t.query={sid:n,seid:i}}}return t}(e):t?function(e){const t={};if(e.pathname.startsWith("/organization")){const[,n,i="projects"]=e.pathname.match(a)||[],s=e.searchParams.getAll("pid"),o=e.searchParams.getAll("stid");t.urlSlug=`organization-${i}`,t.url={oid:n},t.query={pid:s,stid:o}}else if(e.pathname.startsWith("/projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("/styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=h(e.pathname);if(!n)return null;switch(Object.assign(t,n),t.urlSlug){case"project-screen":{const n=e.searchParams.getAll("did"),i=e.searchParams.getAll("cmid");t.query={did:n,cmid:i};break}case"project-styleguide-colors":case"styleguide-colors":{const n=e.searchParams.getAll("cid");t.query={cid:n};break}case"project-styleguide-textstyles":case"styleguide-textstyles":{const n=e.searchParams.getAll("tsid");t.query={tsid:n};break}case"project-styleguide-spacing":case"styleguide-spacing":{const n=e.searchParams.getAll("sptid");t.query={sptid:n};break}case"project-styleguide-components":case"styleguide-components":{const n=e.searchParams.getAll("coid"),i=e.searchParams.getAll("seid");t.query={coid:n,seid:i};break}case"project-dashboard":{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.query={sid:n,seid:i}}}}return t}(e):null}function g(e){const t=parseFloat(e);return e.endsWith("%")?Math.round(255*t/100):t}function m(e){return parseFloat(e)/100}function f(e){const t=parseFloat(e);return e.endsWith("%")?t/100:t}function b(e,t,n,i="1"){return{r:g(e),g:g(t),b:g(n),a:f(i)}}function y(e,t,n,i="1"){return{h:function(e){return parseFloat(e)/360}(e),s:m(t),l:m(n),a:f(i)}}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(188),s=n(61),a=n(25),o=n(1),r=n(24),l=n(17),c=n(27),d=n(39),u=n(10),h=n(85),p=n(89),g=n(148),m=n(286),f=n(35),b=n(317),y=n(13),S=n(31),v=n(60),C=n(207),E=n(58),O=n(310),T=n(289),k=n(144),D=n(150),_=n(287),w=n(6),j=n(315);const R=document.getElementById("androidResFolderReminderDialog");function I(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:s}=e;S.b.setAssetExportTarget({name:t,type:n,path:i,pathParts:s})}a.b.registerDialog(R);const A={getOrganizations(){const{organizations:e}=f.e.getState();if(e.length)return Promise.resolve(e);const t=h.a.mark();return y.getOrganizations().then(e=>(h.a.measure("api.getOrganizations",{start:t,minTime:50,labels:{status:200}}),e)).catch(e=>{throw h.a.measure("api.getOrganizations",{start:t,minTime:50,labels:{status:e.status}}),e})},getOrganization(e,t){if(!o.z(e))return Promise.resolve(null);const n=S.d.findBarrelOrganizationId(e._id);let i=f.d.getOrganization(n);if(i||(i=Object(T.a)("organization")),i)return Promise.resolve(i);const s=h.a.mark();return y[t].getOrganization(e._id).then(e=>(h.a.measure("api.getOrganization",{start:s,minTime:50,labels:{status:200}}),e)).catch(e=>{throw h.a.measure("api.getOrganization",{start:s,minTime:50,labels:{status:e.status}}),e})},getOrganizationMembers(e){const t=f.d.getOrganization(e);return t&&t.members&&t.wildlings?t:y.getOrganizationMembers(e)},getOrganizationMemberProfile(e,t){const n=f.d.getOrganizationProfile(e);return n||y.getOrganizationMemberProfile(e,t)},getOrganizationProfiles(e,t){if(!e.length)return Promise.resolve({});const n=e.map(e=>A.getOrganizationMemberProfile(e,t));return Promise.all(n).then(t=>Object.fromEntries(Object(j.a)(e,t))).catch(l.b)},getStyleguide(e,{styleguideId:t}){const n=S.d.getBarrel({bid:e});return n&&n.complete?n:y.getStyleguide(e,{styleguideId:t})},getAncestors(e,t){return Promise.all(t.map(t=>this.getStyleguide(t,{styleguideId:e})))},getAncestorsConnectedComponents:(e,t)=>Promise.all(t.map(t=>y.getStyleguideConnectedComponents(t,{styleguideId:e}))),getAncestorsLocalConnectedComponents:e=>Promise.all(e.map(e=>y.getStyleguideLocalConnectedComponents(e))),getStyleguideConnectedComponents(e,t){const n=y.getStyleguideConnectedComponents(e),i=this.getAncestorsConnectedComponents(e,t),s="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,s?y.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),s?this.getAncestorsLocalConnectedComponents(t):Promise.resolve([])]},getLinkedStyleguidesConnectedComponents(e,t,{local:n}){if(!t)return Promise.resolve([]);const{status:i,styleguide:s}=t;if("active"!==i)return Promise.resolve([]);const a=n?y.getStyleguideLocalConnectedComponents:y.getStyleguideConnectedComponents;return Promise.all([s._id,...s.ancestors].map(t=>a(t,{projectId:e})))},getProjectConnectedComponents(e,t){const n=y.getProjectConnectedComponents(e),i=this.getLinkedStyleguidesConnectedComponents(e,t,{local:!1}),s="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,s?y.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),s?this.getLinkedStyleguidesConnectedComponents(e,t,{local:!0}):Promise.resolve([])]},markAsIncomplete:e=>e.map(e=>Object.assign({},e,{complete:!1})),getProjects(e,t,n){if(t===u.a.STYLEGUIDE&&"pawn"!==n){const t=f.d.getOrganizationProjects(e);return t||y.getProjects("user"===e?null:e).then(this.markAsIncomplete).catch(l.b)}return Promise.resolve()},getStyleguides(e,t,n){if(t===u.a.STYLEGUIDE&&"pawn"!==n){const t=f.d.getOrganizationStyleguides(e);return t||y.getStyleguides("user"===e?null:e).then(this.markAsIncomplete).catch(l.b)}return Promise.resolve()},getBarrel(e,t){const n=S.d.getBarrel({bid:e});if(n&&n.complete)return Promise.resolve(n);const i=h.a.mark();return y[t].get(e).then(e=>(h.a.measure("api.getBarrel",{start:i,minTime:50,labels:{status:e.partial?206:200}}),e)).catch(e=>{throw h.a.measure("api.getBarrel",{start:i,minTime:50,labels:{status:e.status}}),e})},getBarrelExtras(e,t){if(e.partial)return Promise.resolve({});const n=e._id,i=t===u.a.PROJECT?y.getProjectComponentSections(n):Promise.resolve({}),s=t===u.a.STYLEGUIDE?y.getStyleguideProjects(n):Promise.resolve({});return Promise.all([s,i,y[t].getExtensions(n)]).then(([e,...t])=>Object.assign({linkedProjects:e.projects},...t))}},x={initOrganization(e,t,n,i){const{_id:a="user",transitionLeft:o}=n||{};if("user"!==a&&"pawn"===i&&-1!==o){!function(e,t,n,i){const a=`transitionBannerStatus${e}`;"dismissed"!==sessionStorage.getItem(a)&&s.b({content:`This ${t} now belongs to an organization but looks like you’re not a member yet. `+`For ${Object(w.g)(i,"day",{one:"a"})}, you’ll be able to access its resources but if you’re a designer or a developer,`+' <a href="#">request an invite</a> from admins.',type:"info",contentType:"html",group:"transition",closeCallback(){sessionStorage.setItem(a,"dismissed")},bodyCallbacks:{a(e){e.preventDefault(),f.b.requestInvite(n,document.querySelector("main")),sessionStorage.setItem(a,"dismissed"),s.a("transition")}}})}(e,t,a,Math.ceil(o/1e3/60/60/24))}else s.a("transition")},initExtensions(e,t){if(e.extensions)return Promise.all(e.extensions.map(n=>new b.a(n).load(e._id,t))).then(n=>{m.a.loadExtensions(e,t,n)});m.a.loadExtensions(e,t,[])},async collectData(e,t){try{const n=await A.getBarrel(e,t),{userId:i}=v.b.getState(),s=n.users.find(({user:e})=>e._id===i),[o,r]=await Promise.all([A.getOrganization(n,t),A.getOrganizations()]);if(n.partial||!s){return{organization:o,organizations:r,organizationId:o?o._id:"user",ancestors:[],barrel:n}}const c=await A.getBarrelExtras(n,t),{role:u}=s,h=new d.a(Object.assign({},n,c)),p=o?o._id:"user",[g,m,f,b,{connectedComponents:y},C,{localConnectedComponents:E},O]=await Promise.all([A.getAncestors(e,h.ancestors),A.getOrganizationProfiles(r.map(e=>e._id),i),A.getProjects(p,t,u),A.getStyleguides(p,t,u),...A.getStyleguideConnectedComponents(e,h.ancestors)]);return h.connectedComponents=y,h.localConnectedComponents=E,C.forEach((e,t)=>{g[t].connectedComponents=e.connectedComponents}),O.forEach((e,t)=>{g[t].localConnectedComponents=e.localConnectedComponents}),{barrel:h,role:u,ancestors:g,organizationId:p,organization:o,organizations:r,organizationProfiles:m,organizationProjects:f,organizationStyleguides:b}}catch(e){!function(e){l.b(e,{clientErrorHandler:()=>{a.a({title:e.title,message:e.message}),S.d.navigateToWorkspace()}})}(e)}}};const P={selectParentRequest({stid:e,parent:t}){y.updateStyleguideParent(e,t).then(()=>{const{styleguides:n}=E.c.getState(),i=[...n[t].ancestors,t].filter(e=>!(n[e]&&n[e].complete));return A.getAncestors(e,i)}).then(n=>{E.b.selectParentSuccess({stid:e,parent:t,styleguides:n})}).catch(e=>{E.b.selectParentFailed(),l.b(e)})},removeParent({stid:e,oldParent:t}){y.removeStyleguideParent(e).catch(n=>{t?E.b.selectParent({stid:e,parent:t}):E.b.removeParent({stid:e}),l.b(n)})}};E.d.register(e=>{if(e.syncWithApi)switch(e.type){case E.a.SELECT_PARENT_REQUEST:P.selectParentRequest(e);break;case E.a.REMOVE_PARENT:P.removeParent(e)}}),p.a.route(/\/(styleguide)\/([\da-f]{24})(?:\/(about|colors|textstyles|spacing|components))?/i,function(e){const[t,n,s]=e.match,a=function(e,t){return t?"textstyles"===t?"textStyles":t:e===u.a.PROJECT?"colors":"about"}(t,s),{cid:o=[],tsid:l=[],sptid:d=[],coid:[h]=[],cseid:[p]=[],seid:[m]=[p]}=e.query,{barrelId:b,barrelType:y}=S.e.getState(),v=S.d.getStyleguidesData({barrelStore:S.e,styleguidesDataStore:E.c}),{component:T}=h?Object(_.a)(v,h):{};if(n===b)return void C.a.updateState({selectedStyleguideSection:a,highlightedColors:o,highlightedTextStyles:l,highlightedSpacingTokens:d,selectionComponentId:h,selection:T,selectedNavigatorId:m,scrolledSection:m,highlightScrolledSection:!!m});b&&(y===u.a.PROJECT?Object(k.g)(b):y===u.a.STYLEGUIDE&&Object(k.h)(b)),S.b.reset();const w=x.collectData(n,t),j=r.b.getAll(n).then(e=>{const{assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,styleguideLeftSidebarWidth:s,styleguideRightSidebarWidth:a}=e;return{assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,leftSidebarWidth:s,rightSidebarWidth:a}}),R=r.d.getAll().then(e=>{const{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,slackReconnectionAuntieSeen:i}=e;return{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,showSlackReconnectionAuntie:!i}}),P=r.c.getAll(n).then(e=>{const{connectedComponentsLocalWorkspace:t}=e;return{connectedComponentsLocalWorkspace:t}});return Promise.all([w,j,P,R]).then(([{barrel:e,role:s,organizationId:r,organization:p,organizations:b,organizationProfiles:y,organizationProjects:v,organizationStyleguides:C,ancestors:E},{assetDensityScalePrefs:_,assetNamingConvention:w,showOptimizedSVG:j,leftSidebarWidth:R,rightSidebarWidth:P},{connectedComponentsLocalWorkspace:L},{noVectorAssetInfoHidden:N,densityMismatchWarningHidden:U,showSlackReconnectionAuntie:M}])=>{if(S.b.load({barrel:{barrelType:t,barrelId:n,assetDensityScalePrefs:Object(D.e)(e.type,_),assetNamingConvention:"android"===e.type?"snakeCase":w,showOptimizedSVG:j,organizationId:r,organizationTransitionFinished:p&&-1===p.transitionLeft,noVectorAssetInfoHidden:N,densityMismatchWarningHidden:U,showSlackReconnectionAuntie:M,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:L},styleguide:{selectedStyleguideSection:a,highlightedColors:o,highlightedTextStyles:l,highlightedSpacingTokens:d,selectionComponentId:h,selection:T,selectedNavigatorId:m,scrolledSection:m,highlightScrolledSection:!!m,leftSidebarWidth:R,rightSidebarWidth:P},notifications:{notificationLastReadTime:Zeplin.user.notificationLastReadTime},data:{[t]:e,organization:"pawn"!==s?p:null,organizations:b,ancestors:E,organizationProfiles:y,organizationProjects:v,organizationStyleguides:C}}),requestIdleCallback(async()=>{if(!p||p.members||"pawn"===s)return;const e=y[r].restricted?{_id:r,members:[],wildlings:[]}:await A.getOrganizationMembers(r);f.b.addOrganization(e)}),e.partial||(x.initExtensions(e,t),x.initOrganization(n,t,p,s),E.forEach(e=>Object(k.d)(e._id))),t===u.a.PROJECT?Object(k.c)(n):t===u.a.STYLEGUIDE&&Object(k.d)(n),c.a.isWindowsApp&&(S.b.getConnectedComponentsEditorInfo(),g.d(n,t,I)),p)"past_due"===p.subscriptionStatus?i.e({oid:p._id,currentRole:s}):"will_cancel_at_period_end"===p.subscriptionStatus&&i.d({oid:p._id,currentRole:s,subscriptionCancelAt:p.subscriptionCancelAt});else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.e({currentRole:s,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus&&i.d({currentRole:s,subscriptionCancelAt:t.user.subscriptionCancelAt})}O.a.init()})}),p.a.bootstrap(function(){return h.a.measurePageDefaults(),h.a.measure("page.start"),Promise.resolve()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.goToLastOrganizationWorkspace=async function(){const e=new URL(location.href);if(k.test(e.pathname)){const[,t="user",n="projects"]=e.pathname.match(k),i=await s.d.get("lastOrganization");if(i&&"user"!==i&&i!==t){const t=Object.fromEntries(e.searchParams),s=Object(g.j)(`organization-${n}`,{url:{oid:i},query:t});history.replaceState(null,null,s)}}};var i=n(187),s=(n.n(i),n(216),n(24)),a=n(13),o=n(17),r=n(89),l=n(85),c=n(151),d=n(57),u=n(58),h=n(35),p=n(536),g=(n(621),n(8)),m=n(144),f=n(467);function b(){ga("set","location",location.href),ga("set","title","Space - Zeplin"),ga("send","pageview")}function y(e){"user"!==e&&requestIdleCallback(async()=>{const t=h.d.getOrganization(e),{restricted:n}=h.d.getOrganizationProfile(e);if(!t||t.members)return;const i=n?{_id:e,members:[],wildlings:[]}:await a.getOrganizationMembers(e);h.b.addOrganization(i)})}function S(e){return e.map(e=>Object.assign({},e,{complete:!1}))}function v(e){return c.b.setOrganizationBarrelsLoading(e),Promise.all([function(e){if("user"===e)return null;const{focusedBarrels:t}=h.e.getState();return t&&t[e]?t[e]:a.getOrganizationMemberFocusedBarrels(e,Zeplin.user._id)}(e),function(e){const t=h.d.getOrganizationProjects(e);return t||a.getProjects("user"===e?null:e).then(S)}(e),function(e){const t=h.d.getOrganizationStyleguides(e);return t||a.getStyleguides("user"===e?null:e).then(S)}(e)]).then(([t,n,i])=>{h.b.getFocusedBarrelsSuccess({focusedBarrels:t}),d.b.getProjectsSuccess({projects:n,oid:e}),u.b.getStyleguidesSuccess({styleguides:i,oid:e})})}function C(e,t,n){e.find(e=>e._id===t)||"user"===t?function(e,t){v(e).catch(e=>{o.b(e,{dialogCallback(){r.a.history.replace(Object(g.j)(t))}})})}(t,n):c.b.changeSelectedOrganization("user")}const E={onOnlineEvent(){const{selectedOrganizationId:e}=c.e.getState();setTimeout(v,1e3,e)}},O={onChangeSelectedOrganization({oid:e}){const{selectedTab:t}=c.e.getState();y(e);const n="user"===e?t:`organization-${t}`,i=Object(g.h)(location.search),a=Object(g.j)(n,{url:{oid:e}});setTimeout(()=>{r.a.history.push(a,{urlParams:i})},4),s.d.set("lastOrganization",e),b()},onChangeTab({tab:e}){const{selectedOrganizationId:t}=c.e.getState(),n="user"===t?e:`organization-${e}`,i=Object(g.h)(location.search),s=Object(g.j)(n,{url:{oid:t}});setTimeout(()=>{r.a.history.push(s,{urlParams:i})},4),mixpanel.webapp.track(`Opened ${t?"organization":"all"} ${e}`),b()},onChangeFilterValue({filterValue:e}){const{selectedOrganizationId:t,selectedTab:n}=c.e.getState(),i=Object.assign({},Object(g.h)(location.search),{q:e});e||delete i.q;const s="user"===t?n:`organization-${n}`;let a;a="user"===t?{query:i}:{url:{oid:t},query:i},setTimeout(()=>{r.a.history.replace(Object(g.j)(s,a),{urlParams:i})},4)},onChangeProjectSelectedSortType({sortType:e}){s.d.set("projectSortType",e)},onSetStyleguidesTabVisited(){s.d.set("styleguidesTabVisited",!0)},onTrackBarrelClick({oid:e,organizationName:t,isFromPinArea:n}){e&&"user"!==e&&mixpanel.master.track("Navigated to project",{"Organization ID":e,"Organization Name":t,From:n?"Pinned":void 0})}},T={async onGetOrganizations({organizations:e}){if(!e)return;e.forEach(e=>{Object(m.b)(e._id)}),await function(e,t){const{organizationProfiles:n}=h.e.getState();if(0!==Object.keys(n).length)return;const i=e.map(e=>a.getOrganizationMemberProfile(e._id,t));return Promise.all(i).then(t=>{const n=t.reduce((t,n,i)=>(t[e[i]._id]=n,t),{});h.b.getOrganizationMemberProfilesSuccess(n)}).catch(o.b)}(e,Zeplin.user._id);const{selectedOrganizationId:t}=c.e.getState();y(t)},onAddOrganization({organization:e}){Object(m.b)(e._id),a.getOrganizationMemberProfile(e._id,Zeplin.user._id).then(t=>{h.b.addOrganizationProfile(t,e._id)}).catch(o.b)},onAddOrganizationWithMemberProfile(e){Object(m.b)(e)}};c.c.register(e=>{switch(e.type){case c.a.CHANGE_SELECTED_TAB:O.onChangeTab(e);break;case c.a.CHANGE_FILTER_VALUE:O.onChangeFilterValue(e);break;case c.a.CHANGE_PROJECT_SELECTED_SORT_TYPE:O.onChangeProjectSelectedSortType(e);break;case c.a.CHANGE_SELECTED_ORGANIZATION:O.onChangeSelectedOrganization(e);break;case c.a.SET_STYLEGUIDES_TAB_VISITED:O.onSetStyleguidesTabVisited();break;case c.a.TRACK_BARREL_CLICK:O.onTrackBarrelClick(e)}}),h.c.register(e=>{switch(e.type){case h.a.GET_ORGANIZATIONS_SUCCESS:case f.a.HYDRATE_EMBEDDED_DATA:T.onGetOrganizations(e);break;case h.a.ADD_ORGANIZATION:T.onAddOrganization(e)}}),window.addEventListener("online",E.onOnlineEvent);const k=/^(?:\/organization\/([\da-f]{24}))?\/(projects|styleguides)?$/i;r.a.route(k,async function(e){const{match:[t="user",n="projects"],query:{q:[i=""]=[],pid:o=[],stid:r=[],newProject:l,newStyleguide:d}}=e,u=[...o,...r],{projectSortType:g,styleguidesTabVisited:m,pinnedBarrelOnce:f}=await s.d.getAll(),b="projects"===n&&!!l,y="styleguides"===n&&!!d;c.b.updatePageState({selectedOrganizationId:t,selectedTab:n,filterValue:i,selectedWorkflowStatusFilter:"All",highlightedBarrels:u,selectedProjectSortType:g,styleguidesTabVisited:m,pinnedBarrelOnce:f,createProjectDialogVisible:b,createStyleguideDialogVisible:y}),p.a.setNotificationLastReadTime(new Date(Zeplin.user.notificationLastReadTime));const S=await function(){const{organizations:e}=h.e.getState();return e.length?Promise.resolve(e):a.getOrganizations()}();h.b.getOrganizationsSuccess(S),C(S,t,n)}),r.a.bootstrap(function(){l.a.measurePageDefaults(),l.a.measure("page.start"),b()})},function(e,t,n){"use strict";var i=n(13),s=n(17),a=n(468),o=n(18),r=n(10),l=n(144),c=n(57),d=n(58),u=n(31),h=n(151),p=n(467),g=n(27),m=n(1),f=n(8),b=n(89);function y(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}const S=g.a.supports.webviews;const v={project:{create:i.createProject,get:i.getProject,inviteUser:i.inviteProjectUser,transferOwnership:i.transferProjectOwnership},styleguide:{create:i.createStyleguide,get:i.getStyleguide,inviteUser:i.inviteStyleguideUser,transferOwnership:i.transferStyleguideOwnership}},C={project:{getRequest:c.b.getProjectRequest,getSuccess:c.b.getProjectSuccess,getFailed:c.b.getProjectFailed,transferOwnership:c.b.transferOwnership},styleguide:{getRequest:d.b.getStyleguideRequest,getSuccess:d.b.getStyleguideSuccess,getFailed:d.b.getStyleguideFailed,transferOwnership:d.b.transferOwnership}},E={project:c.c,styleguide:d.c},O=e=>{const t=`${e}s`;return{onGetBarrels(n){const i=n[t];i&&(i.forEach(({_id:t})=>Object(l.a)(e,t)),S&&i.length&&function(e,t){o.a.ipcRenderer.sendToHost(`preload-${e}`,Object(f.j)(e,{url:{bid:t.slice().sort(m.H.updated)[0]._id}}))}(e,i))},onCreateBarrel(t){let{type:n}=t,i=y(t,["type"]);const{oid:a}=i,o=i[`${e}Type`];v[e].create(i).then(({_id:t})=>(mixpanel.master.track(`Created ${e}`,{Type:Object(m.s)(o)}),v[e].get(t).then(n=>{h.b.hideLoading(),e===r.a.PROJECT&&h.b.closeCreateProjectDialog(),u.b.add({barrel:n,oid:a,barrelType:e}),b.a.history.push(Object(f.j)(e,{url:{bid:t}}))}))).catch(t=>{h.b.hideLoading(),e===r.a.PROJECT&&h.b.closeCreateProjectDialog(),s.b(t,{clientErrorHandler:{402:()=>h.b.openUpgradePlanDialog(e),default:s.b}})})},onInviteUser({container:t,bid:n,users:i,oid:s}){a.j({popupContainer:t,bid:n,bt:e,members:i,oid:s,onInvite(t){u.b.addMembers({bid:n,barrelType:e,members:t})}})},onTransferOwnership(t){const{bid:n,fromUserId:i,targetId:a,toOrganization:o,oid:r}=t;v[e].transferOwnership(n,a,o).then(()=>{C[e].transferOwnership({bid:n,fromUserId:i,targetId:a,toOrganization:o,oid:r})}).catch(s.b)},onPreview({bid:n}){const{[t]:i}=E[e].getState(),a=i[n];a&&(a.screens||a.componentSections)||(C[e].getRequest(),v[e].get(n).then(t=>{C[e].getSuccess({[e]:t})}).catch(t=>{C[e].getFailed(t),s.b(t)}))}}},T={onParentSelect({stid:e,parent:t,oldParent:n}){i.updateStyleguideParent(e,t).then(e=>{mixpanel.master.track(`${n?"Changed":"Added"} styleguide parent`)}).catch(t=>{d.b.removeParent({stid:e,parent:n}),s.b(t)})},onParentRemove({stid:e,oldParent:t}){i.removeStyleguideParent(e).then(e=>{mixpanel.master.track("Removed styleguide parent")}).catch(n=>{d.b.selectParent({stid:e,parent:t}),s.b(n)})}};c.d.register(e=>{const t=O(r.a.PROJECT),{type:n,pid:i,syncWithApi:s}=e,a=y(e,["type","pid","syncWithApi"]),o=Object.assign({bid:i},a);switch(n){case c.a.INVITE_USER:t.onInviteUser(o);break;case c.a.GET_PROJECTS_SUCCESS:case p.a.HYDRATE_EMBEDDED_DATA:t.onGetBarrels(o)}if(s)switch(n){case c.a.CREATE_PROJECT:t.onCreateBarrel(o);break;case c.a.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(o);break;case c.a.OPEN_PROJECT_PREVIEW:setTimeout(t.onPreview,0,o)}}),d.d.register(e=>{const t=O(r.a.STYLEGUIDE),{type:n,stid:i,syncWithApi:s}=e,a=y(e,["type","stid","syncWithApi"]),o=Object.assign({bid:i},a);switch(n){case d.a.INVITE_USER:t.onInviteUser(o);break;case d.a.GET_STYLEGUIDES_SUCCESS:case p.a.HYDRATE_EMBEDDED_DATA:t.onGetBarrels(o)}if(s)switch(n){case d.a.CREATE_STYLEGUIDE:t.onCreateBarrel(o);break;case d.a.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(o);break;case d.a.OPEN_STYLEGUIDE_PREVIEW:setTimeout(t.onPreview,0,o);break;case d.a.SELECT_PARENT:T.onParentSelect(e);break;case d.a.REMOVE_PARENT:T.onParentRemove(e)}})},function(e,t,n){"use strict";var i=n(26);function s(e){const t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10);let s=t;e.addEventListener("input",function(){if(e.value){if(Object(i.e)(e.value,s+"px Roboto")>e.clientWidth&&s>n)for(;Object(i.e)(e.value,s+"px Roboto")>e.clientWidth&&s>n;)s-=.2;else if(Object(i.e)(e.value,s+"px Roboto")<=e.clientWidth&&s<t)for(;Object(i.e)(e.value,s+"px Roboto")<=e.clientWidth&&s<t;)s+=.2}else s=t;e.style.fontSize=s+"px"})}window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(s)})},function(e,t,n){"use strict";t.a={type:"separator"}},function(e,t,n){"use strict";var i=n(668);n(40),n(625),n(842);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(7);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(142),r=n(627),l=n(43),c=n(3),d=n(14),u=n(628);n.n(u);const h=12;class p extends i.Component{constructor(e){super(e),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this)}get edgeOffset(){return this.props.edgeOffset||h}positionOptions(){const{top:e,left:t,centerX:n,alignRight:i,posRef:s,allowBottomOverflow:a}=this.props,o=s.getBoundingClientRect(),r=this.nodeRefs.options.getBoundingClientRect(),l=e||o.height,c=t||0;let d=o.top+l,u=o.left;n?u+=(o.width-r.width)/2:i?u=o.right-r.width:u+=c,d<this.edgeOffset?d=this.edgeOffset:d+r.height+this.edgeOffset>window.innerHeight&&!a&&(d=window.innerHeight-r.height-this.edgeOffset),u<this.edgeOffset?u=this.edgeOffset:u+r.width+this.edgeOffset>window.innerWidth&&(u=window.innerWidth-r.width-this.edgeOffset),this.nodeRefs.options.style.transform=`translate3d(${u}px, ${d}px, 0)`}handleBackdropClick(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){const{disableClosingWithESC:t,onClose:n}=this.props;!t&&n&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.positionOptions()}componentDidUpdate(){this.positionOptions()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{children:e,class:t}=this.props;return i.h("div",{class:"dropdownOptionsBackdrop",onClick:this.handleBackdropClick},i.h("div",{class:Object(c.a)("dropdownOptions",t),ref:Object(d.a)(this,"options")},e))}}class g extends i.Component{constructor(...e){var t;return t=super(...e),this.state={open:!1},this.hideOptions=(()=>{this.setState({open:!1})}),this.toggleOptions=(e=>{const{onDropdownClick:t}=this.props;t?t(e):(e.stopPropagation(),this.setState(e=>({open:!e.open})))}),this.handleItemSelect=(e=>{this.props.multiSelect||this.setState({open:!1}),this.props.onChange(e)}),t}get labelAndTitle(){const{children:e,multiSelect:t,defaultLabel:n}=this.props,s=function e(t,n=0){if(n===t.length)return;const s=t[n];if(s.type&&s.type.name===r.a.name){if(s.props.selected)return s}else if(s.props&&s.props.children)return e(i.toChildArray(s.props.children));return e(t,n+1)}(i.toChildArray(e)),a=!t&&s?s.props.label:n;let o;return!t&&s&&"string"==typeof s.props.label?o=s.props.label:"string"==typeof n&&(o=n),{label:a,title:o}}componentDidUpdate(e,t){const{onDropdownStateChange:n}=this.props,{open:i}=this.state;n&&t.open!==i&&n(i)}renderOptions(){const{portalInto:e,allowBottomOverflow:t,showCheck:n,top:s,left:a,centerX:l,alignRight:c,optionsClass:d,disableClosingWithESC:u}=this.props,h=function e(t,n,s){const{children:a}=t.props;return i.toChildArray(a).map(t=>t.type&&t.type.name===r.a.name?i.cloneElement(t,{showCheck:n,onSelect:s}):t.props&&t.props.children?i.cloneElement(t,{children:e(t,n,s)}):t)}(this,n,this.handleItemSelect);return i.h(o.a,{into:e},i.h(p,{class:d,onClose:this.hideOptions,allowBottomOverflow:t,posRef:this.nodeRefs.base,top:s,left:a,centerX:l,alignRight:c,disableClosingWithESC:u},h))}render(){const{open:e}=this.state,{class:t,showChevron:n}=this.props,s=Object(c.a)("dropdown","noSelect",t,{open:e}),{label:a,title:o}=this.labelAndTitle;return i.h("div",{ref:Object(d.a)(this,"base"),class:s,title:o,onClick:this.toggleOptions},i.h("span",{class:"ellipsis"},a),n&&i.h(l.b,{width:"9",class:"chevron"}),e&&this.renderOptions())}}g.propTypes={portalInto:a.a.oneOfType([a.a.element,a.a.object]),showCheck:a.a.bool,defaultLabel:a.a.oneOfType([a.a.object,a.a.string]),multiSelect:a.a.bool,top:a.a.number,left:a.a.number,centerX:a.a.bool,children:a.a.oneOfType([a.a.arrayOf(a.a.instanceOf(r.a)),a.a.node]),allowBottomOverflow:a.a.bool,onChange:a.a.func.isRequired,onDropdownStateChange:a.a.func,disableClosingWithESC:a.a.bool,showChevron:a.a.bool,alignRight:a.a.bool},g.defaultProps={portalInto:document.body,allowBottomOverflow:!1,showCheck:!0,showChevron:!0,multiSelect:!1,disableClosingWithESC:!1},g.Item=r.a,t.a=g},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(21);class l extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation();const{value:t,onSelect:n}=this.props;n(t)}render(){const{label:e,selected:t,showCheck:n,class:s,children:a}=this.props,l=Object(o.a)("dropdownItem","noSelect",s,{selected:t});return i.h("div",{class:l,onClick:this.handleClick},i.h("div",{class:"dropdownItemContent ellipsis"},a||e),n&&t&&i.h("img",{class:"dropdownCheck",src:Object(r.f)("img/icMenuCheck.svg"),alt:"&check;"}))}}l.displayName="Dropdown.Item",l.propTypes={label:a.a.oneOfType([a.a.string,a.a.node,a.a.element]),value:a.a.string.isRequired,selected:a.a.bool,showCheck:a.a.bool,children:a.a.oneOfType([a.a.node,a.a.element]),onSelect:a.a.func.isRequired},l.defaultProps={selected:!1,showCheck:!0},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(883);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(43),o=n(3),r=n(631);n.n(r);function l(e){const{class:t,children:n,type:r,emoji:l=("warning"===r?"⚠️":"💁‍♀️"),actionContent:c,onHideClick:d,onActionClick:u,hideButtonText:h,hideEmoji:p}=e;let g=[];return c&&g.push(i.h(s.a,{class:"hintAction",onClick:u},c)),d&&g.push(i.h(s.a,{class:"hideHintButton",onClick:d},i.h(a.l,{transparent:!0}),h)),i.h("div",{class:Object(o.a)("hintBox",t,r)},!p&&i.h("span",{class:"emoji"},l),i.h("div",{class:"hintContent"},n,g.length>0&&i.h("div",{class:"hintFooter"},g)))}l.defaultProps={hideButtonText:"OK, hide it!",type:"default"},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(670),r=n(3),l=n(915);n.n(l);function c(e){const{children:t,subIconType:n,class:s}=e,a=Object(r.a)("icon",s);return i.h("div",{class:a},t,n&&i.h(o.a,{class:"subIcon",type:n}))}c.propTypes={class:a.a.string,subIconType:a.a.string},t.a=c},function(e,t,n){"use strict";var i=n(934);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(936);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(14),a=n(21),o=n(4),r=n.n(o),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};class c extends i.Component{constructor(e){super(e),this.state={src:null,srcset:null},this.handleError=this.handleError.bind(this)}getDimensions(){const{width:e,height:t}=this.props;if(void 0!==e&&void 0!==t)return{width:e,height:t};const{img:{width:n,height:i}}=this.nodeRefs;return{width:n,height:i}}load(e){const t=this.getDimensions(),{src:n,srcset:i}=Object(a.e)(e,t);this.setState({src:n,srcset:i})}handleError(){const{source:e}=this.props,{width:t,height:n}=this.getDimensions();if(!e)return null;Promise.all([Object(a.a)(e,{width:t,height:n}),Object(a.a)(e,{width:2*t,height:2*n})]).then(([e,t])=>{this.setState({src:e,srcset:t})})}componentDidMount(){const{source:e}=this.props;e&&this.load(e)}componentWillReceiveProps(e){const{source:t}=e,{source:n}=this.props;t&&t!==n&&this.load(t)}render(){const{src:e,srcset:t}=this.state,n=this.props,{source:a}=n,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(n,["source"]);return i.h("img",l({},o,{src:e,srcSet:t,onError:this.handleError,ref:Object(s.a)(this,"img")}))}}c.propTypes={source:r.a.string.isRequired},t.a=c},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1),r=n(142),l=n(14),c=n(637);n.n(c);const d=500,u=200,h=12,p=2;class g extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleTargetClick=this.handleTargetClick.bind(this),this.handleTooltipDidRender=this.handleTooltipDidRender.bind(this),this.state={visible:!1}}get delay(){const{delay:e}=this.props;return void 0===e?d:e}handleMouseEnter(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.state.visible||(this.showTimeout=setTimeout(()=>{this.setState({visible:!0})},this.delay))}handleMouseLeave(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.hideTimeout=setTimeout(()=>{this.setState({visible:!1})},u)}handleTargetClick(){this.setState({visible:!1})}handleTooltipDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect();let i=t.bottom-p,s=t.left+(t.width-n.width)/2;s<h?s=h:s+n.width+h>window.innerWidth&&(s=window.innerWidth-h-n.width),i+n.height+h>window.innerHeight&&(i=i-n.height-h),e.style.transform=`translate3d(${s}px, ${i}px, 0)`}renderTooltip(){const{content:e}=this.props;return i.h("div",{class:"tooltip",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:o.J},e)}render(){const{children:e,targetClass:t}=this.props,{visible:n}=this.state;return i.h("div",{ref:Object(l.a)(this,"target"),class:t,onClick:this.handleTargetClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.toChildArray(e),n&&i.h(r.a,{didRender:this.handleTooltipDidRender},this.renderTooltip()))}}g.propTypes={children:a.a.oneOfType([a.a.array,a.a.node,a.a.element,a.a.object]),content:a.a.oneOfType([a.a.node,a.a.element]).isRequired,delay:a.a.number,targetClass:a.a.string},g.defaultProps={delay:500},t.a=g},function(e,t){},function(e,t,n){"use strict";var i=n(1085);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(14),o=n(1),r=n(640);n.n(r);class l extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleOnClose=this.handleOnClose.bind(this)}handleOnClose(){this.props.onClose&&this.props.onClose()}handleDocumentClick(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(this.nodeRefs.base.contains(e.target)||this.handleOnClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.handleOnClose())}componentDidMount(){document.addEventListener("contextmenu",this.handleOnClose,!0),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleDocumentKeyDown,!0);const{onOpen:e}=this.props;e&&e()}componentWillUnmount(){document.removeEventListener("contextmenu",this.handleOnClose,!0),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}getChildContext(){return{close:this.handleOnClose}}render(){const{children:e,toLeft:t,toTop:n,class:r,style:l,onMouseDown:c}=this.props;return i.h("div",{ref:Object(a.a)(this,"base"),class:Object(s.a)("contextMenu",r,{toLeft:t,toTop:n}),style:l,onMouseDown:c,onClick:o.J},e)}}l.Item=class extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e),this.context.close()}render(){const{children:e,warning:t}=this.props;return i.h("button",{type:"button",class:Object(s.a)("menuitem",{warning:t}),onClick:this.handleClick},e)}},l.ItemDivider=(()=>i.h("hr",null)),l.withAutoPosition=class extends i.Component{constructor(e){super(e),this.state={top:null,left:null,toLeft:!1,toTop:!1}}autoPosition(){const{autoPosition:e}=this.props;if(!e)return;const{sidebar:t,menuContainer:n,clickOrigin:i}=e,{left:s,top:a,toLeft:o,toTop:r}=this.state,l=this.nodeRefs.contextMenu.base,c=("string"==typeof n?document.querySelector(n):n).getBoundingClientRect(),d="string"==typeof t?document.querySelector(t):t,u=d?d.getBoundingClientRect().width:0,h=i.x-c.left+2+"px",p=i.y-c.top+2+"px",g=i.x+u+l.offsetWidth>window.innerWidth,m=i.y+l.offsetHeight>window.innerHeight;h===s&&p===a&&g===o&&m===r||this.setState({left:h,top:p,toLeft:g,toTop:m})}resetAutoPosition(){const{autoPosition:e}=this.props;e&&this.setState({left:null,top:null,toLeft:!1,toTop:!1})}componentDidMount(){this.autoPosition()}componentWillReceiveProps(){this.resetAutoPosition()}componentDidUpdate(){this.autoPosition()}render(){const e=Object.assign({},this.props),{class:t,autoPosition:n}=e;delete e.autoPosition;const{left:o,top:r,toLeft:c,toTop:d}=this.state,u=n?n.zIndex:null;return i.h(l,Object.assign({},e,{toTop:d,toLeft:c,class:Object(s.a)(t,{autoPositioned:!!n}),style:{left:o,top:r,zIndex:u},ref:Object(a.a)(this,"contextMenu")}))}},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(1195);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a});const i="A sweet, short description.",s="ScreenThumbnailSection",a="StyleguideComponentSection"},function(e,t,n){"use strict";var i=n(86),s=n(526);const a={open({targetNode:e,resourceId:t,resourceType:n}){s.a.dispatch({type:i.a.OPEN,targetNode:e,resourceId:t,resourceType:n})},close(){s.a.dispatch({type:i.a.CLOSE})},move({barrelId:e,resource:t,resourceType:n,target:a,densityScale:o,platform:r}){s.a.dispatch({type:i.a.MOVE,barrelId:e,resource:t,resourceType:n,target:a,densityScale:o,platform:r,syncWithApi:!0})},moveScreen(e){const{spid:t,tpid:n,screen:a}=e;s.a.dispatch({type:i.a.MOVE_SCREEN,spid:t,tpid:n,screen:a})}};t.a=a},function(e,t,n){"use strict";var i=n(1344);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1346);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(647);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(26),a=n(152),o=n(43),r=n(3),l=n(14),c=n(648);n.n(c);const d=30;t.a=class extends i.Component{constructor(e){super(e),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this)}scrollAndHighlightIfNecessary(){this.props.highlight&&(Object(s.m)(this.nodeRefs.memberRow),setTimeout(()=>{const{backgroundColor:e}=getComputedStyle(this.nodeRefs.memberRow),t={backgroundColor:e};this.nodeRefs.memberRow.animate([t,{backgroundColor:"var(--cornflower-blue-30pc)"},t],{duration:1200,easing:"ease-in-out"})},10))}handleOpenMemberOptions(e){const{member:t,onOpenMemberOptions:n}=this.props;n(t,{x:e.clientX,y:e.clientY})}componentDidMount(){this.scrollAndHighlightIfNecessary()}render(){const{member:{user:e},memberOptionsOpen:t,showOptionsButton:n}=this.props,{src:c,srcset:u}=Object(s.f)(e,{ignoreRandomEmotar:!1,size:d});return i.h("div",{class:"memberRow",ref:Object(l.a)(this,"memberRow")},i.h(a.a,{class:"memberRowAvatar",src:c,srcset:u,width:d,height:d}),"invited"===e.status?i.h("div",{class:"info"},i.h("div",{class:"ellipsis",title:e.email},e.email),i.h("div",null,"pending invitation")):i.h("div",{class:"info"},i.h("div",{class:"ellipsis",title:e.username},e.username),i.h("div",{class:"ellipsis",title:e.email},e.email)),n&&i.h("button",{class:Object(r.a)("memberOptionsButton",{memberOptionsOpen:t}),onClick:this.handleOpenMemberOptions},i.h(o.u,null)))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1392);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1447);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1513);t.a=i.a},function(e,t,n){"use strict";var i=n(1522);t.a=i.a},function(e,t,n){"use strict";var i=n(1563);n.d(t,"c",function(){return i.a});var s=n(725);n.d(t,"a",function(){return s.a});var a=n(1571);n.d(t,"b",function(){return a.a})},function(e,t,n){"use strict";var i=n(1646);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1654);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e,t){if(Object(i.z)(e))return i.C.canMoveResources(t);const n=e.users.find(e=>"owner"===e.role);if("free"===n.user.paymentPlan)return t.user._id===n.user._id;return i.C.canMoveResources(t)};var i=n(1)},,,,,,,function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(7),o=n(28),r=n(31),l=n(10);const c=10;t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{projects:[],styleguides:[]}}init({projects:e,styleguides:t}){return{projects:e,styleguides:t}}update(e,t){const{barrel:{barrelType:n},data:{[n]:{_id:i,name:s}}}=t,a=n===l.a.PROJECT?"projects":"styleguides",o=e[a].filter(({_id:e})=>e!==i),r=[{_id:i,name:s},...o].slice(0,c);return Object.assign({},e,{[a]:r})}reduce(e,t){switch(t.type){case r.a.LOAD:return this.update(e,t);case o.a.INIT_RECENTLY_LOADED_BARRELS:return this.init(t);default:return e}}}},function(e,t,n){"use strict";t.a={CREATE:"CreateOrganization",CREATE_PROJECT:"CreateProject",CREATE_STYLEGUIDE:"CreateStyleguide",DELETE:"DeleteOrganization",INVITE_MEMBERS:"InviteOrganizationMembers",REMOVE_USER:"RemoveMemberFromOrganization",UPDATE_BILLING:"UpdateOrganizationBilling",UPDATE_DOMAIN:"UpdateOrganizationDomain",UPDATE_LOGO:"UpdateOrganizationLogo",UPDATE_MEMBER_ACCESSIBILITY:"UpdateOrganizationMemberAccessibility",UPDATE_MEMBER_ROLE:"UpdateOrganizationMemberRole",UPDATE_MEMBER_TAGS:"UpdateOrganizationMembersTags",UPDATE_NAME:"UpdateOrganizationName",ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS:"AddProjectToOrganizationMemberFocus",REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS:"RemoveProjectFromOrganizationMemberFocus",ADD_WORKFLOW_STATUS:"AddOrganizationWorkflowStatus",UPDATE_WORKFLOW_STATUS:"UpdateOrganizationWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteOrganizationWorkflowStatus"}},function(e,t,n){"use strict";t.a={ACTIVATE:"ActivateProject",ARCHIVE:"ArchiveProject",DELETE:"DeleteProject",INVITE_USER:"InviteProjectUser",ADD_INTEGRATION_EVENT:"AddProjectIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteProjectIntegrationEvent",DELETE_INTEGRATION:"DeleteProjectIntegration",ADD_EXTENSION:"AddProjectExtension",REMOVE_EXTENSION:"RemoveExtensionFromProject",REMOVE_USER:"RemoveUserFromProject",TRANSFER_OWNERSHIP:"TransferProjectOwnership",UPDATE_ACCESSIBILITY:"UpdateProjectAccessibility",UPDATE_DENSITY_SCALE:"UpdateProjectDensityScale",UPDATE_DESCRIPTION:"UpdateProjectDescription",UPDATE_EXTENSION:"UpdateProjectExtension",UPDATE_NAME:"UpdateProjectName",UPDATE_THUMBNAIL:"UpdateProjectThumbnail",UPDATE_UPDATED:"UpdateProjectUpdated",UPDATE_USER_ROLE:"UpdateProjectUserRole",ATTACH_JIRA_ISSUE:"AttachJiraIssue",REMOVE_JIRA_ISSUE_ATTACHMENT:"RemoveJiraIssueAttachment",CREATE_SECTION:"CreateSection",UPDATE_SECTION:"UpdateSection",UPDATE_SECTIONS_ORDER:"UpdateSectionsOrder",UPDATE_SECTION_SCREENS:"UpdateSectionScreens",DELETE_SECTION:"DeleteSection",UPDATE_STYLEGUIDE_LINK:"UpdateProjectStyleguidelink",REMOVE_STYLEGUIDE_LINK:"RemoveProjectStyleguideLink",CREATE_COLOR:"CreateProjectColor",UPDATE_COLOR:"UpdateProjectColor",UPDATE_COLORS_ORDER:"UpdateProjectColorsOrder",DELETE_COLOR:"DeleteProjectColor",UPDATE_COLORS_STYLEGUIDE:"UpdateProjectColorsStyleguide",CREATE_TEXT_STYLE:"CreateProjectTextStyle",UPDATE_TEXT_STYLE:"UpdateProjectTextStyle",DELETE_TEXT_STYLE:"DeleteProjectTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateProjectTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateProjectSpacingSection",UPDATE_SPACING_SECTION:"UpdateProjectSpacingSection",DELETE_SPACING_SECTION:"DeleteProjectSpacingSection",CREATE_SPACING_TOKEN:"CreateProjectSpacingToken",UPDATE_SPACING_TOKEN:"UpdateProjectSpacingToken",DELETE_SPACING_TOKEN:"DeleteProjectSpacingToken",UPDATE_REM_PREFERENCES:"UpdateProjectRemPreferences",CREATE_COMPONENT_SECTION:"CreateProjectComponentSection",UPDATE_COMPONENT_SECTION:"UpdateProjectComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateProjectComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeProjectComponentSections",DELETE_COMPONENT_SECTION:"DeleteProjectComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateProjectComponentSectionsStyleguide",CREATE_COMPONENT:"CreateProjectComponent",CREATE_COMPONENT_V2:"CreateProjectComponentV2",CREATE_COMPONENT_VERSION:"CreateProjectComponentVersion",UPDATE_COMPONENT:"UpdateProjectComponent",UPDATE_COMPONENTS_ORDER:"UpdateProjectComponentsOrder",DELETE_COMPONENT:"DeleteProjectComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateProjectConnectedComponents",UPDATE_WORKFLOW_STATUS:"UpdateProjectWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteProjectWorkflowStatus"}},function(e,t,n){"use strict";t.a={ACTIVATE:"ActivateStyleguide",ARCHIVE:"ArchiveStyleguide",DELETE:"DeleteStyleguide",INVITE_USER:"InviteStyleguideUser",ADD_INTEGRATION_EVENT:"AddStyleguideIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteStyleguideIntegrationEvent",DELETE_INTEGRATION:"DeleteStyleguideIntegration",ADD_EXTENSION:"AddStyleguideExtension",REMOVE_EXTENSION:"RemoveExtensionFromStyleguide",REMOVE_USER:"RemoveUserFromStyleguide",TRANSFER_OWNERSHIP:"TransferStyleguideOwnership",UPDATE_DENSITY_SCALE:"UpdateStyleguideDensityScale",UPDATE_DESCRIPTION:"UpdateStyleguideDescription",UPDATE_NAME:"UpdateStyleguideName",UPDATE_THUMBNAIL:"UpdateStyleguideThumbnail",UPDATE_USER_ROLE:"UpdateStyleguideUserRole",UPDATE_PARENT:"UpdateStyleguideParent",REMOVE_PARENT:"RemoveStyleguideParent",CREATE_COLOR:"CreateStyleguideColor",DELETE_COLOR:"DeleteStyleguideColor",UPDATE_COLOR:"UpdateStyleguideColor",UPDATE_COLORS_ORDER:"UpdateStyleguideColorsOrder",UPDATE_COLORS_STYLEGUIDE:"UpdateStyleguideColorsStyleguide",CREATE_TEXT_STYLE:"CreateStyleguideTextStyle",UPDATE_TEXT_STYLE:"UpdateStyleguideTextStyle",DELETE_TEXT_STYLE:"DeleteStyleguideTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateStyleguideTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateStyleguideSpacingSection",UPDATE_SPACING_SECTION:"UpdateStyleguideSpacingSection",DELETE_SPACING_SECTION:"DeleteStyleguideSpacingSection",CREATE_SPACING_TOKEN:"CreateStyleguideSpacingToken",UPDATE_SPACING_TOKEN:"UpdateStyleguideSpacingToken",DELETE_SPACING_TOKEN:"DeleteStyleguideSpacingToken",UPDATE_REM_PREFERENCES:"UpdateStyleguideRemPreferences",CREATE_COMPONENT_SECTION:"CreateStyleguideComponentSection",UPDATE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateStyleguideComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeStyleguideComponentSections",DELETE_COMPONENT_SECTION:"DeleteStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateStyleguideComponentSectionsStyleguide",CREATE_COMPONENT:"CreateStyleguideComponent",CREATE_COMPONENT_V2:"CreateStyleguideComponentV2",CREATE_COMPONENT_VERSION:"CreateStyleguideComponentVersion",UPDATE_COMPONENT:"UpdateStyleguideComponent",UPDATE_COMPONENTS_ORDER:"UpdateStyleguideComponentsOrder",DELETE_COMPONENT:"DeleteStyleguideComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateStyleguideConnectedComponents",UPDATE_WORKFLOW_STATUS:"UpdateStyleguideWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteStyleguideWorkflowStatus"}},function(e,t,n){"use strict";var i=n(147),s=n(144),a=n(665),o=n(537),r=n(840),l=n(841),c=n(98),d=n(624),u=n(57),h=n(31),p=n(307),g=n(58),m=n(153),f=n(310),b=n(35),y=n(10),S=n(13);function v(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}i.a&&(i.a.bind_global((e,{params:{pid:t}={}})=>{t&&(h.d.hasProject(t)||Object(s.g)(t))}),i.a.bind(a.a.TRANSFER_OWNERSHIP,({params:{oid:e,pid:t,mid:n,uid:i},body:a,body:{users:o}})=>{if(n){const s=o.find(e=>e.user._id===Zeplin.user._id);return s&&(Zeplin.user.paymentPlan=s.paymentPlan),void u.b.transferOwnership({bid:t,fromUserId:n,targetId:i,users:o,oid:e})}if(!e)return;const{organizations:r}=b.e.getState();if(r.find(t=>t._id===e))if("_id"in a)h.d.hasProject(t)&&h.b.remove({barrelType:y.a.PROJECT,bid:t}),h.b.add({barrelType:y.a.PROJECT,barrel:a,oid:e});else{o.some(e=>e.user._id===Zeplin.user._id)||h.b.remove({barrelType:y.a.PROJECT,bid:t})}else Object(s.f)(e)}),i.a.bind(a.a.UPDATE_NAME,({params:{pid:e},body:{name:t}})=>{h.b.updateName({bid:e,name:t})}),i.a.bind(a.a.UPDATE_DESCRIPTION,({params:{pid:e},body:{description:t}})=>{h.b.updateDescription({bid:e,description:t})}),i.a.bind(a.a.UPDATE_DENSITY_SCALE,({params:{pid:e},body:{densityScale:t}})=>{h.b.updateDensityScale({bid:e,densityScale:t})}),i.a.bind(a.a.UPDATE_THUMBNAIL,({params:{pid:e},body:{thumbnail:t}})=>{h.b.updateThumbnail({bid:e,thumbnail:t})}),i.a.bind(a.a.UPDATE_UPDATED,({params:{pid:e},body:{updated:t}})=>{u.b.updateProject({pid:e,data:{updated:t}})}),i.a.bind(a.a.UPDATE_ACCESSIBILITY,({params:{pid:e},body:{public:t}})=>{h.b.toggleScene({bid:e,accessibility:t})}),i.a.bind(a.a.ADD_INTEGRATION_EVENT,({params:{pid:e,intype:t,inid:n,event:i}})=>{f.a.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),i.a.bind(a.a.DELETE_INTEGRATION_EVENT,({params:{pid:e,intype:t,inid:n,event:i}})=>{f.a.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),i.a.bind(a.a.DELETE_INTEGRATION,({params:{pid:e,intype:t,inid:n}})=>{h.b.removeIntegration({bid:e,intype:t,inid:n})}),i.a.bind(a.a.ACTIVATE,({params:{pid:e}})=>{h.b.activate({bid:e,barrelType:y.a.PROJECT})}),i.a.bind(a.a.ARCHIVE,({params:{pid:e,uid:t}})=>{h.b.archive({bid:e,barrelType:y.a.PROJECT,uid:t})}),i.a.bind(a.a.DELETE,({params:{pid:e,uid:t}})=>{h.b.remove({barrelType:y.a.PROJECT,bid:e,uid:t})}),i.a.bind(o.a.CREATE,({params:{pid:e,uid:t},body:n})=>{e&&h.b.updateUserData({bid:e,uid:t,userData:Object.assign({},n,{status:"registered"})})}),i.a.bind(a.a.INVITE_USER,({params:{pid:e,oid:t},body:n})=>{const i="role"in n,s=h.d.hasProject(e);if(i&&s)h.b.addMembers({barrelType:y.a.PROJECT,bid:e,members:[n]});else if(s)u.b.updateProject({pid:e,data:n});else{const e=n.users.some(({user:e,role:t})=>e._id===Zeplin.user._id&&"pawn"===t),i=t&&!e?t:"user";h.b.add({barrelType:y.a.PROJECT,oid:i,barrel:Object.assign({},n,{complete:!1})})}}),i.a.bind(a.a.UPDATE_USER_ROLE,({params:{pid:e,mid:t},body:{role:n}})=>{h.b.updateUserRole({bid:e,uid:t,role:n})}),i.a.bind(o.a.UPDATE_USERNAME,({params:{pid:e,uid:t},body:n})=>{e&&h.b.updateUserData({bid:e,uid:t,userData:n})}),i.a.bind(o.a.UPDATE_EMAIL,({params:{pid:e,uid:t},body:n})=>{e&&h.b.updateUserData({bid:e,uid:t,userData:n})}),i.a.bind(o.a.UPDATE_AVATAR,({params:{pid:e,uid:t},body:n})=>{e&&h.b.updateUserData({bid:e,uid:t,userData:n})}),i.a.bind(o.a.UPDATE_EMOTAR,({params:{pid:e,uid:t},body:{emotar:n}})=>{e&&h.b.updateUserData({bid:e,uid:t,userData:{emotar:n}})}),i.a.bind(o.a.DELETE,({params:{pid:e,uid:t}})=>{e&&h.b.removeMember({bid:e,uid:t})}),i.a.bind(a.a.REMOVE_USER,({params:{pid:e,uid:t,mid:n}})=>{h.b.removeMember({bid:e,uid:t,mid:n})}),i.a.bind(a.a.ATTACH_JIRA_ISSUE,({params:{pid:e},body:t})=>{const n=new c.a(t.jira);h.b.attachJiraIssue({bid:e,jira:n})}),i.a.bind(a.a.REMOVE_JIRA_ISSUE_ATTACHMENT,({params:{pid:e,aid:t}})=>{h.b.removeJiraIssueAttachment({bid:e,aid:t})}),i.a.bind(a.a.CREATE_SECTION,e=>{let{params:{pid:t},body:{index:n}}=e,i=v(e.body,["index"]);p.a.addSection({pid:t,section:i,index:n})}),i.a.bind(a.a.UPDATE_SECTION,({params:{pid:e,seid:t},body:n})=>{p.a.updateSection({pid:e,seid:t,sectionData:n})}),i.a.bind(a.a.UPDATE_SECTIONS_ORDER,({params:{pid:e},body:{sections:t}})=>{t.forEach(({_id:t,to:n})=>{p.a.updateSectionOrder({pid:e,seid:t,index:n})})}),i.a.bind(a.a.UPDATE_SECTION_SCREENS,({params:{pid:e,seid:t},body:{index:n,screens:i}})=>{p.a.updateScreenOrder({pid:e,screens:i,targetSectionId:t,targetIndex:n})}),i.a.bind(a.a.DELETE_SECTION,({params:{pid:e,seid:t}})=>{p.a.removeSection({pid:e,seid:t})}),i.a.bind(r.a.CREATE_V3,({params:{pid:e},body:t})=>{m.c.addScreen({pid:e,screen:t})}),i.a.bind(r.a.UPDATE,({params:{pid:e,sid:t},body:{name:n,description:i}})=>{n&&m.c.updateName({pid:e,sid:t,name:n}),i&&m.c.updateDescription({pid:e,sid:t,description:i})}),i.a.bind(r.a.UPDATE_TAGS,({params:{pid:e},body:{screens:t}})=>{m.c.updateTags({pid:e,updates:t})}),i.a.bind(r.a.CREATE_VERSION,({params:{pid:e,sid:t},body:n})=>{m.c.addVersion({pid:e,sid:t,version:n})}),i.a.bind(r.a.UPDATE_VERSION_COMMIT_COLOR,({params:{pid:e,sid:t,vid:n},body:{color:i}})=>{m.c.updateCommitColor({pid:e,sid:t,vid:n,color:i})}),i.a.bind(r.a.UPDATE_VERSION_COMMIT_MESSAGE,({params:{pid:e,sid:t,vid:n},body:{message:i}})=>{m.c.updateCommitMessage({pid:e,sid:t,vid:n,message:i})}),i.a.bind(r.a.DELETE_VERSION,({params:{pid:e,sid:t,vid:n}})=>{m.c.removeVersion({pid:e,sid:t,vid:n})}),i.a.bind(r.a.DELETE,({params:{pid:e,uid:t,sid:n}})=>{m.c.removeScreen({pid:e,uid:t,sid:n})}),i.a.bind(l.a.CREATE,({params:{pid:e,sid:t,uid:n},body:i})=>{m.c.addDot({pid:e,sid:t,uid:n,dot:i})}),i.a.bind(l.a.CREATE_COMMENT,({params:{uid:e,pid:t,sid:n,did:i},body:s})=>{m.c.addComment({pid:t,sid:n,uid:e,did:i,comment:s})}),i.a.bind(l.a.UPDATE_COMMENT_NOTE,({params:{uid:e,pid:t,sid:n,did:i,cmid:s},body:{note:a,updated:o=new Date}})=>{m.c.updateComment({pid:t,sid:n,uid:e,did:i,cmid:s,commentData:{note:a,updated:o}})}),i.a.bind(l.a.UPDATE,({params:{pid:e,sid:t,did:n},body:i})=>{m.c.updateDot({pid:e,sid:t,did:n,dotData:i})}),i.a.bind(l.a.DELETE,({params:{pid:e,sid:t,did:n}})=>{m.c.removeDot({pid:e,sid:t,did:n})}),i.a.bind(l.a.DELETE_COMMENT,({params:{pid:e,sid:t,did:n,cmid:i}})=>{m.c.removeComment({pid:e,sid:t,did:n,cmid:i})}),i.a.bind(a.a.UPDATE_STYLEGUIDE_LINK,({params:{pid:e},body:{styleguideLink:t}})=>{u.b.updateProject({pid:e,data:{styleguideLink:t}})}),i.a.bind(a.a.REMOVE_STYLEGUIDE_LINK,({params:{pid:e},body:{styleguideLink:{styleguide:t}}})=>{d.a.unlinkProjectFromStyleguide({pid:e,styleguide:t})}),i.a.bind(a.a.CREATE_COLOR,({params:{pid:e},body:t})=>{h.b.addColor({bid:e,color:t})}),i.a.bind(a.a.UPDATE_COLOR,({params:{pid:e,cid:t},body:n})=>{h.b.updateColor({bid:e,cid:t,colorData:n})}),i.a.bind(a.a.UPDATE_COLORS_ORDER,({params:{pid:e},body:{colors:t}})=>{t.forEach(({_id:t,to:n})=>{h.b.updateColorOrder({bid:e,cid:t,to:n})})}),i.a.bind(a.a.DELETE_COLOR,({params:{pid:e,cid:t,unorderedBatch:n}})=>{n||h.b.removeColor({bid:e,cid:t})}),i.a.bind(a.a.UPDATE_COLORS_STYLEGUIDE,({params:{pid:e,tstid:t}})=>{h.b.removeAllColors({bid:e}),h.d.hasStyleguide(t)&&S.getStyleguide(t).then(e=>{g.b.getStyleguideSuccess({styleguide:e})})}),i.a.bind(a.a.CREATE_TEXT_STYLE,({params:{pid:e},body:t})=>{h.b.addTextStyle({bid:e,textStyle:t})}),i.a.bind(a.a.UPDATE_TEXT_STYLE,({params:{pid:e,tsid:t},body:n})=>{h.b.updateTextStyle({bid:e,tsid:t,textStyleData:n})}),i.a.bind(a.a.DELETE_TEXT_STYLE,({params:{pid:e,tsid:t,unorderedBatch:n}})=>{n||h.b.removeTextStyle({bid:e,tsid:t})}),i.a.bind(a.a.UPDATE_TEXT_STYLES_STYLEGUIDE,({params:{pid:e,tstid:t}})=>{h.b.removeAllTextStyles({bid:e}),h.d.hasStyleguide(t)&&S.getStyleguide(t).then(e=>{g.b.getStyleguideSuccess({styleguide:e})})}),i.a.bind(a.a.CREATE_SPACING_SECTION,({params:{pid:e},body:t})=>{h.b.addSpacingSection({bid:e,spacingSection:t})}),i.a.bind(a.a.UPDATE_SPACING_SECTION,({params:{pid:e,ssid:t},body:n})=>{h.b.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})}),i.a.bind(a.a.DELETE_SPACING_SECTION,({params:{pid:e,ssid:t}})=>{h.b.removeSpacingSection({bid:e,ssid:t})}),i.a.bind(a.a.CREATE_SPACING_TOKEN,({params:{pid:e,ssid:t},body:n})=>{h.b.addSpacingToken({bid:e,ssid:t,spacingToken:n})}),i.a.bind(a.a.UPDATE_SPACING_TOKEN,({params:{pid:e,ssid:t,sptid:n},body:i})=>{h.b.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})}),i.a.bind(a.a.DELETE_SPACING_TOKEN,({params:{pid:e,ssid:t,sptid:n}})=>{h.b.removeSpacingToken({bid:e,ssid:t,sptid:n})}),i.a.bind(a.a.UPDATE_REM_PREFERENCES,({params:{pid:e},body:{remPreferences:t}})=>{h.b.updateRemPreferences({bid:e,updatedRemPreferences:t})}),i.a.bind(a.a.CREATE_COMPONENT_SECTION,e=>{let{params:{pid:t,csid:n},body:{components:i}}=e,s=v(e.body,["components"]);const a=i.map(({coid:e,csid:t})=>({coid:e,csid:t.split("/")}));h.b.addComponentSection({bid:t,csids:n?n.split("/"):[],componentSection:Object.assign({components:a},s)})}),i.a.bind(a.a.UPDATE_COMPONENT_SECTION,({params:{pid:e,csid:t},body:n})=>{h.b.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})}),i.a.bind(a.a.UPDATE_COMPONENT_SECTIONS_ORDER,({params:{pid:e},body:{componentSections:t}})=>{const n=t.map(({csid:e,tcsid:t,to:n})=>({csid:e.split("/"),tcsid:t?t.split("/"):[],to:n}));h.b.updateComponentSectionsOrder({bid:e,componentSections:n})}),i.a.bind(a.a.MERGE_COMPONENT_SECTIONS,({params:{pid:e},body:{componentSections:t}})=>{t.forEach(({csid:t,tcsid:n,flatten:i=!1})=>{h.b.mergeComponentSection({bid:e,csids:t.split("/"),tcsids:n.split("/"),flatten:i})})}),i.a.bind(a.a.DELETE_COMPONENT_SECTION,({params:{pid:e,csid:t,unorderedBatch:n}})=>{n||h.b.removeComponentSection({bid:e,csids:t.split("/")})}),i.a.bind(a.a.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,({params:{pid:e,tstid:t},body:{componentSections:n}})=>{h.b.removeComponentSections({bid:e,componentSections:n}),h.d.hasStyleguide(t)&&S.getStyleguide(t).then(e=>{g.b.getStyleguideSuccess({styleguide:e})})}),i.a.bind(a.a.CREATE_COMPONENT,({params:{pid:e,csid:t},body:n})=>{h.b.addComponent({bid:e,csids:t.split("/"),component:n})}),i.a.bind(a.a.CREATE_COMPONENT_V2,({params:{pid:e,csid:t},body:n})=>{h.b.addComponent({bid:e,csids:t.split("/"),component:n})}),i.a.bind(a.a.CREATE_COMPONENT_VERSION,({params:{pid:e,csid:t,coid:n},body:i})=>{h.b.addComponentVersion({bid:e,csids:t.split("/"),coid:n,componentVersion:i})}),i.a.bind(a.a.UPDATE_COMPONENT,({params:{pid:e,csid:t,coid:n},body:i})=>{h.b.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),i.a.bind(a.a.UPDATE_COMPONENTS_ORDER,({params:{pid:e},body:{components:t}})=>{const n=t.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));h.b.updateComponentsOrder({bid:e,components:n})}),i.a.bind(a.a.DELETE_COMPONENT,({params:{pid:e,csid:t,coid:n}})=>{h.b.removeComponent({bid:e,csids:t.split("/"),coid:n})}),i.a.bind(a.a.UPDATE_CONNECTED_COMPONENTS,({params:{pid:e}})=>{S.getProjectConnectedComponents(e).then(({connectedComponents:t})=>{h.b.updateConnectedComponents({bid:e,connectedComponents:t})})}),i.a.bind(a.a.DELETE_WORKFLOW_STATUS,({params:{pid:e}})=>{h.b.deleteWorkflowStatus({bid:e})}),i.a.bind(a.a.UPDATE_WORKFLOW_STATUS,({params:{pid:e},body:t})=>{h.b.updateWorkflowStatus({bid:e,workflowStatus:t})}))},function(e,t,n){"use strict";var i=n(40),s=n(625);const a={linkProjectToStyleguideRequest({project:e,styleguide:t,syncWithApi:n=!1}){s.a.dispatch({type:i.a.LINK_PROJECT_REQUEST,project:e,styleguide:t,syncWithApi:n})},linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n}){s.a.dispatch({type:i.a.LINK_PROJECT_SUCCESS,project:e,styleguide:t,styleguides:n})},linkProjectToStyleguide({project:e,styleguide:t,syncWithApi:n}){s.a.dispatch({type:i.a.LINK_PROJECT,project:e,styleguide:t,syncWithApi:n})},unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:n}){s.a.dispatch({type:i.a.UNLINK_PROJECT,pid:e,styleguide:t,syncWithApi:n})}};t.a=a},function(e,t,n){"use strict";var i=n(666),s=n(537),a=n(35),o=n(58),r=n(10),l=n(147),c=n(144),d=n(31),u=n(286),h=n(310),p=n(13);l.a&&(l.a.bind_global((e,{params:{stid:t}={}})=>{t&&(d.d.hasStyleguide(t)||Object(c.h)(t))}),l.a.bind(i.a.ACTIVATE,({params:{stid:e}})=>{d.b.activate({bid:e,barrelType:r.a.STYLEGUIDE})}),l.a.bind(i.a.ARCHIVE,({params:{stid:e,uid:t}})=>{d.b.archive({bid:e,barrelType:r.a.STYLEGUIDE,uid:t})}),l.a.bind(i.a.DELETE,({params:{stid:e,uid:t}})=>{d.b.remove({barrelType:r.a.STYLEGUIDE,bid:e,uid:t})}),l.a.bind(i.a.TRANSFER_OWNERSHIP,({params:{oid:e,stid:t,mid:n,uid:i},body:s,body:{users:l}})=>{const u=d.d.findBarrelOrganizationId(t),h=!!u;if(n)return void o.b.transferOwnership({bid:t,fromUserId:i,targetId:n,users:l,oid:u});const{organizations:p,organizationStyleguides:g}=a.e.getState(),m=p.some(t=>t._id===e),f=e in g;if(e&&"_id"in s){if(!m)return void Object(c.f)(e);if(!h){if(!f)return;return void d.b.add({barrelType:r.a.STYLEGUIDE,barrel:s,oid:e})}if(u===e)return;o.b.transferOwnership({bid:t,targetId:e,users:l,oid:u,toOrganization:!0})}else if(e){if(!l.some(e=>e.user._id===Zeplin.user._id))return void d.b.remove({barrelType:r.a.STYLEGUIDE,bid:t});o.b.transferOwnership({bid:t,targetId:e,users:l,oid:u,toOrganization:!0})}}),l.a.bind(s.a.CREATE,({params:{stid:e,uid:t},body:n})=>{e&&d.b.updateUserData({bid:e,uid:t,userData:Object.assign({},n,{status:"registered"})})}),l.a.bind(i.a.INVITE_USER,({params:{stid:e,oid:t},body:n})=>{const i="role"in n,s=d.d.hasStyleguide(e);if(i&&s)d.b.addMembers({barrelType:r.a.STYLEGUIDE,bid:e,members:[n]});else if(s)o.b.updateStyleguide({stid:e,data:n});else{const e=n.users.some(({user:e,role:t})=>e._id===Zeplin.user._id&&"pawn"===t),i=t&&!e?t:"user";d.b.add({barrelType:r.a.STYLEGUIDE,oid:i,barrel:Object.assign({},n,{complete:!1})})}}),l.a.bind(s.a.UPDATE_USERNAME,({params:{stid:e,uid:t},body:n})=>{e&&d.b.updateUserData({bid:e,uid:t,userData:n})}),l.a.bind(s.a.UPDATE_EMAIL,({params:{stid:e,uid:t},body:n})=>{e&&d.b.updateUserData({bid:e,uid:t,userData:n})}),l.a.bind(s.a.UPDATE_AVATAR,({params:{stid:e,uid:t},body:n})=>{e&&d.b.updateUserData({bid:e,uid:t,userData:n})}),l.a.bind(s.a.UPDATE_EMOTAR,({params:{stid:e,uid:t},body:{emotar:n}})=>{e&&d.b.updateUserData({bid:e,uid:t,userData:{emotar:n}})}),l.a.bind(s.a.DELETE,({params:{stid:e,uid:t}})=>{e&&d.b.removeMember({bid:e,uid:t})}),l.a.bind(i.a.REMOVE_USER,({params:{stid:e,uid:t,mid:n}})=>{d.b.removeMember({bid:e,uid:t,mid:n})}),l.a.bind(i.a.UPDATE_USER_ROLE,({params:{stid:e,mid:t},body:{role:n}})=>{d.b.updateUserRole({bid:e,uid:t,role:n})}),l.a.bind(i.a.UPDATE_NAME,({params:{stid:e},body:{name:t}})=>{o.b.updateStyleguide({stid:e,data:{name:t}})}),l.a.bind(i.a.UPDATE_DESCRIPTION,({params:{stid:e},body:{description:t}})=>{o.b.updateStyleguide({stid:e,data:{description:t}})}),l.a.bind(i.a.UPDATE_THUMBNAIL,({params:{stid:e},body:{thumbnail:t}})=>{d.b.updateThumbnail({bid:e,barrelType:"styleguide",thumbnail:t})}),l.a.bind(i.a.UPDATE_DENSITY_SCALE,({params:{stid:e},body:{densityScale:t}})=>{o.b.updateStyleguide({stid:e,data:{densityScale:t}})}),l.a.bind(i.a.ADD_INTEGRATION_EVENT,({params:{stid:e,intype:t,inid:n,event:i}})=>{h.a.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),l.a.bind(i.a.DELETE_INTEGRATION_EVENT,({params:{stid:e,intype:t,inid:n,event:i}})=>{h.a.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),l.a.bind(i.a.DELETE_INTEGRATION,({params:{stid:e,intype:t,inid:n}})=>{d.b.removeIntegration({bid:e,intype:t,inid:n})}),l.a.bind(i.a.ADD_EXTENSION,({params:{stid:e},body:{_id:t}})=>{const{barrelId:n}=d.e.getState(),i=d.d.getBarrel({bid:e});i&&n===e&&(i.extensions.find(e=>e._id===t)||u.a.addExtension(i._id,"styleguide",t))}),l.a.bind(i.a.REMOVE_EXTENSION,e=>{const{barrelId:t}=d.e.getState(),{stid:n,eid:i}=e.params;t===n&&u.a.removeExtension(n,"styleguide",i,!0)}),l.a.bind(i.a.UPDATE_PARENT,({params:{stid:e},body:t})=>{o.b.updateStyleguide({stid:e,data:t})}),l.a.bind(i.a.REMOVE_PARENT,({params:{stid:e}})=>{o.b.updateStyleguide({stid:e,data:{parent:null,ancestors:[]}})}),l.a.bind(i.a.CREATE_COLOR,({params:{unorderedBatch:e,stid:t},body:n})=>{e||d.b.addColor({bid:t,color:n})}),l.a.bind(i.a.UPDATE_COLOR,({params:{stid:e,cid:t},body:n})=>{d.b.updateColor({bid:e,cid:t,colorData:n})}),l.a.bind(i.a.UPDATE_COLORS_ORDER,({params:{stid:e},body:{colors:t}})=>{t.forEach(({_id:t,to:n})=>{d.b.updateColorOrder({bid:e,cid:t,to:n})})}),l.a.bind(i.a.DELETE_COLOR,({params:{unorderedBatch:e,stid:t,cid:n}})=>{e||d.b.removeColor({bid:t,cid:n})}),l.a.bind(i.a.UPDATE_COLORS_STYLEGUIDE,({params:{stid:e,tstid:t}})=>{d.b.removeAllColors({bid:e}),d.d.hasStyleguide(t)&&p.getStyleguide(t).then(e=>{o.b.getStyleguideSuccess({styleguide:e})})}),l.a.bind(i.a.CREATE_TEXT_STYLE,({params:{unorderedBatch:e,stid:t},body:n})=>{e||d.b.addTextStyle({bid:t,textStyle:n})}),l.a.bind(i.a.UPDATE_TEXT_STYLE,({params:{stid:e,tsid:t},body:n})=>{d.b.updateTextStyle({bid:e,tsid:t,textStyleData:n})}),l.a.bind(i.a.DELETE_TEXT_STYLE,({params:{unorderedBatch:e,stid:t,tsid:n}})=>{e||d.b.removeTextStyle({bid:t,tsid:n})}),l.a.bind(i.a.UPDATE_TEXT_STYLES_STYLEGUIDE,({params:{stid:e,tstid:t}})=>{d.b.removeAllTextStyles({bid:e}),d.d.hasStyleguide(t)&&p.getStyleguide(t).then(e=>{o.b.getStyleguideSuccess({styleguide:e})})}),l.a.bind(i.a.CREATE_SPACING_SECTION,({params:{stid:e},body:t})=>{d.b.addSpacingSection({bid:e,spacingSection:t})}),l.a.bind(i.a.UPDATE_SPACING_SECTION,({params:{stid:e,ssid:t},body:n})=>{d.b.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})}),l.a.bind(i.a.DELETE_SPACING_SECTION,({params:{stid:e,ssid:t}})=>{d.b.removeSpacingSection({bid:e,ssid:t})}),l.a.bind(i.a.CREATE_SPACING_TOKEN,({params:{stid:e,ssid:t},body:n})=>{d.b.addSpacingToken({bid:e,ssid:t,spacingToken:n})}),l.a.bind(i.a.UPDATE_SPACING_TOKEN,({params:{stid:e,ssid:t,sptid:n},body:i})=>{d.b.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})}),l.a.bind(i.a.DELETE_SPACING_TOKEN,({params:{stid:e,ssid:t,sptid:n}})=>{d.b.removeSpacingToken({bid:e,ssid:t,sptid:n})}),l.a.bind(i.a.UPDATE_REM_PREFERENCES,({params:{stid:e},body:{remPreferences:t}})=>{d.b.updateRemPreferences({bid:e,updatedRemPreferences:t})}),l.a.bind(i.a.CREATE_COMPONENT_SECTION,({params:{unorderedBatch:e,stid:t,csid:n},body:i})=>{e||(i.components=i.components.map(e=>Object.assign({},e,{csid:e.csid.split("/")})),d.b.addComponentSection({bid:t,csids:n?n.split("/"):[],componentSection:i}))}),l.a.bind(i.a.UPDATE_COMPONENT_SECTION,({params:{stid:e,csid:t},body:n})=>{d.b.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})}),l.a.bind(i.a.UPDATE_COMPONENT_SECTIONS_ORDER,({params:{stid:e},body:t})=>{d.b.updateComponentSectionsOrder({bid:e,componentSections:t.componentSections.map(e=>({csid:e.csid.split("/"),tcsid:e.tcsid&&e.tcsid.split("/"),to:e.to}))})}),l.a.bind(i.a.MERGE_COMPONENT_SECTIONS,({params:{stid:e},body:t})=>{t.componentSections.forEach(t=>{d.b.mergeComponentSection({bid:e,csids:t.csid.split("/"),tcsids:t.tcsid.split("/"),flatten:t.flatten})})}),l.a.bind(i.a.DELETE_COMPONENT_SECTION,({params:{unorderedBatch:e,stid:t,csid:n}})=>{e||d.b.removeComponentSection({bid:t,csids:n.split("/")})}),l.a.bind(i.a.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,({params:{stid:e,tstid:t},body:{componentSections:n}})=>{d.b.removeComponentSections({bid:e,componentSections:n}),d.d.hasStyleguide(t)&&p.getStyleguide(t).then(e=>{o.b.getStyleguideSuccess({styleguide:e})})}),l.a.bind(i.a.CREATE_COMPONENT,({params:{unorderedBatch:e,stid:t,csid:n},body:i})=>{e||d.b.addComponent({bid:t,csids:n.split("/"),component:i})}),l.a.bind(i.a.CREATE_COMPONENT_V2,({params:{unorderedBatch:e,stid:t,csid:n},body:i})=>{e||d.b.addComponent({bid:t,csids:n.split("/"),component:i})}),l.a.bind(i.a.CREATE_COMPONENT_VERSION,({params:{stid:e,csid:t,coid:n},body:i})=>{d.b.addComponentVersion({bid:e,csids:t.split("/"),coid:n,componentVersion:i})}),l.a.bind(i.a.UPDATE_COMPONENT,({params:{stid:e,coid:t,csid:n},body:i})=>{d.b.updateComponent({bid:e,csids:n.split("/"),coid:t,componentData:i})}),l.a.bind(i.a.UPDATE_COMPONENTS_ORDER,({params:{stid:e},body:{components:t}})=>{const n=t.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));d.b.updateComponentsOrder({bid:e,components:n})}),l.a.bind(i.a.DELETE_COMPONENT,({params:{unorderedBatch:e,stid:t,csid:n,coid:i}})=>{e||d.b.removeComponent({bid:t,csids:n.split("/"),coid:i})}),l.a.bind(i.a.UPDATE_CONNECTED_COMPONENTS,({params:{stid:e}})=>{p.getStyleguideConnectedComponents(e).then(({connectedComponents:t})=>{d.b.updateConnectedComponents({bid:e,connectedComponents:t})})}),l.a.bind(i.a.DELETE_WORKFLOW_STATUS,({params:{stid:e}})=>{d.b.deleteWorkflowStatus({bid:e})}),l.a.bind(i.a.UPDATE_WORKFLOW_STATUS,({params:{stid:e},body:t})=>{d.b.updateWorkflowStatus({bid:e,body:t})}))},function(e,t,n){"use strict";var i=n(913);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1018);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1027);t.a=i.a},function(e,t,n){"use strict";var i=n(1054);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1060);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1063);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1065);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1071);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1072);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1088);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1089);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";let i,s;t.a=function(e){s||(i=new IntersectionObserver(o,{root:"string"==typeof e?document.querySelector(e):e,threshold:[0,.01]}),s={observe(e,t){a.set(e,t),i.observe(e)},unobserve(e){i.unobserve(e),a.delete(e)}});return s};const a=new WeakMap;function o(e){e.forEach(e=>{const t=a.get(e.target);t&&t(e)})}},function(e,t,n){"use strict";t.a={TRANSFER:"transferOwnership",ARCHIVE:"archive",LEAVE:"leave",DELETE:"delete",SELECT_PARENT:"selectParent",REMOVE_PARENT:"removeParent"}},function(e,t,n){"use strict";var i=n(1106);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1117);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1129);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1131);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i=48},function(e,t,n){"use strict";var i=n(1160);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1165);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1166);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1183);n.d(t,"a",function(){return i.a});var s=n(1192);n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(1185);n.d(t,"b",function(){return i.b}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1187);n.d(t,"b",function(){return i.b}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=new Map},function(e,t,n){"use strict";n(696);var i=n(1255);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(0),s=n(4),a=n.n(s),o=n(1),r=n(3),l=n(14),c=n(697),d=n(1254);n.n(d);function u(e){class t extends i.Component{constructor(e){super(e),this.collapseExpandSection=this.collapseExpandSection.bind(this),this.handleHeaderClick=this.handleHeaderClick.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.showOptionsMenu=this.showOptionsMenu.bind(this),this.hideOptionsMenu=this.hideOptionsMenu.bind(this),this.highlightName=this.highlightName.bind(this),this.highlightDescription=this.highlightDescription.bind(this),this.state={collapsed:e.collapsed,menuShown:!1,hidden:!1}}collapseExpandSection(e){e.stopPropagation(),this.state.collapsed?this.setState({collapsed:!1}):this.setState({collapsed:!0})}showOptionsMenu(e){e.stopPropagation(),this.state.menuShown||this.setState({menuShown:!0})}hideOptionsMenu(){this.state.menuShown&&this.setState({menuShown:!1})}highlight(){const{scroll:e,highlight:t,onScroll:n,onHighlightEnd:i}=this.props;if((e||t)&&(this.state.collapsed&&this.setState({collapsed:!1}),this.nodeRefs.base.scrollIntoView()),t&&this.nodeRefs&&this.nodeRefs.headerBase){const e=this.nodeRefs.headerBase.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"});i&&e.addEventListener("finish",i,{once:!0})}e&&n&&n()}highlightName(){this.componentRefs.header.highlightName()}highlightDescription(){this.state.collapsed?this.setState({collapsed:!1},()=>{this.componentRefs.header.highlightDescription()}):this.componentRefs.header.highlightDescription()}handleHeaderClick(){const{collapsed:e}=this.state;e&&this.setState({collapsed:!1})}handleStartDrag(){const{empty:e}=this.props;this.setState(Object(o.u)({hidden:!0,collapsed:!e,menuShown:!1}))}handleEndDrag(){this.setState({hidden:!1})}handleBaseRef(e){Object(l.a)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}componentDidMount(){this.highlight()}componentWillReceiveProps(e){this.state.collapsed&&(e.forceExpand||e.empty)&&this.setState({collapsed:!1})}componentDidUpdate(e,t){!t.collapsed&&this.state.collapsed?this.props.onCollapse(this.props.id):t.collapsed&&!this.state.collapsed&&this.props.onExpand(this.props.id),this.highlight()}renderHeader(){const{id:t,name:n,index:s,styleguideId:a,defaultSection:o,countInfoText:r,componentCount:c,emptyText:d,empty:u,readOnly:h,headerClass:p,actionsDisabled:g,description:m,optionsMenu:f,onNameBlur:b,onDescriptionBlur:y,draggable:S,optionsButtonRef:v,optionsActive:C,sectionHeaderHover:E}=this.props,{collapsed:O,menuShown:T}=this.state;return o?null:i.h(e,{baseRef:Object(l.a)(this,"headerBase"),componentRef:Object(l.a)(this,"header","componentRefs"),class:p,hasDragHover:E,id:t,index:s,styleguideId:a,name:n,countInfoText:r,componentCount:c,empty:u,emptyText:d,readOnly:h,actionsDisabled:g,description:m,onNameBlur:b,onDescriptionBlur:y,collapsed:O,optionsMenu:T&&f,draggable:S,optionsButtonRef:v,optionsActive:C,onShowOptionsMenu:this.showOptionsMenu,onHideOptionsMenu:this.hideOptionsMenu,onExpandCollapseSection:this.collapseExpandSection,onHeaderClick:this.handleHeaderClick,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag})}render(){const{children:e,targetPosition:t,empty:n,class:s}=this.props,{collapsed:a,hidden:o,menuShown:l}=this.state,c=Object(r.a)("section",s,t,{collapsed:a,empty:n,menuShown:l,hidden:o});return i.h("div",{class:c,ref:this.handleBaseRef},this.renderHeader(),!a&&!n&&e)}}return e=>{const n=Object.assign({ref:e.componentRef},e);return delete n.componentRef,i.h(t,n)}}const h=u(c.b);h.displayName="Section",h.propTypes={onNameBlur:a.a.func.isRequired,onDescriptionBlur:a.a.func.isRequired,name:a.a.string,description:a.a.string,id:a.a.string.isRequired,defaultSection:a.a.bool,countInfoText:a.a.string,showOptionsButton:a.a.bool,optionsMenu:a.a.element,readOnly:a.a.bool,actionsDisabled:a.a.bool},h.defaultProps={showOptionsButton:!1,defaultSection:!1}},function(e,t,n){"use strict";var i=n(1243);n.d(t,"b",function(){return i.b}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(699);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(31),r=n(74),l=n(1),c=n(700),d=n(701),u=n(3),h=n(57),p=n(1252);n.n(p);class g extends i.Component{constructor(e){super(e),this.handleJiraAttachmentClick=this.handleJiraAttachmentClick.bind(this)}static getStores(){return[o.e,h.c]}static calculateState(e,t){const{loading:n}=o.e.getState(),{integration:i={}}=o.d.getBarrel()||{};return{loading:n,integration:i}}handleJiraAttachmentClick(){mixpanel.master.track("Clicked Jira issue")}shouldComponentUpdate(e,t){return this.props.itemId!==e.itemId||this.props.itemType!==e.itemType||(this.state.integration.jira!==t.integration.jira||this.state.loading!==t.loading)}renderJiraAttachments(e){const{class:t}=this.props;return i.h("div",{class:Object(u.a)("jiraAttachmentsContainer",t)},e.map(e=>i.h(c.a,{class:"attachmentRow",logo:i.h(d.a,null),description:e.label,text:e.attachmentIds,href:e.href,onClick:this.handleJiraAttachmentClick})))}render(){const{loading:e,integration:{jira:t}}=this.state,{wrappingFn:n,items:i,maxNumberOfAttachmentsShown:s}=this.props;if(e||!i||!i.length||!t)return null;const a=i.reduce((e,n)=>n.itemId?e.concat(function(e,{itemType:t,itemId:n,label:i},s){if(!e)return[];const a=Object(l.x)(e.filter(e=>e.type===t&&e.itemId===n),"deploymentUrl");return Object.values(a).map(e=>{let t="",n="",a="",o=0;return e.forEach((e,i)=>{0===i?(t=e.issueKey,n=e.issueUrl,a+="?jql=issuekey in ("+e.issueKey):i<s?(t+=", "+e.issueKey,a+=","+e.issueKey):(o++,a+=","+e.issueKey)}),a+=")",o>0&&(t+=` and ${o} more`),{attachmentIds:t,label:i,href:e.length>1?n+a:n}})}(t.attachments,n,s)):e,[]),o=this.renderJiraAttachments(a);return a.length>0&&n?n(o):o}}g.propTypes={wrappingFn:a.a.func,itemType:a.a.string,itemId:a.a.string,maxNumberOfAttachmentsShown:a.a.number},g.defaultProps={maxNumberOfAttachmentsShown:3},t.a=Object(r.a)(g,{withProps:!0,pure:!1})},function(e,t,n){"use strict";var i=n(1248);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1250);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1271);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1274);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1279);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(643),s=(n(86),n(526),n(1290));n(1291);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(1327);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1340);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1349);t.a=i.a},function(e,t,n){"use strict";var i=n(1486);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1492);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1493);t.a=i.a},function(e,t,n){"use strict";var i=n(1494);t.a=i.a},function(e,t,n){"use strict";var i=n(1502);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1506);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1507);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1508);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1510);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1512);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1519);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1521);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0);const s=i.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.h("path",{fill:"#C1BEC1","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"}));t.i=s;const a=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.175.123l4.117 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.125l-4.117 1.98c-.12.058-.245.095-.371.112l-.127.01a1.245 1.245 0 0 1-.923-.363L5.87 12.332l-3.433 2.605a.833.833 0 0 1-.97.027l-.093-.074L.273 13.89a.833.833 0 0 1-.001-1.232l2.977-2.715L.272 7.227a.833.833 0 0 1 0-1.231l1.102-1.001a.833.833 0 0 1 1.063-.048L5.87 7.552 13.754.365c.124-.125.27-.219.428-.28l.12-.04c.285-.078.594-.056.873.078zm-.172 5.281L9.021 9.942l5.982 4.538V5.404z"}));t.m=a;const o=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.174.123l4.118 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.126l-4.118 1.98c-.437.21-.952.146-1.323-.154l-.088-.08.07.062a.732.732 0 0 0 1.17-.588V.882a.732.732 0 0 0-1.17-.587l-.07.06.088-.078c.371-.3.886-.364 1.323-.154zm-2.05.742a.625.625 0 0 1 1.046.461v4.51l-5.238 4.15 5.238 4.063v4.504a.625.625 0 0 1-1.047.46L.272 7.228a.833.833 0 0 1 0-1.232l1.102-1.001a.833.833 0 0 1 1.063-.048l3.395 2.634zM2.868 10.42l2.559 2.333-2.989 2.184a.833.833 0 0 1-1.063-.047L.273 13.889a.833.833 0 0 1-.001-1.232l2.595-2.237z"}));t.n=o;const r=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.988 0a8.988 8.988 0 0 1 5.785 15.867l1.253 2.173a.598.598 0 0 1 .059.149l.013.078.13 1.498a.16.16 0 0 1-.073.138.154.154 0 0 1-.103.014l-.05-.022-1.248-.85a.47.47 0 0 1-.116-.103l-.046-.068-1.19-2.056a8.947 8.947 0 0 1-4.414 1.158A8.947 8.947 0 0 1 5.54 16.8l-1.203 2.083a.585.585 0 0 1-.1.118l-.062.052-1.247.842c-.048.032-.105.04-.153.008a.158.158 0 0 1-.072-.097l-.001-.04.113-1.507a.554.554 0 0 1 .038-.153l.035-.074L4.16 15.83A8.988 8.988 0 0 1 9.988 0zm3.102 14.55a6.375 6.375 0 0 1-5.995.136l-.256-.135-.69 1.197a7.738 7.738 0 0 0 3.839 1.013 7.738 7.738 0 0 0 3.807-.994l-.705-1.216zM9.988 1.216A7.773 7.773 0 0 0 4.78 14.759l3.169-5.48-.324-.324c-.084-.084-.132-.158-.144-.225l-.002-.05h-.008V6.567c0-.474.363-.87.823-.925l.108-.006h.526V3.968h2.065v1.668h.518c.474 0 .87.363.925.823l.007.108V8.68a.425.425 0 0 1-.099.213l-.055.062-.324.324 1.603 2.77a4.776 4.776 0 0 0 1.151-2.858l.007-.252h1.66a6.415 6.415 0 0 1-1.756 4.409l-.196.199.72 1.249A7.773 7.773 0 0 0 9.987 1.215zm.746 9.287l-.316.316a.62.62 0 0 1-.36.186l-.101.008-.008-.008a.603.603 0 0 1-.38-.116l-.082-.07-.316-.316-1.506 2.607a4.727 4.727 0 0 0 2.292.591c.741 0 1.444-.166 2.057-.464l.226-.119-1.506-2.615zm-.77-4.049c-.696 0-1.246.551-1.246 1.247 0 .646.49 1.177 1.113 1.24l.126.007A1.253 1.253 0 0 0 11.204 7.7c0-.688-.559-1.238-1.24-1.247z"}));t.a=r;const l=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M19.228.003c.426 0 .775.349.775.774v18.451a.777.777 0 0 1-.775.77H.778a.778.778 0 0 1-.775-.774V.777c0-.425.349-.774.774-.774h18.451zM15.643 3.05c.179-.72-.564-.331-.564-.331L4.613 6.041c-.052.016-.403.146-.29.802L4.3 9.927c-.001.05.014.4.703.546l4.175 1.344-4.408 1.346c-.06.006-.529.077-.47 1.016.063.998-.004 3.008-.004 3.008s.044.372.555.157l10.465-3.34c.06-.016.309-.093.1-.18.092.022.299.034.267-.303l.005-3.438c.01-.046.055-.369-.546-.586l-4.24-1.33 4.253-1.329c.645-.116.515-.586.515-.586z"}));t.l=l;const c=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M6.118 1.158c.79-.058 1.758.367 2.801 1.232a.382.382 0 1 1-.487.587c-.875-.726-1.677-1.102-2.257-1.058a.98.98 0 0 0-.38.103c-.672.342-.938 1.528-.729 3.252.051.417.13.855.23 1.306.829-.128 1.734-.21 2.698-.238 2.201-2.847 4.61-4.695 6.316-4.76.427-.017.807.08 1.124.285.887.576 1.16 1.882.787 3.777a.382.382 0 0 1-.75-.147c.3-1.52.134-2.609-.453-2.99-.182-.118-.41-.172-.68-.162-1.356.051-3.424 1.632-5.353 3.985.385.003.79.015 1.209.037 2.609.137 5.047.638 6.865 1.412 1.937.824 2.972 1.888 2.914 2.997-.052.977-.918 1.82-2.505 2.435a.382.382 0 0 1-.276-.712c1.25-.484 1.985-1.127 2.018-1.763.04-.754-.853-1.575-2.45-2.255-1.738-.74-4.084-1.22-6.606-1.351a27.133 27.133 0 0 0-1.444-.038c-.11 0-.219.002-.327.004a25.337 25.337 0 0 0-1.935 2.975c.227.532.477 1.069.75 1.604 1.146 2.25 2.54 4.2 3.924 5.487 1.27 1.182 2.385 1.664 3.058 1.322.641-.327.915-1.439.75-3.05-.179-1.753-.85-3.908-1.89-6.068a.382.382 0 0 1 .688-.33c1.077 2.237 1.774 4.482 1.962 6.32.201 1.97-.212 3.323-1.164 3.808a1.776 1.776 0 0 1-.816.189c-.881 0-1.953-.557-3.108-1.632-1.448-1.347-2.898-3.371-4.084-5.7-.186-.363-.36-.728-.525-1.092-.666 1.321-1.154 2.608-1.42 3.761-.389 1.691-.249 2.897.384 3.308.595.387 1.675.082 2.963-.835a.382.382 0 1 1 .443.621c-1.067.76-2.01 1.146-2.786 1.146-.389 0-.736-.097-1.036-.292-1.736-1.128-.876-4.951 1.065-8.605a21.89 21.89 0 0 1-.879-2.577C2.244 7.949.812 8.872.765 9.769c-.034.643.611 1.339 1.816 1.96a.382.382 0 0 1-.35.678C.723 11.63-.048 10.704.003 9.73c.072-1.375 1.812-2.468 4.543-3.016a13.94 13.94 0 0 1-.236-1.347c-.254-2.091.15-3.52 1.14-4.024.203-.104.429-.166.67-.184zm3.932 8.086a1.145 1.145 0 1 1 0 2.29 1.145 1.145 0 0 1 0-2.29zM7.408 7.13c-.69.038-1.332.105-1.926.195.164.598.365 1.217.604 1.847A25.166 25.166 0 0 1 7.408 7.13z"}));t.b=c;const d=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M2.906 0l6.25.75 2.183 2.492 2.442-2.93L20 5.345l-.375 11.562L11.937 20 7.74 17.278 1.625 19.5 2.906 15l.266-.894-2.953-2.325 1.733-3.22L0 7.906 2.906 0zM16.25 3.75H3.75v12.5h12.5V3.75z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zM8.28 6.312v-.937H5.72v.938h.718v3.28H5.72v.97H8.28v-.97h-.719v-3.28h.72zm2.5 4.313a2.097 2.097 0 0 1-1.031-.219 2.46 2.46 0 0 1-.688-.562l.72-.813c.129.143.276.269.437.375a.916.916 0 0 0 .5.125.581.581 0 0 0 .5-.219.916.916 0 0 0 .187-.656V5.312h1.156v3.375c.012.277-.03.553-.124.813a1.562 1.562 0 0 1-.438.688 2.234 2.234 0 0 1-1.219.437z"})));t.h=d;const u=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M12.75 0l4.656.406.986 2.423.014-.017L20 6.783l-2.188 2.28L20 13.157l-3.75 2.223V3.75H3.75v12.5h11.031l-.332.197L13.75 20 2.687 18.062 0 2.095 5 .03l3.156 1.875L11.094.344l.924.357L12.75 0z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zm6.125-4.094L11.719 9c.469.375.937.625 1.531.625.469 0 .75-.188.75-.5 0-.281-.188-.438-1.031-.656-1.031-.281-1.688-.563-1.688-1.594v-.031c0-.938.75-1.563 1.781-1.563a3.06 3.06 0 0 1 1.907.657l-.594.875a2.381 2.381 0 0 0-1.313-.5c-.406 0-.656.187-.656.468 0 .344.219.469 1.094.688 1.031.281 1.625.656 1.625 1.562 0 1.031-.781 1.625-1.875 1.625a3.603 3.603 0 0 1-2.188-.844m-1-4.437l-.78 3-.876-3h-.875l-.875 3-.781-3H4.656l1.5 5.188h.969l.844-3 .843 3h.97l1.5-5.188h-1.22z"})));t.o=u;const h=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})));t.e=h;const p=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.985 3.125a3.243 3.243 0 0 1 3.236 3.052l.005.184v2.416a1.658 1.658 0 0 1-.715 1.388 1.141 1.141 0 0 1-.325 1.67l-.116.06v.892a.595.595 0 0 1-.123.364c.066.527.206.913.428 1.171.067.013.142.02.228.02.318 0 .551-.306.648-.846l.023-.153.355-2.61c.139-.9.476-1.6.984-2.107.38-.38.844-.643 1.365-.796l.227-.059 1.722-.454a.41.41 0 0 1 .419.408c0 .36-.043.535-.252.792a.88.88 0 0 1-.292.206c-.14.07-.32.142-.534.216a11.174 11.174 0 0 1-.768.233c-.592.16-1.06.69-1.199 1.276.396-.427.887-.704 1.527-.866l.248-.055 1.603-.412c.256 0 .452.317.452.543 0 .258-.113.531-.286.745-.134.165-.396.313-.663.392l-.134.034-.672.143a2.516 2.516 0 0 0-.975.6c.306-.166.672-.259 1.116-.282l.229-.006h1.818c.23 0 .411.19.411.419a1.075 1.075 0 0 1-.958 1.071l-.122.007-1.154-.005c-.24 0-.47.176-.709.534-.198.299-.365.653-.63 1.296-.239.577-.565 1.066-1.001 1.434-.534.45-1.206.696-2.025.696a3.905 3.905 0 0 1-2.455-.884 3.2 3.2 0 0 1-.933-1.253 3.2 3.2 0 0 1-.933 1.253 3.905 3.905 0 0 1-2.456.884c-.819 0-1.49-.245-2.025-.696-.436-.368-.762-.857-1-1.434-.266-.643-.433-.997-.631-1.296-.208-.314-.412-.487-.62-.526l-.09-.008-1.152.005A1.078 1.078 0 0 1 0 11.703c0-.2.139-.37.328-.41l.083-.009H2.23c.55 0 .988.094 1.346.289a2.478 2.478 0 0 0-.793-.531l-.182-.07-.673-.143c-.31-.065-.64-.233-.797-.426a1.23 1.23 0 0 1-.285-.745c0-.201.154-.474.369-.532l.082-.011 1.604.412c.763.15 1.329.441 1.774.92-.14-.586-.607-1.115-1.2-1.275a12.39 12.39 0 0 1-.767-.233 4.554 4.554 0 0 1-.534-.216.88.88 0 0 1-.292-.206c-.209-.257-.252-.433-.252-.792 0-.19.135-.36.331-.4l.088-.008 1.722.454c.613.14 1.158.42 1.593.855.456.456.775 1.068.936 1.842l.047.264.356 2.611c.077.635.323.998.67.998.086 0 .161-.006.228-.019.222-.258.362-.644.428-1.171a.594.594 0 0 1-.115-.263l-.008-.1v-.857a1.144 1.144 0 0 1-.763-1.077c0-.277.1-.532.266-.73a1.642 1.642 0 0 1-.651-1.183l-.008-.164V6.361a3.24 3.24 0 0 1 3.236-3.236zm-2.183 7.224a.696.696 0 0 0-.218.505.701.701 0 1 0 1.343-.282 14.892 14.892 0 0 1-.306-.056 2.223 2.223 0 0 1-.82-.167zm4.307.025a2.244 2.244 0 0 1-.756.142c-.133.026-.267.05-.4.072a.701.701 0 1 0 1.35.267.696.696 0 0 0-.194-.48zm-.509.193a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577zm-3.336-.001a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577z"}));t.k=p;const g=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M18.659 4.98a9.957 9.957 0 0 0-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341a9.956 9.956 0 0 0-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091a.51.51 0 0 0 .17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051a3.82 3.82 0 0 1-.723.046 5.506 5.506 0 0 1-.904-.091 2.022 2.022 0 0 1-.873-.39 1.652 1.652 0 0 1-.573-.801l-.13-.3a3.254 3.254 0 0 0-.41-.664c-.187-.243-.375-.408-.566-.495l-.091-.065a.956.956 0 0 1-.17-.156.714.714 0 0 1-.117-.183c-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065a2.59 2.59 0 0 0 .586-.195c.078-.582.29-1.029.638-1.341a8.915 8.915 0 0 1-1.335-.235 5.314 5.314 0 0 1-1.224-.508A3.505 3.505 0 0 1 4.57 12.8c-.278-.347-.506-.803-.684-1.367-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351a9.245 9.245 0 0 1 2.5-.338c.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367a3.64 3.64 0 0 1-1.054.866c-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"}));t.f=g;const m=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M17.717.943l.002.031v18.02A1.006 1.006 0 0 1 16.67 20l-13.422-.603a1.006 1.006 0 0 1-.96-.967l-.62-16.508A1.006 1.006 0 0 1 2.61.88L13.614.19l-.094 2.267a.15.15 0 0 0 .013.067l.018.03a.15.15 0 0 0 .167.052l.043-.023.88-.668.744.586a.15.15 0 0 0 .237-.075l.006-.048L15.546.07 16.65.002a1.006 1.006 0 0 1 1.066.94zm-7.721 2.46c-2.618 0-4.084 1.422-4.084 3.554 0 3.715 5.012 3.786 5.012 5.812 0 .568-.278.906-.89.906-.8 0-1.115-.408-1.078-1.794 0-.3-3.044-.394-3.137 0-.236 3.36 1.856 4.328 4.251 4.328 2.32 0 4.14-1.237 4.14-3.476 0-3.98-5.087-3.874-5.087-5.847 0-.8.595-.906.947-.906.372 0 1.04.065.984 1.558 0 .391 2.635.204 2.99-.07 0-2.665-1.43-4.065-4.048-4.065z"}));t.j=m;const f=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M19.91 11.374L18.866 8.16a.454.454 0 00-.026-.086l-2.098-6.46a.834.834 0 00-.796-.568.82.82 0 00-.787.573l-2 6.155H6.845L4.842 1.62a.82.82 0 00-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684a.47.47 0 00.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95a.254.254 0 01-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429a.254.254 0 01-.09.284z"}));t.g=f;const b=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M.649 1a.64.64 0 00-.64.745l2.72 16.51a.872.872 0 00.853.73H16.63a.642.642 0 00.641-.537l2.72-16.699a.64.64 0 00-.528-.733c-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"}));t.c=b;const y=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})));t.d=y},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1547);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1565);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1583);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1587);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1592);t.a=i.a},function(e,t,n){"use strict";var i=n(1615);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b})},function(e,t,n){"use strict";var i=n(0),s=n(43);t.a=function({type:e,selected:t}){const n=t?"#fff":"var(--gandalf)";switch(e){case"about":return i.h(s.s,{color:n});case"colors":return i.h(s.i,{width:"22",height:"24",color:n});case"textStyles":return i.h(s.F,{width:"22",height:"24",color:n});case"spacing":return i.h(s.D,{color:n});case"components":return i.h(s.j,{color:n});default:return null}}},function(e,t,n){"use strict";var i=n(1629);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(204),r=n(34),l=n(3),c=n(1658);n.n(c);function d(e){const{onHideClick:t,onActionButtonClick:n,hideButtonText:s,actionButtonText:a,emoji:c,title:d,description:u,children:h,class:p}=e,g=Object(l.a)("genericStyleguideHintBox",p);return i.h(o.a,{class:g,onHideClick:t,hideButtonText:s,hideEmoji:!0},i.h("div",{class:"hintBoxContainer"},i.h("span",{class:"emoji"},c),i.h("div",{class:"text"},i.h("h5",null,d),i.h("p",null,u)),n&&i.h(r.a,{class:"actionButton",onClick:n,primary:!0},a)),h)}d.propTypes={onHideClick:a.a.func.isRequired,hideButtonText:a.a.string.isRequired,onActionButtonClick:a.a.func,actionButtonText:a.a.string,emoji:a.a.string.isRequired,title:a.a.string.isRequired,description:a.a.string.isRequired},t.a=d},function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i="CANDIDATE_SPACING_TOKEN"},function(e,t,n){"use strict";var i=n(1677);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1678);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(1700);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";const i=Object.freeze({LEFT:"left",RIGHT:"right"});t.a=i},function(e,t,n){"use strict";var i=n(1738);n.d(t,"a",function(){return i.a})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(36),a=n.n(s),o=n(8),r=n(467),l=(n(216),n(822),n(823),n(620)),c=(n(608),n(619),n(824),n(825),n(835),n(836),n(89)),d=n(843);async function u(){const e=function(){const e=Object(o.h)(location.search),t=e.uri&&e.uri[0];if(!t)return null;try{const e=new URL(t),n=Object(o.a)(e);return n||null}catch(e){return null}}();e?history.replaceState(null,null,e):await Object(l.goToLastOrganizationWorkspace)()}function h(e){return e?e.map(e=>Object.assign({},e,{complete:!1})):null}a.a.get("userToken")?(i.render(i.h(d.a),document.body),function(){if("apiData"in Zeplin){const e=Zeplin.apiData,{projects:t,styleguides:n,focusedBarrels:i,oid:s,organizations:a,barrel:o,project:l,linkedStyleguides:c=[],ancestors:d,versions:u,dots:p,user:g}=e,m=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["projects","styleguides","focusedBarrels","oid","organizations","barrel","project","linkedStyleguides","ancestors","versions","dots","user"]);r.b.hydrateEmbeddedData({projects:h(t),styleguides:h(n),focusedBarrels:i,oid:s,organizations:a,project:l,linkedStyleguides:c,versions:u,dots:p,styleguide:o,ancestors:d,user:g}),Zeplin.apiData=m}}(),async function(){await u(),c.a.start(document.body)}()):Zeplin.requireLogin()},function(e,t,n){"use strict";var i=n(36),s=n.n(i),a=n(61),o=n(24),r=n(188),l=n(13),c=n(289),d=n(60);!async function(){let e=d.b.getState(),{loading:t}=e,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["loading"]);if(t){if(!(n=await function(){const e=Object(c.a)("user",{remove:!1});return e?Promise.resolve(e):s.a.get("userToken")?Object(l.getUserProfile)():Promise.resolve(null)}()))return;d.a.loadUser(n)}const{notificationBannerStatus:i,notificationStatus:u,zeplinThreeZeroWhatsNewSeen:h,shouldPromoteSpacingSectionDescriptionEditButton:p,shouldDisplayStyleguideTutorial:g}=await o.d.getAll(),m=(await r.b()).find(e=>e.id===n.paymentPlan);d.a.updateUser({isDesktopNotificationEnabled:u,zeplinThreeZeroWhatsNewSeen:h,shouldPromoteSpacingSectionDescriptionEditButton:p,shouldDisplayStyleguideTutorial:g,paymentPlan:m}),window.Notification&&"default"===Notification.permission&&i&&a.b({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback(){o.d.set("notificationBannerStatus",!1)},bodyCallbacks:{a(e){e.preventDefault(),a.a("notification"),Notification.requestPermission(e=>{d.a.setDesktopNotifications("granted"===e)})}}}),"registered"===n.status&&"dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&a.b({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback(){sessionStorage.setItem("verificationBannerStatus","dismissed")}})}()},function(e,t,n){"use strict";var i=n(18),s=n(1),a=n(8),o=n(318);const r=200,l=150,c=80,d=52,u="subscribe-to-imports",h="imports-change",p="imports-started",g="clear-imports",m="retry-import",f="cancel-import",b="retry-getting-project",y="remove-component-limit-rejection",S="set-suggested-resources";function v(e,t){o.b.handleImports(t)}function C(){i.a.ipcRenderer.on(h,Object(s.f)(v)),i.a.ipcRenderer.send(u)}function E(e){e.forEach(function(e){e.remove()})}function O(e){e.stopPropagation(),"height"===e.propertyName&&e.target.remove()}function T(e){e.stopPropagation();const t=e.target;t.removeEventListener("transitionend",T),t.classList.remove("resize"),t.style.transitionDuration="";const n=document.querySelectorAll(".versionImport"),i=document.querySelectorAll(".versionImport.hidden");0!==n.length&&i.length!==n.length||o.b.hideImportsIndicator(),i.length&&E(i),C()}function k(e){e.stopPropagation();const t=document.querySelector(".versionImports .body"),n=document.querySelector(".versionImports .list"),s=Array.from(document.querySelectorAll(".versionImport.done, .versionImport.failed"));if(0===s.length)return;i.a.ipcRenderer.removeAllListeners(h);var a=s.reduce(function(e,n){return!function(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.bottom>=i.top&&n.top<=i.bottom}(n,t)?e.hideAndRemove.push(n):e.animateAndRemove.unshift(n),e},{hideAndRemove:[],animateAndRemove:[]});const o=a.hideAndRemove,u=a.animateAndRemove;let p=n.clientHeight,m=p,f=0;n.style.height=p+"px";var b=t.getBoundingClientRect();o.forEach(function(e){const i=e.getBoundingClientRect();p-=i.height,m-=e.height,n.style.height=p+"px";const s=i.bottom<b.top;e.classList.add("hidden"),s&&(t.scrollTop-=i.height)}),u.forEach(function(e){const t=e.getBoundingClientRect().height;m-=t,e.addEventListener("transitionend",O),e.style.transitionDelay=f+"ms",e.classList.add("clear"),f+=c});let y=f-c;const S=m<p,v=m<t.clientHeight-d;if(S&&v){p>t.clientHeight-d&&(n.style.height=t.clientHeight-d+"px"),n.addEventListener("transitionend",T),n.classList.add("resize"),n.style.transitionDuration=y+l+r+"ms",n.style.height=m+"px"}else n.style.height="auto",E(o),u.length>0?setTimeout(C,y+200):C();i.a.ipcRenderer.send(g)}i.a&&i.a.ipcRenderer&&(i.a.ipcRenderer.on(p,o.b.showImportsList),i.a.ipcRenderer.on(S,function(e,t){o.b.setSuggestedResources(t)}),o.c.register(e=>{switch(e.type){case o.a.RETRY_IMPORT:!function(e){i.a.ipcRenderer.send(m,e)}(e.id);break;case o.a.CANCEL_IMPORT:!function(e){i.a.ipcRenderer.send(f,e)}(e.id);break;case o.a.RETRY_GET_PROJECT_FOR_IMPORTS:!function(e){i.a.ipcRenderer.send(b,e)}(e.id);break;case o.a.CLEAR_IMPORTS:k(e.ev);break;case o.a.HIDE_COMPONENT_LIMIT_HINT:!function(e){i.a.ipcRenderer.send(y,e)}(e.barrelId);break;case o.a.SEE_PLANS:location.assign(Object(a.j)("profile-billing",{query:{period:"annual"}}))}}),C())},function(e,t,n){"use strict";var i=n(18),s=n(89),a=n(8);function o(e){const t=new URL(e);let n=e;const i=Object(a.h)(t.search);if(i.vid){t.pathname.match(/\/project\/([0-9a-z]{24})\/screen\/([0-9a-z]{24})/)&&(t.pathname+=`/version/${i.vid[0]}`,delete i.vid,t.search=Object(a.f)(i),n=t.toString())}s.a.history.push(n)}n(37).b&&(i.a.ipcRenderer.on("load-url",(e,t)=>o(t)),i.a.ipcRenderer.on("load-app-uri",(e,t)=>{try{const e=new URL(t),{urlSlug:n,url:i,query:s}=Object(a.g)(e);o(Object(a.j)(n,{url:i,query:s}))}catch(e){}}))},function(e,t,n){"use strict";var i=n(18),s=n(37),a=n(826),o=n(829),r=n(830),l=n(831),c=n(832);n(833);s.b&&i.a.ipcRenderer.on("get-menu-template-v1",(e,{context:t})=>{i.a.ipcRenderer.send("menu-template-v1",{menuTemplate:function({showBadge:e,appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i}){return[Object(a.a)(),Object(o.a)(),Object(r.a)(e),Object(l.a)(),Object(c.a)({appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i})]}(t)})})},function(e,t,n){"use strict";t.a=function(){const{selectedTab:e}=o.e.getState(),{barrelId:t,barrelType:n}=i.a.getState(),r=!t&&"projects"===e||t&&n===l.a.PROJECT,d=!t&&"styleguides"===e||t&&n===l.a.STYLEGUIDE;if(r)return new s.a({id:a.a.PROJECT_SUBMENU,label:"Project",submenu:[{label:"New project",id:a.a.NEW_PROJECT,enabled:o.d.canCreateProject(),accelerator:"CmdOrCtrl+N"},c(l.a.PROJECT)]});if(d)return new s.a({id:a.a.STYLEGUIDE_SUBMENU,label:"Styleguide",submenu:[{label:"New styleguide",id:a.a.NEW_STYLEGUIDE,enabled:o.d.canCreateStyleguide(),accelerator:"CmdOrCtrl+N"},c(l.a.STYLEGUIDE)]});return new s.a({id:a.a.PROJECT_SUBMENU,label:"Project",enabled:!1})};var i=n(30),s=n(524),a=n(469),o=n(151),r=n(827),l=n(10);function c(e){const{[`${e}s`]:t}=r.a.getState(),n=e===l.a.PROJECT?a.a.OPEN_RECENT_PROJECT_SUBMENU:a.a.OPEN_RECENT_STYLEGUIDE_SUBMENU,i=e===l.a.PROJECT?a.a.OPEN_RECENT_PROJECT:a.a.OPEN_RECENT_STYLEGUIDE;return{label:"Open recent",id:n,enabled:t.length>0,submenu:t.map(({_id:e,name:t})=>({id:`${i}.${e}`,label:t}))}}},function(e,t,n){"use strict";var i=n(663);n(828);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(663),s=n(535),a=n(24),o=n(27);const r={updatePrefs(){a.d.set("recentlyLoadedBarrels",i.a.getState())}};!async function(){if(!o.a.isWindowsApp)return;const{projects:e,styleguides:t}=await a.d.get("recentlyLoadedBarrels");s.a.initRecentlyLoadedBarrels({projects:e,styleguides:t}),i.a.addListener(()=>{r.updatePrefs()})}()},function(e,t,n){"use strict";t.a=function(){const{barrelType:e}=r.a.getState(),t=l.a.getBarrel(),n=d.a.getScreen(),u=l.a.findUser();return new i.a({id:s.a.EDIT_SUBMENU,label:"Edit",submenu:[function(e,t,n){if(!e)return{id:s.a.DELETE_PROJECT,label:"Delete project…",enabled:!1};return{id:t===c.a.PROJECT?s.a.DELETE_PROJECT:s.a.DELETE_STYLEGUIDE,label:t===c.a.PROJECT?"Delete project…":"Delete styleguide…",enabled:!!e&&o.C.canDeleteProject(n)}}(t,e,u),function(e,t,n){if(!e)return{id:s.a.DELETE_PROJECT,label:"Leave project…",enabled:!1};return{id:t===c.a.PROJECT?s.a.LEAVE_PROJECT:s.a.LEAVE_STYLEGUIDE,label:t===c.a.PROJECT?"Leave project…":"Leave styleguide…",enabled:t===c.a.PROJECT?o.C.canLeaveProject(n):o.C.canLeaveStyleguide(n)}}(t,e,u),a.a,function(e,t,n){if(!e||!t)return{id:s.a.DELETE_SCREEN,label:"Delete screen…",enabled:!1};return{id:s.a.DELETE_SCREEN,label:"Delete screen…",enabled:o.C.canManageScreens(n)}}(t,n,u),a.a,function(e,t,n){if(!e||!t)return{id:s.a.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:!1};return{id:s.a.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:o.C.canUpdateProject(n)&&(!e.thumbnail||e.thumbnail!==t.versions[0].snapshot.url)}}(t,n,u),a.a,function(e,t,n){if(!e||!t)return{id:s.a.MANAGE_TAGS,label:"Manage tags…",accelerator:"Alt+T",enabled:!1};const i=t.tags&&0!==t.tags.length;return{id:i?s.a.MANAGE_TAGS:s.a.ADD_TAG,label:i?"Manage tags…":"Add tag…",accelerator:"Alt+T",enabled:o.C.canManageScreens(n)}}(t,n,u)]})};var i=n(524),s=n(469),a=n(623),o=n(1),r=n(30),l=n(88),c=n(10),d=n(145)},function(e,t,n){"use strict";t.a=function(e){const t=s.a.getBarrel(),n=a.a.getScreen(),{selectedView:h,barrelType:p}=l.a.getState(),{versionsVisible:g}=d.a.getState();return new u.a({id:i.a.VIEW_SUBMENU,label:"View",submenu:[...function(e,t){const n=!!e&&!!t;return[{id:i.a.ZOOM_IN,label:"Zoom in",accelerator:"Alt+=",enabled:n},{id:i.a.ZOOM_IN,label:"Zoom out",accelerator:"Alt+-",enabled:n},{id:i.a.ACTUAL_SIZE,label:"Actual size",accelerator:"Alt+0",enabled:n}]}(t,n),r.a,function(e,t){const n=!!e&&!!t&&o.a.popout;return{id:i.a.OPEN_POPOUT,label:"Pop screen out",accelerator:"Alt+O",enabled:n}}(t,n),r.a,...function(e,t,n){const s=!e,a=!!e&&"dashboard"===n,o=!!e&&t===c.a.PROJECT,l=!!e&&"styleguide"===n,d=!!e&&t===c.a.PROJECT;return[{id:i.a.WORKSPACE,label:"Workspace",type:"checkbox",accelerator:"Alt+Shift+A",checked:s},r.a,{id:i.a.DASHBOARD,label:"Dashboard",type:"checkbox",accelerator:"Alt+A",checked:a,enabled:o},{id:i.a.STYLEGUIDE,label:"Styleguide",type:"checkbox",accelerator:"Alt+S",checked:l,enabled:d}]}(t,p,h),r.a,function(e){const t=!!e;return{id:i.a.JUMP_TO_SCREEN,label:"Jump to screen…",accelerator:"Alt+J",enabled:t}}(t),r.a,function(e,t,n){const s=!!e&&!!t,a=n?"Hide versions":"Show versions";return{id:n?i.a.HIDE_VERSIONS:i.a.SHOW_VERSIONS,label:a,enabled:s}}(t,n,g),{id:i.a.SHOW_BADGE,label:"Show badge",type:"checkbox",checked:e},r.a,{id:i.a.TOGGLE_FULL_SCREEN,label:"Toggle full screen",role:"toggleFullScreen"},r.a,{id:i.a.RELOAD,label:"Reload",accelerator:"CmdOrCtrl+R"},{id:i.a.RELOAD_IGNORING_CACHE,label:"Reload ignoring cache",accelerator:"CmdOrCtrl+Shift+R"},{id:i.a.TOGGLE_DEV_TOOLS,label:"Toggle dev tools",accelerator:"CmdOrCtrl+Shift+I"},{id:i.a.TOGGLE_DEV_TOOLS_HOST,label:"Toggle dev tools (host)",role:"toggleDevTools"}]})};var i=n(469),s=n(88),a=n(145),o=n(37),r=n(623),l=n(30),c=n(10),d=n(196),u=n(524)},function(e,t,n){"use strict";t.a=function(){return new s.a({id:i.a.WINDOW_SUBMENU,label:"Window",submenu:[{role:"minimize"},{role:"close"}]})};var i=n(469),s=n(524)},function(e,t,n){"use strict";t.a=function({installUpdatesAutomatically:e,appUpdaterState:t,pluginUpdaterState:n}){return new s.a({id:i.a.HELP_SUBMENU,label:"Help",submenu:[...function({appUpdaterState:e,pluginUpdaterState:t}){const n={id:i.a.CHECK_FOR_UPDATES,label:r[e],enabled:e===o.IDLE};if(t===l.DISABLED)return[n];return[n,{id:i.a.CHECK_FOR_PLUGIN_UPDATES,label:c[t],enabled:t===l.IDLE}]}({appUpdaterState:t,pluginUpdaterState:n}),{id:i.a.INSTALL_UPDATES_AUTOMATICALLY,label:"Install updates automatically",type:"checkbox",checked:e},a.a,{id:i.a.INSTALL_FIGMA_PLUGIN,label:"Install Figma plugin"},{id:i.a.INSTALL_PHOTOSHOP_PLUGIN,label:"Install Photoshop plugin"},a.a,{id:i.a.SHOW_LOGS_IN_EXPLORER,label:"Show logs in Explorer"},{id:i.a.RESET_SUGGESTED_COLORS,label:"Reset suggested colors"},{id:i.a.RESET_SUGGESTED_TEXT_STYLES,label:"Reset suggested text styles"},{id:i.a.CLEAR_CACHE_AND_RESTART,label:"Clear cache and restart"},{id:i.a.RESET_ZEPLIN,label:"Reset Zeplin"},a.a,{id:i.a.OPEN_HELP_CENTER,label:"Open help center"},a.a,{id:i.a.ABOUT_ZEPLIN,label:"About Zeplin"}]})};var i=n(469),s=n(524),a=n(623);const o={IDLE:"IDLE",CHECKING_FOR_UPDATES:"CHECKING_FOR_UPDATES",DOWNLOADING_UPDATES:"DOWNLOADING_UPDATES"},r={[o.IDLE]:"Check for updates",[o.CHECKING_FOR_UPDATES]:"Checking for updates",[o.DOWNLOADING_UPDATES]:"Downloading updates"},l={DISABLED:"DISABLED",IDLE:"IDLE",CHECKING_FOR_UPDATES:"CHECKING_FOR_UPDATES",DOWNLOADING_UPDATES:"DOWNLOADING_UPDATES"},c={[l.IDLE]:"Check for plugin updates",[l.CHECKING_FOR_UPDATES]:"Checking for plugin updates",[l.DOWNLOADING_UPDATES]:"Downloading plugin updates"}},function(e,t,n){"use strict";var i=n(18),s=n(469),a=n(834),o=n(31),r=n(60),l=n(25),c=n(153),d=n(37),u=n(151),h=n(8),p=n(89);const g={newProject(){const{selectedOrganizationId:e}=u.e.getState(),{barrelId:t}=o.e.getState();if(t)o.d.navigateToWorkspace({newProject:!0});else{const t="user"===e?Object(h.j)("projects",{query:{newProject:!0}}):Object(h.j)("organization-projects",{url:{oid:e},query:{newProject:!0}});p.a.history.push(t)}},newStyleguide(){const{selectedOrganizationId:e}=u.e.getState(),{barrelId:t}=o.e.getState();if(t)o.d.navigateToWorkspace({newStyleguide:!0});else{const t="user"===e?Object(h.j)("styleguides",{query:{newStyleguide:!0}}):Object(h.j)("organization-styleguides",{url:{oid:e},query:{newStyleguide:!0}});p.a.history.push(t)}},openRecentProject(e){p.a.history.push(Object(h.j)("project",{url:{bid:e}}))},openRecentStyleguide(e){p.a.history.push(Object(h.j)("styleguide",{url:{bid:e}}))},deleteProject(){const{id:e,name:t}=o.d.getBarrel();a.a("project",t,()=>{o.b.remove({bid:e,syncWithApi:!0})})},deleteStyleguide(){const{id:e,name:t}=o.d.getBarrel();a.a("styleguide",t,()=>{o.b.remove({bid:e,syncWithApi:!0})})},leaveBarrel(){const{userId:e}=r.b.getState(),{name:t}=o.d.getBarrel();l.a({message:`Leave "${t}"?`,done:{name:"LEAVE",cb(){o.b.removeMember({mid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},deleteScreen(){const{_id:e,name:t}=c.e.getScreen();l.a({message:`Delete "${t}"?`,done:{name:"DELETE SCREEN",cb(){c.c.removeScreen({sid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},setAsThumbnail(){const{versions:[{snapshot:{url:e}}]}=c.e.getScreen();o.b.updateThumbnail({thumbnail:e,syncWithApi:!0})},manageTags(){const{screenId:e}=c.f.getState();c.c.openTagManager(e)}};d.b&&i.a.ipcRenderer.on("menu-item-clicked",(e,{id:t})=>{if(t.startsWith(s.a.OPEN_RECENT_PROJECT))g.openRecentProject(t.substring(s.a.OPEN_RECENT_PROJECT.length+1));else if(t.startsWith(s.a.OPEN_RECENT_STYLEGUIDE))g.openRecentStyleguide(t.substring(s.a.OPEN_RECENT_STYLEGUIDE.length+1));else switch(t){case s.a.NEW_PROJECT:g.newProject();break;case s.a.NEW_STYLEGUIDE:g.newStyleguide();break;case s.a.DELETE_PROJECT:g.deleteProject();break;case s.a.DELETE_STYLEGUIDE:g.deleteStyleguide();break;case s.a.LEAVE_PROJECT:case s.a.LEAVE_STYLEGUIDE:g.leaveBarrel();break;case s.a.DELETE_SCREEN:g.deleteScreen();break;case s.a.SET_AS_THUMBNAIL:g.setAsThumbnail();break;case s.a.MANAGE_TAGS:case s.a.ADD_TAG:g.manageTags();break;case s.a.ZOOM_IN:c.c.zoomIn();break;case s.a.ZOOM_OUT:c.c.zoomOut();break;case s.a.ACTUAL_SIZE:c.c.resetZoom();break;case s.a.OPEN_POPOUT:c.c.openPopout();break;case s.a.WORKSPACE:o.d.navigateToWorkspace();break;case s.a.DASHBOARD:o.b.goToDashboard();break;case s.a.STYLEGUIDE:o.b.goToStyleguide();break;case s.a.JUMP_TO_SCREEN:o.b.openJumpToPopup();break;case s.a.SHOW_VERSIONS:c.c.showVersions();break;case s.a.HIDE_VERSIONS:c.c.hideVersions()}})},function(e,t,n){"use strict";t.a=function(e,t,n){d=e,u=t,h=n,o.textContent=d,a.showModal()};var i=n(25),s=n(6);const a=document.getElementById("deleteBarrelDialog"),o=a.querySelector(".barrelType"),r=document.getElementById("barrelNameInput"),l=document.getElementById("deleteBarrelDialogCancelButton"),c=document.getElementById("deleteBarrelDialogDoneButton");let d,u,h;i.b.registerDialog(a),r.addEventListener("input",()=>{const e=r.value===u;a.querySelector("button.done").disabled=!e;const t=e?"":`${Object(s.h)(d)} name doesn't match provided value`;r.setCustomValidity(t)}),l.addEventListener("click",e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&a.close()}),a.addEventListener("close",()=>{r.value="",r.setCustomValidity(""),r.parentElement.classList.remove("typed"),a.querySelector("button.done").disabled=!0}),r.addEventListener("keydown",e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),r.value===u&&(a.close(),h())}}),c.addEventListener("click",()=>{r.value===u&&(a.close(),h())})},function(e,t,n){"use strict";var i=n(37),s=n(18),a=n(153),o=n(31),r=n(310);const l={CREATE_SCREEN:"CreateScreen",CREATE_SCREEN_VERSION:"CreateScreenVersion",CREATE_PROJECT_COMPONENT:"CreateProjectComponent",CREATE_PROJECT_COMPONENT_VERSION:"CreateProjectComponentVersion",CREATE_STYLEGUIDE_COMPONENT:"CreateStyleguideComponent",CREATE_STYLEGUIDE_COMPONENT_VERSION:"CreateStyleguideComponentVersion",AUTH_PROJECT_SLACK:"AuthProjectSlack",AUTH_STYLEGUIDE_SLACK:"AuthStyleguideSlack"};i.b&&(s.a.ipcRenderer.on(l.CREATE_SCREEN,(e,t)=>{const{params:{pid:n},body:i}=t;a.c.addScreen({pid:n,screen:i})}),s.a.ipcRenderer.on(l.CREATE_SCREEN_VERSION,(e,t)=>{const{params:{pid:n,sid:i},body:s}=t;a.c.addVersion({pid:n,sid:i,version:s})}),s.a.ipcRenderer.on(l.CREATE_PROJECT_COMPONENT,(e,t)=>{const{params:{pid:n,csid:i},body:s}=t;o.b.addComponent({bid:n,csids:i.split("/"),component:s})}),s.a.ipcRenderer.on(l.CREATE_PROJECT_COMPONENT_VERSION,(e,t)=>{const{params:{pid:n,csid:i,coid:s},body:a}=t;o.b.addComponentVersion({bid:n,csids:i.split("/"),coid:s,componentVersion:a})}),s.a.ipcRenderer.on(l.CREATE_STYLEGUIDE_COMPONENT,(e,t)=>{const{params:{stid:n,csid:i},body:s}=t;o.b.addComponent({bid:n,csids:i.split("/"),component:s})}),s.a.ipcRenderer.on(l.CREATE_STYLEGUIDE_COMPONENT_VERSION,(e,t)=>{const{params:{stid:n,csid:i,coid:s},body:a}=t;o.b.addComponentVersion({bid:n,csids:i.split("/"),coid:s,componentVersion:a})}),s.a.ipcRenderer.on(l.AUTH_PROJECT_SLACK,(e,t)=>{const{params:{pid:n},body:{integration:i}}=t;i.slacks.forEach(e=>o.b.addIntegration({bid:n,intype:"slacks",integration:e})),r.a.init()}),s.a.ipcRenderer.on(l.AUTH_STYLEGUIDE_SLACK,(e,t)=>{const{params:{stid:n},body:{integration:i}}=t;i.slacks.forEach(e=>o.b.addIntegration({bid:n,intype:"slacks",integration:e})),r.a.init()}))},function(e,t,n){"use strict";n(837),n(838),n(667),n(669)},function(e,t,n){"use strict";var i=n(147),s=n(537),a=n(664),o=n(60),r=n(35);i.b&&(i.b.bind(s.a.UPDATE_USERNAME,({body:{username:e}})=>{o.a.setUsername(e)}),i.b.bind(s.a.UPDATE_EMAIL,({body:{email:e}})=>{o.a.setEmail(e)}),i.b.bind(s.a.UPDATE_AVATAR,({body:{avatar:e}})=>{o.a.setAvatar(e)}),i.b.bind(s.a.UPDATE_EMOTAR,({body:{emotar:e}})=>{o.a.setEmotar(e)}),i.b.bind(s.a.UPDATE_EMAIL_NOTIFICATION,({body:{emailNotifications:e}})=>{o.a.setEmailNotifications(e)}),i.b.bind(s.a.UPDATE_BILLING,({body:e})=>{o.a.setBilling(e)}),i.b.bind(a.a.CREATE,({body:e})=>{r.b.addOrganization(e)}),i.b.bind(a.a.INVITE_MEMBERS,({body:e})=>{r.b.addOrganization(e)}),i.b.bind(s.a.VERIFY,o.a.setVerified),i.b.bind(s.a.DELETE,o.a.logout))},function(e,t,n){"use strict";var i=n(188),s=n(147),a=n(468),o=n(665),r=n(666),l=n(537),c=n(664),d=n(839),u=n(151),h=n(35),p=n(57),g=n(58),m=n(31),f=n(10),b=n(25),y=n(144);n(667),n(669);s.a&&(s.a.bind_global((e,{params:{oid:t}={}})=>{t&&(h.d.getOrganization(t)||Object(y.f)(t))}),s.a.bind(d.a.PAYMENT_FAIL,e=>{const{organizationProfiles:t}=h.e.getState(),n={isGeneric:!0};e.params.oid?n.currentRole=t[e.params.oid].role:e.params.uid===Zeplin.user._id?n.currentRole="owner":(n.currentRole="not_owner",n.ownerEmail=e.body.email),Object.assign(n,e.params),Object(i.e)(n)}),s.a.bind(c.a.CREATE_PROJECT,({params:{oid:e="user"},body:t})=>{m.b.add({barrelType:f.a.PROJECT,barrel:Object.assign({},t,{complete:!1}),oid:e})}),s.a.bind(c.a.CREATE_STYLEGUIDE,({params:{oid:e="user"},body:t})=>{m.b.add({barrelType:f.a.STYLEGUIDE,barrel:Object.assign({},t,{complete:!1}),oid:e})}),s.a.bind(c.a.UPDATE_MEMBER_ROLE,({params:{oid:e,mid:t},body:{role:n}})=>{t===Zeplin.user._id&&h.b.updateOrganizationProfile(e,{role:n});const{organizationProjects:{[e]:i}}=h.e.getState(),{organizationStyleguides:{[e]:s}}=h.e.getState();i&&i.forEach(e=>{m.b.updateUserRole({bid:e,uid:t,role:n})}),s&&s.forEach(e=>{m.b.updateUserRole({bid:e,uid:t,role:n})})}),s.a.bind(c.a.REMOVE_USER,e=>{const{selectedOrganizationId:t}=u.e.getState(),n=e.params.oid;e.params.mid===Zeplin.user._id&&(Object(y.f)(n),t===n&&(b.a({title:"Organization not available anymore",message:"It was either deleted or you were removed, please contact the admins."}),u.b.changeSelectedOrganization("user")),h.b.removeOrganization(n))}),s.a.bind(c.a.UPDATE_MEMBER_ACCESSIBILITY,({params:{oid:e,mid:t,uid:n},body:{restricted:i}})=>{t===Zeplin.user._id&&(i?h.b.updateMemberAccessibility({oid:e,mid:t}):h.b.getBarrels(e))}),s.a.bind(c.a.DELETE,e=>{const t=e.params.oid;Object(y.f)(t),h.b.removeOrganization(t),u.b.changeSelectedOrganization("user")}),s.a.bind(c.a.UPDATE_LOGO,e=>{const{organizations:t}=h.e.getState(),n=e.params.oid;t.filter(e=>e._id===n)?h.b.updateOrganization(n,e.body):Object(y.f)(n)}),s.a.bind(c.a.UPDATE_NAME,e=>{const{organizations:t}=h.e.getState(),n=e.params.oid;t.filter(e=>e._id===n)?h.b.updateOrganization(n,e.body):Object(y.f)(n)}),s.a.bind(c.a.ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS,e=>{const{organizations:t}=h.e.getState(),{uid:n,oid:i,pid:s}=e.params;t.filter(e=>e._id===i)?h.b.addBarrelToFocus({mid:n,oid:i,bid:s,barrelType:f.a.PROJECT}):Object(y.f)(i)}),s.a.bind(c.a.REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS,e=>{const{organizations:t}=h.e.getState(),{oid:n,pid:i}=e.params;t.filter(e=>e._id===n)?h.b.removeBarrelFromFocus({oid:n,bid:i}):Object(y.f)(n)}),s.a.bind(c.a.ADD_WORKFLOW_STATUS,({params:{oid:e},body:t})=>{h.b.addOrganizationWorkflowStatus({oid:e,workflowStatusData:t})}),s.a.bind(c.a.UPDATE_WORKFLOW_STATUS,({params:{oid:e,wsid:t},body:n})=>{h.b.updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n})}),s.a.bind(c.a.DELETE_WORKFLOW_STATUS,({params:{oid:e,wsid:t}})=>{h.b.deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t})}));const S={onProjectInviteUser(e){Object(a.f)(e.params.pid,e.body)},onInviteUser(e){Object(a.g)(e.body.users)},onRemoveUserFromProject(e){Object(a.i)(e.params.pid,e.params.mid)},onCreateUser(e){Object(a.d)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(a.e)(e.params.uid)}};p.d.register(e=>{switch(e.type){case p.a.OPEN_PROJECT_PREVIEW:!function(e){const t=Object(y.c)(e);t.bind(o.a.ARCHIVE,p.b.closeProjectPreview),t.bind(o.a.DELETE,p.b.closeProjectPreview)}(e.pid);break;case p.a.CLOSE_PROJECT_PREVIEW:!function(){const{projectToPreview:e}=p.e.getState(),t=Object(y.c)(e);t.unbind(o.a.ARCHIVE,p.b.closeProjectPreview),t.unbind(o.a.DELETE,p.b.closeProjectPreview)}();break;case p.a.INVITE_USER:!function(e){const t=Object(y.c)(e);s.b.bind(l.a.INVITE_USER,S.onInviteUser),t.bind(o.a.INVITE_USER,S.onProjectInviteUser),t.bind(o.a.REMOVE_USER,S.onRemoveUserFromProject),t.bind(l.a.CREATE,S.onCreateUser),t.bind(l.a.DELETE,S.onDeleteUser)}(e.pid)}});const v={onStyleguideInviteUser(e){Object(a.f)(e.params.stid,e.body)},onInviteUser(e){Object(a.g)(e.body.users)},onRemoveUserFromStyleguide(e){Object(a.i)(e.params.stid,e.params.mid)},onCreateUser(e){Object(a.d)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(a.e)(e.params.uid)}};g.d.register(e=>{switch(e.type){case g.a.OPEN_STYLEGUIDE_PREVIEW:!function(e){const t=Object(y.d)(e);t.bind(r.a.ARCHIVE,g.b.closeStyleguidePreview),t.bind(r.a.DELETE,g.b.closeStyleguidePreview)}(e.stid);break;case g.a.CLOSE_STYLEGUIDE_PREVIEW:!function(){const{styleguideToPreview:e}=g.e.getState(),t=Object(y.d)(e);t.unbind(r.a.ARCHIVE,g.b.closeStyleguidePreview),t.unbind(r.a.DELETE,g.b.closeStyleguidePreview)}();break;case g.a.INVITE_USER:!function(e){const t=Object(y.d)(e);s.b.bind(l.a.INVITE_USER,v.onInviteUser),t.bind(r.a.INVITE_USER,v.onStyleguideInviteUser),t.bind(r.a.REMOVE_USER,v.onRemoveUserFromStyleguide),t.bind(l.a.CREATE,v.onCreateUser),t.bind(l.a.DELETE,v.onDeleteUser)}(e.stid)}})},function(e,t,n){"use strict";t.a={PAYMENT_FAIL:"RequestPaymentFail"}},function(e,t,n){"use strict";t.a={CREATE_V4:"CreateScreenV4",CREATE_V3:"CreateScreenV3",DELETE:"DeleteScreen",UPDATE:"UpdateScreen",UPDATE_TAGS:"UpdateScreensTags",CREATE_VERSION:"CreateScreenVersion",DELETE_VERSION:"DeleteScreenVersion",UPDATE_VERSION:"UpdateScreenLatestVersion",UPDATE_VERSION_COMMIT_COLOR:"UpdateScreenVersionCommitColor",UPDATE_VERSION_COMMIT_MESSAGE:"UpdateScreenVersionCommitMessage"}},function(e,t,n){"use strict";t.a={CREATE:"CreateDotV2",UPDATE:"UpdateDot",DELETE:"DeleteDot",CREATE_COMMENT:"CreateDotCommentV2",UPDATE_COMMENT_NOTE:"UpdateDotCommentNote",DELETE_COMMENT:"DeleteDotComment"}},function(e,t,n){"use strict";var i=n(40),s=n(625),a=n(668),o=n(57),r=n(13),l=n(17),c=n(58);const d={onProjectLink({project:e,styleguide:t,syncWithApi:n}){if(e.partial)return;(n?Object(r.updateProjectStyleguideLink)(e._id,t._id):Promise.resolve()).then(i=>{n&&mixpanel.master.track("Linked styleguide to project");const{styleguides:s}=c.c.getState(),a=[...t.ancestors,t._id].filter(e=>!(s[e]&&s[e].complete));return Promise.all(a.map(t=>Object(r.getStyleguide)(t,{projectId:e._id})))}).then(n=>{a.a.linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n})}).catch(n=>{a.a.unlinkProjectFromStyleguide({pid:e._id,styleguide:t}),l.b(n)})},onProjectUnlink({pid:e,styleguide:t}){Object(r.removeProjectStyleguideLink)(e).catch(n=>{const{projects:{[e]:i}}=o.c.getState();a.a.linkProjectToStyleguide({project:i,styleguide:t}),l.b(n)})}};s.a.register(e=>{switch(e.type){case i.a.UNLINK_PROJECT:e.syncWithApi&&d.onProjectUnlink(e);break;case i.a.LINK_PROJECT_REQUEST:d.onProjectLink(e)}})},function(e,t,n){"use strict";var i=n(844);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(89),a=n(845),o=n(1047),r=n(1223),l=n(443),c=n(1769),d=n(31),u=n(27),h=n(1772);n.n(h);t.a=class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={page:"workspace"},this.handlePageChange=(e=>{const[t]=e.match;["project","styleguide"].includes(t)?this.setState({page:"barrel"}):(d.b.reset(),this.setState({page:"workspace"}))}),t}componentDidMount(){s.a.route(/\/(organization|projects|styleguides|project|styleguide).*/,this.handlePageChange)}render(){const{page:e}=this.state;if(u.a.isWindowsApp&&!u.a.supports.SPA)return i.h(c.a,null);const t="barrel"===e?r.a:o.a;return i.h(i.Fragment,null,i.h(a.a,{page:e}),i.h(t,null),i.h(l.a,null))}}},function(e,t,n){"use strict";var i=n(846);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(6),a=n(8),o=n(27),r=n(847),l=n(853),c=n(859),d=n(862),u=n(867),h=n(899),p=n(1012),g=n(1041),m=n(31),f=n(153),b=n(307),y=n(57),S=n(58),v=n(35),C=n(60),E=n(151),O=n(10),T=n(74);t.a=Object(T.a)(class extends i.Component{static getStores(){return[E.e,v.e,C.b,m.e,b.b,f.f,y.c,S.c]}static calculateState(e,{page:t}){const{loading:n,selectedTab:o,selectedOrganizationId:r}=E.e.getState(),{loading:l,loadingProfiles:c,loadingBarrels:d,organizations:u}=v.e.getState(),h=C.b.getState(),{loading:p,username:g,avatar:y}=h;let{backButtonLabel:S,backButtonLink:T}=h;const{loading:k,barrelId:D,barrelType:_,organizationId:w,selectedView:j}=m.e.getState(),{partial:R=!1,name:I=""}=m.d.getBarrel()||{},A=m.d.findUser(),{tagFilter:{tags:x,untagged:P},filterValue:L,jiraIssueFilter:N}=b.b.getState(),{loadingSnapshot:U,screenId:M}=f.f.getState(),{name:B=""}=f.e.getScreen()||{};let z,F,W,H=!1;if(H="workspace"===t?n||l||c||p||d:"screen"===j?k||U:k,!("workspace"===t||k||S&&T))if("screen"===j){const e={q:L,ja:N,sid:M};Object.assign(e,P?{untagged:"true"}:{tag:x}),S="Dashboard",T=Object(a.j)("project-dashboard",{url:{pid:D},query:e})}else{const e=w||r,{name:t}=v.d.getOrganization(e)||{},n=e&&"user"!==e&&(!A||"pawn"!==A.role),s=_===O.a.PROJECT?"projects":"styleguides",o={[_===O.a.PROJECT?"pid":"stid"]:D};T=n?Object(a.j)(`organization-${s}`,{url:{oid:e},query:o}):Object(a.j)(s,{query:o}),S=n?i.h("div",{class:"backButtonLabel",title:t},i.h("div",{class:"organizationName ellipsis"},t),i.h("div",null,"’s Workspace")):"Workspace"}if(z=H?"Zeplin":"workspace"===t?`Workspace - ${Object(s.h)(o)} - Zeplin`:"screen"===j?`${B} - ${I} - Zeplin`:`${I} - Zeplin`,"barrel"===t&&"screen"===j){const e=f.e.getPreviousScreen(M);e&&(F=Object(a.j)("project-screen",{url:{pid:D,sid:e._id}}));const t=f.e.getNextScreen(M);t&&(W=Object(a.j)("project-screen",{url:{pid:D,sid:t._id}}))}return{loading:H,selectedView:j,page:t,title:z,backButtonLink:T,backButtonLabel:S,organizations:u,username:g,avatar:y,selectedOrganizationId:r,screenName:B,previousScreenURL:F,nextScreenURL:W,barrelType:_,isPreview:R,barrelId:D,barrelName:I}}renderHeaderCenter(){const{loading:e,page:t,selectedView:n,organizations:s,username:a,avatar:o,selectedOrganizationId:r,screenName:u,previousScreenURL:h,nextScreenURL:p,barrelType:g,isPreview:m,barrelId:f,barrelName:b}=this.state;return"workspace"===t?s.length?i.h(l.a,{organizations:s,username:a,avatar:o,selectedOrganizationId:r,onOrganizationChange:E.b.changeSelectedOrganization}):i.h("div",{class:"noOrganizationsLabel noSelect"},"Workspace"):"screen"===n?i.h(c.a,{loading:e,title:u,previousScreenURL:h,nextScreenURL:p}):g===O.a.STYLEGUIDE||m?i.h("span",{title:b},b):i.h(d.a,{barrelId:f,selectedTab:n})}renderHeaderRight(){return i.h(i.Fragment,null,i.h(g.a,null),i.h(u.a,null),i.h(h.a,null),i.h(p.a,null))}render(){const{loading:e,backButtonLabel:t,backButtonLink:n,title:s}=this.state;return document.title=s,i.h(r.a,{loading:e,hideLogo:o.a.isWindowsApp,backButtonLabel:t,backButtonLink:n,headerCenter:this.renderHeaderCenter(),headerRight:this.renderHeaderRight()})}},{withProps:!0})},function(e,t,n){"use strict";var i=n(848);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(849),r=n(43),l=n(3),c=n(21),d=n(852);n.n(d);function u(e){const{headerLeft:t,headerCenter:n,headerRight:s,homeURL:a,backButtonLabel:d,backButtonLink:u,hideLogo:h,tall:p,hidden:g,loading:m,offline:f,online:b,class:y}=e;return i.h("header",{class:Object(l.a)(y,{tall:p,hidden:g,offline:f,online:b})},i.h("div",{class:"headerLeft noSelect"},!h&&i.h("a",{class:"homeLink",href:a,"data-link-type":"inApp","data-back":""},i.h("img",{src:Object(c.f)("img/icZeplin.svg"),alt:"Zeplin",class:"logo"})),d&&i.h("a",{class:"backLink ellipsis",href:u,"data-link-type":"inApp","data-back":""},i.h(r.c,{color:"var(--gandalf)"}),i.h("span",null,d)),t),i.h("div",{class:"headerCenter noSelect"},n),i.h("div",{class:"headerRight noSelect"},s),i.h(o.a,{running:m}))}u.defaultProps={homeURL:"/"},u.propTypes={headerLeft:a.a.node,headerCenter:a.a.node,headerRight:a.a.node,homeURL:a.a.string,backButtonLabel:a.a.oneOfType([a.a.string,a.a.object]),backButtonLink:a.a.string,tall:a.a.bool,hidden:a.a.bool,hideLogo:a.a.bool,class:a.a.string,loading:a.a.bool,offline:a.a.bool,online:a.a.bool},t.a=u},function(e,t,n){"use strict";var i=n(850);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(14),a=n(851);n.n(a);class o extends i.Component{constructor(e){super(e),this.state={stopRequested:!1,backgroundColor:e.initialColor},this.colorIndex=0}animate(){const{running:e,colors:t,initialColor:n,duration:i,easing:s}=this.props,{stopRequested:a}=this.state;if(!this.nodeRefs.bar||!e&&!a)return;const o=a?n:t[this.colorIndex];this.nodeRefs.bar.animate([{transform:"scaleX(0)",backgroundColor:o},{transform:"scaleX(1)",backgroundColor:o}],{duration:i,easing:s}).addEventListener("finish",()=>{if(a)return this.colorIndex=0,void this.setState({stopRequested:!1,backgroundColor:o});this.colorIndex=(this.colorIndex+1)%t.length,this.setState({backgroundColor:o}),this.animate()})}componentDidMount(){this.props.running&&this.animate()}componentDidUpdate(e){const{running:t}=this.props;e.running&&!t?this.setState({stopRequested:!0}):!e.running&&t&&this.animate()}render(){const{backgroundColor:e}=this.state;return i.h("div",{class:"loadingBar",style:{backgroundColor:e}},i.h("div",{ref:Object(s.a)(this,"bar")}))}}o.defaultProps={initialColor:"var(--casper)",colors:["var(--yellow)","var(--orange)","var(--peach)"],duration:1100,easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"},t.a=o},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(854);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(456),a=n(855),o=n(1),r=n(858);n.n(r);function l(e){const{username:t,avatar:n,organizations:r,selectedOrganizationId:l,onOrganizationChange:c}=e,d=[{id:"user",name:t,logoUrl:n},...r.map(e=>({id:e._id,name:e.name,logoUrl:e.logo})).sort(o.H.name)];return i.h("div",{class:"organizationDropdownWrapper"},i.h(s.a,{optionsClass:"organizationDropdownOptions",top:35,allowBottomOverflow:!0,centerX:!0,onChange:c},d.map(({id:e,name:t,logoUrl:n})=>i.h(s.a.Item,{key:e,class:"organizationDropdownItem",label:i.h(a.a,{name:t,logoUrl:n,personal:"user"===e}),value:e,selected:l===e}))))}l.defaultProps={selectedOrganizationId:"user"},t.a=l},function(e,t,n){"use strict";var i=n(856);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(152),a=n(3),o=n(857);n.n(o);t.a=function({logoUrl:e,name:t,personal:n}){const o=`${n?"Personal":t+"’s"} Workspace`,r=n?"user":"organization",l=Object(a.a)("organizationItem",{personal:n});return i.h("div",{class:l},i.h(s.a,{class:"organizationLogo",src:e,width:"24",height:"24",alt:o,bgSize:15,type:r}),i.h("div",{class:"organizationName ellipsis"},o))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(860);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(43),r=n(14),l=n(3),c=n(861);n.n(c);const d=1e4;class u extends i.Component{constructor(...e){var t;return t=super(...e),this.state={titleWidth:null,offline:!1,online:!1},this.fixTitleWidth=(()=>{this.setState({titleWidth:getComputedStyle(this.nodeRefs.title).width})}),this.restoreTitleWidth=(()=>{const{titleWidth:e}=this.state;null!==e&&this.setState({titleWidth:null})}),this.setOffline=(()=>{this.setState({offline:!0})}),this.setOnline=(()=>{this.setState({offline:!1,online:!0}),document.hidden?document.addEventListener("visibilitychange",this.unsetOnline,{once:!0}):this.unsetOnline()}),this.unsetOnline=(()=>{this.onlineTimeout=setTimeout(()=>{this.setState({online:!1})},d)}),t}get titleExtra(){const{offline:e,online:t}=this.state;return e?"Looks like there is a problem with the connection.":t?"Keep working! Connection is back…":"Loading layers…"}componentDidMount(){window.addEventListener("offline",this.setOffline),window.addEventListener("online",this.setOnline)}componentWillUnmount(){clearTimeout(this.onlineTimeout),window.removeEventListener("offline",this.setOffline),window.removeEventListener("online",this.setOnline),document.removeEventListener("visibilitychange",this.unsetOnline)}render(){const{loading:e,title:t,previousScreenURL:n,nextScreenURL:s}=this.props,{titleWidth:a,offline:c,online:d}=this.state,u=Object(l.a)("screenNavigator",{loading:e,offline:c,online:d}),h=null===a?{}:{width:a};return i.h("div",{class:u,ref:Object(r.a)(this,"base"),onMouseLeave:this.restoreTitleWidth},i.h("a",{href:n,title:"← Previous screen",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(o.c,null)),i.h("div",{class:"screenTitle"},i.h("h2",{class:"ellipsis",ref:Object(r.a)(this,"title"),style:h,title:t},t),i.h("div",{class:"titleExtra"},this.titleExtra)),i.h("a",{href:s,title:"Next screen →",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(o.d,null)))}}u.propTypes={loading:a.a.bool,title:a.a.string,previousScreenURL:a.a.string,nextScreenURL:a.a.string},u.defaultProps={loading:!1,title:""},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(863);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function({barrelId:e,selectedTab:t}){const n=Object(s.j)()===s.c.MAC?"⌥":"Alt+",r=Object(a.j)("project-dashboard",{url:{pid:e}}),l=Object(a.j)("project-styleguide",{url:{bid:e}});return i.h(o.a,null,i.h(o.a.Tab,{label:"Dashboard",shortcut:`${n}A`,selected:"dashboard"===t,href:r}),i.h(o.a.Tab,{label:"Styleguide",shortcut:`${n}S`,selected:"styleguide"===t,href:l}))};var i=n(0),s=n(56),a=n(8),o=n(864)},function(e,t,n){"use strict";var i=n(865);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(866);n.n(a);function o({children:e}){return i.h("div",{class:"headerTabView"},e)}o.Tab=function({label:e,shortcut:t,href:n,selected:a}){const o=Object(s.a)("tab","noSelect",{selected:a});return i.h("a",{href:n,class:o,"data-link-type":"inApp"},i.h("span",{class:"label"},e),i.h("span",{class:"shortcut"},t))},t.a=o},function(e,t){},function(e,t,n){"use strict";var i=n(868);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(318),a=n(869),o=n(74),r=n(898);n.n(r);function l(e){const{_id:t,versionCollection:n={},barrel:{_id:i,barrelType:s},progress:{update:a,isGettingProject:o,isGettingProjectFailed:r,countOfImagesToUpload:l,countOfUploadedImages:c,isApiOperationCompleted:d,isApiOperationFailed:u,apiOperationFailedError:h}}=e,{_id:p,name:g,type:m}=n;return{id:t,versionCollectionId:p,versionCollectionName:g,versionCollectionType:m,barrelId:i,barrelType:s,update:a,gettingProject:o,gettingProjectFailed:r,countOfImagesToUpload:l,countOfUploadedImages:c,apiOperationCompleted:d,apiOperationFailed:u,apiOperationFailedError:h}}t.a=Object(o.a)(class extends i.Component{static getStores(){return[s.d]}static calculateState(){const{componentRejections:e,versionImports:t,indicatorVisible:n,listVisible:i,suggestedResourcesByBarrel:a}=s.d.getState();if(0===t.length)return{indicatorVisible:!1,versionImportsProgress:0,anyVersionImportFailed:!1,listOpen:!1,importsSource:null,componentRejections:{},suggestedResourcesByBarrel:{},importsByBarrel:[]};const o=t.reduce((e,t,n)=>{const{importsByBarrel:i,versionImportsProgress:s,anyVersionImportFailed:a}=e,o=Math.floor((s*n+function(e){return e.progress.isApiOperationCompleted?100:Math.floor(e.progress.countOfUploadedImages/(e.progress.countOfImagesToUpload+1)*100)}(t))/(n+1)),r=a||!!t.progress.isApiOperationFailed,c=i.find(e=>e._id===t.barrel._id);let d=i;return c?c.versionImports.push(l(t)):d.push({_id:t.barrel._id,name:t.barrel.name,type:t.barrel.type,barrelType:t.barrel.barrelType,versionImports:[l(t)]}),{importsByBarrel:d,versionImportsProgress:o,anyVersionImportFailed:r}},{importsByBarrel:[],versionImportsProgress:0,anyVersionImportFailed:!1}),{importsByBarrel:r,versionImportsProgress:c,anyVersionImportFailed:d}=o;return{suggestedResourcesByBarrel:a,indicatorVisible:n,versionImportsProgress:c,anyVersionImportFailed:d,listOpen:i,importsSource:t[0].source||"Photoshop",componentRejections:e,importsByBarrel:r}}render(){const{indicatorVisible:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,importsSource:r,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d}=this.state;return e?i.h(a.a,{class:"versionImportsContainer",versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,onListOpen:s.b.showImportsList,onListClose:s.b.hideImportsList,importsSource:r,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d,onImportClick:s.b.goToImportedVersion,onRetryImport:s.b.retryImport,onCancelImport:s.b.cancelImport,onRetryGetProject:s.b.retryGetProjectForImports,onClearImports:s.b.clearImports,currentUser:Zeplin.user,onComponentLimitHintHideClick:s.b.hideComponentLimitHint,onComponentLimitActionClick:s.b.seePlans}):null}})},function(e,t,n){"use strict";var i=n(870);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(199),r=n(871),l=n(281),c=n(874),d=n(34),u=n(891),h=n(894),p=n(897);n.n(p);class g extends i.Component{constructor(e){super(e),this.renderVersionImport=this.renderVersionImport.bind(this),this.renderBarrelGroup=this.renderBarrelGroup.bind(this)}renderVersionImport(e){const{onImportClick:t,onRetryImport:n,onCancelImport:s,onRetryGetProject:a}=this.props,{id:o,versionCollectionId:r,versionCollectionName:l,versionCollectionType:d,barrelId:u,barrelType:h,update:p,gettingProject:g,gettingProjectFailed:m,countOfUploadedImages:f,countOfImagesToUpload:b,apiOperationCompleted:y,apiOperationFailed:S,apiOperationFailedError:v}=e;return g&&!m?i.h(c.c,null):g&&m?i.h(c.d,{id:o,onRetry:a}):b===f&&y&&!S?i.h(c.a,{key:o,id:o,update:p,barrelId:u,barrelType:h,versionCollectionId:r,versionCollectionName:l,versionCollectionType:d,onClick:t}):y&&S?i.h(c.b,{key:o,id:o,update:p,versionCollectionName:l,errorMessage:v?v.message:null,onRetry:n}):y?void 0:i.h(c.e,{key:o,id:o,update:p,versionCollectionName:l,countOfImagesToUpload:b,countOfUploadedImages:f,onCancel:s})}renderComponentRejection(e){const{componentRejections:t,currentUser:n,onComponentLimitHintHideClick:s,onComponentLimitActionClick:a}=this.props;if(!t[e])return null;const{owner:o,ownerPlan:r,rejected:l,total:c}=t[e];return i.h(u.a,{key:"componentLimitHintBox",onHideClick:s,onActionClick:a,owner:o,currentUser:n,ownerPlan:r,rejected:l,total:c,barrelId:e})}renderBarrelGroup(e){return i.h("div",{key:e._id},i.h("div",{class:"barrelInformation"},i.h("div",{class:"ellipsis"},e.name,", ",e.type)),i.h("div",{class:"barrelGroup"},this.renderComponentRejection(e._id),this.renderSuggestedResources(e._id,e.barrelType),i.h("div",{class:"list"},e.versionImports.map(this.renderVersionImport))))}renderSuggestedResources(e,t){const{suggestedResourcesByBarrel:n,onListClose:s}=this.props,{colors:a=[],textStyles:o=[]}=n[e]||{};return i.h(h.a,{onClick:s,colors:a,textStyles:o,barrelType:t,barrelId:e})}renderVersionImports(){const{importsSource:e="Photoshop",importsByBarrel:t,onClearImports:n}=this.props,s=1===t.length?t[0].name:"Zeplin";return i.h("div",{class:"versionImports"},i.h("div",{class:"body"},i.h("div",{class:"title"},i.h("div",null,e),i.h(l.a,{asset:"img/icHand.png"}),i.h("div",{class:"ellipsis"},s)),1===t.length&&this.renderComponentRejection(t[0]._id),1===t.length&&this.renderSuggestedResources(t[0]._id,t[0].barrelType),1===t.length?i.h("div",{class:"list"},t[0].versionImports.map(this.renderVersionImport)):t.map(this.renderBarrelGroup)),i.h(d.a,{onClick:n},i.h("div",null),i.h("div",null),i.h("div",null)))}render(){const{class:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:s,onListClose:a,onListOpen:l}=this.props;return i.h(o.a,{class:e,content:this.renderVersionImports(),contentClass:"versionImportsPopoverContent",open:s,onClose:a,onOpen:l,left:2,top:2},i.h(r.a,{warning:n,progress:t}))}}g.propTypes={versionImportsProgress:a.a.number.isRequired,anyVersionImportFailed:a.a.bool.isRequired,listOpen:a.a.bool.isRequired,onListOpen:a.a.func.isRequired,onListClose:a.a.func.isRequired,importsSource:a.a.string.isRequired,importsByBarrel:a.a.arrayOf(a.a.shape({_id:a.a.string.isRequired,name:a.a.string.isRequired,type:a.a.string.isRequired,versionImports:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired,versionCollectionId:a.a.string,versionCollectionName:a.a.string.isRequired,barrelId:a.a.string.isRequired,barrelType:a.a.oneOf(["project","styleguide"]),update:a.a.bool.isRequired,countOfImagesToUpload:a.a.number.isRequired,countOfUploadedImages:a.a.number.isRequired,apiOperationCompleted:a.a.bool.isRequired,apiOperationFailed:a.a.bool.isRequired,apiOperationFailedError:a.a.shape({message:a.a.string.isRequired})}))})),onImportClick:a.a.func.isRequired,onRetryImport:a.a.func.isRequired,onCancelImport:a.a.func.isRequired,onRetryGetProject:a.a.func.isRequired,onClearImports:a.a.func.isRequired},t.a=g},function(e,t,n){"use strict";var i=n(872);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(34),r=n(21),l=n(873);n.n(l);const c=15,d=2*c*Math.PI;function u(e){const{progress:t=0,warning:n=!1}=e,s=`${d*t/100} ${d*(100-t)/100}`;return i.h(o.a,{class:"versionImportsIndicator"},i.h("svg",{width:"32",height:"32",version:"1.1"},i.h("circle",{cx:"16",cy:"16",r:c}),i.h("circle",{cx:"16",cy:"16",r:c,"stroke-dasharray":s})),100===t&&i.h("img",{src:Object(r.f)("img/icImportsDone.svg")}),n&&i.h("div",{class:"warning"}))}u.defaultProps={progress:0,warning:!1},u.propTypes={progress:a.a.number,warning:a.a.bool},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(875),s=n(878),a=n(881),o=n(886),r=n(888);n.d(t,"c",function(){return i.a}),n.d(t,"d",function(){return s.a}),n.d(t,"e",function(){return o.a}),n.d(t,"b",function(){return r.a}),n.d(t,"a",function(){return a.a})},function(e,t,n){"use strict";var i=n(876);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(){return i.h("div",{class:"versionImport gettingProject noSelect"},"Getting project ready to import..")};var i=n(0),s=n(877);n.n(s)},function(e,t){},function(e,t,n){"use strict";var i=n(879);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(100),r=n(34),l=n(21),c=n(880);n.n(c);class d extends o.a{constructor(e){super(e),this.handleRetryClick=this.handleRetryClick.bind(this)}handleRetryClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){return i.h("div",{class:"versionImport gettingProjectFailed noSelect"},"Fetching project failed.",i.h(r.a,{onClick:this.handleRetryClick},i.h("img",{src:Object(l.f)("img/icImportProgressFetchProjectRetry.svg")})))}}d.propTypes={id:a.a.string.isRequired,onRetry:a.a.func.isRequired},t.a=d},function(e,t){},function(e,t,n){"use strict";var i=n(882);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(281),r=n(629),l=n(3),c=n(100),d=n(8),u=n(10),h=n(885);n.n(h);const p={};class g extends c.a{get versionCollectionLink(){const{barrelId:e,barrelType:t,versionCollectionId:n,versionCollectionType:i}=this.props;if("screen"===i)return Object(d.j)("project-screen",{url:{pid:e,sid:n}});const s={url:{bid:e},query:{coid:n}},a=t===u.a.PROJECT?"project-styleguide-components":"styleguide-components";return Object(d.j)(a,s)}render(){const{id:e,update:t,versionCollectionName:n,onClick:s}=this.props;p[e]||(p[e]=function(){switch(Math.floor(100*Math.random())){case 0:return"type1";case 1:case 2:return"type2";case 3:case 4:return"type3";default:return"type4"}}());const a=p[e];return i.h(r.a,{class:Object(l.a)("done",a),update:t,success:!0,versionCollectionName:n,progress:100,detail:function(e){switch(e){case"type1":return[i.h("div",null,"Done!"),i.h(o.a,{asset:"img/icDone.png"})];case"type2":return"This looks great!";case"type3":return[i.h("span",{class:"wow"},"wow."),i.h("span",{class:"suchDesigns"},"such designs."),i.h("span",{class:"amaze"},"amaze."),i.h("span",{class:"soColors"},"so colors.")];case"type4":default:return"Done!"}}(a),buttonIcon:"img/icImportDone.svg",link:this.versionCollectionLink,onClick:s})}}g.propTypes={id:a.a.string.isRequired,update:a.a.bool.isRequired,versionCollectionId:a.a.string.isRequired,versionCollectionName:a.a.string.isRequired,barrelId:a.a.string.isRequired,barrelType:a.a.oneOf(["project","styleguide"]),onClick:a.a.func.isRequired},t.a=g},function(e,t,n){"use strict";t.a=function(e){const{class:t,update:n,success:r,versionCollectionName:l,progress:c,detail:d,detailTitle:u,buttonIcon:h,onButtonClick:p,onClick:g,link:m}=e;let f=n?"Replacing":"Importing";f=r?f.replace("ing","ed"):f;const b=[i.h("div",{class:"information",key:"information"},i.h("div",{class:"title ellipsis"},f," “",l,"”"),i.h("div",{class:"progress"},c?i.h("div",{style:{width:`${c}%`}}):null),i.h("div",{class:"detail ellipsis",title:u||""},d)),m?i.h("img",{key:"img",src:Object(o.f)(h)}):i.h(s.a,{key:"button",onClick:p},i.h("img",{src:Object(o.f)(h)}))];if(m)return i.h("a",{class:Object(a.a)("versionImport",t),href:m,"data-link-type":"inApp",onClick:g},b);return i.h("div",{class:Object(a.a)("versionImport",t),onClick:g},b)};var i=n(0),s=n(34),a=n(3),o=n(21),r=n(884);n.n(r)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(887);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(629),r=n(100);class l extends r.a{constructor(e){super(e),this.handleCancelClick=this.handleCancelClick.bind(this)}calculateProgress(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return Math.floor(e/(t+1)*100)}isTicklingBackend(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return e===t}handleCancelClick(){const{onCancel:e,id:t}=this.props;e(t)}renderProgress(){return i.h("div",{class:"progress"},i.h("div",{style:{width:`${this.calculateProgress()}%`}}))}renderDetail(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return this.isTicklingBackend()?"Tickling the backend":`Uploading Images…(${e} of ${t})`}render(){const{update:e,versionCollectionName:t}=this.props;return i.h(o.a,{class:"inprogress",update:e,versionCollectionName:t,progress:this.calculateProgress(),detail:this.renderDetail(),buttonIcon:"img/icImportCancel.svg",onButtonClick:this.handleCancelClick})}}l.propTypes={id:a.a.string.isRequired,update:a.a.bool.isRequired,versionCollectionName:a.a.string.isRequired,countOfUploadedImages:a.a.number.isRequired,countOfImagesToUpload:a.a.number.isRequired,onCancel:a.a.func.isRequired},t.a=l},function(e,t,n){"use strict";var i=n(889);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(629),r=n(100),l=n(890);n.n(l);class c extends r.a{constructor(e){super(e),this.handleRetryButtonClick=this.handleRetryButtonClick.bind(this)}handleRetryButtonClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){const{update:e,versionCollectionName:t,errorMessage:n}=this.props;return i.h(o.a,{class:"failed",update:e,success:!1,versionCollectionName:t,detail:n||"Zeplin couldn't upload this one to the cloud.",detailTitle:n||"",buttonIcon:"img/icImportRetry.svg",onButtonClick:this.handleRetryButtonClick})}}c.propTypes={id:a.a.string.isRequired,update:a.a.bool.isRequired,versionCollectionName:a.a.string.isRequired,errorMessage:a.a.string,onRetry:a.a.func.isRequired},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(892);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(204),a=n(893);n.n(a);const o=new Date(2016,11,1),r=2592e6;t.a=class extends i.Component{constructor(e){super(e),this.handleHideClick=this.handleHideClick.bind(this)}handleHideClick(){const{barrelId:e,onHideClick:t}=this.props;t(e)}render(){const{owner:e,ownerPlan:t,rejected:n,total:a,currentUser:l,onActionClick:c}=this.props,d=e._id===l._id;let u,h,p;return"Company"===t.name?(u=`${d?"You're":"Owner of the project is"} on the ${t.name} plan which was deprecated ${Math.floor((Date.now()-o)/r)} months ago. Due to technical limitations, you can only store up to ${t.componentLimit}.`,h=d?"Upgrade to the Organization plan and access unlimited components.":"Ping them to upgrade to the Organization plan and access unlimited components.",p="Upgrade"):d?(p="See plans",u=`You can store up to ${t.componentLimit} components on the ${t.name} plan.`,h="Upgrade to access more space!"):(p="See plans",u=`Owner of the project is on the ${t.name} plan where you can store up to ${t.componentLimit} components per project.`,h="Ping them to upgrade and access more space!"),i.h(s.a,{class:"componentLimitHintBox",actionContent:p,onHideClick:this.handleHideClick,onActionClick:c},"Out of ",a," components you exported, ",n," not added to the project.",i.h("br",null),i.h("br",null),u,i.h("br",null),i.h("br",null),h)}}},function(e,t){},function(e,t,n){"use strict";var i=n(895);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(204),a=n(6),o=n(8),r=n(10),l=n(896);n.n(l);const c={[r.a.PROJECT]:"project-styleguide",[r.a.STYLEGUIDE]:"styleguide"};t.a=function(e){const{colors:t,textStyles:n,barrelId:r,barrelType:l,onClick:d}=e;if(!t.length&&!n.length)return null;let u;t.length&&n.length&&(u=`Found ${Object(a.g)(t.length,"color")} and ${Object(a.g)(n.length,"text style")}`),t.length&&!n.length&&(u=`Found ${Object(a.g)(t.length,"color")}`),!t.length&&n.length&&(u=`Found ${Object(a.g)(n.length,"text style")}`);let h=Object(o.j)(`${c[l]}-colors`,{url:{bid:r}});return t.length||(h=Object(o.j)(`${c[l]}-textstyles`,{url:{bid:r}})),i.h("a",{href:h,class:"suggestedResourcesHintBox",onClick:d,"data-link-type":"inApp"},i.h(s.a,null,u,"."," Click to head to the Styleguide to add them."))}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(900);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(147),r=n(5),l=n(901),c=n(27),d=n(903),u=n(199),h=n(906),p=n(74),g=n(18),m=n(1),f=n(14),b=n(1011);n.n(b);const y=50;class S extends i.Component{constructor(e){super(e),this.handleLastItemCallback=this.handleLastItemCallback.bind(this),this.handleNotificationIntersection=this.handleNotificationIntersection.bind(this),this.intersectionObserver=null}handleLastItemCallback(e){e&&this.props.hasMore&&(this.intersectionObserver||(this.intersectionObserver=new IntersectionObserver(this.handleNotificationIntersection,{root:this.nodeRefs.base,rootMargin:"0px 0px 288px 0px"})),this.intersectionObserver.observe(e))}handleNotificationIntersection(e){const t=e[0];t.isIntersecting&&(this.intersectionObserver.unobserve(t.target),this.props.onEnd())}componentWillUnmount(){this.intersectionObserver&&this.intersectionObserver.disconnect()}renderEmpty(){return i.h("div",{class:"none noSelect"},"No notifications currently.",i.h("br",null),"Kinda great? 😏")}renderEnd(){return i.h("div",{class:"end noSelect"},"~ The End ~")}renderError(){return i.h("div",{class:"error noSelect"},"Something went wrong while fetching",i.h("br",null),"notifications. ",i.h("span",{onClick:this.props.onRetry,class:"tryAgain"},"Try Again"))}renderNotifications(){const{notifications:e,notificationLastReadTime:t,onItemClick:n,hasError:i,hasMore:s}=this.props;if(i)return this.renderError();const a=e.map((i,s)=>{const a={notificationLastReadTime:t,onClick:n};return s===e.length-1&&(a.ref=this.handleLastItemCallback),Object(h.a)(i,a)});return 0===a.length?this.renderEmpty():(s||a.push(this.renderEnd()),a)}render(){return i.h("div",{ref:Object(f.a)(this,"base"),class:"notificationsContainer"},this.renderNotifications())}}S.propTypes={onRetry:a.a.func.isRequired,onEnd:a.a.func.isRequired,onItemClick:a.a.func.isRequired,notifications:a.a.array.isRequired,hasMore:a.a.bool.isRequired,notificationLastReadTime:a.a.object.isRequired,hasError:a.a.object};t.a=Object(p.a)(class extends i.Component{constructor(e){super(e),this.fetchMore=this.fetchMore.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.handleWindowsAppBadgeShow=this.handleWindowsAppBadgeShow.bind(this),this.state={showNotifications:!1}}static calculateState(){const{notifications:e,notificationLastReadTime:t,error:n,hasMore:i}=l.b.getState(),s=e.length>0&&new Date(e[0].updated)>t;let a;if(s)for(let o of e){if(new Date(o.updated)<t)break;if("CreateCoupon"===o.actionName){a=!0;break}}return{notifications:e,hasError:n,hasMore:i,notificationLastReadTime:t,hasUnread:s,hasPromotion:a}}static getStores(){return[l.b]}getAllNotifications(){setTimeout(l.a.getNotifications(null,y),4)}fetchMore(){const{notifications:e}=this.state,t=e.length?e[e.length-1].updated:null;l.a.getNotifications(t,y)}registerSubscribers(){o.b.bind("Notification",e=>{l.a.addNotification(e.body)}),o.a.subscribe(r.a).bind("Notification",e=>{l.a.addNotification(e.body)})}unregisterSubscribers(){o.b.unbind("Notification"),o.a.unsubscribe(r.a)}handlePopoverClose(){this.setState({showNotifications:!1}),l.a.updateNotificationLastReadTime()}handlePopoverOpen(){g.a&&this.state.hasUnread&&g.a.ipcRenderer.send("read-notifications"),this.setState({showNotifications:!0,hasUnread:!1,hasPromotion:!1})}handleWindowsAppBadgeShow(e,t){const{hasUnread:n}=this.state;t&&n&&g.a.ipcRenderer.send("unread-notifications",Object(m.c)())}componentDidMount(){this.getAllNotifications(),this.unregisterSubscribers(),this.registerSubscribers(),window.addEventListener("online",this.getAllNotifications),c.a.isWindowsApp&&g.a.ipcRenderer.on("show-badge",this.handleWindowsAppBadgeShow)}componentDidUpdate(e,t){g.a&&!t.hasUnread&&this.state.hasUnread&&g.a.ipcRenderer.send("unread-notifications",Object(m.c)())}componentWillUnmount(){this.unregisterSubscribers(),window.removeEventListener("online",this.getAllNotifications)}render(){const{notifications:e,hasMore:t,hasError:n,hasUnread:s,hasPromotion:a,notificationLastReadTime:o,showNotifications:r}=this.state,l=i.h(S,{notifications:e,onRetry:this.getAllNotifications,onEnd:this.fetchMore,onItemClick:this.handlePopoverClose,hasMore:t,hasError:n,notificationLastReadTime:o});return i.h(u.a,{open:r,content:l,onOpen:this.handlePopoverOpen,onClose:this.handlePopoverClose,toggleable:!0},i.h(d.a,{hasUnread:s,hasPromotion:a}))}})},function(e,t,n){"use strict";var i=n(536),s=(n(522),n(523),n(902));n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(523),o=n(522),r=n(12);t.a=new class extends s.a{constructor(){super(a.a)}getInitialState(){return{notifications:[],hasMore:null,loading:null,error:null,notificationLastReadTime:new Date}}load(e,t={}){return"notificationLastReadTime"in t&&"string"==typeof t.notificationLastReadTime&&(t.notificationLastReadTime=new Date(t.notificationLastReadTime)),Object.assign({},e,t)}getNotificationsRequested(e){return Object.assign({},e,{loading:!0})}mergeNotifications(e,t){let n=[];for(let i=0;i<e.length;i++)if(e[i]._id===t[0]._id){n=e.slice(0,i);break}return n.concat(t)}getNotificationsSuccess(e,t,n){return Object.assign({},e,{notifications:this.mergeNotifications(e.notifications,t),loading:!1,hasMore:n})}getNotificationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}addNotification(e,t){const n=e.notifications.filter(e=>e._id!==t._id);return Object.assign({},e,{notifications:[t].concat(n)})}updateLastReadTime(e,t){const n="string"==typeof t?new Date(t):t;return Object.assign({},e,{notificationLastReadTime:n})}reduce(e,t){switch(t.type){case r.a.LOAD:return this.load(e,t.notifications);case o.a.GET_NOTIFICATIONS_REQUESTED:return this.getNotificationsRequested(e);case o.a.GET_NOTIFICATIONS_SUCCESS:return this.getNotificationsSuccess(e,t.notifications,t.hasMore);case o.a.GET_NOTIFICATIONS_FAILED:return this.getNotificationsFailed(e,t.error);case o.a.UPDATE_NOTIFICATION_LAST_READ_TIME:return this.updateLastReadTime(e,t.notificationLastReadTime);case o.a.ADD_NOTIFICATION:return this.addNotification(e,t.notification);default:return e}}}},function(e,t,n){"use strict";var i=n(904);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(21),r=n(905);n.n(r);function l({hasUnread:e,hasPromotion:t}){return i.h("button",{class:"notificationsButton"},e&&!t&&i.h("div",{class:"unreadBadge"}),e&&t&&i.h("img",{src:Object(o.f)("img/ntf/icNotificationStar.svg"),class:"promotionBadge"}),i.h("svg",{width:"24",height:"26"},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M15.996 20.82l-5.66 2.046a.601.601 0 0 0-.361.769l6.795-2.458a.603.603 0 0 0-.774-.358zm3.77-7.738l-4.387-8.665C13.583.87 9.087-.9 5.335.457 1.58 1.815-.715 6.046.202 9.907l2.243 9.44-.4.145a2.394 2.394 0 0 0-1.44 3.07 2.416 2.416 0 0 0 3.09 1.433l18.119-6.555a2.394 2.394 0 0 0 1.44-3.07 2.416 2.416 0 0 0-3.089-1.433l-.4.145zm-5.157 12.7c-1.876.68-3.951-.282-4.634-2.147l6.795-2.458a3.587 3.587 0 0 1-2.161 4.605z"})))}l.propTypes={hasUnread:a.a.bool,hasPromotion:a.a.bool},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(8),a=n(1),o=n(26),r=n(10),l=n(907),c=n(908);t.a=function(e,t){const n=t.notificationLastReadTime<new Date(e.updated),d=e.events,u=d?d[0]:null;switch(e.actionName){case"AddProjectExtension":case"AddStyleguideExtension":{const l=u.extension,d=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,h=e.params[d],p=Object(a.s)(h.type),g=e.params.source,m=Object(o.f)(g).src,f=Object(s.j)(d,{url:{bid:h._id},query:{eid:l._id}});return i.h(c.b,{onClick:t.onClick,link:f,avatarUrl:m,barrelName:h.name,platform:p,extensionName:l.name,usernames:[g.username],updated:e.updated,unread:n,baseRef:t.ref})}case"ActivateProject":case"ActivateStyleguide":{const a=u.project?r.a.PROJECT:r.a.STYLEGUIDE,l=u[a],d=e.params.source,h=Object(o.f)(d).src,p=Object(s.j)(a,{url:{bid:l._id}});return i.h(c.a,{barrelType:a,onClick:t.onClick,link:p,avatarUrl:h,usernames:[d.username],barrelNames:[l.name],updated:e.updated,unread:n,baseRef:t.ref})}case"ArchiveProject":case"ArchiveStyleguide":{const s=u.project?r.a.PROJECT:r.a.STYLEGUIDE,a=u[s],l=e.params.source,d=Object(o.f)(l).src;return i.h(c.d,{barrelType:s,onClick:t.onClick,avatarUrl:d,usernames:[l.username],barrelNames:[a.name],updated:e.updated,unread:n,baseRef:t.ref})}case"AuthProjectSlack":case"AuthStyleguideSlack":{const a=u.project?r.a.PROJECT:r.a.STYLEGUIDE,o=u[a],l=e.params.source,d=Object(s.j)(a,{url:{bid:o._id}});return i.h(c.f,{onClick:t.onClick,link:d,usernames:[l.username],barrelName:o.name,slackChannelName:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateAnnouncement":{if(!("webURI"in e.action))return null;const s=e.action.webURI;return i.h(c.c,{onClick:t.onClick,link:s||"#",disabled:!s,usernames:[e.params.source.username],content:Object(l.a)(e.content),updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectComponent":case"CreateStyleguideComponent":{const l=e.params.source,h=Object(o.f)(l).src,p=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,g=e.params[p],m=Object(a.s)(g.type),f=d.map(e=>e.component.name),b=d.length>1?d.map(e=>e.component._id):u.component._id,y=Object(s.j)(p===r.a.PROJECT?"project-styleguide-components":"styleguide-components",{url:{bid:g._id},query:{coid:b}});return i.h(c.j,{onClick:t.onClick,link:y,avatarUrl:h,barrelName:g.name,platform:m,componentNames:f,usernames:[l.username],updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectComponentVersion":case"CreateStyleguideComponentVersion":{const l=e.params.source,h=Object(o.f)(l).src,p=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,g=e.params[p],m=Object(a.s)(g.type),f=d.map(e=>e.component.name),b=d.length>1?d.map(e=>e.component._id):u.component._id,y=Object(s.j)(p===r.a.PROJECT?"project-styleguide-components":"styleguide-components",{url:{bid:g._id},query:{coid:b}});return i.h(c.k,{onClick:t.onClick,link:y,avatarUrl:h,barrelName:g.name,platform:m,componentNames:f,usernames:[l.username],updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectColor":case"CreateStyleguideColor":{const o=d.map(e=>e.color),l=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,h=e.params[l],p=Object(a.s)(h.type),g=[e.params.source.username],m=d.length>1?d.map(e=>e.color._id):u.color._id,f=Object(s.j)(l===r.a.PROJECT?"project-styleguide-colors":"styleguide-colors",{url:{bid:h._id},query:{cid:m}});return i.h(c.h,{onClick:t.onClick,link:f,barrelName:h.name,platform:p,usernames:g,colors:o,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateCoupon":return"webURI"in e.action?i.h(c.l,{onClick:t.onClick,link:e.action.webURI,content:Object(l.a)(e.content),updated:e.updated,unread:n,baseRef:t.ref}):null;case"CreateDot":{const r=1===d.length?e.content:null,l=e.params.project,h=e.params.screen,p=Object(o.f)(u.source).src,g=Array.from(new Set(d.map(e=>e.source.username))),m=Object(a.s)(l.type),f=d.length>1?d.map(e=>e.dot._id):u.dot._id,b=Object(s.j)("project-screen",{url:{pid:l._id,sid:h._id},query:{did:f}});return i.h(c.m,{onClick:t.onClick,link:b,avatarUrl:p,screenName:h.name,barrelName:l.name,platform:m,usernames:g,notes:d,content:r,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDot-Mention":{const r=u.dot,l=e.params.project,d=Object(a.s)(l.type),h=e.params.screen,p=Object(o.f)(u.source).src,g=[u.source.username],m=Object(s.j)("project-screen",{url:{pid:l._id,sid:h._id},query:{did:r._id,cmid:u.comment._id}});return i.h(c.g,{onClick:t.onClick,link:m,avatarUrl:p,barrelName:l.name,platform:d,screenName:h.name,noteName:r.name,usernames:g,content:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDotComment-Mention":{const r=e.params.dot,l=r.name,d=e.params.project,h=Object(a.s)(d.type),p=e.params.screen,g=Object(o.f)(u.source).src,m=[u.source.username],f=Object(s.j)("project-screen",{url:{pid:d._id,sid:p._id},query:{did:r._id,cmid:u.comment._id}});return i.h(c.g,{onClick:t.onClick,link:f,avatarUrl:g,barrelName:d.name,platform:h,screenName:p.name,noteName:l,usernames:m,content:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDotComment":{const r=1===d.length?e.content:null,l=e.params.dot.name,h=e.params.project,p=e.params.screen,g=Object(o.f)(u.source).src,m=Array.from(new Set(d.map(e=>e.source.username))),f=Object(a.s)(h.type),b=d.length>1?d.map(e=>e.comment._id):u.comment._id,y=Object(s.j)("project-screen",{url:{pid:h._id,sid:p._id},query:{did:e.params.dot._id,cmid:b}});return i.h(c.i,{onClick:t.onClick,link:y,avatarUrl:g,screenName:p.name,barrelName:h.name,platform:f,noteName:l,usernames:m,content:r,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateScreen":{const r=d.map(e=>e.screen),l=r.map(e=>e.name),u=r.map(e=>e._id),h=Object(o.f)(e.params.source).src,p=[e.params.source.username],g=e.params.project,m=Object(a.s)(g.type),f=d.length>1?Object(s.j)("project",{url:{bid:g._id},query:{sid:u}}):Object(s.j)("project-screen",{url:{pid:g._id,sid:u[0]}});return i.h(c.n,{onClick:t.onClick,link:f,avatarUrl:h,barrelName:g.name,platform:m,usernames:p,screenNames:l,updated:e.updated,content:e.content,unread:n,baseRef:t.ref})}case"CreateScreenVersion":{const r=d.map(e=>e.screen),l=r.map(e=>e.name),u=r.map(e=>e._id),h=Object(o.f)(e.params.source).src,p=[e.params.source.username],g=e.params.project,m=Object(a.s)(g.type),f=d.length>1?Object(s.j)("project",{url:{bid:g._id},query:{sid:u}}):Object(s.j)("project-screen",{url:{pid:g._id,sid:u[0]}});return i.h(c.o,{onClick:t.onClick,link:f,avatarUrl:h,barrelName:g.name,platform:m,usernames:p,screenNames:l,updated:e.updated,content:e.content,unread:n,baseRef:t.ref})}case"CreateProjectTextStyle":case"CreateStyleguideTextStyle":{const o=d.map(e=>e.textStyle),l=o.map(({name:e})=>e),u=o.map(({_id:e})=>e),h=[e.params.source.username],p=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,g=e.params[p],m=Object(a.s)(g.type),f=o.length>1?u:u[0],b=Object(s.j)(p===r.a.PROJECT?"project-styleguide-textstyles":"styleguide-textstyles",{url:{bid:g._id},query:{tsid:f}});return i.h(c.q,{onClick:t.onClick,link:b,barrelName:g.name,platform:m,usernames:h,textStyles:l,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectColor":case"DeleteStyleguideColor":{const s=d.map(e=>e.color),o=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,l=e.params[o],u=Object(a.s)(l.type),h=[e.params.source.username];return i.h(c.s,{barrelName:l.name,platform:u,usernames:h,colors:s,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectComponent":case"DeleteStyleguideComponent":{const s=e.params.source,l=Object(o.f)(s).src,u=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,h=e.params[u],p=Object(a.s)(h.type),g=d.map(e=>e.component.name);return i.h(c.t,{avatarUrl:l,barrelName:h.name,platform:p,componentNames:g,usernames:[s.username],updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteScreen":{const s=d.map(e=>e.screen).map(e=>e.name),r=Object(o.f)(e.params.source).src,l=[e.params.source.username],u=e.params.project,h=Object(a.s)(u.type);return i.h(c.v,{avatarUrl:r,barrelName:u.name,platform:h,usernames:l,screenNames:s,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProject":case"DeleteStyleguide":{const s=e.params.source,a=Object(o.f)(s).src,l=u.project?r.a.PROJECT:r.a.STYLEGUIDE,d=u[l].name;return i.h(c.r,{barrelType:l,avatarUrl:a,usernames:[s.username],barrelNames:[d],updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectTextStyle":case"DeleteStyleguideTextStyle":{const s=d.map(e=>e.textStyle).map(({name:e})=>e),o=[e.params.source.username],l=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,u=e.params[l],h=Object(a.s)(u.type);return i.h(c.x,{barrelName:u.name,platform:h,usernames:o,textStyles:s,updated:e.updated,unread:n,baseRef:t.ref})}case"RemoveExtensionFromProject":case"RemoveExtensionFromStyleguide":{const s=u.extension,l=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,d=e.params[l],h=Object(a.s)(d.type),p=e.params.source,g=Object(o.f)(p).src;return i.h(c.u,{avatarUrl:g,barrelName:d.name,platform:h,extensionName:s.name,usernames:[p.username],updated:e.updated,unread:n,baseRef:t.ref})}case"ResolveDot":{const r=d.map(e=>e.dot.name),l=Object(o.f)(u.source).src,h=e.params.screen,p=e.params.project,g=Object(a.s)(p.type),m=Array.from(new Set(d.map(e=>e.source.username))),f=d.length>1?d.map(e=>e.dot._id):u.dot._id,b=Object(s.j)("project-screen",{url:{pid:p._id,sid:h._id},query:{did:f}});return i.h(c.D,{onClick:t.onClick,link:b,avatarUrl:l,barrelName:p.name,platform:g,screenName:h.name,usernames:m,notes:r,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateOrganizationMemberRole":{const a=d[d.length-1],r=a.user.role,l=a.source,u=e.params.organization,h=[l.username],p=Object(o.f)(l).src,g=Object(s.j)("organization-dashboard",{url:{oid:u._id}});return i.h(c.G,{onClick:t.onClick,link:g,avatarUrl:p,roleName:r,organizationName:u.name,usernames:h,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectColor":case"UpdateStyleguideColor":{const o=d.map(e=>e.color),l=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,h=e.params[l],p=Object(a.s)(h.type),g=[e.params.source.username],m=d.length>1?d.map(e=>e.color._id):u.color._id,f=Object(s.j)(l===r.a.PROJECT?"project-styleguide-colors":"styleguide-colors",{url:{bid:h._id},query:{cid:m}});return i.h(c.F,{onClick:t.onClick,link:f,barrelName:h.name,platform:p,colors:o,usernames:g,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectUserRole":case"UpdateStyleguideUserRole":{const a=u.project?r.a.PROJECT:r.a.STYLEGUIDE,l=u[a],h=d.map(e=>e[a].name),p=e.params.source,g=Object(o.f)(p).src,m=[p.username],f=d.length>1?{query:{bid:d.map(e=>e[a]._id)}}:{url:{bid:l._id}},b=d.length>1?`${a}s`:a,y=Object(s.j)(b,f);return i.h(c.e,{barrelType:a,onClick:t.onClick,link:y,avatarUrl:g,barrelNames:h,usernames:m,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectTextStyle":case"UpdateStyleguideTextStyle":{const o=d.map(e=>e.textStyle),l=o.map(({name:e})=>e),u=o.map(({_id:e})=>e),h=[e.params.source.username],p=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,g=e.params[p],m=Object(a.s)(g.type),f=o.length>1?u:u[0],b=Object(s.j)(p===r.a.PROJECT?"project-styleguide-textstyles":"styleguide-textstyles",{url:{bid:g._id},query:{tsid:f}});return i.h(c.I,{onClick:t.onClick,link:b,barrelName:g.name,platform:m,usernames:h,textStyles:l,updated:e.updated,unread:n,baseRef:t.ref})}case"UserJoined":{const a=Object(o.f)(u.member).src,l=Array.from(new Set(d.map(e=>e.member.username))),h=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,p=e.params[h],g=Object(s.j)(h,{url:{bid:p._id}});return i.h(c.B,{onClick:t.onClick,link:g,avatarUrl:a,barrelNames:[p.name],usernames:l,updated:e.updated,unread:n,baseRef:t.ref})}case"RemoveUserFromProject":case"RemoveUserFromStyleguide":{const s=e.params.source,a=Object(o.f)(s).src,l=e.params.project?r.a.PROJECT:r.a.STYLEGUIDE,d=e.params[l];return i.h(c.C,{avatarUrl:a,barrelNames:[d.name],usernames:[s.username],updated:e.updated,unread:n,baseRef:t.ref})}case"InviteMember":{const a=e.params.source,r=[a.username],l=Object(o.f)(a).src,d=e.params.organization,u=Object(s.j)("organization-dashboard",{url:{oid:d._id}});return i.h(c.y,{onClick:t.onClick,link:u,avatarUrl:l,organizationName:d.name,usernames:r,updated:e.updated,unread:n,baseRef:t.ref})}case"InviteProjectUser":case"InviteStyleguideUser":{const a=u.project?r.a.PROJECT:r.a.STYLEGUIDE,l=u[a],h=[e.params.source.username],p=Object(o.f)(e.params.source).src,g=d.map(e=>e[a].name),m=d.length>1?{query:{bid:d.map(e=>e[a]._id)}}:{url:{bid:l._id}},f=d.length>1?`${a}s`:a,b=Object(s.j)(f,m);return i.h(c.z,{barrelType:a,onClick:t.onClick,link:b,avatarUrl:p,barrelNames:g,usernames:h,updated:e.updated,unread:n,baseRef:t.ref})}case"TransferProjectOwnership":case"TransferStyleguideOwnership":{const a=u.project?r.a.PROJECT:r.a.STYLEGUIDE,l=u[a],d=e.params.source,h=[d.username],p=Object(o.f)(d).src,g=Object(s.j)(a,{url:{bid:l._id}});return i.h(c.E,{onClick:t.onClick,link:g,avatarUrl:p,usernames:h,barrelNames:[l.name],updated:e.updated,unread:n,baseRef:t.ref})}case"AttachProjectToJiraIssue":case"AttachSectionToJiraIssue":case"AttachScreenToJiraIssue":case"RemoveProjectJiraIssueAttachment":case"RemoveSectionJiraIssueAttachment":case"RemoveScreenJiraIssueAttachment":{const s=e.params.project,o=Array.from(new Set(d.map(e=>e.jiraAttachment.issueKey))),r=d.reduce((e,t)=>{const{itemId:n,itemName:i}=t.jiraAttachment;return e.find(e=>e.itemId===n)||e.push({itemId:n,itemName:i}),e},[]),l=Object(a.s)(s.type);return i.h(c.A,{onClick:t.onClick,barrelId:s._id,barrelName:s.name,platform:l,actionName:e.actionName,updated:e.updated,unread:n,issueKeys:o,items:r,baseRef:t.ref})}case"CreateProjectSpacingToken":case"CreateStyleguideSpacingToken":{const{params:o,updated:l}=e,u=d.map(e=>e.spacingToken),h=u.map(({token:e})=>e),p=u.map(({_id:e})=>e),g=o.project?r.a.PROJECT:r.a.STYLEGUIDE,m=o[g],f=Object(s.j)(g===r.a.PROJECT?"project-styleguide-spacing":"styleguide-spacing",{url:{bid:m._id},query:{sptid:u.length>1?p:p[0]}});return i.h(c.p,{baseRef:t.ref,spacingTokens:h,usernames:[o.source.username],barrelName:m.name,platform:Object(a.s)(m.type),link:f,updated:l,unread:n,onClick:t.onClick})}case"UpdateProjectSpacingToken":case"UpdateStyleguideSpacingToken":{const{params:o,updated:l}=e,u=d.map(e=>e.spacingToken),h=u.map(({token:e})=>e),p=u.map(({_id:e})=>e),g=o.project?r.a.PROJECT:r.a.STYLEGUIDE,m=o[g],f=Object(s.j)(g===r.a.PROJECT?"project-styleguide-spacing":"styleguide-spacing",{url:{bid:m._id},query:{sptid:u.length>1?p:p[0]}});return i.h(c.H,{baseRef:t.ref,spacingTokens:h,usernames:[o.source.username],barrelName:m.name,platform:Object(a.s)(m.type),link:f,updated:l,unread:n,onClick:t.onClick})}case"DeleteProjectSpacingToken":case"DeleteStyleguideSpacingToken":{const{params:s,updated:o}=e,l=d.map(e=>e.spacingToken).map(({token:e})=>e),u=s[s.project?r.a.PROJECT:r.a.STYLEGUIDE];return i.h(c.w,{baseRef:t.ref,spacingTokens:l,usernames:[s.source.username],barrelName:u.name,platform:Object(a.s)(u.type),updated:o,unread:n})}default:return null}}},function(e,t,n){"use strict";var i=n(0);t.a=(e=>{const t=e.split(/\*([^*]+)\*/g).map((e,t)=>t%2?i.h("strong",{key:e+t},e):e);return i.h("span",null,t)})},function(e,t,n){"use strict";var i=n(909),s=n(920),a=n(925),o=n(928),r=n(932),l=n(938),c=n(940),d=n(942),u=n(944),h=n(946),p=n(949),g=n(953),m=n(956),f=n(959),b=n(962),y=n(965),S=n(967),v=n(969),C=n(972),E=n(975),O=n(977),T=n(979),k=n(981),D=n(983),_=n(985),w=n(987),j=n(990),R=n(993),I=n(995),A=n(997),x=n(999),P=n(1001),L=n(1003),N=n(1005),U=n(1007);n.d(t,"m",function(){return i.a}),n.d(t,"n",function(){return s.a}),n.d(t,"o",function(){return a.a}),n.d(t,"B",function(){return o.a}),n.d(t,"F",function(){return r.a}),n.d(t,"j",function(){return l.a}),n.d(t,"k",function(){return c.a}),n.d(t,"t",function(){return d.a}),n.d(t,"z",function(){return u.a}),n.d(t,"y",function(){return h.a}),n.d(t,"G",function(){return p.a}),n.d(t,"c",function(){return g.a}),n.d(t,"D",function(){return m.a}),n.d(t,"i",function(){return f.a}),n.d(t,"g",function(){return b.a}),n.d(t,"v",function(){return y.a}),n.d(t,"C",function(){return S.a}),n.d(t,"b",function(){return v.a}),n.d(t,"u",function(){return C.a}),n.d(t,"r",function(){return E.a}),n.d(t,"d",function(){return O.a}),n.d(t,"a",function(){return T.a}),n.d(t,"e",function(){return k.a}),n.d(t,"h",function(){return D.a}),n.d(t,"s",function(){return _.a}),n.d(t,"f",function(){return w.a}),n.d(t,"l",function(){return j.a}),n.d(t,"q",function(){return R.a}),n.d(t,"x",function(){return I.a}),n.d(t,"I",function(){return A.a}),n.d(t,"p",function(){return x.a}),n.d(t,"H",function(){return P.a}),n.d(t,"w",function(){return L.a}),n.d(t,"E",function(){return N.a}),n.d(t,"A",function(){return U.a})},function(e,t,n){"use strict";var i=n(910);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(202),c=n(155),d=n(123),u=n(116),h=n(6),p=n(919);n.n(p);function g(e){const{baseRef:t,usernames:n,screenName:s,barrelName:a,platform:p,notes:g,content:m,avatarUrl:f,updated:b,link:y,unread:S,onClick:v}=e,C=n.length>1?i.h(l.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.NOTE}):i.h(r.a,{avatarUrl:f,subIconType:u.a.NOTE}),E=i.h(i.Fragment,null,i.h(d.a,{key:"username",usernames:n}),` added ${Object(h.g)(g.length,"note")} to `,i.h("span",{key:"span",class:"screenName"},s),m?":":"."),O=i.h("div",{class:"contentWrapper ellipsis"},m),T=i.h(c.a,{name:a,platform:p});return i.h(o.a,{baseRef:t,class:"createDot",onClick:v,icon:C,header:E,content:O,footer:T,unread:S,updated:b,link:y})}g.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,notes:a.a.arrayOf(a.a.oneOfType([a.a.string,a.a.object])),usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=g},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(284),r=n(3),l=n(912);n.n(l);function c(e){const{unread:t,disabled:n,link:s,linkTarget:a,linkType:l,icon:c,header:d,content:u,footer:h,updated:p,onClick:g,class:m,baseRef:f}=e,b=Object(r.a)("notificationItem",{disabled:n,unread:t},m);return i.h("a",{ref:f,onClick:n?null:g,target:a,class:b,href:s,"data-link-type":l},c&&i.h("div",{class:"notificationIcon"},c),i.h("div",{class:"notificationBody"},d&&i.h("div",{class:"notificationHeader"},d),u&&i.h("div",{class:"notificationContent"},u),i.h("div",{class:"notificationFooter"},h,i.h(o.a,{key:"time",type:"time-ago",format:"micro",class:"date",datetime:p}))))}c.propTypes={icon:a.a.node,header:a.a.node,content:a.a.node,footer:a.a.node,unread:a.a.bool,disabled:a.a.bool,link:a.a.string,linkTarget:a.a.string,linkType:a.a.string,class:a.a.string,updated:a.a.string.isRequired,onClick:a.a.func},c.defaultProps={linkType:"inApp"},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(281),r=n(914);function l(e){const{type:t,class:n}=e,s=r.a[t],a=s.responsive?o.a:"img",l={[s.responsive?"asset":"src"]:s.source,alt:s.alt,class:n};return i.h(a,l)}l.propTypes={avatar:a.a.bool,type:a.a.string},t.a=l},function(e,t,n){"use strict";var i=n(116),s=n(21);const a={[i.a.ADD]:{source:Object(s.f)("img/ntf/icAdd.svg"),alt:"+"},[i.a.DELETE]:{source:Object(s.f)("img/ntf/icDelete.svg"),alt:"-"},[i.a.PERSON]:{source:Object(s.f)("img/ntf/icPerson.svg"),alt:"&#x1f464;"},[i.a.NOTE]:{source:Object(s.f)("img/ntf/icNote.svg"),alt:"&#x270f;"},[i.a.TRANSFER]:{source:Object(s.f)("img/ntf/icTransfer.svg"),alt:"&#x21c6;"},[i.a.ARCHIVE]:{source:Object(s.f)("img/ntf/icArchive.svg"),alt:"&#x1f4e5;"},[i.a.ACTIVATE]:{source:Object(s.f)("img/ntf/icTransfer.svg"),alt:"&#x1f4e4;"},[i.a.STAR]:{source:Object(s.f)("img/ntf/icStar.svg"),alt:"&#x2b50;"},[i.a.JIRA]:{source:Object(s.f)("img/ntf/icJira.svg"),alt:""},[i.a.UPDATE]:{source:"img/ntf/icUpdate.png",alt:"&#x1f4e2;",responsive:!0},[i.a.SLACK]:{source:"img/ntf/icSlack.png",alt:"#",responsive:!0},[i.a.ADMIN]:{source:"img/ntf/icAdmin.png",alt:"&#x1f4aa;",responsive:!0},[i.a.MENTION]:{source:"img/ntf/icMention.png",alt:"&#x1f449;",responsive:!0},[i.a.GROUP_MEMBERS]:{source:"img/ntf/icGroupMembers.png",alt:"&#x1f4aa;",responsive:!0},[i.a.GROUP_COLORS]:{source:"img/ntf/icGroupColors.png",alt:"&#x1F3A8;",responsive:!0},[i.a.TEXT_STYLES]:{source:"img/ntf/icTextStyles.png",alt:"&#x270f;",responsive:!0},[i.a.SPACING]:{source:"img/ntf/icSpacing.png",alt:"&#xe12b;",responsive:!0}};t.a=a},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(917);n.n(o);function r(e){const{name:t,platform:n}=e;return i.h("div",{class:"barrel"},i.h("span",{class:"name ellipsis",title:t},t)," • ",i.h("span",{class:"platform"},n))}r.propTypes={name:a.a.string.isRequired,platform:a.a.string.isRequired},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s);const o=3;function r(e){const{usernames:t=[]}=e;let n,s,a;return 0===t.length?null:(1===t.length?n=t[0]:t.length>o?(n=t.slice(0,o).join(", "),s=`${t.length-o} more people`,a=t.slice(o).join("\n")):(s=t.pop(),n=t.join(", ")),i.h("span",null,n,s&&i.h("span",{title:a}," and ",s)))}r.propTypes={usernames:a.a.arrayOf(a.a.string).isRequired},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(921);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(155),c=n(123),d=n(288),u=n(116),h=n(924);n.n(h);function p(e){const{baseRef:t,usernames:n,screenNames:s,barrelName:a,content:h,platform:p,avatarUrl:g,link:m,unread:f,updated:b,onClick:y}=e,S=i.h(r.a,{avatarUrl:g,subIconType:u.a.ADD}),v=s.length>1,C=[i.h(c.a,{key:"usernames",usernames:n}),v?" added ":" added a screen: ",i.h(d.a,{key:"screenNames",names:s}),v?" screens.":"."],E=h?i.h("div",{class:"contentWrapper ellipsis"},h):null,O=i.h(l.a,{name:a,platform:p});return i.h(o.a,{baseRef:t,class:"createScreen",onClick:y,icon:S,header:C,footer:O,unread:f,content:E,updated:b,link:m})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=p},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(923);n.n(o);function r(e){const{names:t=[]}=e;if(0===t.length)return null;if(1===t.length)return i.h("span",{key:"multiName",class:"multiName"},t[0]);const n=t.join("\n");return i.h("span",{class:"multiName",title:n},t.length)}r.propTypes={names:a.a.arrayOf(a.a.string).isRequired},t.a=r},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(926);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(155),c=n(123),d=n(288),u=n(116),h=n(927);n.n(h);function p(e){const{baseRef:t,usernames:n,screenNames:s,barrelName:a,platform:h,avatarUrl:p,updated:g,link:m,content:f,unread:b,onClick:y}=e,S=i.h(r.a,{avatarUrl:p,subIconType:u.a.ADD}),v=s.length>1,C=[i.h(c.a,{key:"usernames",usernames:n}),v?" added versions to ":" added a version to ",i.h(d.a,{key:"screenNames",names:s}),v?" screens.":" screen."],E=f?i.h("div",{class:"contentWrapper ellipsis"},f):null,O=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,class:"createScreenVersion",onClick:y,icon:S,header:C,footer:O,unread:b,content:E,updated:g,link:m})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=p},function(e,t){},function(e,t,n){"use strict";var i=n(929);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(202),c=n(385),d=n(123),u=n(116);function h(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:h,link:p,unread:g,onClick:m}=e,f=n.length>1?i.h(l.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.PERSON}):i.h(r.a,{avatarUrl:a,subIconType:u.a.PERSON}),b=[i.h(d.a,{key:"usernames",usernames:n})," joined ",i.h(c.a,{key:"barrelNames",barrelNames:s}),"."];return i.h(o.a,{baseRef:t,class:"newMember",onClick:m,icon:f,header:b,updated:h,unread:g,link:p})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=h},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(931);n.n(o);function r(e){const{barrelNames:t=[]}=e;let n,s;return 0===t.length?null:(1===t.length?n=t[0]:(s=t.pop(),n=t.join(", ")),i.h("span",null,i.h("span",{class:"barrelName"},n),s&&[" and ",i.h("span",{key:"tail",class:"barrelName"},s)]))}r.propTypes={barrelNames:a.a.arrayOf(a.a.string).isRequired},t.a=r},function(e,t){},function(e,t,n){"use strict";var i=n(933);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(633),c=n(155),d=n(123),u=n(634),h=n(116);function p(e){const{baseRef:t,usernames:n,colors:s,barrelName:a,platform:p,updated:g,link:m,unread:f,onClick:b}=e,y=s.length>1?i.h(r.a,{iconType:h.a.GROUP_COLORS,subIconType:h.a.ADD}):i.h(l.a,{color:s[0],subIconType:h.a.ADD}),S=s.length>1,v=[i.h(d.a,{key:"usernames",usernames:n}),S?" updated ":" updated a color: ",i.h(u.a,{key:"colors",platform:p,colors:s}),S?" colors.":"."],C=i.h(c.a,{name:a,platform:p});return i.h(o.a,{baseRef:t,class:"updateColor",onClick:b,icon:y,header:v,footer:C,unread:f,updated:g,link:m})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),colors:a.a.arrayOf(a.a.object)},t.a=p},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(632),r=n(11),l=n(935);n.n(l);function c(e){const{color:t,subIconType:n}=e;return i.h(o.a,{subIconType:n},i.h("div",{class:"colorPreviewWrapper"},i.h("div",{class:"colorPreview",style:{backgroundColor:new r.a(t).toCSS()}})))}c.propTypes={color:a.a.string.isRequired,subIconType:a.a.string},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(11),r=n(937);n.n(r);function l(e){const{platform:t,colors:n=[]}=e;if(0===n.length)return null;if(1===n.length){const e=new o.a(n[0]);return i.h("span",{class:"colorName",title:e.toPlatformString(t)},e.name)}const s=n.map(e=>{const n=new o.a(e);return n.name+": "+n.toPlatformString(t)}).join("\n");return i.h("span",{class:"colorName",title:s},n.length)}l.propTypes={platform:a.a.string.isRequired,colors:a.a.arrayOf(a.a.object).isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(939);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(155),c=n(123),d=n(288),u=n(116);function h(e){const{baseRef:t,usernames:n,componentNames:s,barrelName:a,platform:h,avatarUrl:p,updated:g,link:m,unread:f,onClick:b}=e,y=i.h(r.a,{avatarUrl:p,subIconType:u.a.ADD}),S=s.length>1,v=[i.h(c.a,{key:"usernames",usernames:n}),S?" added ":" added a component: ",i.h(d.a,{key:"componentNames",names:s}),S?" components.":"."],C=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,class:"createComponent",onClick:b,icon:y,header:v,footer:C,unread:f,updated:g,link:m})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,componentNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(941);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(155),c=n(123),d=n(288),u=n(116);function h(e){const{baseRef:t,usernames:n,componentNames:s,barrelName:a,platform:h,avatarUrl:p,updated:g,link:m,unread:f,onClick:b}=e,y=i.h(r.a,{avatarUrl:p,subIconType:u.a.ADD}),S=s.length>1,v=[i.h(c.a,{key:"usernames",usernames:n}),S?" added versions to ":" added a version to ",i.h(d.a,{key:"componentNames",names:s}),S?" components.":" component."],C=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,class:"createComponentVersion",onClick:b,icon:y,header:v,footer:C,unread:f,updated:g,link:m})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,componentNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(943);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(155),c=n(123),d=n(288),u=n(116);function h(e){const{baseRef:t,usernames:n,componentNames:s,barrelName:a,platform:h,avatarUrl:p,updated:g,unread:m}=e,f=i.h(r.a,{avatarUrl:p,subIconType:u.a.DELETE}),b=s.length>1,y=[i.h(c.a,{key:"usernames",usernames:n}),b?" removed ":" removed a component: ",i.h(d.a,{key:"componentNames",names:s}),b?" components.":"."],S=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,class:"deleteComponent",icon:f,header:y,footer:S,unread:m,updated:g,disabled:!0})}h.propTypes={unread:a.a.bool,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,componentNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(945);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(123),c=n(385),d=n(116);function u(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:u,link:h,unread:p,onClick:g,barrelType:m}=e,f=i.h(r.a,{avatarUrl:a,subIconType:d.a.PERSON}),b=s.length>1,y=[i.h(l.a,{key:"usernames",usernames:n}),b?` invited you to ${s.length} ${m}s: `:" invited you to ",i.h(c.a,{key:"barrelNames",barrelNames:s}),"."];return i.h(o.a,{baseRef:t,class:"inviteUser",onClick:g,icon:f,header:y,updated:u,unread:p,link:h})}u.propTypes={onClick:a.a.bool,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(947);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(123),c=n(116),d=n(948);n.n(d);function u(e){const{baseRef:t,usernames:n,organizationName:s,avatarUrl:a,updated:d,link:u,unread:h,onClick:p}=e,g=i.h(r.a,{avatarUrl:a,subIconType:c.a.PERSON}),m=[i.h(l.a,{key:"usernames",usernames:n})," invited you to ",i.h("span",{key:"organizationName",class:"organizationName"},s)," organization."];return i.h(o.a,{baseRef:t,class:"inviteMember",onClick:p,icon:g,header:m,updated:d,unread:h,link:u,linkType:"legacy"})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,organizationName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(950);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(123),c=n(281),d=n(116),u=n(951),h=n(952);n.n(h);function p(e){const{baseRef:t,usernames:n,roleName:s,organizationName:a,avatarUrl:h,updated:p,link:g,unread:m,onClick:f}=e,b=u.a[s],y=i.h(r.a,{avatarUrl:h,subIconType:d.a.PERSON}),S=[i.h(l.a,{key:"usernames",usernames:n})," assigned you as ",i.h("span",{key:"roleName",class:"roleName"},b.name)," ",i.h(c.a,{key:"roleIcon",class:"roleIcon",asset:b.icon})," on ",i.h("span",{key:"organizationName",class:"organizationName"},a)," organization."];return i.h(o.a,{baseRef:t,class:"updateOrganizationMemberRole",onClick:f,icon:y,header:S,updated:p,unread:m,link:g,linkType:"legacy"})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,roleName:a.a.string.isRequired,organizationName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string)},t.a=p},function(e,t,n){"use strict";t.a={king:{name:"Owner",icon:"img/icQueen.png"},queen:{name:"Admin",icon:"img/icQueen.png"},rook:{name:"Editor",icon:"img/icRook.png"},knight:{name:"Member",icon:"img/icKnight.png"}}},function(e,t){},function(e,t,n){"use strict";var i=n(954);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(123),c=n(116),d=n(955);n.n(d);function u(e){const{baseRef:t,usernames:n,content:s,updated:a,link:d,unread:u,onClick:h,disabled:p}=e,g=i.h(r.a,{iconType:c.a.UPDATE}),m=i.h("div",{class:"contentWrapper"},s),f=i.h(l.a,{usernames:n});return i.h(o.a,{baseRef:t,class:"announcement",onClick:h,icon:g,content:m,footer:f,unread:u,updated:a,disabled:p,link:d,linkTarget:"_blank"})}u.propTypes={onClick:a.a.func,disabled:a.a.bool,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),content:a.a.node},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(957);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(202),c=n(155),d=n(123),u=n(116),h=n(6),p=n(958);n.n(p);function g(e){const{baseRef:t,usernames:n,screenName:s,barrelName:a,platform:p,notes:g,avatarUrl:m,updated:f,link:b,unread:y,onClick:S}=e,v=n.length>1?i.h(l.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.NOTE}):i.h(r.a,{avatarUrl:m,subIconType:u.a.NOTE}),C=[i.h(d.a,{key:"usernames",usernames:n}),` resolved ${Object(h.g)(g.length,"note")} on `,i.h("span",{key:"screenName",class:"screenName"},s),"."],E=i.h(c.a,{name:a,platform:p});return i.h(o.a,{baseRef:t,class:"resolveDot",onClick:S,icon:v,header:C,footer:E,unread:y,updated:f,link:b})}g.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,notes:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=g},function(e,t){},function(e,t,n){"use strict";var i=n(960);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(154),c=n(155),d=n(123),u=n(116),h=n(961);n.n(h);function p(e){const{baseRef:t,usernames:n,screenName:s,barrelName:a,platform:h,noteName:p,content:g,avatarUrl:m,updated:f,link:b,unread:y,onClick:S}=e,v=n.length>1?i.h(r.a,{iconType:u.a.GROUP_MEMBERS,subIconType:u.a.NOTE}):i.h(l.a,{avatarUrl:m,subIconType:u.a.NOTE}),C=i.h("div",{class:"contentWrapper ellipsis"},g),E=[i.h(d.a,{key:"usernames",usernames:n})," replied to note ",i.h("span",{key:"noteName",class:"noteName"},p)," on ",i.h("span",{key:"screenName",class:"screenName"},s),g?":":"."],O=i.h(c.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,class:"createComment",onClick:S,icon:v,header:E,content:C,footer:O,unread:y,updated:f,link:b})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,noteName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=p},function(e,t){},function(e,t,n){"use strict";var i=n(963);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(155),c=n(123),d=n(116),u=n(964);n.n(u);function h(e){const{baseRef:t,usernames:n,screenName:s,barrelName:a,platform:u,noteName:h,content:p,avatarUrl:g,updated:m,link:f,unread:b,onClick:y}=e,S=i.h(r.a,{avatarUrl:g,subIconType:d.a.MENTION}),v=[i.h(c.a,{key:"usernames",usernames:n})," mentioned you in note ",i.h("span",{key:"noteName",class:"noteName"},h)," on ",i.h("span",{key:"screenName",class:"screenName"},s),p?":":"."],C=i.h("div",{class:"contentWrapper ellipsis"},p),E=i.h(l.a,{name:a,platform:u});return i.h(o.a,{baseRef:t,class:"commentMention",onClick:y,icon:S,header:v,content:C,footer:E,unread:b,updated:m,link:f})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,noteName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=h},function(e,t){},function(e,t,n){"use strict";var i=n(966);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(155),c=n(123),d=n(288),u=n(116);function h(e){const{baseRef:t,usernames:n,screenNames:s,barrelName:a,platform:h,avatarUrl:p,updated:g,unread:m}=e,f=i.h(r.a,{avatarUrl:p,subIconType:u.a.DELETE}),b=s.length>1,y=[i.h(c.a,{key:"usernames",usernames:n}),b?" deleted ":" deleted a screen: ",i.h(d.a,{key:"screenNames",names:s}),b?" screens.":"."],S=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,class:"deleteScreen",icon:f,header:y,footer:S,unread:m,updated:g,disabled:!0})}h.propTypes={unread:a.a.bool,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(968);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(385),c=n(123),d=n(116);function u(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:u,unread:h}=e,p=i.h(r.a,{avatarUrl:a,subIconType:d.a.DELETE}),g=[i.h(c.a,{key:"usernames",usernames:n})," removed you from ",i.h(l.a,{key:"barrelNames",barrelNames:s}),"."];return i.h(o.a,{baseRef:t,class:"removeUser",icon:p,header:g,updated:u,unread:h,disabled:!0})}u.propTypes={unread:a.a.bool,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(970);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(155),c=n(123),d=n(116),u=n(971);n.n(u);function h(e){const{baseRef:t,usernames:n,barrelName:s,platform:a,extensionName:u,avatarUrl:h,updated:p,link:g,unread:m,onClick:f}=e,b=i.h(r.a,{avatarUrl:h,subIconType:d.a.ADD}),y=[i.h(c.a,{key:"usernames",usernames:n})," added an extension: ",i.h("span",{key:"extensionName",class:"extensionName"},u),"."],S=i.h(l.a,{name:s,platform:a});return i.h(o.a,{baseRef:t,class:"addExtension",onClick:f,icon:b,header:y,footer:S,unread:m,updated:p,link:g})}h.propTypes={onClick:a.a.bool,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,extensionName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t){},function(e,t,n){"use strict";var i=n(973);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(155),c=n(123),d=n(116),u=n(974);n.n(u);function h(e){const{baseRef:t,usernames:n,barrelName:s,platform:a,extensionName:u,avatarUrl:h,updated:p,unread:g}=e,m=i.h(r.a,{avatarUrl:h,subIconType:d.a.DELETE}),f=[i.h(c.a,{key:"usernames",usernames:n})," removed an extension: ",i.h("span",{key:"extensionName",class:"extensionName"},u),"."],b=i.h(l.a,{name:s,platform:a});return i.h(o.a,{baseRef:t,class:"deleteExtension",icon:m,header:f,footer:b,unread:g,updated:p,disabled:!0})}h.propTypes={unread:a.a.bool,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,extensionName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t){},function(e,t,n){"use strict";var i=n(976);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(123),c=n(385),d=n(116);function u(e){const{baseRef:t,barrelType:n,usernames:s,barrelNames:a,content:u,avatarUrl:h,updated:p,unread:g}=e,m=i.h(r.a,{avatarUrl:h,subIconType:d.a.DELETE}),f=[i.h(l.a,{key:"usernames",usernames:s}),` deleted a ${n}: `,i.h(c.a,{key:"barrelNames",barrelNames:a}),"."];return i.h(o.a,{baseRef:t,icon:m,header:f,content:u,updated:p,unread:g,disabled:!0})}u.propTypes={unread:a.a.bool,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),barrelNames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=u},function(e,t,n){"use strict";var i=n(978);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(123),c=n(385),d=n(116);function u(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:u,link:h,unread:p,onClick:g,barrelType:m}=e,f=i.h(r.a,{avatarUrl:a,subIconType:d.a.ARCHIVE}),b=[i.h(l.a,{key:"usernames",usernames:n}),` archived a ${m}: `,i.h(c.a,{key:"barrelNames",barrelNames:s}),"."];return i.h(o.a,{baseRef:t,onClick:g,icon:f,header:b,updated:u,unread:p,link:h})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),barrelNames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(980);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(123),c=n(385),d=n(116);function u(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:u,link:h,unread:p,onClick:g,barrelType:m}=e,f=i.h(r.a,{avatarUrl:a,subIconType:d.a.ACTIVATE}),b=[i.h(l.a,{key:"usernames",usernames:n}),` activated a ${m}: `,i.h(c.a,{key:"barrelNames",barrelNames:s}),"."];return i.h(o.a,{baseRef:t,onClick:g,icon:f,header:b,unread:p,updated:u,link:h})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),barrelNames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(982);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(123),c=n(385),d=n(116);function u(e){const{baseRef:t,barrelType:n,usernames:s,barrelNames:a,avatarUrl:u,updated:h,link:p,unread:g,onClick:m}=e,f=i.h(r.a,{avatarUrl:u,subIconType:d.a.ADMIN}),b=a.length>1,y=[i.h(l.a,{key:"usernames",usernames:s}),b?` assigned you as an admin on ${a.length} ${n}s: `:" assigned you as an admin on ",i.h(c.a,{key:"barrelNames",barrelNames:a}),"."];return i.h(o.a,{baseRef:t,class:"assignAdmin",onClick:m,icon:f,header:y,updated:h,unread:g,link:p})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(984);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(633),l=n(202),c=n(155),d=n(123),u=n(634),h=n(116);function p(e){const{baseRef:t,usernames:n,colors:s,barrelName:a,platform:p,updated:g,link:m,unread:f,onClick:b}=e,y=s.length>1?i.h(l.a,{iconType:h.a.GROUP_COLORS,subIconType:h.a.ADD}):i.h(r.a,{color:s[0],subIconType:h.a.ADD}),S=s.length>1,v=[i.h(d.a,{key:"usernames",usernames:n}),S?" added ":" added a color: ",i.h(u.a,{key:"colors",platform:p,colors:s}),S?" colors.":"."],C=i.h(c.a,{name:a,platform:p});return i.h(o.a,{baseRef:t,class:"createColor",onClick:b,icon:y,header:v,footer:C,unread:f,updated:g,link:m})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,colors:a.a.arrayOf(a.a.object),usernames:a.a.arrayOf(a.a.string)},t.a=p},function(e,t,n){"use strict";var i=n(986);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(633),c=n(155),d=n(123),u=n(634),h=n(116);function p(e){const{baseRef:t,usernames:n,colors:s,barrelName:a,platform:p,updated:g,unread:m}=e,f=s.length>1?i.h(r.a,{iconType:h.a.GROUP_COLORS,subIconType:h.a.DELETE}):i.h(l.a,{color:s[0],subIconType:h.a.DELETE}),b=s.length>1,y=[i.h(d.a,{key:"usernames",usernames:n}),b?" removed ":" removed a color: ",i.h(u.a,{key:"colors",platform:p,colors:s}),b?" colors.":"."],S=i.h(c.a,{name:a,platform:p});return i.h(o.a,{baseRef:t,class:"deleteColor",icon:f,header:y,footer:S,unread:m,updated:g,disabled:!0})}p.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),colors:a.a.arrayOf(a.a.object)},t.a=p},function(e,t,n){"use strict";var i=n(988);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(123),c=n(116),d=n(989);n.n(d);function u(e){const{baseRef:t,usernames:n,barrelName:s,slackChannelName:a,updated:d,link:u,unread:h,onClick:p}=e,g=i.h(r.a,{iconType:c.a.SLACK}),m=[i.h(l.a,{key:"usernames",usernames:n})," connected ",i.h("span",{key:"barrelName",class:"barrelName"},s)," to Slack channel ",i.h("span",{key:"slackChannelName",class:"slackChannelName"},a),"."];return i.h(o.a,{baseRef:t,class:"authSlack",onClick:p,icon:g,header:m,updated:d,unread:h,link:u})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,slackChannelName:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),content:a.a.string},t.a=u},function(e,t){},function(e,t,n){"use strict";var i=n(991);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(116),c=n(992);n.n(c);function d(e){const{baseRef:t,updated:n,link:s,content:a,unread:c,onClick:d}=e,u=i.h("div",{class:"iconWrapper"},i.h(r.a,{iconType:l.a.STAR})),h=i.h("div",{class:"contentWrapper"},a);return i.h(o.a,{baseRef:t,class:"createCoupon",onClick:d,icon:u,content:h,updated:n,unread:c,link:s})}d.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,content:a.a.node},t.a=d},function(e,t){},function(e,t,n){"use strict";var i=n(994);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(155),c=n(123),d=n(288),u=n(116);function h(e){const{baseRef:t,usernames:n,textStyles:s,barrelName:a,platform:h,updated:p,link:g,unread:m,onClick:f}=e,b=i.h(r.a,{iconType:u.a.TEXT_STYLES,subIconType:u.a.ADD}),y=s.length>1,S=[i.h(c.a,{key:"usernames",usernames:n}),y?" added ":" added a text style: ",i.h(d.a,{key:"textStyles",names:s}),y?" text styles.":"."],v=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,class:"createTextStyle",onClick:f,icon:b,header:S,footer:v,unread:m,updated:p,link:g})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,textStyles:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(996);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(155),c=n(123),d=n(288),u=n(116);function h(e){const{baseRef:t,usernames:n,textStyles:s,barrelName:a,platform:h,updated:p,unread:g}=e,m=i.h(r.a,{iconType:u.a.TEXT_STYLES,subIconType:u.a.DELETE}),f=s.length>1,b=[i.h(c.a,{key:"usernames",usernames:n}),f?" removed ":" removed a text style: ",i.h(d.a,{key:"textStyles",names:s}),f?" text styles.":"."],y=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,class:"deleteTextStyle",icon:m,header:b,footer:y,unread:g,updated:p,disabled:!0})}h.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,textStyles:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(998);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(155),c=n(123),d=n(288),u=n(116);function h(e){const{baseRef:t,usernames:n,textStyles:s,barrelName:a,platform:h,updated:p,link:g,unread:m,onClick:f}=e,b=i.h(r.a,{iconType:u.a.TEXT_STYLES,subIconType:u.a.ADD}),y=s.length>1,S=[i.h(c.a,{key:"usernames",usernames:n}),y?" updated ":" updated a text style: ",i.h(d.a,{key:"textStyles",names:s}),y?" text styles.":"."],v=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,class:"deleteTextStyle",onClick:f,icon:b,header:S,footer:v,unread:m,updated:p,link:g})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,textStyles:a.a.arrayOf(a.a.string),usernames:a.a.arrayOf(a.a.string)},t.a=h},function(e,t,n){"use strict";var i=n(1e3);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(155),c=n(123),d=n(288),u=n(116);function h(e){const{baseRef:t,spacingTokens:n,usernames:s,barrelName:a,platform:h,link:p,updated:g,unread:m,onClick:f}=e,b=i.h(r.a,{iconType:u.a.SPACING,subIconType:u.a.ADD}),y=n.length>1,S=[i.h(c.a,{key:"usernames",usernames:s}),y?" added ":" added a spacing token: ",i.h(d.a,{key:"spacingTokens",names:n}),y?" spacing tokens.":"."],v=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,icon:b,header:S,footer:v,unread:m,updated:g,link:p,onClick:f})}h.propTypes={spacingTokens:a.a.arrayOf(a.a.string).isRequired,usernames:a.a.arrayOf(a.a.string).isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,link:a.a.string.isRequired,updated:a.a.string.isRequired,unread:a.a.bool.isRequired,onClick:a.a.func.isRequired},t.a=h},function(e,t,n){"use strict";var i=n(1002);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(155),c=n(123),d=n(288),u=n(116);function h(e){const{baseRef:t,spacingTokens:n,usernames:s,barrelName:a,platform:h,link:p,updated:g,unread:m,onClick:f}=e,b=i.h(r.a,{iconType:u.a.SPACING,subIconType:u.a.ADD}),y=n.length>1,S=[i.h(c.a,{key:"usernames",usernames:s}),y?" updated ":" updated a spacing token: ",i.h(d.a,{key:"spacingTokens",names:n}),y?" spacing tokens.":"."],v=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,icon:b,header:S,footer:v,unread:m,updated:g,link:p,onClick:f})}h.propTypes={spacingTokens:a.a.arrayOf(a.a.string).isRequired,usernames:a.a.arrayOf(a.a.string).isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,link:a.a.string.isRequired,updated:a.a.string.isRequired,unread:a.a.bool.isRequired,onClick:a.a.func.isRequired},t.a=h},function(e,t,n){"use strict";var i=n(1004);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(155),c=n(123),d=n(288),u=n(116);function h(e){const{baseRef:t,spacingTokens:n,usernames:s,barrelName:a,platform:h,updated:p,unread:g}=e,m=i.h(r.a,{iconType:u.a.SPACING,subIconType:u.a.DELETE}),f=n.length>1,b=[i.h(c.a,{key:"usernames",usernames:s}),f?" removed ":" removed a spacing token: ",i.h(d.a,{key:"spacingTokens",names:n}),f?" spacing tokens.":"."],y=i.h(l.a,{name:a,platform:h});return i.h(o.a,{baseRef:t,icon:m,header:b,footer:y,unread:g,updated:p,disabled:!0})}h.propTypes={spacingTokens:a.a.arrayOf(a.a.string).isRequired,usernames:a.a.arrayOf(a.a.string).isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,updated:a.a.string.isRequired,unread:a.a.bool.isRequired},t.a=h},function(e,t,n){"use strict";var i=n(1006);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(154),l=n(123),c=n(385),d=n(116);function u(e){const{baseRef:t,usernames:n,barrelNames:s,avatarUrl:a,updated:u,link:h,unread:p,onClick:g}=e,m=i.h(r.a,{avatarUrl:a,subIconType:d.a.TRANSFER}),f=[i.h(l.a,{key:"usernames",usernames:n})," transfered the ownership of ",i.h(c.a,{key:"barrelNames",barrelNames:s})," to you."];return i.h(o.a,{baseRef:t,onClick:g,icon:m,header:f,updated:u,unread:p,link:h})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,avatarUrl:a.a.string.isRequired,updated:a.a.string.isRequired,usernames:a.a.arrayOf(a.a.string),barrelNames:a.a.arrayOf(a.a.string)},t.a=u},function(e,t,n){"use strict";var i=n(1008);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(118),r=n(202),l=n(3),c=n(116),d=n(1009),u=n(8),h=n(155),p=n(1010);n.n(p);function g(e){const{baseRef:t,barrelId:n,barrelName:s,platform:a,actionName:p,issueKeys:g,items:m,updated:f,unread:b,onClick:y}=e,S=d.a[p],v=i.h(r.a,{iconType:c.a.JIRA,subIconType:"attach"===S.eventType?c.a.ADD:c.a.DELETE}),C=m.length>1?`${m.length} ${S.itemType}s`:m[0].itemName,E=g.length>1?`${g.length} issues`:g[0];let O="";O="attach"===S.eventType&&"project"!==S.itemType?Object(u.j)("project-dashboard",{url:{pid:n},query:{ja:g}}):"screen"===S.itemType&&1===m.length?Object(u.j)("project-screen",{url:{pid:n,sid:m[0].itemId}}):Object(u.j)("project-dashboard",{url:{pid:n}});const T=[i.h("span",{key:"itemNames",class:Object(l.a)({bold:1===m.length})},C),m.length>1?" are ":" is ","attach"===S.eventType?"attached to ":"removed from ",i.h("span",{key:"issueKeys",class:Object(l.a)({bold:1===g.length})},E)],k="project"!==S.itemType?i.h(h.a,{name:s,platform:a}):null;return i.h(o.a,{baseRef:t,class:"JiraAttachment",onClick:y,icon:v,header:T,footer:k,updated:f,unread:b,link:O})}g.propTypes={onClick:a.a.func,unread:a.a.bool,barrelId:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,actionName:a.a.string.isRequired,updated:a.a.string.isRequired,items:a.a.array.isRequired,issueKeys:a.a.arrayOf(a.a.string).isRequired},t.a=g},function(e,t,n){"use strict";t.a={AttachProjectToJiraIssue:{eventType:"attach",itemType:"project"},AttachSectionToJiraIssue:{eventType:"attach",itemType:"section"},AttachScreenToJiraIssue:{eventType:"attach",itemType:"screen"},RemoveProjectJiraIssueAttachment:{eventType:"remove",itemType:"project"},RemoveSectionJiraIssueAttachment:{eventType:"remove",itemType:"section"},RemoveScreenJiraIssueAttachment:{eventType:"remove",itemType:"screen"}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1013);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1014),a=n(1030),o=n(71),r=n(74),l=n(152),c=n(199),d=n(1),u=n(3),h=n(14),p=n(26),g=n(60),m=n(35),f=n(99),b=n(216),y=n(1040);n.n(y);class S extends i.Component{constructor(e){super(e),this.handleUserMenuSelect=this.handleUserMenuSelect.bind(this),this.handleEmotarsSelect=this.handleEmotarsSelect.bind(this),this.handleEmotarClick=this.handleEmotarClick.bind(this)}handleUserMenuSelect(){this.props.onSelectedViewChange(f.b)}handleEmotarsSelect(){this.props.onSelectedViewChange(f.a)}handleEmotarClick(e){const{selectedEmotar:t,onEmotarChange:n}=this.props;e!==t&&n(e)}renderEmotarsSection(){const{avatar:e,selectedEmotar:t}=this.props;return i.h("section",{class:"emotarsSection",ref:Object(h.a)(this,f.a)},i.h(a.a,{avatarUrl:e,selectedEmotar:t,onEmotarClick:this.handleEmotarClick,onBackButtonClick:this.handleUserMenuSelect}))}renderUserMenuSection(){const{currentAvatar:e,username:t,email:n,organizations:a,verified:o,paymentPlan:r,isDesktopNotificationEnabled:l,isEmailNotificationEnabled:c,onEmailNotificationToggle:d,onDesktopNotificationToggle:u,onUpdatePlanClick:p,onLogout:g}=this.props;return i.h("section",{class:"userMenuSection",ref:Object(h.a)(this,f.b)},i.h(s.a,{avatarUrl:e,username:t,email:n,organizations:a,verified:o,paymentPlanName:r.name,isDesktopNotificationEnabled:l,isEmailNotificationEnabled:c,onUpdatePlanClick:p,onEmailNotificationToggle:d,onDesktopNotificationToggle:u,onLogoutClick:g,onAvatarClick:this.handleEmotarsSelect}))}render(){const{selectedView:e}=this.props,t=Object(u.a)("userMenuContainer",e);return i.h("div",{ref:Object(h.a)(this,"container"),class:t},this.renderUserMenuSection(),this.renderEmotarsSection())}}t.a=Object(r.a)(class extends i.Component{constructor(e){super(e),this.handleToggleEmailNotification=this.handleToggleEmailNotification.bind(this),this.handleToggleDesktopNotification=this.handleToggleDesktopNotification.bind(this),this.handleUpdatePlanClick=this.handleUpdatePlanClick.bind(this),this.showDialog=this.showDialog.bind(this),this.closeDialog=this.closeDialog.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.state={showUserMenu:!1,isDialogVisible:!1}}static calculateState(){const{organizations:e,loadingProfiles:t,organizationProfiles:n}=m.e.getState(),i=t?[]:e.filter(({_id:e})=>!n[e].restricted).sort(d.H.name),s=g.b.getState(),{userId:a,email:o,avatar:r,emotar:l}=s,c=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(s,["userId","email","avatar","emotar"]),u=Object(p.f)({email:o,emotar:l,avatar:r,_id:a}).src;return Object.assign({organizations:i,userId:a,email:o,emotar:l,avatar:r,currentAvatar:u},c)}static getStores(){return[g.b,m.e]}showDialog(){this.setState({isDialogVisible:!0})}closeDialog(){this.setState({isDialogVisible:!1})}handleToggleEmailNotification(){const{isEmailNotificationEnabled:e}=this.state;g.a.updateEmailNotifications(!e)}handleToggleDesktopNotification(){const{isDesktopNotificationEnabled:e}=this.state;"default"===Notification.permission?Notification.requestPermission(e=>{g.a.setDesktopNotifications("granted"===e)}):"granted"===Notification.permission?g.a.setDesktopNotifications(!e):"denied"===Notification.permission&&this.showDialog()}handleUpdatePlanClick(){this.setState({showUserMenu:!1},()=>{Object(b.a)()})}handlePopoverOpen(){this.setState({showUserMenu:!0})}handlePopoverClose(){this.setState({showUserMenu:!1}),g.a.setSelectedView(f.b)}render(){const{username:e,email:t,avatar:n,emotar:s,currentAvatar:a,verified:r,paymentPlan:d,organizations:u,isEmailNotificationEnabled:h,isDesktopNotificationEnabled:p,isDialogVisible:m,selectedView:f,showUserMenu:b}=this.state,y=i.h("div",null,i.h(S,{username:e,email:t,avatar:n,currentAvatar:a,verified:r,paymentPlan:d,selectedEmotar:s,organizations:u,selectedView:f,isDesktopNotificationEnabled:p,isEmailNotificationEnabled:h,onEmailNotificationToggle:this.handleToggleEmailNotification,onDesktopNotificationToggle:this.handleToggleDesktopNotification,onUpdatePlanClick:this.handleUpdatePlanClick,onSelectedViewChange:g.a.setSelectedView,onEmotarChange:g.a.updateUserEmotar,onLogout:g.a.logout}),m&&i.h(o.a,{message:"You need to enable notifications from browser settings.",positiveButtonText:"OK",onPositiveButtonClick:this.closeDialog,hideNegativeButton:!0}));return i.h(c.a,{open:b,content:y,onClose:this.handlePopoverClose,onOpen:this.handlePopoverOpen},i.h("button",{class:"currentUser noSelect",title:e},i.h(l.a,{width:"28",height:"28",src:a})))}},{withProps:!0})},function(e,t,n){"use strict";var i=n(1015);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1016),r=n(1021),l=n(1024),c=n(34),d=n(672),u=n(8),h=n(1029);n.n(h);function p(){return i.h("div",{class:"menuSeparator"})}function g(e){const{avatarUrl:t,username:n,email:s,verified:a,paymentPlanName:h,organizations:g,isDesktopNotificationEnabled:m,isEmailNotificationEnabled:f,onUpdatePlanClick:b,onDesktopNotificationToggle:y,onEmailNotificationToggle:S,onAvatarClick:v,onLogoutClick:C}=e;return i.h("div",{class:"userMenu"},i.h(o.a,{profileLink:"/profile",onAvatarClick:v,avatarUrl:t,username:n,info:s,verified:a}),g.length>0&&[i.h(p,{key:"separator"}),g.map(e=>{const t=Object(u.j)("organization-dashboard",{url:{oid:e._id}});return i.h(r.a,{key:e._id,avatarUrl:e.logo,organizationName:e.name,organizationLink:t})})],i.h(p,null),0===g.length&&i.h(l.a,{onClick:b,menuLabel:h,iconUrl:"img/icPlan.svg",actionContent:i.h(c.a,{class:"updatePlanButton"},"Update Plan")}),i.h(l.a,{onClick:y,menuLabel:"Desktop Notifications",iconUrl:"img/icNotification.svg",actionContent:i.h(d.a,{checked:m})}),i.h(l.a,{onClick:S,menuLabel:"Email Notifications",actionContent:i.h(d.a,{checked:f})}),i.h(p,null),i.h(l.a,{onClick:C,menuLabel:"Log out"}))}g.propTypes={avatarUrl:a.a.string.isRequired,username:a.a.string.isRequired,email:a.a.string.isRequired,verified:a.a.bool.isRequired,paymentPlanName:a.a.string.isRequired,organizations:a.a.arrayOf(a.a.shape({logo:a.a.string,name:a.a.string.isRequired,_id:a.a.string.isRequired})),isDesktopNotificationEnabled:a.a.bool.isRequired,isEmailNotificationEnabled:a.a.bool.isRequired,onUpdatePlanClick:a.a.func.isRequired,onDesktopNotificationToggle:a.a.func.isRequired,onEmailNotificationToggle:a.a.func.isRequired,onAvatarClick:a.a.func.isRequired,onLogoutClick:a.a.func.isRequired},t.a=g},function(e,t,n){"use strict";var i=n(1017);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(671),r=n(1020);n.n(r);class l extends i.Component{constructor(e){super(e),this.handleAvatarClick=this.handleAvatarClick.bind(this)}handleAvatarClick(e){const{onAvatarClick:t}=this.props;e.preventDefault(),t()}render(){const{avatarUrl:e,username:t,info:n,verified:s,profileLink:a}=this.props;return i.h("a",{class:"menuUserItem",href:a},i.h(o.a,{onClick:this.handleAvatarClick,type:"user",width:"64",height:"64",src:e}),i.h("div",{class:"infoContainer"},i.h("span",{class:"username ellipsis",title:t},t),i.h("span",{class:"info ellipsis"},n),!s&&i.h("span",{class:"status"},"Not verified yet.")))}}l.propTypes={avatarUrl:a.a.string.isRequired,username:a.a.string.isRequired,info:a.a.string.isRequired,profileLink:a.a.string.isRequired,onAvatarClick:a.a.func.isRequired,verified:a.a.bool},t.a=l},function(e,t,n){"use strict";var i=n(0),s=n(152),a=n(1019);n.n(a);t.a=function(e){const t=Object.assign({},e);return delete t.onClick,i.h("div",{class:"updatableAvatar",onClick:e.onClick},i.h(s.a,t))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1022);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(152),r=n(1023);n.n(r);function l(e){const{avatarUrl:t,organizationName:n,organizationLink:s}=e;return i.h("a",{class:"menuOrganizationItem",href:s},i.h(o.a,{type:"organization",width:"64",height:"64",bgSize:36,src:t}),i.h("div",{class:"infoContainer"},i.h("span",{class:"organizationName ellipsis",title:n},n),i.h("span",{class:"info"},"Organization")))}l.propTypes={avatarUrl:a.a.string,organizationName:a.a.string.isRequired,organizationLink:a.a.string.isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(1025);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(21),r=n(1026);n.n(r);function l(e){const{onClick:t,iconUrl:n,menuLabel:s,actionContent:a}=e;return i.h("div",{onClick:t,class:"menuItem noSelect"},i.h("div",{class:"menuIcon"},n&&i.h("img",{src:Object(o.f)(n)})),i.h("span",{class:"menuLabel ellipsis"},s),a)}l.propTypes={menuLabel:a.a.string.isRequired,iconUrl:a.a.string,actionContent:a.a.node,onClick:a.a.func.isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(1028);n.n(a);t.a=class extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange&&(e.preventDefault(),e.stopPropagation(),this.props.onChange())}render(){const{checked:e}=this.props;return i.h("div",{onClick:this.handleChange,class:Object(s.a)("switch",{switchOn:e})},i.h("input",{type:"checkbox",checked:e,class:"preferenceCheckbox"}),i.h("div",{class:"switchKnob"}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1031);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1032),r=n(671),l=n(34),c=n(43),d=n(21),u=n(8),h=n(1039);n.n(h);function p(e){const{onEmotarClick:t,onBackButtonClick:n,avatarUrl:s,selectedEmotar:a}=e;let h=null;return a?h=Object(d.b)(a):s&&(h=s),i.h("div",{class:"emotars"},i.h("h2",null,i.h(l.a,{class:"backButton",onClick:n},i.h(c.c,{color:"var(--gandalf)"})," ",i.h("span",null,"Back")),i.h("span",null,"How is your mood today?")),i.h("div",{class:"avatarContainer"},i.h("a",{href:Object(u.j)("profile")},i.h(r.a,{src:h,width:"64",height:"64"}))),i.h(o.a,{onEmotarClick:t,avatarUrl:s,selectedEmotar:a}))}p.propTypes={onEmotarClick:a.a.func.isRequired,onBackButtonClick:a.a.func.isRequired,avatarUrl:a.a.string,selectedEmotar:a.a.string},t.a=p},function(e,t,n){"use strict";var i=n(1033);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1034),r=n(152),l=n(1037),c=n(3),d=n(1038);n.n(d);class u extends i.Component{constructor(e){super(e),this.handleRandomClick=this.handleRandomClick.bind(this),this.handleSmallAvatarClick=this.handleSmallAvatarClick.bind(this)}handleRandomClick(){const{onEmotarClick:e}=this.props,t=Math.floor(Math.random()*l.a.length);e(l.a[t])}handleSmallAvatarClick(){this.props.onEmotarClick(null)}render(){const{onEmotarClick:e,avatarUrl:t,selectedEmotar:n}=this.props,s=Object(c.a)("emotar",{selected:!!t&&!n});return i.h("div",{class:"emotarList"},t?i.h("div",{onClick:this.handleSmallAvatarClick,class:s},i.h(r.a,{width:"36",height:"36",src:t})):i.h(o.a,{onClick:this.handleRandomClick,emotar:"random",selected:"random"===n}),l.a.map(t=>i.h(o.a,{key:t,onClick:e,emotar:t,selected:t===n})))}}u.propTypes={onEmotarClick:a.a.func.isRequired,selectedEmotar:a.a.bool,avatarUrl:a.a.string},t.a=u},function(e,t,n){"use strict";var i=n(1035);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(152),r=n(3),l=n(21),c=n(1036);n.n(c);class d extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,emotar:t}=this.props;e(t)}render(){const{emotar:e,selected:t}=this.props,n=Object(r.a)("emotar","noSelect",{selected:t}),s=Object(l.b)(e);return i.h("div",{onClick:this.handleClick,class:n},i.h(o.a,{src:s,width:"36",height:"36"}))}}d.propTypes={onClick:a.a.func.isRequired,emotar:a.a.string.isRequired,selected:a.a.bool},t.a=d},function(e,t){},function(e,t,n){"use strict";t.a=["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"]},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1042);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(74),a=n(60),o=n(1043),r=n(199),l=n(18),c=n(21),d=n(27),u=n(1046);n.n(u);const h="dismiss-globalstyleguides-whatsnew-popup",p="dismiss-zeplinthreezero-whatsnew-popup";t.a=Object(s.a)(class extends i.Component{constructor(e){super(e),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleDismiss=this.handleDismiss.bind(this),this.renderContent=this.renderContent.bind(this),this.state={whatsNewPopupOpen:!1}}static calculateState(){const{zeplinThreeZeroWhatsNewSeen:e}=a.b.getState();return{zeplinThreeZeroWhatsNewSeen:e}}static getStores(){return[a.b]}handleOpen(){mixpanel.master.track("Viewed what's new",{Feature:"Zeplin 3.0"}),this.setState({whatsNewPopupOpen:!0})}handleClick({eventSource:e}){e&&mixpanel.master.track("Clicked what's new link",{Link:e,Feature:"Zeplin 3.0"})}handleClose(){this.setState({whatsNewPopupOpen:!1})}handleDismiss({eventSource:e}){d.a.isWindowsApp&&(l.a.ipcRenderer.send(h),l.a.ipcRenderer.send(p)),this.handleClick({eventSource:e}),a.a.markZeplinThreeZeroWhatsNewAsSeen(),this.setState({whatsNewPopupOpen:!1})}componentDidMount(){d.a.isWindowsApp&&(l.a.ipcRenderer.on(h,()=>{a.a.markZeplinThreeZeroWhatsNewAsSeen()}),l.a.ipcRenderer.on(p,()=>{a.a.markZeplinThreeZeroWhatsNewAsSeen()}))}componentWillUnmount(){d.a.isWindowsApp&&(l.a.ipcRenderer.removeAllListeners(h),l.a.ipcRenderer.removeAllListeners(p))}renderContent(){return mixpanel.master.track("Viewed what's new",{Feature:"Zeplin 3.0"}),i.h(o.a,{onClick:this.handleClick,onDismiss:this.handleDismiss})}render(){const{whatsNewPopupOpen:e,zeplinThreeZeroWhatsNewSeen:t}=this.state;return t?null:i.h(r.a,{contentClass:"whatsNewPopoverContent",open:e,content:this.renderContent,onOpen:this.handleOpen,onClose:this.handleClose,toggleable:!0},i.h("button",{class:"whatsNewButton"},i.h("img",{src:Object(c.f)("img/icGrapePressed.png"),srcSet:`${Object(c.f)("img/icGrapePressed@2x.png")} 2x, ${Object(c.f)("img/icGrapePressed@3x.png")} 3x`,alt:"Whats New"})))}},{withProps:!0})},function(e,t,n){"use strict";var i=n(1044);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(281),o=n(1045);n.n(o);t.a=class extends i.Component{constructor(...e){var t;return t=super(...e),this.handleClickDismiss=(()=>{const{onDismiss:e}=this.props;e({eventSource:"Dismiss"})}),this.handleClickShare=(()=>{const{onClick:e}=this.props;e({eventSource:"Share"})}),this.handleClickLearnMore=(()=>{const{onDismiss:e}=this.props;e({eventSource:"Learn more"})}),this.handleClickImage=(()=>{const{onClick:e}=this.props;e({eventSource:"Image"})}),t}render(){return i.h("div",{class:"whatsNewPopup"},i.h("h2",null,"Announcing Zeplin 3.0"),i.h("div",{class:"body"},i.h("p",null,"3 million users, 2 new features, 1 source of truth",i.h("strong",null,"—today, we’re proud to announce Zeplin 3.0"),"."),i.h("figure",null,i.h("a",{href:"https://zpl.io/blog/3.0",target:"_blank",onClick:this.handleClickImage},i.h(a.a,{asset:"img/imgZeplinThreeZero.png"}))),i.h("p",null,"Source of truth comes from transparency and honesty, and probably bravery. We’ve introduced a couple features to Zeplin we think are worthy of those words.",i.h("br",null),i.h("br",null),i.h("strong",null,"1. Connected Components"),", which lets engineers access components in their codebase—with links to Storybook, GitHub, and any other source of workflow documentation—right on the designs.",i.h("br",null),i.h("br",null),i.h("strong",null,"2. Zeplin API"),", a new way to access your data in Zeplin, one that lets you build a wide set of solutions ranging from internal scripts to full-blown apps.")),i.h("div",{class:"footer"},i.h(s.a,{secondary:!0,inverted:!0,onClick:this.handleClickDismiss},"DISMISS"),i.h("div",null,i.h("a",{href:"https://zpl.io/tweet/3.0",target:"_blank",class:"button secondary inverted",onClick:this.handleClickShare},"SHARE"),i.h("a",{href:"https://zpl.io/blog/3.0",target:"_blank",class:"button primary inverted",onClick:this.handleClickLearnMore},"LEARN MORE"))))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1048);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1049),a=n(1148),o=n(1151),r=n(1219),l=n(71),c=n(151),d=n(35),u=n(57),h=n(58),p=n(60),g=n(74),m=n(18),f=n(216),b=n(14),y=n(45),S=n(26),v=n(27),C=n(1222);n.n(C);const E={PROJECTS:"projects",STYLEGUIDES:"styleguides"};t.a=Object(g.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.onCopyLink=(e=>{const{spaceView:t}=this.nodeRefs;Object(S.c)({content:e,toastContainer:t})}),this.handleShowToast=(({text:e,source:t})=>{const{spaceView:n}=this.nodeRefs;Object(y.a)({text:e,source:t,container:n})}),t}static calculateState(){const{loading:e,selectedTab:t,upgradePlanDialogForBarrelType:n}=c.e.getState(),{loading:i,loadingProfiles:s,loadingBarrels:a}=d.e.getState(),{loading:o}=p.b.getState();return{selectedTab:t,loading:e||i||s||o||a,upgradePlanDialogForBarrelType:n}}static getStores(){return[c.e,d.e,u.c,h.c,p.b]}componentDidMount(){v.a.isWindowsApp&&m.a.ipcRenderer.send("on-login",Zeplin.user)}renderDialogs(){const{upgradePlanDialogForBarrelType:e}=this.state;if(e)return i.h(l.a,{title:"Please upgrade your plan first",message:`Looks like you reached your ${e} limit, upgrade now to create more!`,onPositiveButtonClick:f.a,onNegativeButtonClick:c.b.closeUpgradePlanDialog,onClose:c.b.closeUpgradePlanDialog,positiveButtonText:"SEE PLANS",negativeButtonText:"CANCEL",hideNegativeButton:!1})}renderProjectsTab(){const{loading:e}=this.state;return e?i.h(a.a,null):i.h(s.a,{key:"projects",onCopyLink:this.onCopyLink,onShowToast:this.handleShowToast})}renderStyleguidesTab(){const{loading:e}=this.state;return e?i.h(a.a,null):i.h(o.a,{onCopyLink:this.onCopyLink})}render(){const{selectedTab:e}=this.state;return i.h("main",{class:"spaceContainer"},i.h(r.a,{baseRef:Object(b.a)(this,"spaceView"),selectedTab:e,onChange:c.b.changeSelectedTab},i.h(r.a.Tab,{label:"Projects",value:E.PROJECTS},this.renderProjectsTab()),i.h(r.a.Tab,{label:"Styleguides",value:E.STYLEGUIDES},this.renderStyleguidesTab())),this.renderDialogs())}})},function(e,t,n){"use strict";var i=n(1050);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1051),a=n(1101),o=n(1109),r=n(1112),l=n(1115),c=n(1125),d=n(540),u=n(34),h=n(1143),p=n(74),g=n(57),m=n(151),f=n(35),b=n(31),y=n(60),S=n(14),v=n(1),C=n(124),E=n(26),O=n(10),T=n(29),k=n(5),D=n(1146),_=n(1147);n.n(_);const w={ACTIVE:"active",ARCHIVED:"archived",OTHER:"other"},j=[{label:"Created",value:"created"},{label:"Last updated",value:"lastUpdated"},{label:"Name",value:"name"}],R=4,I=275;t.a=Object(p.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.focusCountLimit=R,this.handleProjectPreviewJoin=(()=>{const{previewProject:{_id:e}}=this.state;b.b.join({barrelType:O.a.PROJECT,bid:e})}),this.handleCreateProject=(e=>{const{selectedOrganizationId:t}=this.state;g.b.createProject({oid:t,platform:e})}),this.handleProjectClick=((e,t,n=!1)=>{const{otherProjectsInOrganization:i}=this.state;if(i.some(e=>e._id===t))return e.preventDefault(),e.stopPropagation(),void g.b.openProjectPreview(t);m.b.trackBarrelClick({isFromPinArea:n})}),this.handleArchiveProject=(({pid:e})=>{b.b.archive({bid:e,barrelType:O.a.PROJECT,syncWithApi:!0})}),this.handleActivateProject=(({pid:e})=>{b.b.activate({bid:e,barrelType:O.a.PROJECT,syncWithApi:!0})}),this.handleJoinProject=(({pid:e})=>{b.b.join({barrelType:O.a.PROJECT,bid:e,shouldLoadBarrel:!1})}),this.handleDeleteProject=(({pid:e})=>{b.b.remove({bid:e,barrelType:O.a.PROJECT,syncWithApi:!0})}),this.handleLeaveProject=(({bid:e,mid:t})=>{b.b.removeMember({barrelType:O.a.PROJECT,bid:e,mid:t,syncWithApi:!0})}),this.handleCopyProjectAppUri=(e=>{const{onCopyLink:t}=this.props;t(`${k.L}//project?pid=${e}`)}),this.handleCopyProjectWebLink=(e=>{const{onCopyLink:t}=this.props;t(e)}),this.handlePin=(e=>{const{pinnedBarrels:t}=this.state;f.b.addBarrelToFocus({mid:this.state.currentUserId,bid:e,barrelType:O.a.PROJECT,shouldPopOldestBarrel:t.length===this.focusCountLimit,syncWithApi:!0}),this.props.onShowToast({text:"Project pinned",source:"projectsContainer"}),m.b.updatePageState({highlightedBarrels:[e]})}),this.handleUnpinFromFocusArea=(e=>{f.b.unpinBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:O.a.PROJECT,syncWithApi:!0}),this.props.onShowToast({text:"Project unpinned",source:"projectsContainer"})}),this.handleUnpin=(e=>{f.b.removeBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:O.a.PROJECT,syncWithApi:!0}),this.props.onShowToast({text:"Project unpinned",source:"projectsContainer"})}),this.handleRemoveUnpinned=(e=>{f.b.removeBarrelFromFocus({bid:e})}),this.handleScrollToUnpinnedBarrel=(e=>{m.b.updatePageState({highlightedBarrels:[e]})}),t}static calculateState(){const{highlightedBarrels:e,selectedOrganizationId:t,filterValue:n,selectedProjectSortType:i,pinnedBarrelOnce:s,selectedWorkflowStatusFilter:a,createProjectDialogVisible:o}=m.e.getState(),{organizations:r,organizationProfiles:l,focusedBarrels:c}=f.e.getState(),{projectPreviewVisible:d,projectToPreview:u}=g.e.getState(),{projects:h,loadingProject:p}=g.c.getState(),{paymentPlan:b,userId:S}=y.b.getState(),E=f.d.getOrganizationProjects(t),O=E&&0===E.length,k=E||[],D=r.find(e=>e._id===t),_=D&&D.name,j="free"!==b.id,R=l[t],I=R&&R.restricted,A=h[u];let x,P=n.length?function(e=[],t){return e.map(e=>({project:e,score:Object(C.a)(t,e.name,Object(v.s)(e.type))})).filter(({score:e})=>e).sort((e,t)=>t.score-e.score).map(({project:e})=>e)}(k,n):function(e=[],t){return e.sort(v.H[t])}(k,i);if("user"!==t){if(a===T.a.NoStatus._id)x=T.a.NoStatus.name;else{const{name:e}=D&&D.workflowStatuses.find(({_id:e})=>e===a)||{};x=e}P=function(e,t,n){return n||t===T.a.All._id?e:t===T.a.NoStatus._id?e.filter(({workflowStatus:{_id:e}})=>e===T.a.NoStatus._id):e.filter(({workflowStatus:{_id:e}})=>e===t)}(P,a,n)}const{firstHighlightedProject:L,archivedProjects:N,otherProjectsInOrganization:U,activeProjects:M}=function(e,t,n,i,s){const a=[],o=[],r=[];let l;for(let c of e)c.status===w.ARCHIVED?a.push(c):"user"===t?r.push(c):c.users.some(e=>e.user._id===i)?r.push(c):s||o.push(c),l||(l=n.includes(c._id)?c._id:null);return{firstHighlightedProject:l,archivedProjects:a,otherProjectsInOrganization:o,activeProjects:r}}(P,t,e,S,I);let B=[],z=[];const F=c[t];F&&(B=F.map(({barrelId:e,unpinned:t})=>{const n=k.find(t=>t._id===e);return n?Object.assign({},n,{unpinned:t}):null}).filter(Boolean),z=F.filter(e=>!e.unpinned));const W=m.d.canCreateProject();return{showWelcome:O,archivedProjects:N,otherProjectsInOrganization:U,focusedProjects:B,pinnedBarrels:z,pinnedBarrelOnce:s,activeProjects:M,selectedOrganizationId:t,selectedOrganizationName:_,projects:h,previewProject:A,projectPreviewVisible:d,highlightedBarrels:e,firstHighlightedProject:L,selectedSortType:i,selectedWorkflowStatusName:x,filterValue:n,createProjectDialogVisible:o,organizations:r,organizationProfiles:l,selectedOrganization:D,canCreateProject:W,currentOrganizationProfile:R,hasPaidPlan:j,currentUserId:S,loadingProject:p}}static getStores(){return[g.c,g.e,m.e,f.e,y.b]}async componentDidMount(){const{focus:e=R}=await Object(D.a)("countLimit");this.focusCountLimit=e}componentDidUpdate(e,t){let n;this.nodeRefs&&this.nodeRefs.base&&(n=Object(E.d)(this.nodeRefs.base)),n&&(this.state.selectedOrganizationId!==t.selectedOrganizationId?n.scrollTop=0:1===this.state.pinnedBarrels.length&&0===t.pinnedBarrels.length&&(this.state.pinnedBarrelOnce?n.scrollTop+=I:n.scrollTop=0))}getChildContext(){const{organizations:e,organizationProfiles:t,selectedOrganizationId:n,selectedOrganizationName:i,currentOrganizationProfile:s,canCreateProject:a,filterValue:o,selectedSortType:r,currentUserId:l}=this.state;return{selectedOrganizationId:n,selectedOrganizationName:i,organizations:e,organizationProfiles:t,currentOrganizationProfile:s,canCreateProject:a,filterValue:o,selectedSortType:r,currentUserId:l}}renderDialogs(){const{previewProject:e,projectPreviewVisible:t,createProjectDialogVisible:n,loadingProject:s}=this.state;return t?i.h(l.a,{loading:s,onClose:g.b.closeProjectPreview,onJoin:this.handleProjectPreviewJoin,project:e}):n?i.h(c.a,{onCreate:this.handleCreateProject,onClose:m.b.closeCreateProjectDialog}):void 0}renderEmptyProjects(){const{organizations:e,hasPaidPlan:t}=this.state,n=e.find(({status:e})=>"deleted"!==e);return i.h(h.a,{hasPaidPlan:t,availableOrganization:n,onCreate:m.b.openCreateProjectDialog,onCheckoutOrganization:m.b.changeSelectedOrganization})}render(){const{showWelcome:e,highlightedBarrels:t,firstHighlightedProject:n,archivedProjects:l,otherProjectsInOrganization:c,focusedProjects:h,pinnedBarrels:p,pinnedBarrelOnce:b,activeProjects:y,filterValue:v,selectedSortType:C,selectedOrganizationId:E,selectedOrganization:O={},selectedWorkflowStatusName:T,canCreateProject:k}=this.state;return i.h("div",{ref:Object(S.a)(this,"base"),class:"projectsContainer"},e?this.renderEmptyProjects():[i.h("div",{key:"focus",class:"projects"},i.h(s.a,{projects:h,highlightedProjects:t,firstHighlightedProject:n,pinnedBarrelOnce:b,organizationId:E,organizationStatus:O.status,organizationSubscriptionStatus:O.subscriptionStatus,onArchive:this.handleArchiveProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:g.b.initTransferOwnership,onDelete:this.handleDeleteProject,onInvite:g.b.inviteUser,onProjectHover:m.b.unhighlightBarrel,onCopyWebLink:this.handleCopyProjectWebLink,onCopyAppUri:this.handleCopyProjectAppUri,onProjectClick:this.handleProjectClick,onScrollToUnpinnedBarrel:this.handleScrollToUnpinnedBarrel,onPin:this.handlePin,onUnpin:this.handleUnpinFromFocusArea,onRemoveUnpinned:this.handleRemoveUnpinned})),i.h("div",{key:"menuBar",class:"menuBar"},i.h(d.a,{key:"filterSortView",inputPlaceholder:"Search for a project",placeholderWidth:131,sortOptions:j,selectedSortType:C,filterValue:v,onSort:m.b.changeProjectSelectedSortType,onFilter:m.b.changeFilterValue,rightContent:k&&i.h(u.a,{class:"noSelect",onClick:m.b.openCreateProjectDialog,primary:!0},"Create Project"),showWorkflowStatus:"user"!==E})),i.h("div",{key:"projects",class:"projects"},i.h(a.a,{projects:y,focusedProjectIds:p.map(({barrelId:e})=>e),highlightedProjects:t,firstHighlightedProject:n,organizationId:E,organizationStatus:O.status,organizationSubscriptionStatus:O.subscriptionStatus,selectedWorkflowStatusName:T,onArchive:this.handleArchiveProject,onLeave:this.handleLeaveProject,onTransferOwnership:g.b.initTransferOwnership,onDelete:this.handleDeleteProject,onInvite:g.b.inviteUser,onProjectHover:m.b.unhighlightBarrel,onCopyWebLink:this.handleCopyProjectWebLink,onCopyAppUri:this.handleCopyProjectAppUri,onProjectClick:this.handleProjectClick,shouldDisplayPinWarningAuntie:p.length===this.focusCountLimit,onPinWarningAuntieAction:f.b.hitPinLimit,focusCountLimit:this.focusCountLimit,onPin:this.handlePin,onUnpin:this.handleUnpin}),i.h(o.a,{projects:c,focusedProjectIds:p.map(({barrelId:e})=>e),onProjectClick:this.handleProjectClick,onProjectHover:m.b.unhighlightBarrel,onJoin:this.handleJoinProject,onArchive:this.handleArchiveProject,onTransferOwnership:g.b.initTransferOwnership,onDelete:this.handleDeleteProject,highlightedProjects:t,firstHighlightedProject:n,onCopyWebLink:this.handleCopyProjectWebLink,onCopyAppUri:this.handleCopyProjectAppUri,shouldDisplayPinWarningAuntie:p.length===this.focusCountLimit,onPinWarningAuntieAction:f.b.hitPinLimit,focusCountLimit:this.focusCountLimit,onPin:this.handlePin,onUnpin:this.handleUnpin}),i.h(r.a,{projects:l,highlightedProjects:t,firstHighlightedProject:n,onActivate:this.handleActivateProject,onLeave:this.handleLeaveProject,onTransferOwnership:g.b.initTransferOwnership,onJoin:this.handleJoinProject,onDelete:this.handleDeleteProject,onInvite:g.b.inviteUser}))],this.renderDialogs())}},{withProps:!0})},function(e,t,n){"use strict";var i=n(1052);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(538),a=n(539),o=n(1097),r=n(1100);n.n(r);t.a=class extends i.Component{constructor(...e){var t;return t=super(...e),this.handleProjectClick=((e,t)=>{this.props.onProjectClick(e,t,!0)}),this.renderFocusedProject=(e=>{const{currentOrganizationProfile:t}=this.context,{highlightedProjects:n,firstHighlightedProject:a,pinnedBarrelOnce:o,onDelete:r,onInvite:l,onTransferOwnership:c,onArchive:d,onLeave:u,onProjectHover:h,onJoin:p,onCopyWebLink:g,onCopyAppUri:m,onUnpin:f}=this.props,b=n.includes(e._id),y=!o&&a===e._id;return i.h(s.a,{key:e._id,onHover:b?h:null,onClick:this.handleProjectClick,project:e,currentUser:t,onArchive:d,onLeave:u,onTransferOwnership:c,onDelete:r,onInvite:l,onJoin:p,onCopyWebLink:g,onCopyAppUri:m,highlight:b,scroll:y,pinnable:!0,pinned:!0,onUnpin:f})}),t}getChildContext(){return{filterValue:""}}render(){const{projects:e,onScrollToUnpinnedBarrel:t,onRemoveUnpinned:n}=this.props;return e.length?i.h("section",{class:"focusedProjects"},i.h(a.a,null,e.map(e=>e.unpinned?i.h(o.a,{barrelId:e._id,onScrollToUnpinnedBarrel:t,onDismiss:n}):this.renderFocusedProject(e)))):null}}},function(e,t,n){"use strict";var i=n(0),s=n(673),a=n(679),o=n(1093),r=n(199),l=n(71),c=n(460),d=n(681),u=n(1),h=n(8),p=n(13),g=n(14),m=n(682),f=n(10);t.a=class extends i.Component{constructor(e){super(e),this.openArchiveDialog=this.openArchiveDialog.bind(this),this.openLeaveDialog=this.openLeaveDialog.bind(this),this.openDeleteDialog=this.openDeleteDialog.bind(this),this.openTransferDialog=this.openTransferDialog.bind(this),this.handleDialogClose=this.handleDialogClose.bind(this),this.showTransferOwnershipPopup=this.showTransferOwnershipPopup.bind(this),this.hideTransferOwnershipPopup=this.hideTransferOwnershipPopup.bind(this),this.handleJoin=this.handleJoin.bind(this),this.handleArchive=this.handleArchive.bind(this),this.handleActivate=this.handleActivate.bind(this),this.handleLeave=this.handleLeave.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleInvite=this.handleInvite.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this),this.handleGenerateShortlink=this.handleGenerateShortlink.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleIntersection=this.handleIntersection.bind(this),this.handleCopyProjectWebLink=this.handleCopyProjectWebLink.bind(this),this.handleCopyProjectAppUri=this.handleCopyProjectAppUri.bind(this),this.transferOwnershipPayload={},this.projectThumbnailObserver=null,this.state={transferOwnershipPopupVisible:!1,visibleDialogType:null,contextMenu:null,projectThumbnail:null,shortURL:null}}showTransferOwnershipPopup(){this.setState({transferOwnershipPopupVisible:!0})}hideTransferOwnershipPopup(){this.setState({transferOwnershipPopupVisible:!1})}openArchiveDialog(){this.setState({visibleDialogType:m.a.ARCHIVE})}openLeaveDialog(){this.setState({visibleDialogType:m.a.LEAVE})}openDeleteDialog(){this.setState({visibleDialogType:m.a.DELETE})}openTransferDialog(e,t){this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:m.a.TRANSFER})}handleGenerateShortlink(){const{project:{_id:e}}=this.props,t=Object(h.j)("project",{url:{bid:e}});Object(p.generateShortlink)(t).then(e=>{this.setState({shortURL:e})})}handleDialogClose(){this.transferOwnershipPayload={},this.setState({visibleDialogType:null})}handleContextMenu(e){this.setState({contextMenu:{origin:e}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleJoin(){const{project:{_id:e},onJoin:t}=this.props;t({pid:e})}handleArchive(){const{project:{_id:e},onArchive:t}=this.props;t({pid:e})}handleActivate(){const{project:{_id:e},onActivate:t}=this.props;t({pid:e})}handleDelete(){const{project:{_id:e},onDelete:t}=this.props;t({pid:e})}handleLeave(){const{project:{_id:e},currentUser:t,onLeave:n}=this.props;n({bid:e,mid:t.user._id})}handleInvite(){const{selectedOrganizationId:e}=this.context,{onInvite:t,project:{_id:n,users:i}}=this.props;t({container:this.nodeRefs.base,pid:n,users:i,oid:e}),this.hideTransferOwnershipPopup()}handleCopyProjectAppUri(){const{project:{_id:e},onCopyAppUri:t}=this.props;t(e)}handleCopyProjectWebLink(){const{project:{_id:e},onCopyWebLink:t}=this.props,{shortURL:n}=this.state,i=Object(h.j)("project",{url:{bid:e}});t(n||i)}handleTransferOwnership(){const{selectedOrganizationId:e}=this.context,{onTransferOwnership:t,project:{_id:n},currentUser:i}=this.props,{selected:s,toOrganization:a}=this.transferOwnershipPayload;t({pid:n,fromUserId:i.user._id,targetId:s,toOrganization:a,oid:e})}handleIntersection(e){0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.projectThumbnailObserver.unobserve(this.nodeRefs.base),this.setState({projectThumbnail:this.props.project.thumbnail||null})},{timeout:300}):cancelIdleCallback(this.cropTimeout)}componentDidMount(){const{scroll:e}=this.props,{base:t}=this.nodeRefs;e&&t.scrollIntoView(),this.projectThumbnailObserver=Object(d.a)(),this.projectThumbnailObserver.observe(t,this.handleIntersection)}componentWillReceiveProps(e){const{projectThumbnail:t}=this.state;null!==t&&e.project.thumbnail!==t&&this.setState({projectThumbnail:e.project.thumbnail})}componentDidUpdate(e){const{scroll:t}=this.props,{scroll:n}=e;!n&&t&&this.nodeRefs.base.scrollIntoView()}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.projectThumbnailObserver.unobserve(this.nodeRefs.base)}renderTransferOwnershipPopup(){const{project:{users:e}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:s,currentUserId:o}=this.context,r=e.filter(e=>"invited"!==e.user.status&&!(e.user._id===o&&"user"===n));let l=[];return t.length&&"user"===n&&(l=t.filter(e=>{const t=s[e._id];return t&&u.C.canTransferOwnership(t)&&"active"===e.status})),i.h(a.a,{barrelType:f.a.PROJECT,users:r,organizations:l,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderContextMenu(){const{contextMenu:{origin:e}}=this.state,{currentUser:t,project:n,archived:s}=this.props;return i.h(o.a,{currentUser:t,project:n,archived:s,onClose:this.handleContextMenuClose,onOpen:this.handleGenerateShortlink,onJoin:this.handleJoin,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onLeave:this.openLeaveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.showTransferOwnershipPopup,onInvite:this.handleInvite,onCopyWebLink:this.handleCopyProjectWebLink,onCopyAppUri:this.handleCopyProjectAppUri,autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e}})}renderDialog(e){const{organizations:t}=this.context,{project:{name:n,users:s}}=this.props,{selected:a,toOrganization:o}=this.transferOwnershipPayload;if(e===m.a.DELETE)return i.h(c.a,{title:"Enter the name of the project to confirm:",placeholder:"Project name",confirmationText:n,onDelete:this.handleDelete,onClose:this.handleDialogClose});let r,d,u;if(e===m.a.TRANSFER){let e;r="TRANSFER",d=`Transfer ownership of “${n}” to ${e=o?t.find(e=>e._id===a).name:s.find(e=>e.user._id===a).user.username}?`,u=this.handleTransferOwnership}return e===m.a.LEAVE&&(r="LEAVE",d=`Leave “${n}”?`,u=this.handleLeave),e===m.a.ARCHIVE&&(r="ARCHIVE",d=`Archive “${n}”?`,u=this.handleArchive),i.h(l.a,{positiveButtonText:r,onPositiveButtonClick:u,onClose:this.handleDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:d})}render(){const{filterValue:e}=this.context,{transferOwnershipPopupVisible:t,contextMenu:n,visibleDialogType:a,projectThumbnail:o}=this.state,{project:{_id:l,name:c,type:d,users:p,updated:m,workflowStatus:f},highlight:b,archived:y,onClick:S,onHover:v,pinnable:C,pinned:E,shouldDisplayPinWarningAuntie:O,onPinWarningAuntieAction:T,focusCountLimit:k,onPin:D,onUnpin:_}=this.props,w=Object(h.j)("project",{url:{bid:l}}),j=p.sort(u.H.role);return i.h(r.a,{open:t,onClose:this.hideTransferOwnershipPopup,content:this.renderTransferOwnershipPopup(),top:-12,left:-236,faceTop:!0},i.h(s.a,{id:l,baseRef:Object(g.a)(this,"base"),onClick:S,onHover:v,link:w,type:d,name:c,members:j,source:o,updated:m,filterValue:e,onContextMenu:this.handleContextMenu,contextMenu:n&&this.renderContextMenu(),highlight:b,archived:y,pinnable:C,pinned:E,shouldDisplayPinWarningAuntie:O,onPinWarningAuntieAction:T,focusCountLimit:k,onPin:D,onUnpin:_,workflowStatus:f}),a&&this.renderDialog(a))}}},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1055),r=n(1058),l=n(675),c=n(676),d=n(1080),u=n(638),h=n(3),p=n(14),g=n(1),m=n(29),f=n(1087);n.n(f);const b=24,y=Object.freeze({base:"BASE",android:"ANDROID",ios:"iOS",osx:"macOS",web:"WEB"});class S extends i.Component{constructor(...e){var t;return t=super(...e),this.state={showPinWarningAuntie:!1},this.showPinWarningAuntie=(()=>{document.addEventListener("scroll",this.hidePinWarningAuntie,!0),document.addEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!0})}),this.hidePinWarningAuntie=(()=>{document.removeEventListener("scroll",this.hidePinWarningAuntie,!0),document.removeEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!1})}),this.handleClick=(e=>{const{onClick:t,id:n}=this.props;t&&t(e,n)}),this.handleHover=(()=>{const{onHover:e,id:t}=this.props;e&&e(t)}),this.handleContextMenu=(e=>{e.preventDefault();const{onContextMenu:t}=this.props;t&&t({x:e.clientX,y:e.clientY})}),this.handleOptionsClick=(e=>{e.preventDefault(),e.stopPropagation();const{id:t,onContextMenu:n}=this.props;if(n){const e=this.nodeRefs.optionsButton.getBoundingClientRect();n({x:e.left+b,y:e.top-b},t)}}),this.handlePinButtonClick=(e=>{e.preventDefault(),e.stopPropagation();const{id:t,pinned:n,shouldDisplayPinWarningAuntie:i,onPin:s,onUnpin:a}=this.props;n?a(t):i?this.showPinWarningAuntie():s(t)}),this.handlePinAnyway=(()=>{const{id:e,onPin:t,onPinWarningAuntieAction:n,focusCountLimit:i}=this.props;t(e),n({pinnedAnyway:!0,focusCountLimit:i}),this.hidePinWarningAuntie()}),this.handleHideAuntie=(()=>{const{onPinWarningAuntieAction:e,focusCountLimit:t}=this.props;e({pinnedAnyway:!1,focusCountLimit:t}),this.hidePinWarningAuntie()}),this.renderPinButtonAndAuntie=(()=>{const{pinnable:e,pinned:t,focusCountLimit:n}=this.props,{pinWarningAuntieVisible:s}=this.state;return e?i.h("div",{class:"pinButtonContainer"},i.h(d.a,{class:"pinButton",pinned:t,onClick:this.handlePinButtonClick}),s&&i.h(u.a,{class:"pinWarningAuntie",content:`You can only pin ${n} projects at once. Pinning this project will unpin the oldest.`,popover:!0,buttonText:"OK, got it!",actionButton:{text:"Pin anyway",callback:this.handlePinAnyway},hideCallback:this.handleHideAuntie})):null}),t}render(){const{id:e,source:t,archived:n,highlight:s,name:a,type:d,link:u,updated:f,members:b,contextMenu:S,filterValue:v,workflowStatus:C,baseRef:E,class:O}=this.props,{currentUserId:T}=this.context,k=Object(h.a)("spaceCard","noSelect",{highlight:s,noStatus:C&&C._id===m.a.NoStatus._id},O),D=y[d],_=b.some(({user:e})=>e._id===T);return i.h("div",{onClick:this.handleClick,onMouseEnter:this.handleHover,class:k,ref:E},i.h("div",{class:"cardButtons",onClick:g.J},this.renderPinButtonAndAuntie(),i.h(l.a,{class:"optionsButton",baseRef:Object(p.a)(this,"optionsButton"),onClick:this.handleOptionsClick}),S),C&&i.h(c.a,{bid:e}),n||!_?i.h("div",{class:Object(h.a)({archived:n}),onContextMenu:this.handleContextMenu},i.h(o.a,{source:t}),i.h(r.a,{filterValue:v,members:b,name:a,type:D,updated:f})):i.h("a",{onContextMenu:this.handleContextMenu,href:u,"data-link-type":"inApp"},i.h(o.a,{source:t}),i.h(r.a,{filterValue:v,members:b,name:a,type:D,updated:f})))}}S.propTypes={id:a.a.string.isRequired,source:a.a.string,archived:a.a.bool,highlight:a.a.bool,name:a.a.string.isRequired,type:a.a.string.isRequired,link:a.a.string.isRequired,updated:a.a.string.isRequired,members:a.a.array.isRequired,filterValue:a.a.string,onContextMenu:a.a.func,contextMenu:a.a.element,pinnable:a.a.bool,pinned:a.a.bool,onPin:a.a.func,onUnpin:a.a.func,focusCountLimit:a.a.number,shouldDisplayPinWarningAuntie:a.a.bool,onPinWarningAuntieAction:a.a.func},t.a=S},function(e,t,n){"use strict";var i=n(1056);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(635),a=n(3),o=n(1057);n.n(o);const r=270,l=92;t.a=class extends i.Component{constructor(e){super(e),this.handleImageLoad=this.handleImageLoad.bind(this),this.state={source:null,loading:!1}}handleImageLoad(){this.setState({loading:!1})}componentDidMount(){const{source:e}=this.props;this.setState({source:e,loading:!!e})}componentWillReceiveProps(e){const{source:t}=this.state;e.source!==t&&this.setState({source:e.source,loading:!0})}render(){const{loading:e,source:t}=this.state,n=Object(a.a)("cardThumbnailFrame",{breathe:e});return i.h("div",{class:n},t&&i.h(s.a,{class:"cardThumbnail",source:t,onLoad:this.handleImageLoad,width:r,height:l}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1059);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(674),a=n(284),o=n(26),r=n(1062);n.n(r);t.a=function({members:e=[],name:t,type:n,updated:r,filterValue:l=""}){const c=n.toLowerCase();let d;d=new RegExp(`\\s*\\b${c}\\b\\s*`,"ig").test(l)?`<span class="highlight">${n}</span>`:n;const u=Object(o.h)(t,l,{caseInsensitive:!0});return i.h("div",{class:"cardInfo"},i.h("div",{class:"subInfo"},i.h("div",{class:"type",dangerouslySetInnerHTML:{__html:d}}),i.h(a.a,{type:"time-ago",format:"micro",class:"updated",datetime:r})),i.h("div",{class:"name ellipsis",dangerouslySetInnerHTML:{__html:u}}),i.h(s.a,{members:e}))}},function(e,t,n){"use strict";var i=n(0),s=n(152),a=n(26),o=n(3),r=n(1061);n.n(r);const l=30,c=7;function d(e,t){return"invited"!==e.status?e.username+("user"!==t?` (${e.email})`:""):`Pending… (${e.email})`}function u({remainingMembers:e,currentMemberRole:t}){const n=`+${e.length}`,s=e.map(e=>d(e.user,t)).join("\n");return i.h("div",{class:"remainingMembers",title:s},n)}t.a=function({members:e,currentMemberRole:t,class:n,avatarSize:r=l}){const h=e.slice(0,c-1),p=e.length;let g;if(p>c)g=i.h(u,{key:"remainingMembers",currentMemberRole:t,remainingMembers:e.slice(c-1)});else if(p===c){const n=e[p-1],o=Object(a.f)(n.user).src,l=d(n.user,t);g=i.h(s.a,{key:"lastUser",class:"avatar",type:"user",width:r,height:r,src:o,title:l})}return i.h("div",{class:Object(o.a)("memberAvatarList",n)},h.map(e=>{const n=Object(a.f)(e.user).src,o=d(e.user,t);return i.h(s.a,{key:e.user._id,class:"avatar",type:"user",width:r,height:r,src:n,title:o})}),g)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(43),a=n(3),o=n(34),r=n(1064);n.n(r);t.a=function({onClick:e,baseRef:t,class:n}){const r=Object(a.a)("optionsButton",n);return i.h(o.a,{secondary:!0,baseRef:t,onClick:e,class:r,tabindex:"-1"},i.h(s.A,null))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(1066),a=n(60),o=n(35),r=n(151),l=n(57),c=n(58),d=n(31),u=n(29),h=n(1),p=n(25),g=n(74),m=n(6);t.a=Object(g.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.handleWorkflowStatusChange=(e=>{const{bid:t}=this.props,{workflowStatuses:n}=this.state,{workflowStatus:i}=n.find(({workflowStatus:{_id:t}})=>t===e);t?e===u.a.NoStatus._id?d.b.deleteWorkflowStatus({bid:t,syncWithApi:!0}):d.b.updateWorkflowStatus({bid:t,workflowStatus:i,syncWithApi:!0}):r.b.changeWorkflowStatusFilter({workflowStatus:i})}),this.handleAddButtonClick=(e=>{e.stopPropagation();const{workflowStatuses:t}=this.state,n=t.filter(({workflowStatus:{name:e}})=>e.startsWith("New Status")),{workflowStatus:{name:i}={}}=n[n.length-1]||{},s=u.a.generateNew(i);o.b.addOrganizationWorkflowStatus({workflowStatusData:s,syncWithApi:!1})}),this.handleWorkflowInputBlur=((e,t,n)=>{const{_id:i}=e,s=Object.assign({},e,{name:t});i.startsWith("newWorkflowStatusId")?n?o.b.deleteOrganizationWorkflowStatus({workflowStatusId:s._id,syncWithApi:!1}):o.b.addOrganizationWorkflowStatus({workflowStatusData:s,syncWithApi:!0}):n||e.name===t||o.b.updateOrganizationWorkflowStatusName({workflowStatusId:i,name:t,syncWithApi:!0})}),this.handleUpdateWorkflowStatusColor=((e,t)=>{o.b.updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:!0})}),this.handleDeleteWorkflowStatus=(e=>{const{workflowStatuses:t}=this.state,{count:n}=t.find(({workflowStatus:{_id:t}})=>t===e),i=1===n?"is":"are",s=1===n?"this project.":"all of these projects.";if(n)return p.a({message:`There ${i} ${Object(m.g)(n,"project")} using this status. Deleting the status will remove it from ${s}`,done:{name:"DELETE",cb(){o.b.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}});const a=e.startsWith("newWorkflowStatusId");o.b.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!a})}),t}static getStores(){return[a.b,r.e,o.e,l.c,c.c]}static calculateState(e,{bid:t}){const{selectedOrganizationId:n,selectedWorkflowStatusFilter:i}=r.e.getState();if("user"===n)return{isPersonalWorkspace:!0};const{loadingBarrels:s,organizations:a,organizationProfiles:l}=o.e.getState();if(s)return{loading:!0};let c=i;if(t){const e=d.d.getBarrel({bid:t});if(!e)return{loading:!0};c=e.workflowStatus._id}const p=a.find(e=>e._id===n),g=o.d.getOrganizationProjects(n)||[],{role:m}=l[n]||{},f=m&&h.C.canManageWorkflowStatuses({role:m}),{workflowStatuses:b}=p||{};return{isPersonalWorkspace:!1,loading:s,projects:g,workflowStatuses:function(e=[],t,n){const i={};t.forEach(({workflowStatus:{_id:e}})=>{e in i?i[e]++:i[e]=1});const s=e.map(({_id:e,name:t,color:n})=>({workflowStatus:new u.a({_id:e,name:t,color:n}),count:i[e]||0})),a=i[u.a.NoStatus._id],o={workflowStatus:u.a.NoStatus,count:a};if(n)return[...s,o];const r={workflowStatus:u.a.All};return a?[r,...s,o]:[r,...s]}(b,g,t),selectedWorkflowStatus:c,permissions:{canManageWorkflowStatuses:f},userRole:m}}render(){const{bid:e}=this.props,{isPersonalWorkspace:t,loading:n,workflowStatuses:a,selectedWorkflowStatus:o,permissions:r,userRole:l}=this.state;return t||n?null:i.h(s.a,{workflowStatuses:a,selectedWorkflowStatus:o,onWorkflowStatusChange:this.handleWorkflowStatusChange,onAddButtonClick:this.handleAddButtonClick,onWorkflowInputBlur:this.handleWorkflowInputBlur,onUpdateWorkflowStatusColor:this.handleUpdateWorkflowStatusColor,onDeleteWorkflowStatus:this.handleDeleteWorkflowStatus,permissions:r,userRole:l,bid:e})}},{withProps:!0})},function(e,t,n){"use strict";var i=n(1067);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(456),a=n(34),o=n(1068),r=n(677),l=n(678),c=n(208),d=n(204),u=n(14),h=n(3),p=n(319),g=n(1),m=n(70),f=n(29),b=n(1079);n.n(b);t.a=class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={customizing:!1,dropdownOpen:!1,showAuntie:!1},this.handleDropdownStateChange=(e=>{const{workflowStatuses:t}=this.props,n=!e&&1!==t.length;this.setState(t=>({dropdownOpen:e,customizing:!n&&t.customizing}))}),this.handleAuntieClick=(e=>{e.stopPropagation(),this.setState({showAuntie:!1})}),this.handleCustomizeClick=(e=>{e.stopPropagation(),this.setState({customizing:!0})}),this.handleDoneClick=(e=>{const{workflowStatuses:t,bid:n}=this.props;(!n||t.length>1)&&(e.stopPropagation(),this.setState({customizing:!1}))}),this.handleDropdownClick=(e=>{e.stopPropagation(),this.setState({showAuntie:!0})}),this.renderLabel=(({color:e,name:t})=>i.h("div",{class:"workflowStatusDropdownLabel"},i.h(l.a,{color:Object(m.c)(e)}),i.h("span",{class:"ellipsis"},t))),this.renderFooter=(()=>{const{customizing:e}=this.state,{permissions:{canManageWorkflowStatuses:t},userRole:n}=this.props;return i.h("div",{key:"workflowStatusOptionsFooter",class:Object(h.a)("workflowStatusOptionsFooter",{customizing:e}),onClick:g.J},t?i.h(a.a,{key:"customize",onClick:this.handleCustomizeClick,ninja:!0},"Customize"):i.h(c.a,{content:Object(p.a)(n,"customize statuses")},i.h(a.a,{ninja:!0,disabled:!0},"Customize")))}),this.renderCustomize=(()=>{const{workflowStatuses:e,onAddButtonClick:t,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:s,onDeleteWorkflowStatus:a}=this.props,r=e.filter(({workflowStatus:{_id:e}})=>e!==f.a.All._id&&e!==f.a.NoStatus._id);return i.h(o.a,{workflowStatuses:r,onAddButtonClick:t,onDoneButtonClick:this.handleDoneClick,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:s,onDeleteWorkflowStatus:a})}),this.renderWorkflowStatuses=(()=>{const{workflowStatuses:e,selectedWorkflowStatus:t,onUpdateWorkflowStatusColor:n,bid:a}=this.props,{customizing:o}=this.state;return i.h("div",{key:"workflowStatusOptions",class:Object(h.a)("workflowStatusDropdownOptionsWrapper",{customizing:o})},e.map(({workflowStatus:{_id:e,name:l,color:c},count:d})=>{const u=a&&e===f.a.NoStatus._id&&e===t,p=e!==f.a.All._id&&e!==f.a.NoStatus._id,g=e===t,b=!a&&d>0?d:"";return!u&&i.h(s.a.Item,{key:e,label:this.renderLabel({color:c,name:l}),value:e,selected:g},i.h("div",{class:Object(h.a)("workflowStatusItemWrapper",{customizing:o})},i.h(r.a,{itemId:e,selectedColor:Object(m.c)(c),colorSelectable:p,onColorClick:n,selected:g}),i.h("div",{class:"label ellipsis"},l),i.h("span",{class:"labelInfo"},b)))}))}),t}componentDidMount(){const{workflowStatuses:e,bid:t}=this.props,n=1===e.length&&!!t;this.setState({customizing:n})}componentDidUpdate(e,t){const{workflowStatuses:n,bid:i}=this.props,s=!!i;if(e.workflowStatuses.length!==n.length&&s){const e=n.length,i=e>1&&t.customizing&&t.dropdownOpen;1===e||i?this.setState({customizing:!0}):e>1&&!t.dropdownOpen&&this.setState({customizing:!1})}}render(){const{onWorkflowStatusChange:e,bid:t,permissions:{canManageWorkflowStatuses:n},userRole:a}=this.props,{customizing:o,showAuntie:r,dropdownOpen:l}=this.state,c=!n&&!!t,p=this.renderLabel(t?f.a.NoStatus:f.a.All);return i.h("div",{class:Object(h.a)({spaceCardWorkflowStatus:!!t,dropdownOpen:l})},i.h(s.a,{ref:Object(u.a)(this,"dropdown"),defaultLabel:p,class:"workflowStatusFilter",optionsClass:"workflowStatusOptions",onChange:e,onDropdownClick:c&&this.handleDropdownClick,onDropdownStateChange:this.handleDropdownStateChange,disableClosingWithESC:o,showCheck:!1,showChevron:!t,alignRight:!!t},this.renderWorkflowStatuses(),this.renderFooter(),o&&this.renderCustomize()),r&&i.h("div",{class:"workflowStatusHintBox"},i.h(d.a,{hideButtonText:"Got it!",onHideClick:this.handleAuntieClick},`Your organization role is ${Object(g.w)(a)}, only ${Object(g.w)("rook")}s or higher can customize statuses.`)))}}},function(e,t,n){"use strict";var i=n(1069);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(1070),o=n(1075),r=n(208),l=n(1),c=n(3),d=n(14),u=n(1078);n.n(u);const h=20;t.a=class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={inputFocused:!1,discard:!1,scrolling:!1},this.updateScrolling=(()=>{const{scrolling:e}=this.state,{workflowStatusItemsWrapper:t}=this.nodeRefs||{};t&&(t.clientHeight<t.scrollHeight&&!e?this.setState({scrolling:!0}):t.clientHeight===t.scrollHeight&&e&&this.setState({scrolling:!1}))}),this.handleInputDeleteClick=((e,t)=>{e.stopPropagation();const{onDeleteWorkflowStatus:n}=this.props;n(t._id)}),this.handleInputFocus=(()=>{this.setState({inputFocused:!0})}),this.handleInputBlur=((e,t)=>{const{onWorkflowInputBlur:n}=this.props,{discard:i}=this.state,s=t._id.startsWith("newWorkflowStatusId")&&e.relatedTarget&&e.relatedTarget.className.includes("inputDelete")&&e.relatedTarget.previousSibling.firstChild.value===t.name,a=i||s||!e.target.value;n(t,e.target.value,a),this.setState({discard:!1,inputFocused:!1})}),this.handleKeyDown=(e=>{e.stopPropagation();const{onDoneButtonClick:t}=this.props,{inputFocused:n}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(n?this.setState({discard:!0},()=>{e.target.blur()}):t(e)),e.keyCode===Zeplin.KEY_CODE.ENTER&&e.target.blur()}),this.renderAddButton=(()=>{const{workflowStatuses:{length:e},onAddButtonClick:t}=this.props;return e===h?i.h(r.a,{content:`An organization can have at most ${h} statuses.`},i.h(s.a,{ninja:!0,disabled:!0},"Add")):i.h(s.a,{key:"add",onClick:t,ninja:!0},"Add")}),this.renderInputsOrEmptyState=(()=>{const{workflowStatuses:e,onUpdateWorkflowStatusColor:t}=this.props;return e.length?i.h("div",{class:"workflowStatusItemsWrapper",ref:Object(d.a)(this,"workflowStatusItemsWrapper")},e.map(({workflowStatus:e})=>i.h(a.a,{key:e._id,workflowStatus:e,onUpdateWorkflowStatusColor:t,onInputFocus:this.handleInputFocus,onInputBlur:this.handleInputBlur,onInputDelete:this.handleInputDeleteClick,colorSelectable:!e._id.startsWith("newWorkflowStatusId")}))):i.h(o.a,null)}),t}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),this.updateScrolling()}componentDidUpdate(){this.updateScrolling()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selectedWorkflowStatus:e,onDoneButtonClick:t}=this.props,{scrolling:n}=this.state;return i.h("div",{class:Object(c.a)("customizeWorkflowStatus",{scrolling:n}),selected:e},this.renderInputsOrEmptyState(),i.h("div",{class:"workflowStatusOptionsFooter",onClick:l.J},this.renderAddButton(),i.h(s.a,{key:"done",onClick:t,ninja:!0},"Done")))}}},function(e,t,n){"use strict";var i=n(0),s=n(677),a=n(43),o=n(14),r=n(1),l=n(70);class c extends i.Component{constructor(...e){var t;return t=super(...e),this.handleInputBlur=((e,t)=>{const{onInputBlur:n}=this.props;n&&n(e,t)}),this.handleInputDeleteClick=((e,t)=>{const{onInputDelete:n}=this.props;n&&n(e,t)}),t}componentDidMount(){const{workflowStatus:{_id:e}}=this.props;e.startsWith("newWorkflowStatusId")&&(this.nodeRefs.inputRef.select(),this.nodeRefs.inputRef.scrollIntoView())}render(){const{workflowStatus:e,colorSelectable:t,onUpdateWorkflowStatusColor:n,onInputFocus:c}=this.props,d=Object(l.c)(e.color);return i.h("div",{key:e.name,class:"workflowStatusItem",onClick:r.J},d&&i.h(s.a,{itemId:e._id,selectedColor:d,colorSelectable:t,onColorClick:n}),i.h("div",{class:"inputWrapper"},i.h("input",{ref:Object(o.a)(this,"inputRef"),type:"text",name:e.name,value:e.name,onFocus:c,onBlur:t=>this.handleInputBlur(t,e),maxLength:20})),i.h("button",{type:"button",class:"inputDelete deleteButton",onClick:t=>this.handleInputDeleteClick(t,e),tabIndex:"-1"},i.h(a.l,null)))}}c.defaultProps={colorSelectable:!0},t.a=c},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(678),r=n(70),l=n(1),c=n(3),d=n(1074);n.n(d);class u extends i.Component{constructor(...e){var t;return t=super(...e),this.handleColorClick=(e=>{const{itemId:t,onColorClick:n}=this.props;n&&n(t,e)}),t}render(){const{selectedColor:e,colorSelectable:t,selected:n}=this.props;return i.h("div",{class:Object(c.a)("colorSelector",{selectable:t}),onClick:l.J},i.h(o.a,{key:`${e}-viewOnly`,color:e,selected:n,mainColor:!0}),t&&i.h("div",{class:"colorDotsContainer"},i.h("div",{class:"colorDots"},r.b.map(t=>i.h(o.a,{key:`${t}-colorDot`,color:t,selected:t===e,onClick:this.handleColorClick})))))}}u.propTypes={itemId:a.a.string,selected:a.a.bool,selectedColor:a.a.string,colorSelectable:a.a.bool,onColorClick:a.a.func},u.defaultProps={size:"small",colorSelectable:!0},t.a=u},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(70),l=n(11),c=n(1073);n.n(c);const d=({size:e,color:t,selected:n,mainColor:s,onClick:a})=>{return i.h("div",{class:Object(o.a)("colorDot",e,t,{selected:n,mainColor:s}),onClick:e=>{a&&!n&&(e.stopPropagation(),a(new l.a(Object(r.d)(t))))}})};d.defaultProps={size:"small",color:"karl"},d.propTypes={size:a.a.oneOf(["small","medium"]),color:a.a.oneOf(["karl","clooney","yellow","orange","peach","green","turquoise","cornflowerBlue","deepPurple"]).isRequired,selected:a.a.bool,mainColor:a.a.bool,onClick:a.a.func},t.a=d},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1076);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1077);n.n(s);t.a=(()=>i.h("div",{class:"workflowEmptyState"},i.h("div",null,"No custom status. 🤷‍♀️"),i.h("br",null),i.h("div",null,"You can create status by clicking on “Add” button")))},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1081);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(312),a=n(313),o=n(3),r=n(34),l=n(470),c=n(1084);n.n(c);const d=Object(l.a)(function({pinned:e,class:t,onClick:n,hover:l}){const c=Object(o.a)("pinButton",t,{pinned:e});return i.h(r.a,{secondary:!0,class:c,onClick:n,tabindex:"-1"},e&&l?i.h(a.a,null):i.h(s.a,{color:e?"var(--cornflower-blue)":"var(--teflon)"}))});t.a=d},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1083),r=(n.n(o),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});function l({x:e,y:t},{top:n,right:i,bottom:s,left:a}){return i>e&&a<e&&s>t&&n<t}function c(e){return class extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.state={hover:!1}}changeHover(e){this.setState({hover:e}),this.props.onHoverChange&&this.props.onHoverChange(e)}handleMouseEnter(){this.changeHover(!0)}handleMouseLeave(e){const{initialHover:t,ignoreOverlays:n=!0}=this.props,{clientX:i,clientY:s,relatedTarget:a,target:o}=e,r=o.getBoundingClientRect();if(!t)if(n&&a&&l({x:i,y:s},r)){const e=this;a.addEventListener("mouseleave",function t(n){l({x:n.clientX,y:n.clientY},r)||e.changeHover(!1),a.removeEventListener("mouseleave",t)})}else this.changeHover(!1)}componentWillReceiveProps({initialHover:e}){void 0!==e&&e!==this.state.hover&&this.setState({hover:e})}render(){return i.h("div",{class:"hoverRegion",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h(e,r({},this.props,{hover:this.state.hover})))}}}c.displayName="HoverRegion",c.propTypes={class:a.a.string,initialHover:a.a.bool,ignoreOverlays:a.a.bool,onHoverChange:a.a.func},c.defaultProps={initialHover:!1,ignoreOverlays:!0},t.a=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(3),o=n(21),r=n(14),l=n(1086);n.n(l);t.a=class extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.closeHandler=this.closeHandler.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleActionButtonClick=this.handleActionButtonClick.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}handleActionButtonClick(){this.props.actionButton.callback&&this.props.actionButton.callback()}handleButtonClick(){this.props.noControls||(this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}closeHandler(){(this.props.noControls||this.props.popover)&&(this.props.noControls&&this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}componentDidMount(){document.addEventListener("click",this.closeHandler),this.props.bodyCallbacks&&Object.keys(this.props.bodyCallbacks).forEach(e=>{this.nodeRefs.base.querySelector(e).addEventListener("click",this.props.bodyCallbacks[e])})}componentWillUnmount(){document.removeEventListener("click",this.closeHandler)}render(){const{popover:e,padBottom:t,actionButton:n,content:l,noControls:c,buttonText:d,anchor:u,class:h}=this.props,p=Object(a.a)("hideableInfo",h,{popover:e,padBottom:t});let g=null;n&&n.text&&n.callback&&(g=i.h("button",{class:"infoActionButton",onClick:this.handleActionButtonClick},n.text));let m=null;return c||(m=i.h("div",{class:"infoButtons"},i.h("button",{class:"infoHideButton",onClick:this.handleButtonClick},i.h("div",null,i.h("img",{src:o.f("img/icGuidelineRemove.svg"),alt:"×"}),i.h("span",{class:"infoHideButtonText"},d||"OK, hide it!"))),g)),i.h("div",{class:p,onClick:s.J,ref:Object(r.a)(this,"base")},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"infoBody"},i.h("div",{class:"infoText"},l),m),i.h("div",{class:`anchor ${u||"bottom"}`}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(680),a=n(34),o=n(152),r=n(26),l=n(21),c=n(14),d=n(3),u=n(10),h=n(1092);n.n(h);function p({selected:e,avatarUrl:t,avatarType:n,avatarBgSize:s,info:a,subInfo:r}){const l=Object(d.a)("listItem",{selected:e});return i.h("div",{class:l},i.h(o.a,{class:"itemAvatar",src:t,width:36,height:36,bgSize:s,type:n}),i.h("div",{class:"infoContainer"},i.h("div",{class:"info ellipsis"},a),r&&i.h("div",{class:"subInfo ellipsis"},r)))}class g extends i.Component{constructor(e){super(e),this.renderOrganizationListItem=this.renderOrganizationListItem.bind(this),this.renderUserListItem=this.renderUserListItem.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,organizations:n}=this.props,i=n.find(t=>t._id===e);t(e,i)}renderOrganizationListItem(e){const t=e._id;return i.h(s.a.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderOrganizationListItemContent})}renderOrganizationListItemContent({logo:e,name:t},n){return i.h(p,{selected:n,avatarUrl:e,avatarType:"organization",avatarBgSize:19,info:t})}renderUserListItem(e){const t=e.user._id;return i.h(s.a.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderUserListItemContent})}renderUserListItemContent(e,t){const{user:n,user:{email:s,username:a}}=e,o=Object(r.f)(n).src;return i.h(p,{selected:t,avatarUrl:o,avatarType:"user",info:a,subInfo:s})}renderListBody(){const{onInvite:e,organizations:t,users:n}=this.props;return t.length+n.length===0?i.h("div",{class:"targetOwnersEmpty"},"No invited team members yet.",i.h(a.a,{class:"inviteButton",onClick:e},"INVITE NOW")):i.h("div",{class:"transferOwnershipBody"},i.h(s.a,{class:"targetOwners",onSelect:this.handleSelect},[t.length>0&&i.h("h5",null,"To an organization:"),t.map(this.renderOrganizationListItem),n.length>0&&i.h("h5",null,"To a member:"),n.map(this.renderUserListItem)]),i.h("div",{class:"transferOwnershipFooter"},i.h("img",{src:Object(l.f)("img/icInfo.svg"),alt:"ℹ"}),"We’ll notify them via email"))}render(){const{barrelType:e}=this.props;return i.h("div",{class:"transferOwnership noSelect",ref:Object(c.a)(this,"base")},i.h("h5",{class:"transferOwnershipHeader"},"You can only transfer your ",e,"s to invited team members or organizations.",e===u.a.STYLEGUIDE&&" Transferring a styleguide will also transfer its children."),this.renderListBody())}}g.defaultProps={organizations:[],users:[]},t.a=g},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1090),r=n(193),l=n(14),c=n(3),d=n(26);function u(e){return e.filter(e=>e&&e.type&&e.type.name===o.a.name).map(e=>e.props.value)}class h extends i.Component{constructor(...e){var t;return t=super(...e),this.values=u(this.listItems),this.state={selected:this.values[0]},this.handleKeyDown=(e=>{if(!this.values.length)return;this.mouseActive=!1;const{selected:t}=this.state;let n=this.values.indexOf(t);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n=Math.max(n-1,0);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n=Math.min(n+1,this.values.length-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.props.onSelect(t)}this.changeSelected(this.values[n])}),this.handleItemHover=(e=>{this.mouseActive&&this.changeSelected(e)}),this.handleMouseMove=(()=>{this.mouseActive=!0}),t}get listItems(){return i.toChildArray(this.props.children)}changeSelected(e){this.state.selected!==e&&this.setState({selected:e},()=>{Object(d.m)(this.nodeRefs[`selectedListItem-${e}`])})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){const t=u(this.listItems);Object(r.a)(t,this.values)&&(this.values=t,this.changeSelected(this.values[0]))}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderBody(){const{selected:e}=this.state,{onSelect:t}=this.props;return this.listItems.map(n=>{if(!n||!n.type||n.type.name!==o.a.name)return n;const s=n.props.value,a=s===e;return i.cloneElement(n,{key:s,onClick:t,onHover:this.handleItemHover,selected:a,baseRef:Object(l.a)(this,`selectedListItem-${s}`)})})}render(){const{class:e}=this.props,t=Object(c.a)("selectableListView",e);return i.h("div",{class:t,onMouseMove:this.handleMouseMove},this.renderBody())}}h.propTypes={onSelect:a.a.func.isRequired,children:a.a.oneOfType([a.a.instanceOf(o.a),a.a.node])},h.ListItem=o.a,t.a=h},function(e,t,n){"use strict";var i=n(1091);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s);class o extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleHover=this.handleHover.bind(this)}handleClick(){const{onClick:e,value:t,disabled:n}=this.props;n||e&&void 0!==t&&e(t)}handleHover(){const{onHover:e,value:t}=this.props;e&&void 0!==t&&e(t)}render(){const{selected:e,item:t,renderItem:n,style:s,baseRef:a,class:o}=this.props;return i.h("div",{ref:a,class:o,onClick:this.handleClick,onMouseEnter:this.handleHover,style:s},n(t,e))}}o.propTypes={renderItem:a.a.func.isRequired,onClick:a.a.func,onHover:a.a.func,value:a.a.string.isRequired,selected:a.a.bool},t.a=o},function(e,t){},function(e,t,n){"use strict";var i=n(1094);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e,t){const{project:{users:n},currentUser:o,archived:r,autoPosition:l,onInvite:c,onJoin:d,onActivate:u,onArchive:h,onTransferOwnership:p,onDelete:g,onLeave:m,onClose:f,onOpen:b,onCopyWebLink:y,onCopyAppUri:S}=e,{organizations:v,selectedOrganizationId:C}=t,E=n.some(e=>e.user._id===Zeplin.user._id),O=v.find(e=>e._id===C),T=O&&"suspended"===O.status,k=!E&&!T,D=E&&!T,_=!r&&E&&!T&&a.C.canChangeProjectStatus(o),w=r&&E&&!T&&a.C.canChangeProjectStatus(o),j=E&&a.C.canTransferOwnership(o),R=E&&!T&&a.C.canLeaveProject(o),I=E&&a.C.canDeleteProject(o);return i.h(s.a.withAutoPosition,{autoPosition:l,onOpen:b,onClose:f},k&&i.h(s.a.Item,{key:"join",onClick:d},"Join"),D&&i.h(s.a.Item,{key:"invite",onClick:c},"Invite…"),!r&&i.h(s.a.Item,{key:"copyWebLink",onClick:y},"Copy project web link"),!r&&i.h(s.a.Item,{key:"copyApiUri",onClick:S},"Copy project app URI"),j&&i.h(s.a.ItemDivider,{key:"ownershipDivider"}),j&&i.h(s.a.Item,{key:"transferOwnership",onClick:p},"Transfer ownership…"),(R||I)&&i.h(s.a.ItemDivider,{key:"warningDivider"}),_&&i.h(s.a.Item,{key:"archive",onClick:h},"Archive project"),w&&i.h(s.a.Item,{key:"activate",onClick:u},"Activate project"),R&&i.h(s.a.Item,{key:"leave",onClick:m,warning:!0},"Leave project"),I&&i.h(s.a.Item,{key:"delete",onClick:g,warning:!0},"Delete project…"))};var i=n(0),s=n(156),a=n(1)},function(e,t,n){"use strict";var i=n(0),s=n(1096);n.n(s);const a=CSS.supports("grid-template-columns","repeat(auto-fill, 220px)");function o(e){return e?i.h("div",{class:"projectHeader"},e):null}t.a=function(e){const{header:t,children:n}=e;return i.h("div",{class:"projectsListContainer"},!a&&o(t),i.h("div",{class:"projectsList"},a&&o(t),n))}},function(e,t){},function(e,t,n){"use strict";var i=n(1098);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(311),a=n(1099);n.n(a);t.a=function(e){const{barrelId:t,onScrollToUnpinnedBarrel:n,onDismiss:a}=e;return i.h("div",{class:"unpinnedBarrel"},i.h("p",null,"Project unpinned."),i.h("a",{href:"#",onClick:e=>(function(e,t,n){e.preventDefault(),t(n)})(e,n,t)},i.h("strong",null,"Scroll to project")),i.h("div",{onClick:()=>a(t)},i.h(s.a,null),i.h("span",null,"Got it!")))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1102);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(538),a=n(1103),o=n(683),r=n(539),l=n(1108);n.n(l);t.a=class extends i.Component{constructor(...e){var t;return t=super(...e),this.renderActiveProject=(e=>{const{selectedOrganizationId:t,currentOrganizationProfile:n,currentUserId:a}=this.context,{focusedProjectIds:o,onDelete:r,onInvite:l,onTransferOwnership:c,onArchive:d,onLeave:u,onProjectHover:h,highlightedProjects:p,firstHighlightedProject:g,onProjectClick:m,onCopyWebLink:f,onCopyAppUri:b,shouldDisplayPinWarningAuntie:y,onPinWarningAuntieAction:S,focusCountLimit:v,onPin:C,onUnpin:E}=this.props,O=!o.includes(e._id)&&p.includes(e._id),T=!o.includes(e._id)&&g===e._id;let k;return k="user"===t?e.users.find(e=>e.user._id===a):n,i.h(s.a,{key:e._id,onHover:O?h:null,onClick:m,project:e,currentUser:k,highlight:O,scroll:T,onArchive:d,onLeave:u,onTransferOwnership:c,onDelete:r,onInvite:l,onCopyWebLink:f,onCopyAppUri:b,pinnable:"user"!==t,pinned:o.includes(e._id),shouldDisplayPinWarningAuntie:y,onPinWarningAuntieAction:S,focusCountLimit:v,onPin:C,onUnpin:E})}),t}render(){const{projects:e,organizationId:t,organizationStatus:n,organizationSubscriptionStatus:s,selectedWorkflowStatusName:l}=this.props;if(!e.length&&"suspended"===n){const{currentOrganizationProfile:{role:e}}=this.context;return i.h(o.a,{organizationId:t,subscriptionStatus:s,memberRole:e})}return e.length?i.h("section",{class:"activeProjects"},i.h(r.a,null,e.map(this.renderActiveProject))):i.h(a.a,{selectedWorkflowStatusName:l})}}},function(e,t,n){"use strict";var i=n(1104);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1105);n.n(s);t.a=function(e,t){const{selectedWorkflowStatusName:n}=e,{selectedOrganizationId:s,filterValue:a,canCreateProject:o}=t,r="user"!==s,l=function(e,t){let n="currently.";return e?n="with this name/type. 🤷":t&&(n=`“${t}” status 🤷‍♀️`),n}(a,n);return i.h("div",{class:"emptyActiveProjects"},i.h("h3",null,"No ",r?"joined":"active"," projects ",l),!n&&!a&&r&&i.h("p",null,o?"Go ahead and create one! ✌️":i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(8),a=n(1107);n.n(a);t.a=function(e){const{organizationId:t,subscriptionStatus:n,memberRole:a}=e,o=Object(s.j)("organization-profile-billing",{url:{oid:t}}),r=["king","queen"].includes(a),l="auto_cancelled"===n?"Payment Failure":"Subscription Cancelled";let c,d;return c="auto_cancelled"===n?"Due to a failed payment, your organization has been suspended.":r?"Looks like you've cancelled your subscription, your organization has been suspended.":"It looks like the subscription has been cancelled and your organization has been suspended.",d=r?"auto_cancelled"===n?i.h("span",null,i.h("a",{href:o},"Click here")," to update your payment information"):i.h("span",null,i.h("a",{href:o},"Click here")," to activate the subscription."):i.h("span",null,"Please contact an admin to reactivate it."),i.h("div",{class:"suspendedOrganizationInfo"},i.h("h3",{key:"suspendedHeader"},l),i.h("p",{key:"suspendedInfo"},c,i.h("br",null),d))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1110);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(538),a=n(539),o=n(1111);n.n(o);t.a=class extends i.Component{constructor(e){super(e),this.renderOtherProjectInOrganization=this.renderOtherProjectInOrganization.bind(this),this.state={waiting:!0}}componentDidMount(){requestIdleCallback(()=>{this.setState({waiting:!1})},{timeout:1e3})}renderOtherProjectInOrganization(e){const{currentOrganizationProfile:t}=this.context,{focusedProjectIds:n,contextTargetId:a,contextMenuClickOrigin:o,onContextMenu:r,onContextMenuClose:l,onJoin:c,onArchive:d,onTransferOwnership:u,onDelete:h,onProjectClick:p,onProjectHover:g,highlightedProjects:m,firstHighlightedProject:f,onCopyWebLink:b,onCopyAppUri:y,shouldDisplayPinWarningAuntie:S,onPinWarningAuntieAction:v,focusCountLimit:C,onPin:E,onUnpin:O}=this.props,T=t,k=!n.includes(e._id)&&m.includes(e._id),D=!n.includes(e._id)&&f===e._id;return i.h(s.a,{key:e._id,onHover:k?g:null,onClick:p,project:e,currentUser:T,contextMenuClickOrigin:o,onContextMenu:r,onContextMenuClose:l,onJoin:c,onArchive:d,onTransferOwnership:u,onDelete:h,contextMenuVisible:a===e._id,highlight:k,scroll:D,onCopyWebLink:b,onCopyAppUri:y,pinnable:!0,pinned:n.includes(e._id),shouldDisplayPinWarningAuntie:S,onPinWarningAuntieAction:v,focusCountLimit:C,onPin:E,onUnpin:O})}render(){const{projects:e}=this.props,{waiting:t}=this.state,{selectedOrganizationName:n}=this.context;if(!e.length||t)return null;const s=[i.h("h3",{key:"title"},"Organization Projects"),i.h("div",{key:"desc"},i.h("p",null,"All ",i.h("span",null,n)," projects are listed here. When you join one, it’ll be listed on top ☝️"))];return i.h("section",{class:"otherProjectsInOrganization"},i.h(a.a,{header:s},e.map(this.renderOtherProjectInOrganization)))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1113);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(538),a=n(539),o=n(43),r=n(1114);n.n(r);t.a=class extends i.Component{constructor(e){super(e),this.renderArchivedProject=this.renderArchivedProject.bind(this),this.state={waiting:!0}}componentDidMount(){requestIdleCallback(()=>{this.setState({waiting:!1})},{timeout:2e3})}renderArchivedProject(e){const{selectedOrganizationId:t,currentOrganizationProfile:n,currentUserId:a}=this.context,{highlightedProjects:o,firstHighlightedProject:r,onActivate:l,onDelete:c,onInvite:d,onLeave:u,onTransferOwnership:h,onJoin:p}=this.props;let g;g="user"===t?e.users.find(e=>e.user._id===a):n;const m=o.includes(e._id),f=r===e._id;return i.h(s.a,{key:e._id,project:e,highlight:m,scroll:f,currentUser:g,onActivate:l,onLeave:u,onTransferOwnership:h,onDelete:c,onInvite:d,onJoin:p,archived:!0})}render(){const{projects:e}=this.props,{waiting:t}=this.state,{filterValue:n}=this.context;if(!e.length||t)return null;const s=n?i.h("h4",null,"Archived Projects"):[i.h("h3",{key:"title"},"Archived Projects"),i.h("p",{key:"desc"},"These projects are not visible for any of the team members.",i.h("br",null),"Owners can re-activate them anytime, using the project settings (",i.h(o.A,{class:"settingsIcon"}),") if they have a subscription.")];return i.h("section",{class:"archivedProjects"},i.h(a.a,{header:s},e.map(this.renderArchivedProject)))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1116);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(684),a=n(71),o=n(1121),r=n(3),l=n(1124);n.n(l);t.a=function(e){const{project:t,onClose:n,onJoin:l,loading:c}=e,d=Object(r.a)("projectPreviewDialogBody",{loading:c});return i.h(a.c,{class:"projectPreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:l,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:n,width:"66vw"},i.h("div",{class:d},c?i.h(o.a,null):i.h(s.a,{projectData:t,requiredMinimumPadding:24,defaultPadding:36,hideJoinButton:!0,headerSticky:!1})))}},function(e,t,n){"use strict";var i=n(0),s=n(21),a=n(3),o=n(26),r=n(1),l=n(14),c=n(1118),d=n(152),u=n(1120);n.n(u);const h=180;function p(e){const{snapshot:t}=e.versions[0],n=Math.floor(t.height*h/t.width);return i.h(c.a,{height:n,key:e._id,source:t.url})}function g(e,t){if(!e||!e.length)return i.h("div",{class:"projectUsersEmpty"},"No members in this project, be the first!");const n=function(e){return e.sort(r.H.role).map(({user:e})=>Object.assign({},e,{avatar:Object(o.f)(e).src,title:"invited"!==e.status?e.username:`Pending… (${e.email})`}))}(e),s=n.slice(0,t).map(e=>i.h(d.a,{key:e._id,src:e.avatar,title:e.title,class:"userImageFrame",width:"36",height:"36"}));if(n.length===t+1){const e=n[t];s.push(i.h(d.a,{key:e._id,src:e.avatar,title:e.title,class:"userImageFrame",width:"36",height:"36"}))}else if(n.length>t+1){const a=n.slice(t).map(e=>e.title).join("\n"),o=i.h("div",{key:"remainingUsers",class:"remainingUsers",title:a},"+",e.length-t);s.push(o)}return i.h("div",{class:"projectUsers"},s)}t.a=class extends i.Component{constructor(e){super(),this.centerScreensUsersHeader=this.centerScreensUsersHeader.bind(this),this.handleJoinClick=this.handleJoinClick.bind(this),this.state={usersLimit:5}}centerScreensUsersHeader(){const{requiredMinimumPadding:e,defaultPadding:t,projectData:n}=this.props;if(!n.screens)return;const i=Math.floor(this.nodeRefs.base.getBoundingClientRect().width),s=h+24,a=Math.floor((i-e)/s),o=i-a*s;let r=t;n.screens.length&&(r=o/2),this.nodeRefs.base.style=`padding-left: ${r}px; padding-right: ${r}px;`;const l=a*s-24-36,c=Math.floor(l/42);c!==this.state.usersLimit&&this.setState({usersLimit:c})}handleJoinClick(){const{projectData:{_id:e},onJoin:t}=this.props;t({bid:e})}componentDidMount(){this.centerScreensUsersHeader(),window.addEventListener("resize",this.centerScreensUsersHeader)}componentDidUpdate(e,t){!e.projectData&&this.props.projectData&&this.centerScreensUsersHeader()}componentWillUnmount(){window.removeEventListener("resize",this.centerScreensUsersHeader)}render(){const{projectData:{_id:e,name:t,type:n,densityScale:o,users:c,screens:d},loadingJoin:u=!1,hideJoinButton:h,headerSticky:m}=this.props,{usersLimit:f}=this.state,b=Object(a.a)("projectPreviewHeader",{sticky:m}),y=Object(r.p)(n,o);return i.h("div",{ref:Object(l.a)(this,"base"),class:"projectPreview",key:e},i.h("div",{class:b},i.h("div",null,i.h("h1",null,t),i.h("h5",null,i.h("span",{class:"projectPreviewType"},Object(r.s)(n)),o&&i.h("span",{class:"projectPreviewDensity"},y))),!h&&i.h("button",{type:"button",class:"joinProject",onclick:this.handleJoinClick},u?i.h("img",{src:s.f("img/icSpinnerWhite.svg"),class:"spinning"}):i.h("span",null,"Join"))),g(c,f),function(e){return e&&e.length?i.h("div",{class:"projectPreviewScreens"},e.map(p)):i.h("div",{class:"projectPreviewScreensEmpty"},i.h("h1",null,"No designs in this project yet!"),i.h("h3",null,"Join and upload the first!"))}(d))}}},function(e,t,n){"use strict";var i=n(1119);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(635),a=n(3);t.a=class extends i.Component{constructor(e){super(e),this.handleLoad=this.handleLoad.bind(this),this.state={loading:!0}}handleLoad(){this.setState({loading:!1})}render(){const{height:e,source:t}=this.props,{loading:n}=this.state,o=Object(a.a)({loading:n},"projectPreviewScreen","noSelect");return i.h("div",{class:o,style:{height:e}},i.h(s.a,{source:t,onLoad:this.handleLoad}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1122);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(14),a=n(3),o=n(1),r=n(1123);n.n(r);const l=42,c=12,d=180;const u=Array.from({length:10},()=>{const e=Math.floor(Math.random()*d*.7)+d;return i.h("div",{style:{height:e},class:"projectPreviewLoadingScreen breathe"})});t.a=class extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(o.f)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:Object(a.a)("projectPreviewLoading",this.props.class),ref:Object(s.a)(this,"base")},i.h("div",{class:"projectPreviewLoadingHead breathe"}),i.h("div",{class:"projectPreviewLoadingSubHead breathe"}),i.h("div",{class:"projectPreviewLoadingMembers"},function(e){const t=Math.floor(e/l);return Array.from({length:Math.min(c,t)},()=>i.h("div",{class:"projectPreviewLoadingMember breathe"}))}(e)),i.h("div",{class:"projectPreviewLoadingScreens"},u))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1126);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1127),a=n(1134),o=n(71),r=n(281),l=n(21),c=n(1137);n.n(c);t.a=class extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleTabClick=this.handleTabClick.bind(this),this.values=["ios","android","web","osx"],this.state={selected:this.values[0]}}handleChange(e){this.setState({selected:e})}handlePositiveButtonClick(){const{selected:e}=this.state,{onCreate:t}=this.props;t(e)}handleTabClick(e){const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}}componentDidMount(){window.addEventListener("keydown",this.handleTabClick,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleTabClick,!0)}render(){const{selected:e}=this.state,{onClose:t}=this.props;return i.h(o.c,{class:"createProjectDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:t,width:720,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody"},i.h("h1",null,"Choose your project type"),i.h("div",{class:"projectTypes"},i.h(s.a,{name:"projectType",onClick:this.handleChange,value:"ios",label:"iOS",image:i.h("svg",{width:"140",height:"104"},i.h("g",{fill:"ios"===e?"var(--cornflower-blue)":"var(--gandalf)","fill-rule":"evenodd"},i.h("path",{class:"frame",d:"M118 87.96v-59.8c0-3.93-3.23-7.16-7.17-7.16H15.17C11.23 21 8 24.23 8 28.17v59.8c0 3.93 3.23 7.16 7.17 7.16h95.66c3.94 0 7.17-3.23 7.17-7.17zm-4.78-29.9c0 .66-.54 1.2-1.2 1.2-.66 0-1.2-.54-1.2-1.2 0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2zm-102.83 0c0-1.97 1.6-3.58 3.57-3.58s3.6 1.6 3.6 3.6c0 1.97-1.62 3.57-3.6 3.57s-3.6-1.6-3.6-3.58zm9.55 32.3v-64.6h88.47v64.58H19.96z"}),i.h("g",{transform:"translate(81 4)"},i.h("path",{class:"frame",d:"M38.74 0H9.24C4.17 0 0 4.05 0 9v80.82c0 4.95 4.18 9 9.25 9h29.5c5.08 0 9.25-4.05 9.25-9V9c0-4.95-4.17-9-9.26-9zM24 2.82c.77 0 1.4.62 1.4 1.38 0 .75-.63 1.37-1.4 1.37-.8 0-1.42-.62-1.42-1.37 0-.76.63-1.38 1.4-1.38zM19.5 8h9c.82 0 1.5.68 1.5 1.5 0 .83-.68 1.5-1.5 1.5h-9c-.83 0-1.5-.67-1.5-1.5 0-.82.67-1.5 1.5-1.5zM24 96c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm21-11H3V13h42v72z"}),i.h("circle",{cx:"24",cy:"92",r:"4",fill:"#FFF"}),i.h("path",{fill:"#FFF",d:"M3 13h42v72H3z"})))),dimensionType:"pt",exportType:"Objective-C/Swift",selected:"ios"===e}),i.h(s.a,{name:"projectType",onClick:this.handleChange,value:"android",label:"Android",image:"android"===e?i.h(r.a,{asset:"img/icPrj_android-selected.png"}):i.h("img",{src:Object(l.f)("img/icPrj_android.svg")}),dimensionType:"dp/sp",exportType:"XML",selected:"android"===e}),i.h(s.a,{name:"projectType",onClick:this.handleChange,value:"web",label:"Web",image:i.h(r.a,{asset:`img/icPrj_web${"web"===e?"-selected":""}.png`}),dimensionType:"px",exportType:"CSS and HTML",selected:"web"===e})),i.h("div",{class:"experimentalProjectTypes"},i.h(a.a,{name:"projectType",onClick:this.handleChange,value:"osx",label:"macOS",dimensionType:"pt",exportType:"Objective-C/Swift",selected:"osx"===e}))))}}},function(e,t,n){"use strict";var i=n(1128);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(685),a=n(686),o=n(1133);n.n(o);function r({image:e}){return i.h("div",{class:"projectTypeImage noSelect"},e)}t.a=class extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:o,image:l,dimensionType:c,exportType:d}=this.props;return i.h("label",{class:"projectType"},i.h(a.a,{name:e,value:n,label:o,checked:t,onClick:this.handleClick}),i.h(r,{image:l}),i.h(s.a,{dimensionType:c,exportType:d,selected:t}))}}},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(1130);n.n(a);t.a=function({dimensionType:e,exportType:t,selected:n,singleLine:a}){const o=Object(s.a)("projectInfo","noSelect",{selected:n});return i.h("div",{class:o},"Dimensions in ",i.h("strong",null,e),",",!a&&i.h("br",null)," ",t," export.")}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(283),a=n(1132);n.n(a);t.a=function(e){const{value:t,name:n,label:a,checked:o,onClick:r}=e;return i.h("div",{class:"projectRadio"},i.h(s.a,{name:n,checked:o,onClick:r,value:t}),i.h("span",{class:"projectTypeName noSelect"},a))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1135);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(685),a=n(686),o=n(1136);n.n(o);t.a=class extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:o,dimensionType:r,exportType:l}=this.props;return i.h("label",{class:"experimentalProjectType"},i.h(a.a,{name:e,value:n,label:o,checked:t,onClick:this.handleClick}),i.h(s.a,{dimensionType:r,exportType:l,selected:t,singleLine:!0}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(1139),l=n(456),c=n(676),d=n(1142);n.n(d);function u(e){const{class:t,filterValue:n,onFilter:s,onSort:a,sortOptions:d,selectedSortType:u,jiraIssueList:h,selectedJiraIssues:p,onJiraIssueSelectionChange:g,showWorkflowStatus:m,inputPlaceholder:f,placeholderWidth:b,rightContent:y,disabled:S}=e;return i.h("div",{class:Object(o.a)("filterSortView",t)},i.h("div",{class:"bumper"},!n&&[d&&i.h(l.a,{onChange:a,optionsClass:"sortOptionsClass"},d.map(({label:e,value:t})=>i.h(l.a.Item,{key:t,label:e,value:t,selected:t===u}))),h&&h.length>0&&i.h(l.a,{defaultLabel:"Jira Issue",class:"jiraIssueFilter",optionsClass:"jiraIssueFilterOptions",multiSelect:!0,onChange:g},h.map(e=>i.h(l.a.Item,{key:e,label:e,value:e,selected:p&&p.includes(e)}))),m&&i.h(c.a,null)]),i.h(r.a,{placeholder:f,placeholderWidth:b,value:n,onFilter:s,disabled:S}),i.h("div",{class:"bumper"},y))}u.propTypes={class:a.a.string,inputPlaceholder:a.a.string,placeholderWidth:a.a.number.isRequired,sortOptions:a.a.arrayOf(a.a.shape({label:a.a.string.isRequired,value:a.a.string.isRequired})),selectedSortType:a.a.string,filterValue:a.a.string,onSort:a.a.func,onFilter:a.a.func.isRequired,rightContent:a.a.node,disabled:a.a.bool},u.defaultProps={filterValue:"",showWorkflowStatus:!1},t.a=u},function(e,t,n){"use strict";var i=n(1140);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(43),a=n(3),o=n(14),r=n(26),l=n(56),c=n(1141);n.n(c);const d=200;t.a=class extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSearchShortcut=this.handleSearchShortcut.bind(this),this.filterTimeout=null,this.state={focusWithin:!1,value:e.value}}handleBlur(){this.setState({focusWithin:!1})}handleFocus(){this.setState({focusWithin:!0})}handleInput(e){this.setState({value:e.target.value}),clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(this.props.onFilter,d,e.target.value)}handleKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),clearTimeout(this.filterTimeout),e.target.value?(this.setState({value:""}),this.props.onFilter("")):e.target.blur())}handleSearchShortcut(e){Object(l.d)(e)&&e.keyCode===Zeplin.KEY_CODE.KeyF&&(e.preventDefault(),Object(r.g)(this.nodeRefs.input),this.nodeRefs.input.scrollIntoView())}componentDidMount(){document.addEventListener("keydown",this.handleSearchShortcut)}componentWillReceiveProps(e){void 0!==e.value&&e.value!==this.props.value&&this.setState({value:e.value})}componentWillUnmount(){document.removeEventListener("keydown",this.handleSearchShortcut)}render(){const{placeholder:e,placeholderWidth:t,disabled:n}=this.props,{focusWithin:r,value:l}=this.state,c=Object(a.a)("filterInput noSelect",{focusWithin:r}),d=r||l?null:{width:t};return i.h("label",{class:c},i.h(s.t,null),i.h("input",{style:d,type:"search",placeholder:e,value:l,ref:Object(o.a)(this,"input"),disabled:n,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onInput:this.handleInput}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1144);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(14),o=n(56),r=n(27),l=n(1145);n.n(l);const c="x1RPNx8Jsp4";let d;const u={primaryButtonLabel:i.h("strong",null,"Looks like you’re a part of an organization:"),primaryButtonText:"Check out {{organizationName}}'s space",primaryButtonSubLabel:"You can always switch between workspaces from the top."},h={title:"Welcome to Zeplin! We are glad you’re here 👋",description:i.h("strong",null,"Let’s start by watching this short tutorial:")},p={FREE_PLAN:Object.assign({},h,{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),primaryButtonText:"Create a project"}),ORGANIZATION_MEMBER:Object.assign({},h,u,{secondaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),secondaryButtonText:"Create a project"}),PAID_PLAN:Object.assign({},h,{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),primaryButtonText:"Create a project"}),ORGANIZATION_NO_CREATE_PERMISSION:Object.assign({},h,{primaryButtonLabel:i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank",rel:"noopener"},"Learn more…"))})};t.a=class extends i.Component{constructor(e){super(e),this.showVideoOverlay=this.showVideoOverlay.bind(this),this.hideVideoOverlay=this.hideVideoOverlay.bind(this),this.handleVideoClick=this.handleVideoClick.bind(this),this.youtubePlayer=null,this.state={videoOverlayVisible:!1}}getLabelsAndHandlers(){const{canCreateProject:e,selectedOrganizationId:t}=this.context,{availableOrganization:n,hasPaidPlan:i,onCheckoutOrganization:s,onCreate:a}=this.props;if("user"===t){let e;return i?e={labels:p.PAID_PLAN,onPrimaryButtonClick:a}:(e={labels:h},r.a.isWindowsApp&&(e={labels:p.FREE_PLAN,onPrimaryButtonClick:a})),n&&(e=Object.assign({},e,{labels:Object.assign({},p.ORGANIZATION_MEMBER,{primaryButtonText:p.ORGANIZATION_MEMBER.primaryButtonText.replace("{{organizationName}}",n.name)}),onPrimaryButtonClick:()=>s(n._id)}),(i||r.a.isWindowsApp)&&(e=Object.assign({},e,{onSecondaryButtonClick:a}))),e}return e?{labels:p.PAID_PLAN,onPrimaryButtonClick:a}:{labels:p.ORGANIZATION_NO_CREATE_PERMISSION}}showVideoOverlay(){this.setState({videoOverlayVisible:!0})}hideVideoOverlay(){this.youtubePlayer.pauseVideo(),this.setState({videoOverlayVisible:!1})}handleVideoClick(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(Object(o.i)()===o.b.MOBILE?location.assign(`https://www.youtube.com/watch?v=${c}`):this.setState({videoOverlayVisible:!0}))}componentDidMount(){d||(d=new Promise(e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",t.id="youtubeAPIScript",document.head.appendChild(t),window.onYouTubeIframeAPIReady=(()=>e(window.YT))}))}componentDidUpdate(e,t){!t.videoOverlayVisible&&this.state.videoOverlayVisible&&d.then(e=>{this.youtubePlayer=new e.Player(this.nodeRefs.youtubePlayerAnchor,{width:800,height:530,videoId:c,events:{onReady:()=>this.youtubePlayer.playVideo()}})})}renderTutorialVideo(){return i.h("div",{key:"video",style:{backgroundImage:`url(https://img.youtube.com/vi/${c}/maxresdefault.jpg)`},class:"tutorialVideo",onClick:this.handleVideoClick},i.h("button",{class:"watchTutorialButton"}))}renderVideoOverlay(){return i.h("div",{key:"overlay",onClick:this.hideVideoOverlay,class:"videoOverlay"},i.h("div",{ref:Object(a.a)(this,"youtubePlayerAnchor")}))}renderListItems(){return i.h("ol",null,i.h("li",null,"If you’re a developer, ask your designer to create a project for you."),i.h("li",null,i.h("span",null,"If you’re a designer, download our ",i.h("a",{href:"https://zpl.io/download-mac",target:"_blank"},"macOS")," or ",i.h("a",{href:"https://zpl.io/download-windows-64",target:"_blank"},"Windows")," app to export designs.")))}render(){const{videoOverlayVisible:e}=this.state,{availableOrganization:t}=this.props,{labels:n,onPrimaryButtonClick:a,onSecondaryButtonClick:o}=this.getLabelsAndHandlers(),l=!t&&!r.a.isWindowsApp;return i.h("div",{class:"noProjectsScrollContainer"},i.h("div",{class:"noProjects"},i.h("h1",null,n.title),i.h("p",{class:"description"},n.description),this.renderTutorialVideo(),e&&this.renderVideoOverlay(),l&&this.renderListItems(),i.h("div",{class:"buttonContainer"},i.h("p",{class:"primaryButtonLabel"},n.primaryButtonLabel),a&&i.h(s.a,{onClick:a,primary:!0},n.primaryButtonText),i.h("p",{class:"primaryButtonSubLabel"},n.primaryButtonSubLabel)),o&&i.h("div",{class:"buttonContainer"},i.h("p",{class:"secondaryButtonLabel"},n.secondaryButtonLabel),i.h(s.a,{onClick:o,secondary:!0},n.secondaryButtonText))))}}},function(e,t){},function(e,t,n){"use strict";t.a=async function(e){if(Zeplin.apiConfig)return Zeplin.apiConfig[e];return window.Zeplin.apiConfig=await Object(i.getApiConfig)(),Zeplin.apiConfig[e]};var i=n(13)},function(e,t){},function(e,t,n){"use strict";var i=n(1149);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1150);n.n(s);t.a=function(e){return i.h("div",{class:"overviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"})),i.h("div",{class:"cardGridLoading"},i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"})))}},function(e,t){},function(e,t,n){"use strict";var i=n(1152);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(540),a=n(1153),o=n(34),r=n(1181),l=n(1210),c=n(1214),d=n(1216),u=n(58),h=n(151),p=n(35),g=n(31),m=n(60),f=n(10),b=n(74),y=n(216),S=n(33),v=n(124),C=n(77),E=n(5);t.a=Object(b.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={differentTypeDialogVisible:!1,styleguidesInfoVisible:!1},this.openDifferentTypeDialog=(()=>{this.setState({differentTypeDialogVisible:!0})}),this.closeDifferentTypeDialog=(()=>{this.setState({differentTypeDialogVisible:!1})}),this.createStyleguide=(()=>{u.b.createStyleguide({platform:this.selectedType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})}),this.createStyleguideWithParentType=(()=>{u.b.createStyleguide({platform:this.parentStyleguideType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})}),this.handleCreateStyleguide=((e,t)=>{this.selectedType=e,this.selectedParent=t,t&&(this.parentStyleguideType=this.state.currentStyleguides.find(e=>e._id===t).type,e!==this.parentStyleguideType&&this.parentStyleguideType!==S.c.BASE)?this.openDifferentTypeDialog():this.createStyleguide()}),this.handleStyleguideClick=((e,t)=>{const{filteredStyleguides:n}=this.state;n.find(e=>e._id===t).users.some(e=>e.user._id===Zeplin.user._id)||(e.preventDefault(),e.stopPropagation(),u.b.openStyleguidePreview(t))}),this.handleStyleguidePreviewJoin=(()=>{const{previewStyleguide:{_id:e}}=this.state;g.b.join({barrelType:f.a.STYLEGUIDE,bid:e})}),this.handleDeleteStyleguide=(({stid:e})=>{g.b.remove({barrelType:f.a.STYLEGUIDE,bid:e,syncWithApi:!0})}),this.handleLeaveStyleguide=(({bid:e,mid:t})=>{g.b.removeMember({barrelType:f.a.STYLEGUIDE,bid:e,mid:t,syncWithApi:!0})}),this.handleArchiveStyleguide=(({stid:e})=>{g.b.archive({bid:e,barrelType:f.a.STYLEGUIDE,syncWithApi:!0})}),this.handleActivateStyleguide=(({stid:e})=>{g.b.activate({bid:e,barrelType:f.a.STYLEGUIDE,syncWithApi:!0})}),this.handleJoinStyleguide=(({stid:e})=>{g.b.join({barrelType:f.a.STYLEGUIDE,bid:e,shouldLoadBarrel:!1})}),this.handleSelectParent=(({stid:e,parent:t,oldParent:n})=>{u.b.selectParent({stid:e,parent:t,oldParent:n,syncWithApi:!0})}),this.handleRemoveParent=(({stid:e,oldParent:t})=>{u.b.removeParent({stid:e,oldParent:t,syncWithApi:!0})}),this.handleCopyStyleguideAppUri=(e=>{const{onCopyLink:t}=this.props;t(`${E.L}//styleguide?stid=${e}`)}),this.handleCopyStyleguideWebLink=(e=>{const{onCopyLink:t}=this.props;t(e)}),t}static calculateState(){const{organizations:e,organizationProfiles:t}=p.e.getState(),{selectedOrganizationId:n,filterValue:i,styleguidesTabVisited:s,highlightedBarrels:a,createStyleguideDialogVisible:o}=h.e.getState(),{styleguidePreviewVisible:r,styleguideToPreview:l}=u.e.getState(),{styleguides:c,loadingStyleguide:d}=u.c.getState(),{userId:g,paymentPlan:f}=m.b.getState(),b=p.d.getOrganizationStyleguides(n),y=b&&0===b.length,S=b||[],E=e.find(e=>e._id===n),O=t[n],T=g,k=c[l];let D=function(e,t=""){return t.length?e.map(e=>({styleguide:e,score:Object(v.a)(t,e.name,e.type)})).filter(({score:e})=>e).sort((e,t)=>t.score-e.score).map(({styleguide:e})=>e):e}(S,i);O&&O.restricted&&(D=D.filter(e=>e.users.some(e=>e.user._id===T)));const _=function(e,t){for(let n of e)if(t.includes(n._id))return n._id;return null}(D,a),w=Object(C.b)(D),j=Object(C.a)(D),R=h.d.canCreateStyleguide();return{currentStyleguides:S,filteredStyleguides:D,trees:w,nodes:j,selectedOrganizationId:n,organizations:e,organizationProfiles:t,selectedOrganization:E,currentOrganizationProfile:O,filterValue:i,canCreateStyleguide:R,showWelcome:y,loadingStyleguide:d,styleguidePreviewVisible:r,previewStyleguide:k,paymentPlan:f,styleguidesTabVisited:s,highlightedBarrels:a,firstHighlightedStyleguide:_,currentUserId:T,createStyleguideDialogVisible:o}}static getStores(){return[u.c,u.e,h.e,p.e,m.b]}getChildContext(){const{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:s,canCreateStyleguide:a,currentStyleguides:o,currentUserId:r}=this.state;return{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:s,currentUserId:r,canCreateStyleguide:a,currentStyleguides:o}}renderDialogs(){const{currentStyleguides:e,createStyleguideDialogVisible:t,differentTypeDialogVisible:n,styleguidePreviewVisible:s,loadingStyleguide:a,previewStyleguide:o,selectedOrganizationId:d,currentUserId:p}=this.state;if(t){let t=Object(C.b)(e).filter(e=>!e.isArchived());return"user"===d&&(t=t.filter(e=>{const t=e.root.data.users.find(e=>"owner"===e.role);return t&&t.user._id===p})),i.h(l.a,{trees:t,onCreate:this.handleCreateStyleguide,onClose:h.b.closeCreateStyleguideDialog})}return s?i.h(r.a,{styleguide:o,loading:a,onJoin:this.handleStyleguidePreviewJoin,onClose:u.b.closeStyleguidePreview}):n?i.h(c.a,{parentStyleguideType:this.parentStyleguideType,childStyleguideType:this.selectedType,onCreateAnyway:this.createStyleguide,onCreateWithParentType:this.createStyleguideWithParentType,onClose:this.closeDifferentTypeDialog}):void 0}renderEmptyStyleguides(){const{paymentPlan:e,organizations:t}=this.state,n="company_annual"===e.id||"company_monthly"===e.id,s="free"===e.id,a=t.find(({status:e})=>"deleted"!==e);return i.h(d.a,{hasCompanyPlan:n,hasFreePlan:s,availableOrganization:a,onOpenPlanChooserOverlay:y.a,onCreate:h.b.openCreateStyleguideDialog,onCheckoutOrganization:h.b.changeSelectedOrganization})}render(){const{trees:e,nodes:t,filterValue:n,selectedOrganizationId:r,selectedOrganization:l={},canCreateStyleguide:c,showWelcome:d,styleguidesTabVisited:p,highlightedBarrels:g,firstHighlightedStyleguide:m}=this.state;return i.h("div",null,d?this.renderEmptyStyleguides():[i.h("div",{key:"menuBar",class:"menuBar"},i.h(s.a,{key:"filterSortView",inputPlaceholder:"Search for a styleguide",placeholderWidth:155,filterValue:n,onFilter:h.b.changeFilterValue,rightContent:c&&i.h("div",{class:"filterSortViewRightContent"},i.h(o.a,{class:"noSelect",onClick:h.b.openCreateStyleguideDialog,primary:!0},"Create Styleguide"))})),i.h(a.a,{key:"styleguides",nodes:t,trees:e,highlightedStyleguides:g,firstHighlightedStyleguide:m,organizationId:r,organizationStatus:l.status,organizationSubscriptionStatus:l.subscriptionStatus,isVisited:p,onVisited:h.b.setStyleguidesTabVisited,onStyleguideClick:this.handleStyleguideClick,onStyleguideHover:h.b.unhighlightBarrel,onStyleguideDelete:this.handleDeleteStyleguide,onStyleguideArchive:this.handleArchiveStyleguide,onStyleguideActivate:this.handleActivateStyleguide,onStyleguideLeave:this.handleLeaveStyleguide,onStyleguideTransferOwnership:u.b.initTransferOwnership,onStyleguideJoin:this.handleJoinStyleguide,onStyleguideInvite:u.b.inviteUser,onStyleguideParentSelect:this.handleSelectParent,onStyleguideParentRemove:this.handleRemoveParent,onCopyStyleguideWebLink:this.handleCopyStyleguideWebLink,onCopyStyleguideAppUri:this.handleCopyStyleguideAppUri})],this.renderDialogs())}},{withProps:!0})},function(e,t,n){"use strict";var i=n(1154);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1155),a=n(688),o=n(1174),r=n(1177),l=n(683),c=n(100),d=n(14),u=n(1),h=n(3),p=n(1180);n.n(p);const g=CSS.supports("grid-template-columns","repeat(auto-fill, 220px)");t.a=class extends c.a{constructor(e){super(e),this.handleResize=Object(u.f)(this.handleResize).bind(this),this.handleHintBoxHideClick=this.handleHintBoxHideClick.bind(this),this.renderTree=this.renderTree.bind(this),this.renderNode=this.renderNode.bind(this),this.initialScroll=!1,this.state={wrapRootTrees:!0,styleguidesInfoVisible:!1}}handleResize(){this.nodeRefs&&this.nodeRefs.rootTrees&&this.nodeRefs.base&&this.setState({wrapRootTrees:this.nodeRefs.base.clientWidth>=this.nodeRefs.base.scrollWidth})}handleHintBoxHideClick(){this.setState({styleguidesInfoVisible:!1})}componentDidMount(){this.handleResize();const{isVisited:e,onVisited:t}=this.props;e||(this.setState({styleguidesInfoVisible:!0}),t()),window.addEventListener("resize",this.handleResize)}componentWillReceiveProps(e){e.nodes.length!==this.props.nodes.length&&this.handleResize()}componentDidUpdate(e,t){this.props.organizationId!==e.organizationId&&this.nodeRefs&&this.nodeRefs.scrollContainer&&(this.nodeRefs.scrollContainer.scrollTop=0)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}renderTree(e){const{onStyleguideDelete:t,onStyleguideArchive:n,onStyleguideActivate:a,onStyleguideTransferOwnership:o,onStyleguideLeave:r,onStyleguideJoin:l,onStyleguideInvite:c,onStyleguideClick:d,onStyleguideHover:u,onStyleguideParentSelect:h,onStyleguideParentRemove:p,onCopyStyleguideWebLink:g,onCopyStyleguideAppUri:m,highlightedStyleguides:f,firstHighlightedStyleguide:b}=this.props;return i.h(s.a,{key:e.root.id,tree:e,highlightedStyleguides:f,firstHighlightedStyleguide:b,onNodeDelete:t,onNodeArchive:n,onNodeActivate:a,onNodeTransferOwnership:o,onNodeLeave:r,onNodeJoin:l,onNodeInvite:c,onNodeClick:d,onNodeHover:u,onNodeParentSelect:h,onNodeParentRemove:p,onCopyWebLink:g,onCopyAppUri:m})}renderBranchedTrees(e){const{wrapRootTrees:t}=this.state,n=Object(h.a)("trees",{center:1===e.length&&t});return i.h("div",{class:n},e.map(this.renderTree))}renderRootTrees(e){const{wrapRootTrees:t}=this.state;return i.h("div",{class:"rootTrees"},i.h("div",{style:{flexWrap:t?"wrap":"nowrap"},ref:Object(d.a)(this,"rootTrees"),class:"trees"},e.map(this.renderTree)))}renderArchivedTrees(e){const t=[],n=[];for(const i of e)i.isRootTree()?t.push(i):n.push(i);return i.h("div",null,i.h("div",{class:"styleguideHeader"},i.h("h3",null,"Archived Trees"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu.")),i.h("div",{class:"archivedTrees"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t)))}renderEmptyStyleguides(){const{organizationId:e,organizationStatus:t,organizationSubscriptionStatus:n}=this.props;return"suspended"===t?i.h(l.a,{organizationId:e,subscriptionStatus:n}):i.h(o.a,null)}renderInTreeFormat(){const{trees:e}=this.props,t=[],n=[],s=[];for(const i of e)i.isArchived()?s.push(i):i.isRootTree()?t.push(i):n.push(i);return i.h("div",{ref:Object(d.a)(this,"base"),class:"styleguidesTreeView"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t),0===n.length&&0===t.length&&this.renderEmptyStyleguides(),s.length>0&&this.renderArchivedTrees(s))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onStyleguideClick:s,onStyleguideHover:o,onStyleguideDelete:r,onStyleguideArchive:l,onStyleguideActivate:c,onStyleguideTransferOwnership:d,onStyleguideLeave:u,onStyleguideJoin:h,onStyleguideInvite:p,onStyleguideParentSelect:g,onStyleguideParentRemove:m,onCopyStyleguideWebLink:f,onCopyStyleguideAppUri:b}=this.props,y=t.includes(e.id),S=n===e.id;return i.h(a.a,{key:e.id,node:e,archived:e.isArchived(),highlight:y,scroll:S,onDelete:r,onArchive:l,onActivate:c,onTransferOwnership:d,onLeave:u,onJoin:h,onInvite:p,onClick:s,onHover:o,onParentSelect:g,onParentRemove:m,onCopyWebLink:f,onCopyAppUri:b})}renderInListFormat(){const{filterValue:e}=this.context,{nodes:t}=this.props,n=[],s=[];for(const i of t)i.isArchived()?s.push(i):n.push(i);const a=i.h("div",{class:"styleguideHeader"},e?i.h("h4",null,"Archived Styleguides"):[i.h("h3",{key:"title"},"Archived Styleguides"),i.h("p",{key:"desc"},"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu.")]);return i.h("div",{class:"styleguidesListView"},n.length>0?i.h("div",{class:"styleguideNodes"},n.map(this.renderNode)):this.renderEmptyStyleguides(),s.length>0&&[!g&&a,i.h("div",{key:"nodes",class:"styleguideNodes"},g&&a,s.map(this.renderNode))])}render(){const{filterValue:e}=this.context,{styleguidesInfoVisible:t}=this.state;return i.h("div",{ref:Object(d.a)(this,"scrollContainer"),class:"styleguides"},t&&i.h(r.a,{onHideClick:this.handleHintBoxHideClick,hideButtonText:"Got it!"}),e?this.renderInListFormat():this.renderInTreeFormat())}}},function(e,t,n){"use strict";var i=n(1156);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1157),a=n(688),o=n(100),r=n(1),l=n(14),c=n(193),d=n(687),u=n(1173);n.n(u);function h(e){return[e.id].concat(...e.children.map(h))}t.a=class extends o.a{constructor(e){super(e),this.handleNodeRef=this.handleNodeRef.bind(this),this.renderNode=this.renderNode.bind(this),this.handleNodeMouseEnter=this.handleNodeMouseEnter.bind(this),this.handleNodeMouseLeave=this.handleNodeMouseLeave.bind(this),this.treeMounted=!1,this.nodeRefs={},this.state={hoveredParentId:null}}handleNodeRef(e,t){this.nodeRefs[e]=t}handleNodeMouseEnter(e){this.setState({hoveredParentId:e})}handleNodeMouseLeave(){this.setState({hoveredParentId:null})}componentDidMount(){const{tree:e}=this.props;e.isRootTree()||this.forceUpdate()}componentWillReceiveProps(e){Object(c.a)(h(e.tree.root),h(this.props.tree.root))&&(this.treeMounted=!1)}componentDidUpdate(){const{tree:e}=this.props;e.isRootTree()||this.treeMounted||(this.treeMounted=!0,setTimeout(()=>{this.forceUpdate()}))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onNodeDelete:s,onNodeArchive:o,onNodeActivate:r,onNodeTransferOwnership:l,onNodeLeave:c,onNodeJoin:d,onNodeInvite:u,onNodeClick:h,onNodeHover:p,onNodeParentSelect:g,onNodeParentRemove:m,onCopyWebLink:f,onCopyAppUri:b}=this.props,y=t.includes(e.id),S=n===e.id;return i.h(a.a,{key:e.id,node:e,archived:e.isArchived(),highlight:y,scroll:S,onMount:this.handleNodeRef,onDelete:s,onArchive:o,onActivate:r,onLeave:c,onJoin:d,onInvite:u,onClick:h,onHover:p,onTransferOwnership:l,onMouseEnter:this.handleNodeMouseEnter,onMouseLeave:this.handleNodeMouseLeave,onParentSelect:g,onParentRemove:m,onCopyWebLink:f,onCopyAppUri:b})}renderLevels(){const{hoveredParentId:e}=this.state,{tree:t}=this.props,n={marginBottom:d.a};return[i.h("div",{style:n,class:"level",key:"root"},this.renderNode(t.root)),t.levels.map((a,o)=>{const c=function(e){const t=Object(r.x)(e,"parentId");let n=-1;return Object.values(t).sort((e,t)=>t.length-e.length).reduce((i,s,a,o)=>{const r=s[0].parentId;if(-1===n&&o[a+1]&&s.length===o[a+1].length){const t=o[o.length-1],i=t[t.length-1];e.map(e=>e.id).indexOf(i.id)<e.length/2&&(n=a)}let l;return l=-1!==n?a-n+1:o.length-a,i[r]={weight:l,nodes:t[r]},i},{})}(a.nodes),d=Object.keys(c);let u=d;if(o>0){const e=t.getNodesAtLevel(o-1);u=d.sort((t,n)=>{const i=e.find(e=>e.id===t),s=e.find(e=>e.id===n);return i.index-s.index})}const h=Object.keys(c).length,p=o!==t.levels.length-1?n:null;return i.h("div",{ref:Object(l.a)(this,`level${o}`),style:p,class:"level",key:o},u.map(n=>{const{nodes:a,weight:r}=c[n],l=a.map(e=>this.nodeRefs[e.id]),d=this.nodeRefs[n],u=this.nodeRefs[`level${o}`];return i.h(i.Fragment,{key:`branches${n}`},this.treeMounted&&u&&d&&l.length>0&&i.h(s.a,{key:n,parentId:n,totalWeight:h,weight:r,levelRef:u,parentNodeRef:d,nodeRefs:l,highlight:!t.isArchived()&&n===e}),i.h("div",{key:`nodes${n}`,class:"nodes"},a.map(this.renderNode)))}))})]}render(){const{tree:e}=this.props;return e.isRootTree()?this.renderNode(e.root):i.h("div",{class:"styleguideTree"},this.renderLevels())}}},function(e,t,n){"use strict";var i=n(1158);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(687),a=n(3),o=n(1159);n.n(o);const r=136,l=296,c=2;t.a=function(e){const{parentId:t,levelRef:n,parentNodeRef:o,nodeRefs:d,totalWeight:u,weight:h,highlight:p}=e,g=d[0].getBoundingClientRect(),m=d[d.length-1].getBoundingClientRect(),f=n.getBoundingClientRect(),b=o.getBoundingClientRect().left+r,y=Math.min(g.left+r,b),S=Math.max(m.right-r,b)-y,v=g.left+r-b>0,C=s.a/(u+1)*h,E=s.a-C,O=`M${c},${C} l${S},00 `,T=(v?g.left-y+r:0)+c,k=Array(d.length).fill().reduce((e,t,n)=>e.concat(i.h("path",{key:n,d:`M${T+n*l},${C} l00,${E}`})),[]),D=`M${(v?0:b-y)+c},00 l00,${C}`,_=y-f.left-c,w=Object(a.a)("branches",{highlight:p});return i.h("svg",{class:w,"data-parentId":t,style:{left:_,top:-s.a},width:S+2*c,height:s.a},k,i.h("path",{d:O}),i.h("path",{d:D}))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(673),a=n(1161),o=n(71),r=n(460),l=n(199),c=n(679),d=n(541),u=n(1),h=n(8),p=n(13),g=n(14),m=n(682),f=n(10),b=n(77),y=n(33),S=n(1172);n.n(S);const v={TRANSFER_OWNERSHIP:"transferOwnership",SELECT_PARENT:"selectParent"};t.a=class extends i.Component{constructor(e){super(e),this.openArchiveDialog=this.openArchiveDialog.bind(this),this.openTransferDialog=this.openTransferDialog.bind(this),this.openLeaveDialog=this.openLeaveDialog.bind(this),this.openDeleteDialog=this.openDeleteDialog.bind(this),this.openSelectParentDialog=this.openSelectParentDialog.bind(this),this.openRemoveParentDialog=this.openRemoveParentDialog.bind(this),this.closeDialogs=this.closeDialogs.bind(this),this.openTransferOwnershipPopup=this.openTransferOwnershipPopup.bind(this),this.openSelectParentPopup=this.openSelectParentPopup.bind(this),this.closePopovers=this.closePopovers.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleInvite=this.handleInvite.bind(this),this.handleArchive=this.handleArchive.bind(this),this.handleActivate=this.handleActivate.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this),this.handleLeave=this.handleLeave.bind(this),this.handleJoin=this.handleJoin.bind(this),this.handleParentRemove=this.handleParentRemove.bind(this),this.handleCopyStyleguideAppUri=this.handleCopyStyleguideAppUri.bind(this),this.handleCopyStyleguideWebLink=this.handleCopyStyleguideWebLink.bind(this),this.handleGenerateShortlink=this.handleGenerateShortlink.bind(this),this.getCurrentUser=this.getCurrentUser.bind(this),this.selectParent=this.selectParent.bind(this),this.transferOwnershipPayload={},this.state={contextMenu:null,visibleDialogType:null,visiblePopoverType:null,transferOwnershipPopupVisible:!1,selectParentPopupVisible:!1,selectedParentStyleguide:null,shortURL:null}}getCurrentUser(){const{selectedOrganizationId:e,currentOrganizationProfile:t,currentUserId:n}=this.context,{node:{data:{users:i}}}=this.props;let s;return s="user"===e?i.find(e=>e.user._id===n):t}openTransferOwnershipPopup(){this.setState({visiblePopoverType:v.TRANSFER_OWNERSHIP})}openSelectParentPopup(){this.setState({visiblePopoverType:v.SELECT_PARENT})}closePopovers(){this.setState({visiblePopoverType:null})}openArchiveDialog(){this.setState({visibleDialogType:m.a.ARCHIVE})}openTransferDialog(e,t){this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:m.a.TRANSFER})}openLeaveDialog(){this.setState({visibleDialogType:m.a.LEAVE})}openDeleteDialog(){this.setState({visibleDialogType:m.a.DELETE})}openSelectParentDialog(e){const{currentStyleguides:t}=this.context,n=t.find(t=>t._id===e._id);this.setState({visibleDialogType:m.a.SELECT_PARENT,selectedParentStyleguide:n})}openRemoveParentDialog(){this.setState({visibleDialogType:m.a.REMOVE_PARENT})}closeDialogs(){this.transferOwnershipPayload={},this.setState({visibleDialogType:null,selectedParentStyleguide:null})}selectParent(){const{selectedParentStyleguide:{_id:e}}=this.state,{node:{data:{_id:t,parent:n}},onParentSelect:i}=this.props;i({stid:t,parent:e,oldParent:n})}handleContextMenu(e){this.setState({contextMenu:{origin:e}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleMouseEnter(){const{node:{id:e},onMouseEnter:t}=this.props;t&&t(e)}handleMouseLeave(){const{onMouseLeave:e}=this.props;e&&e()}handleDelete(){const{node:{data:{_id:e}},onDelete:t}=this.props;t({stid:e})}handleArchive(){const{node:{data:{_id:e}},onArchive:t}=this.props;t({stid:e})}handleActivate(){const{node:{data:{_id:e}},onActivate:t}=this.props;t({stid:e})}handleTransferOwnership(){const{selectedOrganizationId:e,currentUserId:t}=this.context,{onTransferOwnership:n,node:{data:{_id:i}}}=this.props,{selected:s,toOrganization:a}=this.transferOwnershipPayload;n({stid:i,fromUserId:t,targetId:s,toOrganization:a,oid:e})}handleLeave(){const{node:{data:{_id:e}},onLeave:t}=this.props;t({bid:e,mid:this.getCurrentUser().user._id})}handleInvite(){const{selectedOrganizationId:e}=this.context,{onInvite:t,node:{data:{_id:n,users:i}}}=this.props;t({container:this.nodeRefs.base,stid:n,users:i,oid:e}),this.closePopovers()}handleCopyStyleguideAppUri(){const{node:{data:{_id:e}},onCopyAppUri:t}=this.props;t(e)}handleCopyStyleguideWebLink(){const{node:{data:{_id:e}},onCopyWebLink:t}=this.props,{shortURL:n}=this.state,i=Object(h.j)("styleguide",{url:{bid:e}});t(n||i)}handleJoin(){const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e})}handleParentRemove(){const{node:{data:{_id:e,parent:t}},onParentRemove:n}=this.props;n({stid:e,oldParent:t})}handleGenerateShortlink(){const{node:{id:e}}=this.props,t=Object(h.j)("styleguide",{url:{bid:e}});Object(p.generateShortlink)(t).then(e=>{this.setState({shortURL:e})})}componentDidMount(){const{node:{id:e},scroll:t,onMount:n}=this.props,{base:i}=this.nodeRefs;t&&i.scrollIntoView(),n&&n(e,i)}renderTransferOwnershipPopup(){const{node:{data:{users:e}}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:s,currentUserId:a}=this.context,o=e.filter(e=>"invited"!==e.user.status&&!(e.user._id===a&&"user"===n));let r=[];return t.length&&"user"===n&&(r=t.filter(e=>{const t=s[e._id];return t&&u.C.canTransferOwnership(t)&&"active"===e.status})),i.h(c.a,{barrelType:f.a.STYLEGUIDE,users:o,organizations:r,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderDialog(e){const{organizations:t}=this.context,{node:{data:{name:n,users:s,type:a,parent:l}}}=this.props,{selected:c,toOrganization:d}=this.transferOwnershipPayload;if(e===m.a.DELETE)return i.h(r.a,{title:"Enter the name of the styleguide to confirm:",placeholder:"Styleguide name",confirmationText:n,onDelete:this.handleDelete,onClose:this.closeDialogs});let u,h,p,g;switch(e){case m.a.TRANSFER:{let e;u="TRANSFER",h=`Transfer ownership of “${n}” to ${e=d?t.find(e=>e._id===c).name:s.find(e=>e.user._id===c).user.username}?`,p=this.handleTransferOwnership;break}case m.a.LEAVE:u="LEAVE",h=`Leave “${n}”?`,p=this.handleLeave;break;case m.a.ARCHIVE:u="ARCHIVE",h=`Archive “${n}”?`,p=this.handleArchive;break;case m.a.SELECT_PARENT:{const{selectedParentStyleguide:e}=this.state;if(!e)return null;const{name:t,type:i}=e,s=a===i||i===y.c.BASE;u=`${l?"CHANGE":"SELECT"}${s?"":" ANYWAY"}`;const o=l?"to":"as";g=`${l?"Change":"Select"} parent styleguide of ${`“${n}”`+(s?"":` (${y.d[a]})`)} ${o} ${`“${t}”`+(s?"":` (${y.d[i]})`)}?`,h="Styleguide parent can be changed later.",p=this.selectParent;break}case m.a.REMOVE_PARENT:u="REMOVE PARENT",h=`Remove parent styleguide of “${n}”?`,p=this.handleParentRemove}return i.h(o.a,{positiveButtonText:u,onPositiveButtonClick:p,onClose:this.closeDialogs,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:h,title:g})}renderContextMenu(e){const{contextMenu:{origin:t}}=this.state,{node:{data:n}}=this.props;return i.h(a.a,{currentUser:this.getCurrentUser(),styleguide:n,onClose:this.handleContextMenuClose,onOpen:this.handleGenerateShortlink,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.openTransferOwnershipPopup,onInvite:this.handleInvite,onJoin:this.handleJoin,onLeave:this.openLeaveDialog,onParentSelect:this.openSelectParentPopup,onParentRemove:this.openRemoveParentDialog,onCopyWebLink:this.handleCopyStyleguideWebLink,onCopyAppUri:this.handleCopyStyleguideAppUri,selectableParentStyleguidesLength:e,autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t}})}renderPopovers(e){const{visiblePopoverType:t}=this.state;if(!t)return null;let n;switch(t){case v.TRANSFER_OWNERSHIP:n=this.renderTransferOwnershipPopup();break;case v.SELECT_PARENT:n=i.h(d.f,{styleguides:e,onSelect:this.openSelectParentDialog})}return i.h(l.a,{targetNode:this.nodeRefs.base,onClose:this.closePopovers,content:n,top:-12,left:-236,faceTop:!0,open:!0})}render(){const{filterValue:e,selectedOrganizationId:t,currentStyleguides:n}=this.context,{contextMenu:a,visibleDialogType:o}=this.state,{node:r,node:{id:l,parentId:c,data:{type:d,name:p,users:m,thumbnail:f,updated:y}},highlight:S,archived:v,onClick:C,onHover:E}=this.props,O=Object(h.j)("styleguide",{url:{bid:l}}),T=m.sort(u.H.role),k=Object(b.c)({isOrganizationStyleguide:"user"!==t,currentStyleguides:n,currentUser:this.getCurrentUser(),id:l,parentId:c,users:m});return i.h("div",{ref:Object(g.a)(this,"base"),class:"styleguideCardContainer",onMouseLeave:v||r.isLeaf()?null:this.handleMouseLeave,onMouseEnter:v||r.isLeaf()?null:this.handleMouseEnter},i.h(s.a,{id:l,onClick:C,onHover:E,link:O,type:d,name:p,members:T,source:f,updated:y,onContextMenu:this.handleContextMenu,contextMenu:a&&this.renderContextMenu(k.length),filterValue:e,highlight:S,archived:v}),o&&this.renderDialog(o),this.renderPopovers(k))}}},function(e,t,n){"use strict";var i=n(1162);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(156),a=n(1),o=n(1163);t.a=class extends i.Component{renderOwnershipItems(){const{currentUser:e,onTransferOwnership:t}=this.props,n=a.C.canTransferOwnership(e);return[i.h(s.a.ItemDivider,{key:"ownershipDivider"}),n&&i.h(s.a.Item,{key:"transferOwnership",onClick:t},"Transfer ownership…"),n&&i.h(s.a.ItemDivider,{key:"ownershipDividerEnd"})]}renderParentItems(){const{currentUser:e,onParentSelect:t,onParentRemove:n,selectableParentStyleguidesLength:r,styleguide:{parent:l,status:c}}=this.props;if(c===o.a.ARCHIVED)return null;const d=a.C.canUpdateStyleguide(e),u=d&&r>0;return[!l&&u&&i.h(s.a.Item,{key:"selectParent",onClick:t},"Select parent styleguide"),l&&u&&i.h(s.a.Item,{key:"changeParent",onClick:t},"Change parent styleguide"),l&&d&&i.h(s.a.Item,{key:"removeParent",onClick:n},"Remove parent styleguide"),(l||u)&&i.h(s.a.ItemDivider,{key:"parentItemDividerEnd"})]}renderStatusItems(){const{currentUser:e,onActivate:t,onArchive:n,styleguide:{status:r}}=this.props,l=a.C.canChangeStyleguideStatus(e),c=a.C.canChangeStyleguideStatus(e),d=r===o.a.ARCHIVED;return[!d&&l&&i.h(s.a.Item,{key:"archive",onClick:n},"Archive styleguide"),d&&c&&i.h(s.a.Item,{key:"activate",onClick:t},"Activate styleguide")]}renderWarningItems(){const{currentUser:e,onLeave:t,onDelete:n}=this.props,o=a.C.canDeleteStyleguide(e);return[a.C.canLeaveStyleguide(e)&&i.h(s.a.Item,{key:"leave",onClick:t,warning:!0},"Leave styleguide"),o&&i.h(s.a.Item,{key:"delete",onClick:n,warning:!0},"Delete styleguide")]}renderCopyLinks(){const{styleguide:{status:e},onCopyWebLink:t,onCopyAppUri:n}=this.props,a=e===o.a.ARCHIVED;return[!a&&i.h(s.a.Item,{key:"copyWebLink",onClick:t},"Copy styleguide web link"),!a&&i.h(s.a.Item,{key:"copyApiUri",onClick:n},"Copy styleguide app URI")]}renderItems(){const{currentUserId:e}=this.context,{styleguide:{users:t},onInvite:n,onJoin:a}=this.props;return t.some(t=>t.user._id===e)?[i.h(s.a.Item,{key:"invite",onClick:n},"Invite…"),this.renderCopyLinks(),this.renderOwnershipItems(),this.renderParentItems(),this.renderStatusItems(),this.renderWarningItems()]:[i.h(s.a.Item,{key:"join",onClick:a},"Join"),this.renderCopyLinks()]}render(){const{autoPosition:e,onClose:t,onOpen:n}=this.props;return i.h(s.a.withAutoPosition,{autoPosition:e,onClose:t,onOpen:n},this.renderItems())}}},function(e,t,n){"use strict";t.a={ROOT:"root",ARCHIVED:"archived",BRANCHED:"branched"}},function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return g});var i=n(0),s=n(689),a=n(8),o=n(14),r=n(77),l=n(1171);n.n(l);const c=({title:e="No styleguides to link yet",children:t})=>i.h("div",{class:"linkToStyleguidePopupEmpty"},i.h("h3",null,e),t),d=({projectOwnerName:e})=>i.h(c,null,i.h("p",null,"Styleguides can only be linked to projects with the same owner. Looks like this project is owned by ",i.h("strong",null,e)," and you’re not invited to any of their styleguides.")),u=({hasOrganization:e})=>i.h(c,null,i.h("p",null,!e&&"Styleguides can only be linked to projects with the same owner. ","Looks like ",e?"there’s no organization styleguide yet":"you don’t have a styleguide yet",", ",i.h("a",{href:Object(a.j)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),h=({oid:e})=>i.h(c,{title:"No styleguides to move to yet"},i.h("p",null,"Looks like there’s no organization styleguide yet, ",i.h("a",{href:Object(a.j)("organization-styleguides",{url:{oid:e}}),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),p=({resourceType:e,barrelType:t,barrelOwnerName:n})=>i.h(c,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like this ",t," is owned by ",n," and you’re not invited to any of their styleguides.")),g=({resourceType:e})=>i.h(c,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like you don’t have a styleguide yet, ",i.h("a",{href:Object(a.j)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."));class m extends i.Component{constructor(e){super(e),this.handleSelect=this.handleSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this);const t=Object(r.b)(e.styleguides);this.state={selected:t.length>0?t[0].root.id:null,trees:t}}handleSelect(e,t){if(this.setState({selected:e}),t){const{styleguides:t}=this.props,n=t.find(t=>t._id===e);this.props.onSelect(n)}}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:{const{selected:e}=this.state,{onSelect:t,styleguides:n}=this.props;t(n.find(t=>t._id===e));break}}}componentDidMount(){this.nodeRefs&&(this.nodeRefs.base.style.height=`${this.nodeRefs.base.clientHeight}px`),document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){if(e.styleguides.length!==this.props.styleguides.length){const t=Object(r.b)(e.styleguides);this.setState({trees:t,selected:t[0].root.id})}e.selected!==this.props.selected&&this.setState({selected:e.selected})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selected:e,trees:t}=this.state,{loading:n,text:a}=this.props;return i.h("div",{ref:Object(o.a)(this,"base"),class:"linkToStyleguidePopup"},i.h("p",{class:"noSelect"},a),i.h(s.a,{selectedNodeId:e,trees:t,loading:n,onNodeSelect:this.handleSelect,hoverable:!0}))}}m.defaultProps={text:"Select a styleguide to reference the same colors, text styles and components."},t.f=m},function(e,t,n){"use strict";var i=n(0),s=n(690),a=n(43),o=n(3),r=n(33),l=n(1170);n.n(l);function c({name:e,type:t,selected:n,loading:s}){const r=Object(o.a)("nodeItem",{selected:n});return i.h("div",{class:r},i.h("span",{class:"styleguideName ellipsis"},e),", ",i.h("span",{class:"nodeType"},t),s&&n&&i.h("div",{class:"nodeSpinner"},i.h(a.E,{color:"#fff"})))}t.a=function(e){const{trees:t,selectedNodeId:n,onNodeSelect:a,hoverable:l,loading:d,class:u}=e,h=function(e,t,n){return function e(s){return s.map(({id:s,data:{name:a,type:o},children:l})=>({id:s,title:a,children:e(l),content:i.h(c,{name:a,loading:n,type:r.d[o],selected:t===s})}))}(e.map(e=>e.root))}(t,n,d),p=Object(o.a)("styleguidesTreeView",u);return i.h(s.a,{class:p,tree:h,selectedNodeId:n,onNodeSelect:a,hoverable:!d&&l,focusOnMount:!0,frozen:d})}},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1),r=n(56),l=n(3),c=n(14),d=n(1167),u=n(1169);n.n(u);function h(e,t,n){return[].concat(...e.map(e=>(e.parent=n,t.includes(e.id)?e:[e].concat(h(e.children,t,e.id)))))}function p(e,t){for(const n of e){if(n.id===t)return n;let e=p(n.children,t);if(e)return e}return null}const g=300,m=4;class f extends i.Component{constructor(e){super(e),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeSelect=this.handleNodeSelect.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this);const{selectedNodeId:t,tree:n}=e;this.nodeList=h(n,[],null),this.state={collapsedNodes:[],selectedNodeId:t}}findSelectedNodeIndex(){const{selectedNodeId:e}=this.state;return this.nodeList.findIndex(({id:t})=>t===e)}handleChevronClick(e){const{tree:t}=this.props,{selectedNodeId:n}=this.state;this.nodeRefs.base.focus({preventScroll:!0}),this.setState(t=>{let{collapsedNodes:n}=t;return n.includes(e)?Object(o.b)(n,t=>t===e):n.push(e),{collapsedNodes:n}}),function(e,t){return!!p(e.children,t)}(p(t,e),n)&&this.handleNodeSelect(e)}handleNodeSelect(e,{debounce:t=!1,isSelectedWithClick:n=!1}={}){const{onNodeSelect:i,frozen:s}=this.props;if(s)return;this.setState({selectedNodeId:e});const a=t?g:m;clearTimeout(this.nodeTimeout),this.nodeTimeout=setTimeout(i,a,e,n)}handleNodeHover(e){const{hoverable:t}=this.props;t&&this.handleNodeSelect(e)}handleArrowDown(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(-1===n||n===this.nodeList.length-1)return;const i="mac"===Object(r.j)()&&e.metaKey?this.nodeList.length-1:n+1,s=this.nodeList[i];this.handleNodeSelect(s.id,{debounce:!0})}handleArrowUp(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(n<1)return;const i="mac"===Object(r.j)()&&e.metaKey?0:n-1,s=this.nodeList[i];this.handleNodeSelect(s.id,{debounce:!0})}handleArrowLeft(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];!n.children.length||e.includes(n.id)?null!==n.parent&&this.handleNodeSelect(n.parent,{debounce:!0}):this.handleChevronClick(n.id)}handleArrowRight(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];n.children.length&&e.includes(n.id)&&this.handleChevronClick(n.id)}handleHome(){if(this.findSelectedNodeIndex()<1)return;const e=this.nodeList[0];this.handleNodeSelect(e.id,{debounce:!0})}handleEnd(){const e=this.findSelectedNodeIndex();if(-1===e||e===this.nodeList.length-1)return;const t=this.nodeList[this.nodeList.length-1];this.handleNodeSelect(t.id,{debounce:!0})}handleKeyDown(e){let t=!0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowDown:this.handleArrowDown(e);break;case Zeplin.KEY_CODE.ArrowUp:this.handleArrowUp(e);break;case Zeplin.KEY_CODE.ArrowLeft:this.handleArrowLeft();break;case Zeplin.KEY_CODE.ArrowRight:this.handleArrowRight();break;case Zeplin.KEY_CODE.HOME:this.handleHome();break;case Zeplin.KEY_CODE.END:this.handleEnd();break;default:t=!1}t&&e.preventDefault()}handleFocus(){document.addEventListener("keydown",this.handleKeyDown,!0)}handleBlur(){document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidMount(){const{focusOnMount:e}=this.props;e&&this.nodeRefs.base.focus({preventScroll:!0})}componentWillUpdate(e,t){const{collapsedNodes:n}=this.state,{tree:i,selectedNodeId:s}=e,{collapsedNodes:a}=t;n.length!==a&&(this.nodeList=h(i,a,null)),this.setState({selectedNodeId:s})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderTree(e,t){const{nodeClass:n,nodePadding:s,onComponentToSectionNodeDrop:a}=this.props,{collapsedNodes:o,selectedNodeId:r}=this.state;return e.map(({id:e,idPath:l,styleguideId:c,title:u,content:h,class:p,children:g})=>{const m=o.includes(e),f=r===e;return i.h("div",{key:`tree-${e}`,class:"tree"},i.h(d.a,{key:`node-${e}`,class:[n,p],extraPadding:s,id:e,idPath:l,styleguideId:c,title:u,level:t,leaf:!g.length,collapsed:m,selected:f,onChevronClick:this.handleChevronClick,onNodeSelect:this.handleNodeSelect,onNodeHover:this.handleNodeHover,onComponentToSectionNodeDrop:a},h),0!==g.length&&!m&&this.renderTree(g,t+1))})}render(){const{class:e,tree:t}=this.props,n=Object(l.a)("treeView",e);return i.h("div",{class:n,tabIndex:"0",ref:Object(c.a)(this,"base"),onClick:o.J,onFocus:this.handleFocus,onBlur:this.handleBlur},this.renderTree(t,0))}}const b={id:a.a.string.isRequired,title:a.a.string.isRequired,content:a.a.node.isRequired},y=a.a.shape(b);y.children=a.a.arrayOf(y).isRequired,f.propTypes={class:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),nodeClass:a.a.string,nodePadding:a.a.number,dragDropEnabled:a.a.bool,tree:a.a.arrayOf(y).isRequired,selectedNodeId:a.a.string,onNodeSelect:a.a.func.isRequired,hoverable:a.a.bool,focusOnMount:a.a.bool,frozen:a.a.bool},t.a=f},function(e,t,n){"use strict";var i=n(1168);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(43),r=n(26),l=n(3),c=n(14),d=n(315);const u=12,h=8,p=2*u;class g extends i.Component{constructor(e){super(e),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeClick=this.handleNodeClick.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this)}handleChevronClick(e){const{id:t,onChevronClick:n}=this.props;e.stopPropagation(),n(t)}handleNodeClick(e){const{id:t,onNodeSelect:n}=this.props;e.stopPropagation(),n(t,{isSelectedWithClick:!0})}handleNodeHover(e){const{id:t,onNodeHover:n}=this.props;e.stopPropagation(),n(t)}shouldComponentUpdate(e){const{children:t}=this.props,{children:n}=e,s=i.toChildArray(t),a=i.toChildArray(n);if(s.length!==a.length)return!0;for(const[i,o]of Object(d.a)(s,a))if(i!==o)return!0;return this.props.id!==e.id||this.props.title!==e.title||this.props.level!==e.level||this.props.leaf!==e.leaf||this.props.collapsed!==e.collapsed||this.props.selected!==e.selected||this.props.class!==e.class}componentDidUpdate(){const{selected:e}=this.props;e&&Object(r.m)(this.nodeRefs.base)}render(){const{children:e,class:t,extraPadding:n,title:s,level:a,leaf:r,collapsed:d,selected:g}=this.props,m=Object(l.a)("node",t,{selected:g}),f=Object(l.a)("chevron",{collapsed:d}),b=n+a*u+(r?p:h);return i.h("div",{class:m,style:{paddingLeft:b},onClick:this.handleNodeClick,onMouseEnter:this.handleNodeHover,ref:Object(c.a)(this,"base")},!r&&i.h("button",{class:f,onClick:this.handleChevronClick},i.h(o.e,null)),i.h("span",{class:"nodeName ellipsis noSelect",title:s},e))}}g.propTypes={class:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),extraPadding:a.a.number,id:a.a.string.isRequired,level:a.a.number.isRequired,children:a.a.oneOfType([a.a.node,a.a.element]).isRequired,title:a.a.string.isRequired,leaf:a.a.bool.isRequired,collapsed:a.a.bool.isRequired,selected:a.a.bool.isRequired,onNodeSelect:a.a.func.isRequired,onChevronClick:a.a.func.isRequired},g.defaultProps={extraPadding:0},t.a=g},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1175);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1176);n.n(s);t.a=function(e,t){const{selectedOrganizationId:n,filterValue:s,canCreateStyleguide:a}=t,o="user"!==n;return i.h("div",{class:"emptyActiveStyleguides"},i.h("h3",null,"No ",o?"joined":"active"," styleguides ",s?"with this name/type. 🤷":"currently."),!s&&o&&i.h("p",null,a?"Go ahead and create one! ✌️":i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))))}},function(e,t){},function(e,t,n){"use strict";var i=n(1178);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(204),a=n(1179);n.n(a);const o=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("rect",{width:"80",height:"40",x:"188",fill:"#979197",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"130",y:"64",fill:"#979197",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#979197","stroke-width":"2",d:"M170 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#979197","fill-rule":"nonzero",d:"M227 40h2v12h-2z"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"210.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"200.314",y:"31"},"Styleguide")),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"156.494",y:"81"},"Child")," ",i.h("tspan",{x:"142.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"246",y:"64",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"272.494",y:"81"},"Child")," ",i.h("tspan",{x:"258.314",y:"95"},"Styleguide")),i.h("path",{fill:"#979197",d:"M283.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M340.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M425.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M178.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M97.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045.51-.472 1.01-.958 1.494-1.457.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"148",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"160.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"394",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"406.051",y:"181"},"Project"))));t.a=function({onHideClick:e,hideButtonText:t}){return i.h("div",{class:"styleguidesHintBoxContainer"},i.h(s.a,{class:"styleguidesHintBox",onHideClick:e,hideButtonText:t,hideEmoji:!0},i.h("div",{class:"topContainer"},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"text"},i.h("h5",null,"Curate your design system 🍡"),i.h("p",null,"Here, you can explore styleguides created by you or your team. Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides."))),i.h("div",{class:"imageContainer"},o)))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1182);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(691),a=n(71),o=n(1209);n.n(o);t.a=function(e){const{styleguide:t,loading:n,onClose:o,onJoin:r}=e,{name:l,type:c,densityScale:d,users:u,colors:h,textStyles:p,componentSections:[{components:g}]=[{}]}=t;return i.h(a.c,{class:"styleguidePreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:r,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:o,width:"66vw"},n?i.h("div",{class:"styleguidePreviewDialogLoadingBody"},i.h(s.a,null)):i.h("div",{class:"styleguidePreviewDialogBody"},i.h(s.b,{name:l,type:c,densityScale:d,users:u,colors:h,textStyles:p,components:g})))}},function(e,t,n){"use strict";var i=n(1184);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(14),a=n(1),o=n(692),r=n(693),l=n(1191),c=(n.n(l),n(3));const d=72,u=42,h=12,p=6;const g=108;t.a=class extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(a.f)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:Object(c.a)("styleguidePreviewLoading",this.props.class),ref:Object(s.a)(this,"base")},i.h("div",{class:"styleguidePreviewLoadingHead"}),i.h("div",{class:"styleguidePreviewLoadingSubHead"}),i.h("div",{class:"styleguidePreviewLoadingMembers"},function(e){const t=Math.floor(e/u);return Array.from({length:Math.min(h,t)},()=>i.h("div",{class:"styleguidePreviewLoadingMember"}))}(e)),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead"}),i.h("div",{class:"styleguidePreviewLoadingColors"},function(e){const t=Math.floor(e/d);return Array.from({length:2*t},()=>i.h(o.a,null))}(e))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead textStylesSection"}),i.h("div",{class:"styleguidePreviewLoadingTextStyles"},Array.from({length:p},()=>i.h(r.a,null)))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead componentsSection"}),i.h("div",{class:"styleguidePreviewLoadingComponents"},function(e){const t=Math.floor(e/g);return Array.from({length:2*t},()=>i.h("div",{class:"styleguidePreviewLoadingComponentPlaceholder"}))}(e))))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(0),s=n(1186);n.n(s);function a(){return i.h("div",{class:"styleguidePreviewColorPreview placeholder"})}t.b=function({color:e}){return i.h("div",{class:"styleguidePreviewColorPreview",style:{backgroundColor:e.toRGBAString()}})}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0),s=n(542),a=n(1190);n.n(a);function o(){return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName"},i.h("div",{class:"placeholder"})),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"placeholder"})))}t.b=class extends i.Component{renderName(){const{textStyle:{scaledFontSize:e,name:t,fontWeight:n,fontStyle:s}}=this.props,a={fontSize:e,fontWeight:n,fontStyle:s};return i.h("span",{style:a},t)}renderMainInfo(){const{formatter:e,textStyle:t}=this.props,{content:n,fontSize:a}=Object(s.d)(t);return i.h("div",{class:"previewTextStyleCatalogRowStyle"},i.h("span",{class:"previewTextStyleCatalogRowFamily ellipsis",title:n},n),", ",e.textLength(a))}renderExtraInfo(){const{formatter:e,textStyle:t}=this.props;return i.h("div",{class:"previewTextStyleCatalogRowExtraInfo ellipsis"},Object(s.c)(e,t))}renderColor(){const{formatter:e,textStyle:{color:t}}=this.props;return i.h("div",{class:"previewTextStyleCatalogColorContainer"},i.h("span",{class:"previewTextStyleCatalogColorPreview",style:{backgroundColor:e.colorString(t)}}),i.h("span",{class:"previewTextStyleCatalogColorText ellipsis"},t.name?`#${t.name}`:t.toHexString()))}render(){const{textStyle:{color:e}}=this.props;return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName ellipsis"},this.renderName()),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"previewTextStyleCatalogRowMainInfo"},this.renderMainInfo(),e&&this.renderColor()),this.renderExtraInfo()))}}},function(e,t,n){"use strict";t.a=function*(...e){if(1===e.length)yield*e[0][Symbol.iterator]();else{const t=e.map(e=>e[Symbol.iterator]());let n,i=0,s=t[0].next();for(;;)if(n=s,s=t[i=(i+1)%t.length].next(),yield n.value,s.done)return}}},function(e,t,n){"use strict";t.a=function*(e,t=1/0){if(t===1/0)for(;;)yield e;else for(let n=0;n<t;n++)yield e}},function(e,t){},function(e,t){},function(e,t,n){"use strict";t.a=function(e){const{loading:t,name:n,type:g,users:m,densityScale:f,colors:b,textStyles:y,components:S,showJoinButton:v,loadingJoin:C,onJoin:E,headerSticky:O}=e;if(t)return null;const T=b&&!!b.length,k=y&&!!y.length,D=S&&!!S.length,_=!T&&!k&&!D,w=Object(s.p)(g,f);return i.h("div",{class:"styleguidePreview"},i.h("div",{class:Object(a.a)("styleguidePreviewHeader",{sticky:O})},i.h("div",null,i.h("h1",null,n),i.h("h5",null,i.h("span",{class:"styleguidePreviewType"},r.d[g]),f&&i.h("span",{class:"styleguidePreviewDensity"},", ",w))),v&&i.h(p.a,{class:"styleguidePreviewJoinButton",onClick:E},C?i.h("img",{src:Object(o.f)("img/icSpinnerWhite.svg"),class:"spinning"}):"Join")),i.h(h.a,{members:m,class:"styleguidePreviewMembers",avatarSize:36}),T&&i.h(l.a,{colors:b}),k&&i.h(c.a,{textStyles:y}),D&&i.h(d.a,{components:S}),_&&i.h(u.a,null))};var i=n(0),s=n(1),a=n(3),o=n(21),r=n(33),l=n(1193),c=n(1198),d=n(1201),u=n(1205),h=n(674),p=n(34),g=n(1208);n.n(g)},function(e,t,n){"use strict";var i=n(1194);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(692),a=n(641),o=n(14),r=n(1197);n.n(r);const l=72,c=10;t.a=class extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){requestAnimationFrame(()=>{this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state,{colors:t}=this.props,n=t.slice(0,c),r=n.length,d=t.length>=c,u=Math.floor(e/l),h=u-r%u;let p;return p=h===u?u:u+h,i.h(a.a,{name:"Color Palette"},i.h("div",{class:"styleguidePreviewColorPalette",ref:Object(o.a)(this,"contentWrapper")},n.map(e=>i.h(s.b,{color:e,key:e.id})),d&&Array.from({length:p},()=>i.h(s.a,null))))}}},function(e,t,n){"use strict";var i=n(0),s=n(1196);n.n(s);t.a=function(e){const{name:t,children:n}=e;return i.h("div",{class:"styleguidePreviewSection"},i.h("div",{class:"styleguidePreviewSectionHeader"},t),i.h("div",{class:"styleguidePreviewSectionContent"},n))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1199);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(641),a=n(693),o=n(525),r=n(1200);n.n(r);const l=6;t.a=function(e){const{textStyles:t}=e,n=new o.a({dimensionSuffix:"px",textDimensionSuffix:"px",densityScale:1,type:"common"}),r=t.slice(0,l);return i.h(s.a,{name:"Text Style Catalog"},i.h("div",{class:"styleguidePreviewTextStyleCatalog"},r.map(e=>i.h(a.b,{formatter:n,textStyle:e})),t.length>=l&&[i.h(a.a,null),i.h(a.a,null)]))}},function(e,t){},function(e,t,n){"use strict";var i=n(1202);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(641),a=n(1203),o=n(1),r=n(14),l=n(1204);n.n(l);const c=()=>{},d=10,u=108,h=6;t.a=class extends i.Component{constructor(e){super(e),this.state={lastComponentRowAvailableWidth:0,availableWidth:0},this.handleWindowResize=Object(o.f)(this.handleWindowResize).bind(this)}handleWindowResize(){const e=this.nodeRefs.contentWrapper.getBoundingClientRect(),t=this.nodeRefs.lastComponentEl.getBoundingClientRect().right;this.setState({lastComponentRowAvailableWidth:e.right-t-h,availableWidth:e.width})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e,lastComponentRowAvailableWidth:t}=this.state,{components:n}=this.props,o=n.slice(0,d),l=n.length>=d,h=Math.max(Math.floor(t/u),0),p=Math.floor(e/u)+h;return i.h(s.a,{name:"Components"},i.h("div",{class:"styleguidePreviewComponents",ref:Object(r.a)(this,"contentWrapper")},o.map((e,t)=>{const{latestVersion:{snapshot:{width:n,height:s,url:l}}}=e,d=t===o.length-1?Object(r.a)(this,"lastComponentEl"):c;return i.h(a.b,{key:t,width:n,height:s,url:l,baseRef:d})}),l&&Array.from({length:p},()=>i.h(a.a,null))))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(0),s=n(3),a=n(21);const o=12,r=4*o;function l(){return i.h("div",{class:"styleguidePreviewComponent"})}t.b=class extends i.Component{constructor(e){super(e),this.state={lightness:null}}componentDidMount(){const{url:e}=this.props;Object(a.d)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}render(){const{lightness:e}=this.state,{width:t,height:n,url:a,baseRef:l}=this.props,c={width:function(e){return Math.ceil(e/o)*o+r}(t)},d=Object(s.a)("styleguidePreviewComponentContent",e);return i.h("div",{class:"styleguidePreviewComponent",style:c,ref:l},i.h("div",{class:d,style:{paddingBottom:`${100*n/t}%`}},i.h("img",{class:"noSelect",width:t,height:n,src:a})))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1206);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1207);n.n(s);t.a=function(){return i.h("div",{class:"styleguidePreviewEmptyBody"},i.h("h1",null,"No colors, text styles or components yet."),i.h("h3",null,"Join and upload the first."))}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1211);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(71),a=n(689),o=n(146),r=n(1212),l=n(3),c=n(1213);n.n(c);class d extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(){const{onChange:e,value:t}=this.props;e(t)}render(){const{selected:e,value:t,label:n,image:s,description:a,horizontal:o,tall:r}=this.props,c=Object(l.a)("styleguideType",{selected:e,horizontal:o,tall:r});return i.h("label",{class:c},i.h("h5",null,n),!o&&i.h("div",{class:"imageWrapper"},s),i.h("p",null,a),i.h("input",{onClick:this.handleChange,type:"radio",value:t,name:"styleguideType"}))}}t.a=class extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handleCheckboxChange=this.handleCheckboxChange.bind(this),this.handleParentStyleguideChange=this.handleParentStyleguideChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.values=Object.keys(r.a).map(e=>r.a[e].value),this.state={selected:this.values[0],selectedParentStyleguide:e.trees[0]?e.trees[0].root.id:null,chooseParentChecked:!1}}handleChange(e){this.setState({selected:e})}handleCheckboxChange(e){const{trees:t}=this.props,n=e.target.checked,i=n&&t[0]?t[0].root.id:null;this.setState({chooseParentChecked:n,selectedParentStyleguide:i})}handleParentStyleguideChange(e){this.setState({selectedParentStyleguide:e})}handlePositiveButtonClick(){const{onCreate:e}=this.props,{selected:t,selectedParentStyleguide:n,chooseParentChecked:i}=this.state;i?e(t,n):e(t)}handleKeyDown(e){const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderStyleguidesPicker(){const{selectedParentStyleguide:e}=this.state,{trees:t}=this.props;return i.h("div",{class:"styleguidesPicker"},i.h("p",null,"Choose a parent styleguide"),i.h("div",{class:"styleguidesTreeViewContainer"},i.h(a.a,{trees:t,selectedNodeId:e,onNodeSelect:this.handleParentStyleguideChange})))}render(){const{selected:e,chooseParentChecked:t}=this.state,{trees:n,onClose:a}=this.props;return i.h(s.c,{class:"createStyleguideDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:a,width:828,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody noSelect"},i.h("h1",null,"Choose a type"),i.h("div",{class:"bodyContainer box"},i.h("div",null,i.h("h3",null,"Platform-free"),i.h(d,{onChange:this.handleChange,value:r.a.BASE.value,label:r.a.BASE.label,image:i.h(r.a.BASE.Image,{selected:e===r.a.BASE.value}),description:r.a.BASE.description,selected:r.a.BASE.value===e,tall:!0})),i.h("div",{class:"splitter"}),i.h("div",{class:"platformTypesContainer"},i.h("h3",null,"Platform-specific"),i.h("div",{class:"platformSpecificTypes"},i.h(d,{onChange:this.handleChange,value:r.a.WEB.value,label:r.a.WEB.label,image:i.h(r.a.WEB.Image,{selected:e===r.a.WEB.value}),description:r.a.WEB.description,selected:r.a.WEB.value===e}),i.h(d,{onChange:this.handleChange,value:r.a.IOS.value,label:r.a.IOS.label,image:i.h(r.a.IOS.Image,{selected:e===r.a.IOS.value}),description:r.a.IOS.description,selected:r.a.IOS.value===e}),i.h(d,{onChange:this.handleChange,value:r.a.ANDROID.value,label:r.a.ANDROID.label,image:i.h(r.a.ANDROID.Image,{selected:e===r.a.ANDROID.value}),description:r.a.ANDROID.description,selected:r.a.ANDROID.value===e}),i.h(d,{onChange:this.handleChange,value:r.a.OSX.value,label:r.a.OSX.label,image:i.h(r.a.OSX.Image,{selected:e===r.a.OSX.value}),description:r.a.OSX.description,selected:r.a.OSX.value===e,horizontal:!0})))),n.length>0&&i.h("div",{class:"nestedStyleguides"},i.h("label",{class:"checkboxContainer"},i.h(o.a,{name:"chooseParent",onChange:this.handleCheckboxChange,checked:t}),i.h("div",{class:"checkboxInfoContainer"},i.h("h5",null,"Create as child styleguide"),i.h("p",null,"Creating as child styleguide will inherit colors, text styles and components from the parent styleguide."))),t&&this.renderStyleguidesPicker())))}}},function(e,t,n){"use strict";var i=n(0);t.a={BASE:{value:"base",label:"Base",description:"For parent styleguides with resources shared between platforms",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}},WEB:{value:"web",label:"Web",description:"Dimensions in px/% CSS and HTML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"nonzero",d:"M122 15h4a2 2 0 0 1 2 2v61a2 2 0 0 1-2 2H14a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h106a2 2 0 0 1 2 2v10zm-2 0V8H14v70h78V43H38a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h54V17a2 2 0 0 1 2-2h26zM92 38H38v4h54v-4zM52 4.5a1 1 0 0 0 0 2h30a1 1 0 0 0 0-2H52zm-37 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM94 20v58h32V20H94zm1-3.5a1 1 0 0 0 0 2h30a1 1 0 1 0 0-2H95zM97 45h26a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H97a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm0 1v4h26v-4H97z"}))}},IOS:{value:"ios",label:"iOS",description:"Dimensions in pt, Objective-C/Swift export, PNG and PDF assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M122 10.162h-2.834a.417.417 0 0 0-.395.395c0 .757-.353 1.392-.888 1.759a1.95 1.95 0 0 1-1.107.34h-13.552c-1.102 0-1.995-.894-1.996-2.1a.417.417 0 0 0-.394-.394H97.57a3.16 3.16 0 0 0-3.159 3.159v61.182a3.16 3.16 0 0 0 3.16 3.159h24.859a3.16 3.16 0 0 0 3.159-3.16V13.322a3.16 3.16 0 0 0-3.16-3.16H122zM117.883 8V6.538l-.003-.465a3.355 3.355 0 0 0-.04-.463 1.528 1.528 0 0 0-.422-.816 1.556 1.556 0 0 0-.822-.418 3.764 3.764 0 0 0-.47-.041H16.134c-.052 0-.316.009-.47.037a1.557 1.557 0 0 0-.822.418 1.528 1.528 0 0 0-.422.816 3.363 3.363 0 0 0-.04.463l-.002.466v67.434s0 .144.002.214c.002.155.012.31.04.463a1.53 1.53 0 0 0 .422.816 1.56 1.56 0 0 0 .822.418c.154.026.31.036.467.04l.47.003h75.797a5.359 5.359 0 0 1-.149-1.256v-40a.25.25 0 0 1-.249-.25V29.75a.25.25 0 0 1 .25-.25v-1.333a.25.25 0 0 1-.25-.25V23.25a.25.25 0 0 1 .25-.25v-2.5a.25.25 0 0 1-.25-.25v-2.167a.25.25 0 0 1 .25-.25v-4.5A5.327 5.327 0 0 1 97.57 8h20.313zM106.25 80H17.33c-.264 0-.52 0-.774-.008a10.139 10.139 0 0 1-1.676-.144 5.593 5.593 0 0 1-1.591-.522A5.306 5.306 0 0 1 10.94 77a5.466 5.466 0 0 1-.528-1.575 12.029 12.029 0 0 1-.144-1.66c0-.262-.009-.514-.009-.767V11.33h-.217a.043.043 0 0 1-.043-.042V6.052c0-.024.02-.043.043-.043h.24c.02-.395.058-.787.13-1.176.102-.556.264-1.07.528-1.576A5.307 5.307 0 0 1 13.289.932a5.593 5.593 0 0 1 1.59-.523 12.383 12.383 0 0 1 1.677-.143c.263 0 .519-.008.774-.008h1.685V.043c0-.024.02-.043.044-.043h4.508c.024 0 .043.02.043.043v.215h.91V.043c0-.024.02-.043.043-.043h4.508c.024 0 .044.02.044.043v.215h85.815c.264 0 .52 0 .775.008.561.008 1.123.042 1.676.143.561.101 1.08.261 1.59.523a5.306 5.306 0 0 1 2.348 2.326c.264.505.426 1.019.528 1.575.093.548.128 1.104.145 1.66 0 .26.008.514.008.767V8h.43a5.327 5.327 0 0 1 5.32 5.333v11.5a.25.25 0 0 1 .25.25v7.5a.25.25 0 0 1-.25.25v41.834A5.327 5.327 0 0 1 122.43 80h-16.18zM12.304 39.47a.648.648 0 0 0-.651.644v.003c0 .356.291.645.651.645.36 0 .652-.289.652-.645v-.003a.648.648 0 0 0-.652-.645zm-.007 2.719a.906.906 0 0 0-.91.901c0 .498.408.901.91.901.503 0 .91-.403.91-.9a.906.906 0 0 0-.91-.902zm0 3.219c-.359 0-.65.288-.65.644 0 .355.291.643.65.643.36 0 .65-.288.65-.643a.647.647 0 0 0-.65-.644zm95.79-34.908a.291.291 0 0 0 0 .583h3.825a.291.291 0 0 0 0-.583h-3.824zm5.654-.25a.541.541 0 1 0 .002 1.082.541.541 0 0 0-.002-1.082zm1.538 66.424a.166.166 0 0 1 0 .333h-10.558a.166.166 0 0 1 0-.333h10.558z"}))}},ANDROID:{value:"android",label:"Android",description:"Dimensions in dp/sp, XML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M103.642 80H16.686c-3.587 0-6.522-2.918-6.522-6.484V19.484c0-3.566 2.935-6.484 6.522-6.484H90.32V4.498C90.32 2.014 92.324 0 94.796 0h28.184c2.472 0 4.475 2.014 4.475 4.498v12.706h.333c.084 0 .151.068.151.152v5.47a.152.152 0 0 1-.151.153h-.333v5.805h.333c.084 0 .151.068.151.152v10.942a.152.152 0 0 1-.151.152h-.333v35.472c0 2.484-2.003 4.498-4.475 4.498h-19.338zm-11.78-67v60.063a1.43 1.43 0 0 0 1.422 1.437H124.462a1.43 1.43 0 0 0 1.42-1.438V6.939a1.43 1.43 0 0 0-1.42-1.438H93.284a1.43 1.43 0 0 0-1.422 1.438V13zm-1.542 3.075H15.576v60.261h74.821c-.05-.27-.077-.55-.077-.834V16.075zm-30.738-1.497a.5.5 0 1 0 1-.001.5.5 0 0 0-1 .001zM54.664 78.34c0 .267.222.499.496.499h9.008a.501.501 0 0 0 .496-.5.503.503 0 0 0-.496-.498H55.16a.501.501 0 0 0-.496.499zM97.971 2.28a.94.94 0 0 0-.937.942c0 .52.42.942.937.942a.94.94 0 0 0 .937-.942.94.94 0 0 0-.937-.942zm3.342.364a.591.591 0 0 0-.59.593c0 .327.264.593.59.593.325 0 .59-.266.59-.593a.591.591 0 0 0-.59-.593zm3.19.061v.213c0 .185.149.334.333.334h8.074c.183 0 .332-.15.332-.334v-.213a.334.334 0 0 0-.332-.334h-8.074a.334.334 0 0 0-.333.334z"}))}},OSX:{value:"osx",label:"macOS",description:"Dimensions in pt, Objctive-C/Swift export, PNG and PDF assets.",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}}}},function(e,t){},function(e,t,n){"use strict";var i=n(1215);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(71),a=n(33);t.a=function(e){const{parentStyleguideType:t,childStyleguideType:n,onCreateAnyway:o,onCreateWithParentType:r,onClose:l}=e,c=a.d[n],d=a.d[t];return i.h(s.a,{class:"differentTypeDialog",onPositiveButtonClick:r,onFallbackButtonClick:o,onClose:l,positiveButtonText:`CREATE AS ${d.toUpperCase()}`,negativeButtonText:"CANCEL",fallbackButtonText:"CREATE ANYWAY",hideNegativeButton:!1,width:484,title:`Create ${c} child styleguide from ${d} parent styleguide?`,message:"Creating child styleguide with a different platform-specific type from its parent styleguide is not recommended."})}},function(e,t,n){"use strict";var i=n(1217);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(27),o=n(1218);n.n(o);const r=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd",transform:"translate(74)"},i.h("rect",{width:"80",height:"40",x:"114",fill:"#EDECED",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"56",y:"64",fill:"#EDECED",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#EDECED","stroke-width":"2",d:"M96 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#EDECED","fill-rule":"nonzero",d:"M153 40h2v12h-2z"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"136.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"126.314",y:"31"},"Styleguide")),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"82.494",y:"81"},"Child")," ",i.h("tspan",{x:"68.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"172",y:"64",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"198.494",y:"81"},"Child")," ",i.h("tspan",{x:"184.314",y:"95"},"Styleguide")),i.h("path",{fill:"#C1BEC1",d:"M209.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M266.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M351.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M104.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M23.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045a39.26 39.26 0 0 0 1.494-1.457c.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"12.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"172",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"184.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")))),l={title:"This is where you manage your design system. 🎨",description:"Styleguides allow you organize your colors, text styles and components. If you have a common styleguide feeding multiple projects, you can create a shared styleguide and link it to your projects to reference them.",primaryButtonLabel:i.h("strong",null,"Looks like you’re a part of an organization:"),primaryButtonText:"Check out {{organizationName}}'s space",primaryButtonSubLabel:"You can always switch between workspaces from the top."},c={title:"Curate your design system 🍡",description:i.h("span",null,"Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides.")},d={COMMON_PLAN:Object.assign({},c,{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first styleguide:"),primaryButtonText:"Create a styleguide"}),COMMON_PLAN_ORGANIZATION_MEMBER:Object.assign({},l,{secondaryButtonLabel:i.h("strong",null,"Let's start by creating your first styleguide:"),secondaryButtonText:"Create a styleguide"}),COMPANY_PLAN:Object.assign({},c,{primaryButtonLabel:"You’re on the deprecated Company plan where styleguides are not supported. We're sunsetting this plan soon, please update your plan or contact us at support@zeplin.io.",primaryButtonText:"See plans"}),COMPANY_PLAN_ORGANIZATION_MEMBER:Object.assign({},l,{secondaryButtonLabel:"You’re on the deprecated Company plan where styleguides are not supported. We're sunsetting this plan soon, please update your plan or contact us at support@zeplin.io.",secondaryButtonText:"See plans"}),ORGANIZATION_NO_CREATE_PERMISSION:Object.assign({},c,{primaryButtonLabel:i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank",rel:"noopener"},"Learn more…"))})};t.a=class extends i.Component{getLabelsAndHandlers(){const{selectedOrganizationId:e,canCreateStyleguide:t}=this.context,{hasCompanyPlan:n,hasFreePlan:s,availableOrganization:o,onOpenPlanChooserOverlay:r,onCreate:l,onCheckoutOrganization:c}=this.props;if("user"===e){let e;return n?e={labels:d[`COMPANY_PLAN${o?"_ORGANIZATION_MEMBER":""}`],[o?"onSecondaryButtonClick":"onPrimaryButtonClick"]:r}:(e={labels:d[`COMMON_PLAN${o?"_ORGANIZATION_MEMBER":""}`],[o?"onSecondaryButtonClick":"onPrimaryButtonClick"]:l},s&&!a.a.isWindowsApp&&(e={labels:Object.assign({},e.labels,{[o?"secondaryButtonLabel":"primaryButtonLabel"]:i.h("span",null,"Download ",i.h("a",{href:"https://zpl.io/download-mac",target:"_blank"},"macOS")," or ",i.h("a",{href:"https://zpl.io/download-windows-64",target:"_blank"},"Windows")," app to create a styleguide and export resources.")})})),o&&(e=Object.assign({},e,{labels:Object.assign({},e.labels,{primaryButtonText:e.labels.primaryButtonText.replace("{{organizationName}}",o.name)}),onPrimaryButtonClick:()=>c(o._id)})),e}return t?{labels:d.COMMON_PLAN,onPrimaryButtonClick:l}:{labels:d.ORGANIZATION_NO_CREATE_PERMISSION}}render(){const{labels:e,onPrimaryButtonClick:t,onSecondaryButtonClick:n}=this.getLabelsAndHandlers();return i.h("div",{class:"noStyleguidesScrollContainer"},i.h("div",{class:"noStyleguides"},i.h("h1",null,e.title),i.h("p",{class:"description"},e.description),r,i.h("div",{class:"buttonContainer"},i.h("p",{class:"primaryButtonLabel"},e.primaryButtonLabel),t&&i.h(s.a,{onClick:t,primary:!0},e.primaryButtonText),i.h("p",{class:"primaryButtonSubLabel"},e.primaryButtonSubLabel)),n&&i.h("div",{class:"buttonContainer"},i.h("p",{class:"secondaryButtonLabel"},e.secondaryButtonLabel),i.h(s.a,{onClick:n,secondary:!0},e.secondaryButtonText))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1220);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(6),a=n(3),o=n(1221);n.n(o);class r extends i.Component{constructor(...e){var t;return t=super(...e),this.inputName=Object(s.e)(),this.handleTabChange=((e,t)=>{this.props.onChange&&this.props.onChange(e)}),t}get tabs(){return i.toChildArray(this.props.children)}renderTabContent(){const{selectedTab:e}=this.props;return i.h("div",{class:"tabContent",key:"tabContent"},this.tabs.find(t=>t.props.value===e).props.children)}renderTabs(){const{selectedTab:e}=this.props;return this.tabs.map(t=>i.cloneElement(t,{name:this.inputName,selected:t.props.value===e,onChange:this.handleTabChange,key:t.props.value}))}render(){const{baseRef:e}=this.props;return i.h("div",{class:"tabView",ref:e},i.h("div",{class:"tabs"},this.renderTabs(),i.h("hr",null)),this.renderTabContent())}}r.Tab=class extends i.Component{constructor(...e){var t;return t=super(...e),this.handleChange=(e=>{e.stopPropagation();const{value:t,onChange:n}=this.props;n(t)}),t}render(){const{label:e,name:t,value:n,selected:s}=this.props,o=Object(a.a)("tab","noSelect",{selected:s});return i.h("label",{class:o},e,i.h("input",{type:"radio",name:t,value:n,checked:s,onChange:this.handleChange}))}},t.a=r},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1224);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(10),a=n(1225),o=n(1234),r=n(1384),l=n(1611),c=n(1734),d=n(1746),u=n(1760),h=n(31),p=n(286),g=n(35),m=n(153),f=n(57),b=n(58),y=n(74),S=n(26),v=n(14),C=n(1768);n.n(C);t.a=Object(y.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.handleKeyDown=(e=>{if(Object(S.i)(e.target))return;const{barrelType:t}=this.state;if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyA:case Zeplin.KEY_CODE.KeyD:t===s.a.PROJECT&&(e.preventDefault(),e.stopPropagation(),h.b.goToDashboard());break;case Zeplin.KEY_CODE.KeyS:t===s.a.PROJECT&&(e.preventDefault(),e.stopPropagation(),h.b.goToStyleguide());break;case Zeplin.KEY_CODE.KeyE:e.preventDefault(),e.stopPropagation(),h.b.openExtensionSettings();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),h.b.openJumpToPopup();break;case Zeplin.KEY_CODE.KeyR:e.shiftKey&&(e.preventDefault(),e.stopPropagation(),p.a.reloadLocalExtensions())}}),t}static calculateState(){const e=h.e.getState(),{loading:t,selectedView:n}=e,i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["loading","selectedView"]);if(t)return{loading:!0,selectedView:n};const{organizationId:s}=i,{name:a}=g.d.getOrganization()||{},o=h.d.getBarrel(),{tagManagerScreenId:r}=m.f.getState();return Object.assign({loading:!1,organizationName:a,organizationId:s,barrel:o,selectedView:n,tagManagerScreenId:r},i)}static getStores(){return[h.e,g.e,m.f,f.c,b.c]}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{shortlinks:e}=this.state;return{shortlinks:e,screenContainerRef:this.nodeRefs&&this.nodeRefs.screenContainer,styleguideContainerRef:this.nodeRefs&&this.nodeRefs.styleguideContainer}}renderContent(){const{barrelType:e,selectedView:t}=this.state;return e===s.a.STYLEGUIDE||"styleguide"===t?i.h(l.a,{baseRef:Object(v.a)(this,"styleguideContainer")}):"screen"===t?i.h(r.a,{baseRef:Object(v.a)(this,"screenContainer")}):"dashboard"===t?i.h(o.a,null):null}renderJumpToScreen(){const{barrel:e,loading:t,jumpToPopupOpen:n}=this.state;if(t||!n)return null;const{integration:{jira:s={}}={}}=e;return i.h(a.a,{screenList:e.screens,sectionList:e.sections,jiraAttachmentList:s.attachments,onJumpToScreen:m.c.openScreen,onClose:h.b.closeJumpToPopup})}renderTagManager(){const{tagManagerScreenId:e}=this.state;return e?i.h(d.a,null):null}render(){const{extensionDialogOpen:e}=this.state;return i.h("main",{key:"barrel",class:"barrelContainer"},this.renderContent(),this.renderJumpToScreen(),e&&i.h(c.a,null),this.renderTagManager(),i.h(u.a,null))}},{pure:!1})},function(e,t,n){"use strict";var i=n(1226);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1),r=n(6),l=n(14),c=n(1227),d=n(454),u=n(1233);n.n(u);function h({screenList:e,sectionList:t,jiraAttachmentList:n}){if(!n)return e;const i=Object(d.a)(t);return e.map(e=>{const t=n.filter(t=>"screen"===t.type&&t.itemId===e._id),s=n.filter(t=>"section"===t.type&&t.itemId===i[e._id]);return Object.assign({},e,{jiraAttachments:[...t,...s]})})}class p extends i.Component{constructor(...e){var t;return t=super(...e),this.state={filter:""},this.screenListWithJira=h(this.props),this.getSuggestionList=(()=>{const e=this.state.filter.toLowerCase();if(""===e)return this.screenListWithJira.slice(0).sort(o.H.name);let t=[],n=[],i=[],s=[],a=[];return this.screenListWithJira.forEach(o=>{let l=o.name.toLowerCase();const c=o.tags&&o.tags.find(t=>t.toLowerCase().includes(e)),d=o.jiraAttachments&&o.jiraAttachments.find(t=>t.issueKey&&t.issueKey.toLowerCase().includes(e));l.startsWith(e)?t.push(o):Object(r.a)(l,e)?n.push(o):c?i.push(Object.assign({tag:c},o)):d?s.push(Object.assign({attachedJira:d.issueKey},o)):l.includes(e)&&a.push(o)}),t.sort(o.H.name).concat(n.sort(o.H.name)).concat(i.sort(o.H.name)).concat(s.sort(o.H.name)).concat(a.sort(o.H.name))}),this.handleInputChange=(e=>{this.setState({filter:e.target.value})}),this.handleKeyDown=(e=>{e.stopPropagation();const{onClose:t}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC&&t()}),t}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),this.nodeRefs.input.focus()}componentWillReceiveProps(e){this.screenListWithJira=h(e)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{filter:e}=this.state,{onJumpToScreen:t,onClose:n}=this.props,s=this.getSuggestionList();return i.h("div",{class:"jumpToScreenContainer",onClick:n},i.h("div",{class:"jumpToScreen",onClick:o.J},i.h("div",{class:"searchTextContainer"},i.h("input",{value:e,class:"screenSearchText",placeholder:"Jump to Screen",onInput:this.handleInputChange,ref:Object(l.a)(this,"input")}),s.length?null:i.h("span",{class:"shrug"},"¯\\_(ツ)_/¯")),i.h(c.a,{screenList:s,onJumpToScreen:t})))}}p.propTypes={screenList:a.a.array.isRequired,sectionList:a.a.array.isRequired,jiraAttachmentList:a.a.array.isRequired,onJumpToScreen:a.a.func.isRequired,onClose:a.a.func.isRequired},t.a=p},function(e,t,n){"use strict";var i=n(1228);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1229),a=n(1),o=n(26),r=n(14),l=n(1232);n.n(l);class c extends i.Component{constructor(e){super(e),this.state={selectedScreenIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this)}handleSuggestionMouseEnter(e){this.mouseActive&&this.setState({selectedScreenIndex:e})}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){this.lastX===e.clientX&&this.lastY===e.clientY||(this.lastX=e.clientX,this.lastY=e.clientY,this.mouseActive=!0)}handleKeyDown(e){const{selectedScreenIndex:t}=this.state;if(e.keyCode===Zeplin.KEY_CODE.ArrowUp)e.preventDefault(),0!==t&&this.setState({selectedScreenIndex:t-1});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown)e.preventDefault(),t!==this.props.screenList.length-1&&this.setState({selectedScreenIndex:t+1});else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onJumpToScreen:n,screenList:i}=this.props;i[t]&&n(i[t]._id)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(a.a)(e.screenList,this.props.screenList,(e,t)=>e.name===t.name&&e.tag===t.tag)||this.setState({selectedScreenIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedScreen&&(this.mouseActive=!1,Object(o.m)(this.nodeRefs.selectedScreen.base))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{screenList:e,onJumpToScreen:t}=this.props,{selectedScreenIndex:n}=this.state;return i.h("div",{class:"suggestedScreenListContainer",onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter},e.map((e,a)=>{let o;return n===a&&(o=Object(r.a)(this,"selectedScreen")),i.h(s.a,{key:e._id,screenId:e._id,screenName:e.name,filterTag:e.tag,filterJiraAttachment:e.attachedJira,screenIndex:a,selected:n===a,ref:o,onClick:t,onMouseEnter:this.handleSuggestionMouseEnter})}))}}c.defaultProps={screenList:[]},t.a=c},function(e,t,n){"use strict";var i=n(1230);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(100),a=n(3),o=n(1231);n.n(o);t.a=class extends s.a{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{screenId:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{screenIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{screenName:e,filterTag:t,filterJiraAttachment:n,selected:s}=this.props;return i.h("button",{class:Object(a.a)("screenSuggestion",{selected:s}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"screenName ellipsis"},e),t?i.h("div",{class:"tagName ellipsis"},t):null,n?i.h("div",{class:"tagName ellipsis"},n):null)}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1235);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(454),a=n(8),o=n(26),r=n(14),l=n(89),c=n(5),d=n(1236),u=n(706),h=n(684),p=n(31),g=n(307),m=n(57),f=n(153),b=n(705),y=n(60),S=n(74),v=n(1382),C=n(1383);n.n(C);t.a=Object(v.a)(Object(S.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.handleFilter=(e=>{const{barrel:{id:t}}=this.state;l.a.history.replace(Object(a.j)("project-dashboard",{url:{pid:t},query:{q:e}}))}),this.handleJiraIssueSelectionChange=(e=>{const{barrel:{id:t},jiraIssueFilter:n}=this.state,i=n.includes(e)?n.filter(t=>t!==e):[...n,e];mixpanel.master.track("Filtered by Jira issue"),l.a.history.replace(Object(a.j)("project-dashboard",{url:{pid:t},query:{ja:i}}))}),this.handleResetJiraIssuesClick=(()=>{const{barrel:{id:e}}=this.state;l.a.history.replace(Object(a.j)("project-dashboard",{url:{pid:e}}))}),this.handleTagClick=((e,t)=>{const{barrel:{id:n},tagFilter:i,jiraIssueFilter:s}=this.state,o=i.tags.includes(e);let r,c;e?(r=[e],c=!1,o&&(r=i.tags.filter(t=>t!==e),c=!1),t&&!o&&(r=i.tags.concat(e),c=!1)):(r=[],c=!i.untagged);const d=Object.assign({ja:s},c?{untagged:!0}:{tag:r});l.a.history.replace(Object(a.j)("project-dashboard",{url:{pid:n},query:d}))}),this.handleResetTagsClick=(()=>{const{barrel:{id:e}}=this.state;l.a.history.replace(Object(a.j)("project-dashboard",{url:{pid:e}}))}),this.handleConvertTagToSection=(e=>{g.a.convertTagToSection({tag:e})}),this.handleGenerateTagShortlink=(e=>{const{barrel:{id:t}}=this.state,n=Object(a.j)("project-dashboard",{url:{pid:t},query:{tag:e}});g.a.generateShortlink(n)}),this.handleCopyTagWebURL=(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n},shortlinks:i}=this.state,s=Object(a.j)("project-dashboard",{url:{pid:n},query:{tag:e}});Object(o.c)({content:i[s]||s,toastContainer:t})}),this.handleCopyTagAppURI=(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${c.L}//project?pid=${n}&tag=${e}`;Object(o.c)({content:i,toastContainer:t})}),this.handleDeleteTag=(e=>{f.c.removeTag({tag:e,syncWithApi:!0})}),this.handleCopySectionWebURL=(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n},shortlinks:i}=this.state,s=Object(a.j)("project",{url:{bid:n},query:{seid:e}});Object(o.c)({content:i[s]||s,toastContainer:t})}),this.handleCopySectionAppURI=(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${c.L}//project?pid=${n}&seid=${e}`;Object(o.c)({content:i,toastContainer:t})}),this.handleCopyScreenWebURL=(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n},shortlinks:i}=this.state,s=Object(a.j)("project-screen",{url:{pid:n,sid:e}});Object(o.c)({content:i[s]||s,toastContainer:t})}),this.handleCopyScreenAppURI=(e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${c.L}//screen?pid=${n}&sid=${e}`;Object(o.c)({content:i,toastContainer:t})}),this.handleKeyDown=(e=>{Object(o.i)(e.target)||e.keyCode===Zeplin.KEY_CODE.KeyT&&e.altKey&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),g.a.toggleFixedThumbnailSize())}),t}static calculateState(){const{loading:e,loadingJoin:t}=p.e.getState();if(e)return{loading:e};const n=p.d.getBarrel(),i=p.d.findUser(),{userId:s}=y.b.getState(),a=n.users.some(({user:e})=>e._id===s);if(n.partial||!a)return{loading:e,loadingJoin:t,barrel:n,isUserJoined:a};const o=g.b.getState(),{highlightedScreens:r}=o,l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(o,["highlightedScreens"]),{open:c}=b.b.getState();let d=1/0,u=null;const h=f.e.getVisibleScreens();return r.forEach(e=>{const t=h.findIndex(t=>t._id===e);-1!==t&&t<d&&(d=t,u=e)}),Object.assign({loading:e,loadingJoin:t,firstHighlightedScreen:u,highlightedScreens:r,moveResourcesPopupOpen:c,barrel:n,barrelUser:i,isUserJoined:a},l)}static getStores(){return[p.e,g.b,b.b,m.c,y.b]}get toastContainer(){return this.nodeRefs.dashboardContainer}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e}=this.state;if(e)return{};const{barrel:{id:t,type:n}}=this.state;return{barrelId:t,projectId:t,projectType:n}}render(){const{loading:e,loadingJoin:t,isUserJoined:n,barrel:a,barrelUser:o,sortType:l,filterValue:c,fixedThumbnailSize:m,sidebarWidth:f,tagFilter:b,jiraIssueFilter:y,collapsedSections:S,firstHighlightedScreen:v,highlightedScreens:C,highlightedSection:E,moveResourcesPopupOpen:O}=this.state;if(e)return i.h("div",{class:"dashboardContainer"},i.h(d.a.Loading,null),i.h(u.a,null));if(a.partial||!n)return i.h(h.a,{projectData:a,loadingJoin:t,requiredMinimumPadding:96,defaultPadding:108,hideJoinButton:!1,headerSticky:!0,onJoin:p.b.join});const{sortedSections:T,visibleTags:k}=Object(s.b)(a,l,{filterValue:c,tagFilter:b,jiraIssueFilter:y}),D=a&&a.integration?a.integration.jira:null,_=D&&D.attachments?Array.from(D.attachments.reduce((e,t)=>("project"!==t.type&&e.add(t.issueKey),e),new Set)):[];return i.h("div",{class:"dashboardContainer",ref:Object(r.a)(this,"dashboardContainer")},i.h(d.a,{componentRef:Object(r.a)(this,"projectOverview","componentRefs"),project:a,containerSelector:".projectOverview",userRole:o.role,fixedThumbnailSize:m,collapsedSections:S,sortedSections:T,visibleTags:k,filterValue:c,sortType:l,jiraIssueList:_,selectedJiraIssues:y,firstHighlightedScreen:v,highlightedScreens:C,highlightedSection:E,tagFilter:b,moveResourcesPopupOpen:O,onSort:g.a.changeSortType,onFilter:this.handleFilter,onJiraIssueSelectionChange:this.handleJiraIssueSelectionChange,onResetJiraIssuesClick:this.handleResetJiraIssuesClick,onTagClick:this.handleTagClick,onOpenTagContextMenu:this.handleGenerateTagShortlink,onConvertTagToSection:this.handleConvertTagToSection,onCopyTagWebURL:this.handleCopyTagWebURL,onCopyTagAppURI:this.handleCopyTagAppURI,onCopySectionWebURL:this.handleCopySectionWebURL,onCopySectionAppURI:this.handleCopySectionAppURI,onCopyScreenWebURL:this.handleCopyScreenWebURL,onCopyScreenAppURI:this.handleCopyScreenAppURI,onDownloadScreensOfTag:g.a.downloadScreensOfTag,onDeleteTag:this.handleDeleteTag,onResetTagsClick:this.handleResetTagsClick,onExpandSection:g.a.expandSection,onCollapseSection:g.a.collapseSection}),i.h(u.a,{width:f,onRelease:g.a.changeSidebarWidth}))}},{pure:!1}))},function(e,t,n){"use strict";var i=n(1237);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1238),a=n(694),o=n(1),r=n(14),l=n(1239),c=n(471),d=n(1277),u=n(540),h=n(1282),p=n(1285),g=n(1288),m=n(1300),f=n(1323),b=n(1326);n.n(b);const y=[{label:"Sections",value:"default"},{label:"Last updated",value:"lastUpdated"},{label:"Name",value:"name"}];function S(e){const{canManageScreens:t}=e;return i.h("div",{class:"projectOverviewTagsEmpty"},i.h("span",null,"Tags:"),t?i.h("span",null,"Organize your screens using tags. Right click a screen to add one!"):i.h("span",null,"Organization ",Object(o.w)("rook"),"s or higher can organize screens using tags."))}const v=Object(s.a)(class extends i.Component{constructor(e){super(e),this.state={dragging:!1},this.handleStartDrag=this.handleStartDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this)}highlightSectionDescription(e){this.componentRefs.dashboardSections.highlightSectionDescription(e)}highlightSectionName(e){this.componentRefs.dashboardSections.highlightSectionName(e)}isFilterActive(){return!!this.props.filterValue}isSortActive(){return"default"!==this.props.sortType}isTagFilterActive(){const{tagFilter:e}=this.props;return e.tags.length>0||e.untagged}isJiraIssueFilterActive(){const{selectedJiraIssues:e}=this.props;return e.length>0}handleStartDrag(){this.setState({dragging:!0})}handleEndDrag(){this.setState({dragging:!1})}getChildContext(){return{projectOverviewDragging:this.state.dragging,filterActive:this.isFilterActive(),sortActive:this.isSortActive(),tagFilterActive:this.isTagFilterActive(),jiraIssueFilterActive:this.isJiraIssueFilterActive()}}componentDidUpdate(e){this.props.project.id!==e.project.id&&a.a.clear()}renderTags(){const{project:e,tagFilter:t,filterValue:n,visibleTags:s,onTagClick:a,onOpenTagContextMenu:o,onConvertTagToSection:r,onCopyTagWebURL:l,onCopyTagAppURI:c,onDownloadScreensOfTag:d,onDeleteTag:u}=this.props,{canManageScreens:h}=this.context,p=!!n;return e.tags.length?i.h("div",{class:"projectOverviewTags"},s.map(n=>i.h(f.a,{key:n,tag:n,disabled:p,contextMenuDisabled:!h,selected:t.tags.includes(n),canCreateSectionFromTag:function(e,t){const n=e.screens.filter(e=>e.tags&&e.tags.includes(t));return 0!==n.length&&n.every(t=>{const n=e.findScreenSection(t._id);return e.isDefaultSection(n._id)})}(e,n),onClick:a,onOpenContextMenu:o,onCopyWebURL:l,onCopyAppURI:c,onDownloadScreenImages:d,onConvertToSection:r,onDelete:u})),i.h(f.a,{untagged:!0,disabled:p,selected:t.untagged,onClick:a})):i.h(S,{canManageScreens:h})}render(){const{canManageScreens:e}=this.context,{project:t,sortedSections:n,userRole:s,containerSelector:a,fixedThumbnailSize:o,filterValue:p,sortType:f,jiraIssueList:b,selectedJiraIssues:S,tagFilter:v,collapsedSections:C,firstHighlightedScreen:E,highlightedScreens:O,highlightedSection:T,moveResourcesPopupOpen:k,onFilter:D,onSort:_,onJiraIssueSelectionChange:w,onExpandSection:j,onCollapseSection:R,onCopySectionWebURL:I,onCopySectionAppURI:A,onCopyScreenWebURL:x,onCopyScreenAppURI:P,onResetJiraIssuesClick:L,onResetTagsClick:N}=this.props,{dragging:U}=this.state;if(!t.screens||!t.screens.length)return i.h(m.a,null);const M=this.isFilterActive()||this.isSortActive()||this.isTagFilterActive()||this.isJiraIssueFilterActive(),B=!e||M;return i.h("div",{class:"projectOverview"},i.h(c.c,{noScroll:k,itemsClass:"projectOverviewDragDropItems",onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,disabled:B},i.h(u.a,{inputPlaceholder:"Search for a screen",placeholderWidth:128,sortOptions:y,filterValue:p,selectedSortType:f,onSort:_,onJiraIssueSelectionChange:w,jiraIssueList:b,selectedJiraIssues:S,onFilter:D,disabled:U}),this.renderTags(),n.length?[i.h(l.a,{key:"dasboardSections",ref:Object(r.a)(this,"dashboardSections","componentRefs"),collapsedSections:C,firstHighlightedScreen:E,highlightedScreens:O,highlightedSection:T,filterValue:p,fixedThumbnailSize:o,onExpandSection:j,onCollapseSection:R,onCopySectionWebURL:I,onCopySectionAppURI:A,onCopyScreenWebURL:x,onCopyScreenAppURI:P,sections:n,userRole:s,projectThumbnail:t.thumbnail,projectId:t.id,containerSelector:a}),k&&i.h(g.a,{key:"moveResourcesContainer"})]:i.h(d.a,{tags:v.tags,selectedJiraIssues:S,untagged:v.untagged,onResetJiraIssuesClick:L,onResetTagsClick:N})),i.h(h.a,null))}});v.Loading=p.a,t.a=v},function(e,t,n){"use strict";var i=n(0),s=n(1);t.a=function(Component){return class extends i.Component{getChildContext(){const{userRole:e}=this.props;if(!e)return null;const t={role:e};return{canUpdateProject:s.C.canUpdateProject(t),canManageScreens:s.C.canManageScreens(t),canMoveScreens:s.C.canMoveScreens(t)}}render(){const e=Object.assign({},this.props);return delete e.componentRef,i.h(Component,Object.assign({},e,{ref:this.props.componentRef}))}}}},function(e,t,n){"use strict";var i=n(1240);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1241),a=n(100),o=n(14);t.a=class extends a.a{highlightSectionDescription(e){const t=this.componentRefs[e];t&&t.highlightDescription()}highlightSectionName(e){const t=this.componentRefs[e];t&&t.highlightName()}render(){const{sections:e,projectThumbnail:t,fixedThumbnailSize:n,projectId:a,containerSelector:r,filterValue:l,collapsedSections:c,firstHighlightedScreen:d,highlightedScreens:u,highlightedSection:h,onExpandSection:p,onCollapseSection:g,onCopySectionWebURL:m,onCopySectionAppURI:f,onCopyScreenWebURL:b,onCopyScreenAppURI:y}=this.props;return i.h("div",{class:"projectOverviewSections"},e.map((e,S)=>i.h(s.a,{index:S,ref:Object(o.a)(this,e._id,"componentRefs"),id:e._id,key:e.key||e._id,name:e.name,collapsed:!!e.screens.length&&c[e._id],fixedThumbnailSize:n,firstHighlightedScreen:d,highlightedScreens:u,highlightedSection:h,onExpand:p,onCollapse:g,onCopySectionWebURL:m,onCopySectionAppURI:f,onCopyScreenWebURL:b,onCopyScreenAppURI:y,filterValue:l,actionsDisabled:e.actionsDisabled,screens:e.screens,description:e.description,containerSelector:r,projectThumbnail:t,projectId:a,defaultSection:"default"===e.type})))}}},function(e,t,n){"use strict";var i=n(1242);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(8),o=n(14),r=n(6),l=n(642),c=n(285),d=n(643),u=n(695),h=n(1256),p=n(703),g=n(1276);n.n(g);class m extends i.Component{constructor(e){super(e),this.state={addingDescription:!1},this.generateShortlink=this.generateShortlink.bind(this),this.highlightDescription=this.highlightDescription.bind(this),this.highlightName=this.highlightName.bind(this),this.handleRenameSectionClick=this.handleRenameSectionClick.bind(this),this.handleAddDescriptionClick=this.handleAddDescriptionClick.bind(this),this.handleEditDescriptionClick=this.handleEditDescriptionClick.bind(this),this.handleCopyWebURL=this.handleCopyWebURL.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDownloadScreenImagesClick=this.handleDownloadScreenImagesClick.bind(this),this.handleMoveScreenClick=this.handleMoveScreenClick.bind(this),this.handleMoveSectionClick=this.handleMoveSectionClick.bind(this),this.handleDeleteClick=this.handleDeleteClick.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleDescriptionBlur=this.handleDescriptionBlur.bind(this),this.handleDrop=this.handleDrop.bind(this),this.renderOptionsMenu=this.renderOptionsMenu.bind(this),this.handleScreenThumbnailRef=this.handleScreenThumbnailRef.bind(this),this.getScreenThumbnailRef=this.getScreenThumbnailRef.bind(this)}highlightDescription(){this.componentRefs.section.highlightDescription()}highlightName(){this.componentRefs.section.highlightName()}generateShortlink(){const{projectId:e,id:t}=this.props,n=Object(a.j)("project",{url:{bid:e},query:{seid:t}});c.a.generateShortlink(n)}getScreenThumbnailRef(e){return this.nodeRefs&&this.nodeRefs[`screenThumbnail-${e}`]}handleEditDescriptionClick(e){e.stopPropagation(),this.highlightDescription()}handleAddDescriptionClick(e){e.stopPropagation(),this.setState({addingDescription:!0})}handleRenameSectionClick(e){e.stopPropagation(),this.highlightName()}handleCopyWebURL(e){e.stopPropagation();const{id:t,onCopySectionWebURL:n}=this.props;n(t)}handleCopyAppURI(e){e.stopPropagation();const{id:t,onCopySectionAppURI:n}=this.props;n(t)}handleDownloadScreenImagesClick(e){e.stopPropagation(),c.a.downloadScreensOfSection(this.props.id)}handleDeleteClick(e){e.stopPropagation();const{id:t}=this.props;c.a.removeSection({seid:t,syncWithApi:!0})}handleMoveScreenClick(e,t){d.a.open({targetNode:t,resourceId:e,resourceType:"screen"})}handleMoveSectionClick(e){e.stopPropagation();const{id:t}=this.props;d.a.open({targetNode:this.nodeRefs.optionsButton,resourceId:t,resourceType:"section"})}handleNameBlur({discard:e,value:t}){const{id:n,name:i}=this.props;if(e)return void(n.startsWith("newSection")?c.a.removeSection({seid:n}):c.a.renameSection({seid:n,name:i}));const s=t.trim();if(n.startsWith("newSectionFromSplit"))c.a.createSection({seid:n,name:s});else if(i!==s){if(s===i)return;c.a.renameSection({seid:n,name:s,syncWithApi:!0,onError:this.highlightName})}}handleDescriptionBlur({discard:e,value:t}){this.state.addingDescription&&this.setState({addingDescription:!1});const{id:n,description:i}=this.props;if(e)return void c.a.updateSectionDescription({seid:n,description:i});const s=t.trim();s!==i&&c.a.updateSectionDescription({seid:n,description:s,syncWithApi:!0,onError:this.highlightDescription})}handleDrop(e,t,n){t!==n&&c.a.updateSectionOrder({seid:e,index:n,syncWithApi:!0})}handleScreenThumbnailDropToSection(e,t){c.a.updateScreenOrder({screens:[e],targetSectionId:t,syncWithApi:!0})}handleScreenThumbnailRef(e,t){Object(o.a)(this,`screenThumbnail-${e}`)(t)}componentDidMount(){const{id:e}=this.props;e.startsWith("newSectionFromSplit")&&this.highlightName()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription()}renderOptionsMenu(){const{description:e,screens:t}=this.props,{canManageScreens:n,canMoveScreens:a}=this.context,o=e?i.h(p.a.Item,{onClick:this.handleEditDescriptionClick},"Edit description"):i.h(p.a.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(p.a,{onOpen:this.generateShortlink,onMouseDown:s.J},n&&[o,i.h(p.a.Item,{key:"renameSection",onClick:this.handleRenameSectionClick},"Rename section"),i.h(p.a.ItemDivider,{key:"renameDivider"})],i.h(p.a.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(p.a.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),!!t.length&&[i.h(p.a.ItemDivider,{key:"downloadDivider"}),i.h(p.a.Item,{key:"downloadScreens",onClick:this.handleDownloadScreenImagesClick},"Download all screen images")],(n||a)&&i.h(p.a.ItemDivider,null),a&&!!t.length&&i.h(p.a.Item,{onClick:this.handleMoveSectionClick},"Move section to project…"),n&&i.h(p.a.Item,{onClick:this.handleDeleteClick,warning:!0},"Delete section"))}render(){const{id:e,name:t,index:n,description:s,defaultSection:a,projectLastUpdated:d,projectThumbnail:p,fixedThumbnailSize:g,projectId:m,screens:f,containerSelector:b,actionsDisabled:y,filterValue:S,collapsed:v,firstHighlightedScreen:C,highlightedScreens:E,highlightedSection:O,forceExpand:T,onExpand:k,onCollapse:D,onCopyScreenWebURL:_,onCopyScreenAppURI:w}=this.props;if(a&&!f.length)return null;const{addingDescription:j}=this.state,{canManageScreens:R}=this.context,I=T||E.some(e=>f.find(({_id:t})=>t===e)),A=`${Object(r.g)(f.length,"screen")} collapsed`,x=this.renderOptionsMenu(),P=j?l.a:s,L=e===O;return i.h(u.a,{type:l.b,optionsButtonRef:Object(o.a)(this,"optionsButton"),componentRef:Object(o.a)(this,"section","componentRefs"),index:n,onExpand:k,onCollapse:D,collapsed:v,emptyText:"No screens",empty:!f.length,forceExpand:I,class:"dashboardSection",headerClass:"dashboardSectionHeader",id:e,name:t,description:P,defaultSection:a,countInfoText:A,highlight:L,onDescriptionBlur:this.handleDescriptionBlur,onNameBlur:this.handleNameBlur,onHighlightEnd:c.a.unhighlightSection,actionsDisabled:y,readOnly:!R,optionsMenu:x,onScreenThumbnailDrop:this.handleScreenThumbnailDropToSection,onDrop:this.handleDrop},i.h("div",{class:"dashboardScreenGrid"},f.map((t,n)=>{const{snapshot:s}=t.versions[0],o=t.updated||d,r=p===s.url,l=t.tags&&0!==t.tags.length,c=C===t._id,u=E.includes(t._id),y=f[n-1],v=f[n+1];return i.h(h.a,{id:t._id,projectId:m,leftScreenId:y&&y._id,rightScreenId:v&&v._id,key:g?`fixed-${t._id}`:t._id,screenThumbnailRef:this.handleScreenThumbnailRef,index:n,sectionId:e,scroll:c,highlight:u,hideLeftSectionDivider:0===n&&!a,hideRightSectionDivider:n===f.length-1,filterValue:S,class:"dashboardScreen",hasTag:l,updated:o,isProjectThumbnail:r,fixedSize:g,containerSelector:b,name:t.name,snapshotWidth:s.width,snapshotHeight:s.height,screenImageUrl:s.url,onCopyWebURL:_,onCopyAppURI:w,onMoveClick:this.handleMoveScreenClick,getScreenThumbnailRef:this.getScreenThumbnailRef})})))}}m.defaultProps={highlightedScreens:[]},t.a=m},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var i=n(0),s=n(14),a=n(375),o=n(471),r=n(43),l=n(3),c=n(1),d=n(698),u=n(1253),h=(n.n(u),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});const p=12,g=-36,m=60;class f extends i.Component{constructor(e){super(e),this.state={hasHover:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}highlightName(){this.componentRefs.nameInput.highlight()}highlightDescription(){this.componentRefs.descriptionInput.highlight()}handleMouseEnter(){this.setState({hasHover:!0})}handleMouseLeave(){this.setState({hasHover:!1})}handleBaseRef(e){Object(s.a)(this,"header")(e),this.props.baseRef(e)}componentDidUpdate(e){if(this.props.optionsMenu&&!e.optionsMenu){const{contextMenu:e,header:t}=this.nodeRefs,{topPadding:n}=this.props;!function(e,t,n=m){const i=e.getBoundingClientRect(),s=window.innerHeight;if(i.bottom+p>s)e.style.top=`${s+g-i.bottom-p}px`;else if(i.top-n-p<0){const i=t.querySelector("div:first-child").getBoundingClientRect().top;e.style.top=`${p+n-i}px`}}(e,t,n)}}renderMenu(){const{optionsMenu:e,onHideOptionsMenu:t}=this.props,n=i.cloneElement(e,{onClose:t});return i.h("div",{class:"sectionContextMenuContainer",ref:Object(s.a)(this,"contextMenu")},n)}renderSectionInfo(){const{hasHover:e}=this.state,{draggable:t,showMoveHandle:n,name:o,readOnly:l,actionsDisabled:c,onNameBlur:d,collapsed:u,empty:h,countInfoText:p,emptyText:g}=this.props;return i.h("div",{class:"sectionInfo"},t&&(e||n)&&i.h(r.v,{class:"moveHandleIcon"}),i.h(a.a,{ref:Object(s.a)(this,"nameInput","componentRefs"),value:o,required:!0,readOnly:l||c,onBlur:d}),u&&i.h("span",{class:"countInfo"},p),h&&i.h("span",{class:"countInfo"},g))}renderSectionActions(){const{empty:e,actionsDisabled:t,optionsButtonRef:n,optionsActive:s,onExpandCollapseSection:a,onShowOptionsMenu:o}=this.props;return i.h("div",{class:Object(l.a)("sectionActions",{disabled:t})},!e&&i.h("button",{class:"collapseButton",onMouseDown:c.J,onClick:a},i.h(r.g,null)),i.h("button",{class:Object(l.a)("sectionOptionsButton",{active:s}),ref:n,onMouseDown:c.J,onClick:o},i.h(r.u,null)))}renderDescriptionInfo(){const{description:e,readOnly:t,actionsDisabled:n,onDescriptionBlur:o}=this.props;return i.h("div",{key:"descriptionInfo",class:"descriptionInfo"},i.h(a.a,{value:e,ref:Object(s.a)(this,"descriptionInput","componentRefs"),required:!1,readOnly:t||n,showRemaining:!0,onBlur:o}))}renderJiraIntegrations(){const{id:e}=this.props;return i.h("div",{key:"jiraAttachmentsContainer",class:"jiraIntegrationArea"},i.h(d.a,{items:[{itemType:"section",itemId:e,label:"Attached to "}]}),i.h("div",{class:"bumper"}))}render(){const{width:e,description:t,collapsed:n,class:s,onHeaderClick:a,hasDragHover:o,empty:r,optionsMenu:c}=this.props;return i.h("div",{class:Object(l.a)("sectionHead",s,{collapsed:n,empty:r,dragHover:o}),style:{width:e},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:this.handleBaseRef,onClick:a},i.h("div",{class:"mainInfo"},this.renderSectionInfo(),this.renderSectionActions(),c&&this.renderMenu()),!n&&t&&this.renderDescriptionInfo(),!n&&this.renderJiraIntegrations())}}const b=e=>{const t=Object.assign({ref:e.componentRef},e);return delete t.componentRef,i.h(f,t)},y=Object(o.a)({itemType:"SectionHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n}=e,s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["sourceRect","class"]);return i.h(f,h({},s,{width:t.width,class:Object(l.a)("mirror","noSelect",n),actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>Object.assign({},e,{collapsed:!e.empty,optionsMenu:null})})(b),S=e=>i.h(y,Object.assign({draggable:!0},e));t.b=b},function(e,t,n){"use strict";var i=n(0),s=n(14),a=n(1);const o={allowX:!0,allowY:!0,movingThreshold:12};t.a=function(e={}){const t=Object.assign({},o,e);return Component=>(class extends i.Component{constructor(e){super(e),this.state={dragging:!1},this.initialPosition={top:0,left:0},this.handleBaseRef=this.handleBaseRef.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleDragStart=this.handleDragStart.bind(this)}handleBaseRef(e){const{dragBaseRef:t}=this.props;Object(s.a)(this,"base")(e),t&&t(e)}handleMouseMove(e){if(this.state.dragging)return e.preventDefault(),void this.handleDrag(e);const n=Math.abs(e.clientX-this.state.originX),i=Math.abs(e.clientY-this.state.originY);Math.hypot(n,i)>t.movingThreshold&&this.handleDragStart(e)}handleMouseDown(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||this.context.dragDisabled||(this.setState({originX:e.clientX,originY:e.clientY}),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(e){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&(this.handleDragEnd(e),e.preventDefault())}handleDragStart(e){const n=this.nodeRefs.base.getBoundingClientRect(),i={left:e.clientX-n.left,top:e.clientY-n.top};this.dragStartTimeout=!1;const s=t.provideDragData(this.props);this.context.onStartDrag({draggingItemType:t.itemType,sourceRect:n,mirrorComponent:t.mirrorComponent,mirrorZIndex:t.mirrorZIndex,dragData:s,dragOffset:i,position:{left:e.clientX,top:e.clientY}}),t.onStartDrag&&t.onStartDrag(this.props),this.setState({dragging:!0}),this.initialPosition={left:e.clientX,top:e.clientY}}handleDrag(e){this.context.onDrag({left:t.allowX?e.clientX:this.initialPosition.left,top:t.allowY?e.clientY:this.initialPosition.top})}handleDragEnd(){this.context.onEndDrag(),t.onEndDrag&&t.onEndDrag(this.props),this.setState({dragging:!1}),this.initialPosition={top:0,left:0}}render(){return i.h("div",{style:t.style,ref:this.handleBaseRef,onMouseDown:this.handleMouseDown,onDragStart:a.E},i.h(Component,Object.assign({},this.props,{dragging:this.state.dragging})))}})}},function(e,t,n){"use strict";var i=n(0),s=n(14);function a(e,t){return e.left>t.left&&e.left<t.right&&e.top>t.top&&e.top<t.bottom}t.a=function(e={}){return Component=>(class extends i.Component{constructor(e){super(e),this.hasHover=!1}acceptsItemType(t,n){if("string"==typeof e.acceptsItemType)return e.acceptsItemType===t;if(Array.isArray(e.acceptsItemType))return e.acceptsItemType.includes(t);if("object"==typeof e.acceptsItemType){const i=e.acceptsItemType[n];if("string"==typeof i)return i===t;if(Array.isArray(i))return i.includes(t)}}checkHoverOut(t){this.acceptsItemType(t.draggingItemType,"drag")&&this.hasHover&&(e.onHoverOut&&e.onHoverOut(this.props,t),this.hasHover=!1)}checkDrop(t,n){if(!this.acceptsItemType(n.draggingItemType,"drop"))return!1;let i=!0;const s=()=>{i=!1};return!!a(t,this.nodeRefs.base.getBoundingClientRect())&&(e.onDrop&&e.onDrop(this.props,n,s),i)}checkHover(t,n){if(this.acceptsItemType(n.draggingItemType,"drag"))return a(t,this.nodeRefs.base.getBoundingClientRect())?(e.onHover&&e.onHover(this.props,n),void(this.hasHover||(this.hasHover=!0))):void this.checkHoverOut(n)}componentDidMount(){this.context.registerDropTarget(this)}componentWillUnmount(){this.context.unregisterDropTarget(this)}render(){return i.h("div",{style:e.style,ref:Object(s.a)(this,"base")},i.h(Component,this.props))}})}},function(e,t,n){"use strict";var i=n(0),s=n(142),a=n(100),o=n(3),r=n(14),l=n(4),c=n.n(l),d=n(1247);n.n(d);class u extends a.a{getChildContext(){const{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:s,unregisterDropTarget:a}=this.props;return{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:s,unregisterDropTarget:a}}render(){const{class:e,baseRef:t,items:n,onScroll:s}=this.props;return i.h("div",{class:e,ref:t,onScroll:s},n)}}function h(e){return{top:e.top+window.scrollY,left:e.left}}const p=30,g=.1;class m extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleWheel=this.handleWheel.bind(this),this.registerDropTarget=this.registerDropTarget.bind(this),this.unregisterDropTarget=this.unregisterDropTarget.bind(this),this.state={dragging:!1,dragData:null,sourceRect:null,draggingItemType:"",mirrorComponent:null,mirrorZIndex:"",dragOffset:{top:0,left:0},mirrorPosition:{top:0,left:0}},this.registeredDropTargets=new Set,this.scrollRoot=this.scrollRoot.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}scrollRoot(){if(!this.nodeRefs.mirror)return;cancelAnimationFrame(this.scrollRootAF);const{scrollTop:e,scrollHeight:t,offsetHeight:n}=this.nodeRefs.base,i=this.nodeRefs.mirror.getBoundingClientRect(),s=this.nodeRefs.base.getBoundingClientRect(),a=i.top-i.height*g-s.top;if(a<0&&this.nodeRefs.base.scrollTop>0)return this.nodeRefs.base.scrollTop+=a,void(this.scrollRootAF=requestAnimationFrame(this.scrollRoot));const{mirrorPosition:o}=this.state,r=o.top-window.scrollY,l=i.top+i.height*g-s.bottom,c=r+p-s.bottom,d=l>0?l:c;d>0&&e+n+i.height*g<t&&(this.nodeRefs.base.scrollTop+=d,this.scrollRootAF=requestAnimationFrame(this.scrollRoot))}registerDropTarget(e){this.registeredDropTargets.add(e)}unregisterDropTarget(e){this.registeredDropTargets.delete(e)}checkHoverOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};this.registeredDropTargets.forEach(t=>{t.checkHover(e,this.state)})}checkDropOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};let t=!1;this.registeredDropTargets.forEach(n=>{t||(t=n.checkDrop(e,this.state)),n.checkHoverOut(this.state)})}isDragEnded(e){return e.dragging&&!this.state.dragging}isDragPositionChanged(e){return this.state.dragging&&this.state.mirrorPosition!==e.mirrorPosition}handleDocumentClick(e){this.state.dragging&&(e.preventDefault(),e.stopImmediatePropagation())}handleStartDrag({draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:s,dragOffset:a,position:o}){this.props.disabled||this.setState({dragging:!0,draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:s,dragOffset:a,mirrorPosition:h(o)},()=>{document.body.classList.add("dragging"),this.props.onStartDrag&&this.props.onStartDrag()})}handleDrag(e){this.props.disabled||this.setState({mirrorPosition:h(e)})}handleEndDrag(){this.props.disabled||this.setState({dragging:!1},()=>{document.body.classList.remove("dragging"),this.props.onEndDrag&&this.props.onEndDrag()})}handleBaseRef(e){Object(r.a)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleWheel(e){this.state.dragging&&(this.setState(e=>({mirrorPosition:{top:e.mirrorPosition.top,left:e.mirrorPosition.left}})),this.nodeRefs.base.scrollTop+=e.deltaY)}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("wheel",this.handleWheel)}componentDidUpdate(e,t){this.isDragEnded(t)?this.checkDropOnVisibleTargets():this.isDragPositionChanged(t)&&(cancelAnimationFrame(this.scrollRootAF),this.scrollRootAF=requestAnimationFrame(this.scrollRoot),this.checkHoverOnVisibleTargets())}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("wheel",this.handleWheel),document.body.classList.remove("dragging")}render(){const{class:e,children:t,disabled:n,itemsClass:a,noScroll:l,onScroll:c}=this.props,{dragging:d,sourceRect:h,mirrorComponent:p,mirrorZIndex:g,dragData:m,mirrorPosition:f,dragOffset:b}=this.state,y=Object(o.a)("dragDropItems",a,{noScroll:l});return i.h("div",{class:Object(o.a)("dragDropContainer",e)},i.h(u,{class:y,onScroll:c,dragDisabled:n,baseRef:this.handleBaseRef,onStartDrag:this.handleStartDrag,onDrag:this.handleDrag,onEndDrag:this.handleEndDrag,registerDropTarget:this.registerDropTarget,unregisterDropTarget:this.unregisterDropTarget,items:t}),d&&i.h(s.a,null,i.h("div",{ref:Object(r.a)(this,"mirror"),class:"dragMirrorWrapper",style:{transform:`translate(${f.left-b.left}px, ${f.top-b.top}px)`,zIndex:g}},i.h(p,Object.assign({},m,{sourceRect:h})))))}}m.propTypes={onStartDrag:c.a.func,onEndDrag:c.a.func,disabled:c.a.bool,class:c.a.string,itemsClass:c.a.string,noScroll:c.a.bool,children:c.a.node},t.a=m},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(1249);n.n(r);function l(e){const{class:t,logo:n,disabled:s,description:a,text:r,href:l,onClick:c}=e,d=i.cloneElement(n,{class:"integrationLogo",disabled:s});return i.h("div",{class:Object(o.a)("integrationInfo",t)},d,i.h("span",null,a),l?i.h("a",{class:"text ellipsis",target:"_blank",title:r,href:l,onClick:c,rel:"external noopener noreferrer"},r):i.h("span",{class:"text ellipsis"},r))}l.propTypes={logo:a.a.element,disabled:a.a.bool,description:a.a.string,text:a.a.string,href:a.a.string},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(1251);n.n(a);t.a=function(e){const{class:t,disabled:n}=e,a=Object(s.a)("jiraLogo",t,{disabled:n});return i.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16",class:a},i.h("defs",null,i.h("linearGradient",{id:"a",x1:"67.673%",x2:"40.808%",y1:"40.311%",y2:"81.641%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"})),i.h("linearGradient",{id:"b",x1:"32.633%",x2:"59.341%",y1:"-23.325%",y2:"17.855%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"}))),i.h("g",{fill:"none","fill-rule":"nonzero"},i.h("path",{fill:"#2684FF",d:"M15.586 7.55L8.703.667 8.036 0 2.854 5.181.484 7.55a.635.635 0 0 0 0 .895L5.22 13.18l2.817 2.816 5.18-5.181.08-.08 2.29-2.285a.633.633 0 0 0 0-.9zm-7.55 2.813L5.67 7.998l2.365-2.365L10.4 7.998l-2.364 2.365z"}),i.h("path",{fill:"url(#a)",d:"M7.736 5.633A3.981 3.981 0 0 1 7.718.019L2.544 5.192 5.36 8.008l2.376-2.375z",transform:"translate(.3)"}),i.h("path",{fill:"url(#b)",d:"M10.106 7.991l-2.37 2.372a3.982 3.982 0 0 1 0 5.63l5.189-5.185-2.819-2.817z",transform:"translate(.3)"})))}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(14),a=n(1),o=n(471),r=n(697),l=n(696),c=n(642);const d={SECTION_HEADER:"SectionHeader",SCREEN_THUMBNAIL:"ScreenThumbnail",STYLEGUIDE_COMPONENT:"StyleguideComponent"},u=80,h=Object(l.a)(r.a),p=Object(o.b)({acceptsItemType:{drag:[d.SECTION_HEADER,d.SCREEN_THUMBNAIL],drop:[d.SECTION_HEADER,d.SCREEN_THUMBNAIL]},onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t,n)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index,continuePropagation:n},t.draggingItemType)})(h),g=Object(o.b)({acceptsItemType:{drag:[d.SECTION_HEADER,d.STYLEGUIDE_COMPONENT],drop:[d.SECTION_HEADER,d.STYLEGUIDE_COMPONENT]},onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t,n)=>e.onDrop({sourceStyleguideId:t.dragData.styleguideId,sourceIndex:t.dragData.index,sourceId:t.dragData.id,sourceIdPath:t.dragData.idPath,continuePropagation:n},t.draggingItemType)})(h);t.a=class extends i.Component{constructor(e){super(e),this.state={targetPosition:"",sectionHeaderHover:!1},this.handleDragHover=Object(a.f)(this.handleDragHover,!0).bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleDrop=this.handleDrop.bind(this)}calculateMoveIndex(e){const{defaultSection:t}=this.props,{targetPosition:n}=this.state,i="bottom"===n;if(t&&!i)return;let s=this.props.index;return e>this.props.index&&i&&(s=this.props.index+1),e<this.props.index&&!i&&(s=this.props.index-1),s}setTargetPosition(e){const{defaultSection:t}=this.props,{targetPosition:n}=this.state,{base:i}=this.nodeRefs,s=function(e,t,n){const i=n?u:0;return t.top-24>=e.top+(e.height-i)/2}(i.getBoundingClientRect(),e,n);if(t&&!s)return void this.setState({targetPosition:""});const a=s?"bottom":"top";n!==a&&this.setState({targetPosition:a})}unsetTargetPosition(){this.state.targetPosition&&this.setState({targetPosition:""})}setSectionHeaderHover(){const{collapsed:e,empty:t}=this.props,{sectionHeaderHover:n}=this.state;!e&&!t||n||this.setState({sectionHeaderHover:!0})}unsetSectionHeaderHover(){this.state.sectionHeaderHover&&this.setState({sectionHeaderHover:!1})}dropSectionHeaderToScreenThumbnailSection(e){if(""===this.state.targetPosition)return;const{sourceId:t,sourceIndex:n}=e,i=this.calculateMoveIndex(n);this.props.onDrop(t,n,i)}dropScreenThumbnailToScreenThumbnailSection(e){const{sourceId:t,continuePropagation:n}=e,{id:i,collapsed:s,empty:a,onScreenThumbnailDrop:o}=this.props;s||a?o(t,i):n()}dropSectionHeaderToComponentSection(e){if(""===this.state.targetPosition)return;const{sourceId:t,sourceIndex:n,sourceStyleguideId:i}=e,{styleguideId:s,onSectionDrop:a}=this.props;a({sourceId:t,sourceIndex:n,sourceStyleguideId:i,targetStyleguideId:s,to:this.calculateMoveIndex(n)})}dropComponentToComponentSection(e){const{sourceIndex:t,sourceIdPath:n,sourceStyleguideId:i,continuePropagation:s}=e,{collapsed:a,empty:o,id:r,styleguideId:l,componentCount:c,onComponentToSectionDrop:d}=this.props;a||o?d({sourceIdPath:n,sourceIndex:t,targetSectionId:r,sourceStyleguideId:i,targetStyleguideId:l,to:c}):s()}handleDrop(e,t){const{type:n}=this.props;return n===c.b?t===d.SECTION_HEADER?this.dropSectionHeaderToScreenThumbnailSection(e):this.dropScreenThumbnailToScreenThumbnailSection(e):n===c.c?t===d.SECTION_HEADER?this.dropSectionHeaderToComponentSection(e):this.dropComponentToComponentSection(e):void 0}handleDragHover(e,t){t!==d.SECTION_HEADER?this.setSectionHeaderHover():this.setTargetPosition(e)}handleDragHoverOut(e){e!==d.SECTION_HEADER?this.unsetSectionHeaderHover():this.unsetTargetPosition()}render(){const{dragDisabled:e}=this.context,{type:t}=this.props,{targetPosition:n,sectionHeaderHover:a}=this.state,o=Object.assign({},this.props,{targetPosition:n,sectionHeaderHover:a,baseRef:Object(s.a)(this,"base"),draggable:!e,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop});switch(t){case c.b:return i.h(p,o);case c.c:return i.h(g,o);default:return i.h("div",null)}}}},function(e,t,n){"use strict";var i=n(1257);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1258),a=n(100),o=n(156),r=n(694),l=n(681),c=n(14),d=n(1),u=n(8),h=n(31),p=n(307),g=n(153);const m=30,f=80,b=240,y=26,S=300;t.a=class extends a.a{constructor(e){super(e),this.state={loading:!0,source:"",sectionDividerPosition:"",sectionDividerTop:null,sectionDividerHeight:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.screenThumbnailObserver=Object(l.a)(e.containerSelector),this.generateShortlink=this.generateShortlink.bind(this),this.handleIntersection=this.handleIntersection.bind(this),this.handleScreenImageLoad=this.handleScreenImageLoad.bind(this),this.getContextMenuItems=this.getContextMenuItems.bind(this),this.openDeleteScreenDialog=this.openDeleteScreenDialog.bind(this),this.closeDeleteScreenDialog=this.closeDeleteScreenDialog.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleSetAsThumbnailClick=this.handleSetAsThumbnailClick.bind(this),this.handleDownloadScreenImageClick=this.handleDownloadScreenImageClick.bind(this),this.handleCopyWebLinkClick=this.handleCopyWebLinkClick.bind(this),this.handleCopyAppURIClick=this.handleCopyAppURIClick.bind(this),this.handleMoveClick=this.handleMoveClick.bind(this),this.handleShowLeftSectionDivider=this.handleShowLeftSectionDivider.bind(this),this.handleShowRightSectionDivider=this.handleShowRightSectionDivider.bind(this),this.handleScreenLinkMouseOver=this.handleScreenLinkMouseOver.bind(this),this.handleHideSectionDivider=this.handleHideSectionDivider.bind(this),this.handleSectionDividerClick=this.handleSectionDividerClick.bind(this),this.handleDragHover=Object(d.f)(this.handleDragHover,!0).bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleDrop=this.handleDrop.bind(this),this.handleDeleteDialogPositiveClick=this.handleDeleteDialogPositiveClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.showCannotDragToast=this.showCannotDragToast.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}get link(){const{projectId:e,id:t}=this.props;return Object(u.j)("project-screen",{url:{pid:e,sid:t}})}scroll(){this.nodeRefs.base.scrollIntoView()}calculateCubukPosition(e,t){const{getScreenThumbnailRef:n}=this.props;let i=e.height;if(t){const s=n(t).getBoundingClientRect();e.top===s.top&&(i=Math.min(e.height,s.height))}const s=Math.max(f,Math.min(b,Math.round(i-2*m)));return{height:s,top:Math.max(0,Math.round((i-y-s)/2))}}generateShortlink(){p.a.generateShortlink(this.link)}getContextMenuItems(){const{hasTag:e,isProjectThumbnail:t}=this.props,{canUpdateProject:n,canManageScreens:s,canMoveScreens:a}=this.context,r=e?i.h(o.a.Item,{key:"manageTags",onClick:this.handleManageTagsClick},"Manage tags…"):i.h(o.a.Item,{key:"addTag",onClick:this.handleManageTagsClick},"Add tag…");return[s&&r,n&&!t&&i.h(o.a.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnailClick},"Set as thumbnail"),i.h(o.a.Item,{key:"downloadImage",onClick:this.handleDownloadScreenImageClick},"Download screen image"),i.h(o.a.ItemDivider,{key:"copyDivider"}),i.h(o.a.Item,{key:"copyWeb",onClick:this.handleCopyWebLinkClick},"Copy web link"),i.h(o.a.Item,{key:"copyApp",onClick:this.handleCopyAppURIClick},"Copy App URI"),(a||s)&&i.h(o.a.ItemDivider,{key:"warningDivider"}),a&&i.h(o.a.Item,{key:"move",onClick:this.handleMoveClick},"Move screen to project…"),s&&i.h(o.a.Item,{key:"delete",onClick:this.openDeleteScreenDialog,warning:!0},"Delete screen")].filter(Boolean)}openDeleteScreenDialog(){this.setState({deleteDialogVisible:!0})}closeDeleteScreenDialog(){this.setState({deleteDialogVisible:!1})}showCannotDragToast(){const{filterActive:e,jiraIssueFilterActive:t,tagFilterActive:n,sortActive:i,showToast:s}=this.context;i?s({text:"Unselect sort option to reorder",source:"showCannotDragToast"}):t?s({text:"Unselect jira issues to reorder",source:"showCannotDragToast"}):n?s({text:"Unselect tags to reorder",source:"showCannotDragToast"}):e&&s({text:"Reset search to reorder",source:"showCannotDragToast"})}handleBaseRef(e){const{id:t,screenThumbnailRef:n}=this.props;Object(c.a)(this,"base")(e),n(t,e)}handleScreenImageLoad(){r.a.set(this.props.screenImageUrl),this.setState({loading:!1})}handleMouseDown(e){const{dragDisabled:t,canManageScreens:n}=this.context;t&&n&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.showCannotDragToast,S),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(){clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}handleIntersection(e){0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.state.source!==this.props.screenImageUrl&&this.setState({source:this.props.screenImageUrl})},{timeout:300}):cancelIdleCallback(this.cropTimeout)}handleNameBlur(e){const{value:t}=e.target,{id:n,name:i}=this.props;t!==i&&g.c.updateName({sid:n,name:t,syncWithApi:!0,onError:this.componentRefs.screenThumbnail.highlightName})}handleManageTagsClick(e){e.stopPropagation(),g.c.openTagManager(this.props.id)}handleSetAsThumbnailClick(){h.b.updateThumbnail({thumbnail:this.props.screenImageUrl,syncWithApi:!0})}handleDownloadScreenImageClick(){p.a.downloadScreen(this.props.id)}handleCopyWebLinkClick(){const{id:e,onCopyWebURL:t}=this.props;t(e)}handleCopyAppURIClick(){const{id:e,onCopyAppURI:t}=this.props;t(e)}handleMoveClick(e){e.stopPropagation();const{id:t,onMoveClick:n}=this.props;n(t,this.nodeRefs.base)}handleDeleteDialogPositiveClick(){const{id:e}=this.props;g.c.removeScreen({sid:e,syncWithApi:!0})}handleShowSectionDivider(e,t){const{projectOverviewDragging:n,sortActive:i,filterActive:s,tagFilterActive:a}=this.context;if(n||i||s||a)return;const o=this.nodeRefs.base.getBoundingClientRect(),r=this.calculateCubukPosition(o,e);this.setState(Object(d.u)({sectionDividerPosition:t,sectionDividerHeight:r.height,sectionDividerTop:r.top}))}handleShowLeftSectionDivider(){this.handleShowSectionDivider(this.props.leftScreenId,"left")}handleShowRightSectionDivider(){this.handleShowSectionDivider(this.props.rightScreenId,"right")}handleHideSectionDivider(){this.setState({sectionDividerPosition:"",sectionDividerHeight:null,sectionDividerTop:null})}handleSectionDividerClick(){const{id:e,rightScreenId:t}=this.props,{sectionDividerPosition:n}=this.state;let i;"left"===n?i=e:t&&(i=t),i&&(p.a.splitSection(i),this.handleHideSectionDivider())}handleScreenLinkMouseOver(){const{highlight:e,id:t}=this.props;e&&p.a.unhighlightScreen(t)}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftScreenId;n&&(i=this.props.rightScreenId);const s=this.calculateCubukPosition(t,i);this.setState(Object(d.u)({moveCubukPosition:n?"right":"left",moveCubukHeight:s.height,moveCubukTop:s.top}))}handleDragHoverOut(){this.setState(Object(d.u)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}handleDrop({mirrorPosition:e,sourceId:t,sourceIndex:n,sourceSectionId:i,targetIndex:s,targetSectionId:a}){const o=this.nodeRefs.base.getBoundingClientRect(),r=e.left>o.left+o.width/2?"right":"left";let l=s;i===a?(n>s&&"right"===r&&(l=s+1),n<s&&"left"===r&&(l=s-1)):"right"===r&&(l=s+1),i===a&&n===l||p.a.updateScreenOrder({screens:[t],targetSectionId:a,targetIndex:l,syncWithApi:!0})}componentDidMount(){this.screenThumbnailObserver.observe(this.nodeRefs.base,this.handleIntersection);const{scroll:e}=this.props;e&&this.scroll()}componentDidUpdate(e){const{scroll:t}=this.props,{scroll:n}=e;!n&&t&&this.scroll()}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.screenThumbnailObserver.unobserve(this.nodeRefs.base)}render(){const{id:e,updated:t,name:n,class:a,fixedSize:o,snapshotWidth:l,snapshotHeight:d,screenImageUrl:u,containerSelector:h,filterValue:p,index:g,sectionId:m,highlight:f,hideLeftSectionDivider:b,hideRightSectionDivider:y}=this.props,{loading:S,source:v,sectionDividerPosition:C,sectionDividerTop:E,sectionDividerHeight:O,moveCubukPosition:T,moveCubukTop:k,moveCubukHeight:D,deleteDialogVisible:_}=this.state,{canManageScreens:w}=this.context,j=r.a.has(u),R=this.getContextMenuItems(),I=v||(j?u:"");return i.h(s.a,{id:e,filterValue:p,index:g,sectionId:m,link:this.link,class:a,updated:t,name:n,highlight:f,baseRef:this.handleBaseRef,componentRef:Object(c.a)(this,"screenThumbnail","componentRefs"),readOnly:!w,fixedSize:o,hideLeftSectionDivider:!w||b,hideRightSectionDivider:!w||y,onScreenLinkMouseOver:this.handleScreenLinkMouseOver,onShowLeftSectionDivider:this.handleShowLeftSectionDivider,onShowRightSectionDivider:this.handleShowRightSectionDivider,onHideSectionDivider:this.handleHideSectionDivider,onSectionDividerClick:this.handleSectionDividerClick,sectionDividerPosition:C,sectionDividerTop:E,sectionDividerHeight:O,moveCubukPosition:T,moveCubukHeight:D,moveCubukTop:k,snapshotWidth:l,snapshotHeight:d,source:I,loading:S,contextMenuItems:R,onContextMenu:this.generateShortlink,containerSelector:h,deleteDialogVisible:_,onDeleteDialogPositiveClick:this.handleDeleteDialogPositiveClick,onDeleteDialogNegativeClick:this.closeDeleteScreenDialog,onDeleteDialogClose:this.closeDeleteScreenDialog,onHover:this.handleDragHover,onDrop:this.handleDrop,onMouseDown:this.handleMouseDown,onHoverOut:this.handleDragHoverOut,onNameBlur:this.handleNameBlur,onScreenImageLoad:this.handleScreenImageLoad,onIntersection:this.handleIntersection})}}},function(e,t,n){"use strict";var i=n(1259);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(284),a=n(1260),o=n(1263),r=n(156),l=n(635),c=n(14),d=n(3),u=n(1),h=n(1268),p=n(702),g=n(71),m=n(471),f=n(1273);n.n(f);const b=240,y=200,S=520;t.a=Object(u.D)(Object(m.a)({itemType:"ScreenThumbnail",mirrorComponent:({source:e,imgHeight:t})=>i.h(l.a,{source:e,width:b,height:t,class:"screenThumbnailMirror"}),provideDragData:e=>{const{id:t,index:n,sectionId:i,source:s,snapshotWidth:a,snapshotHeight:o,fixedSize:r}=e;return{id:t,index:n,sectionId:i,source:s,imgHeight:r?y:Math.min(Math.round(b/a*o),S)}}}),Object(m.b)({acceptsItemType:"ScreenThumbnail",onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId}),onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut()}))((Component=>e=>{const t=Object.assign({},e,{ref:e.componentRef});return delete t.componentRef,i.h(Component,t)})(class extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.highlightName=this.highlightName.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.renderContextMenu=this.renderContextMenu.bind(this)}highlightName(){this.componentRefs.screenName.highlight()}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleBaseRef(e){Object(c.a)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}renderDialogs(){const{deleteDialogVisible:e,name:t,onDeleteDialogPositiveClick:n,onDeleteDialogNegativeClick:s,onDeleteDialogClose:a}=this.props;if(e)return i.h(g.a,{title:`Delete "${t}"?`,message:"Deleted screens cannot be restored.",onPositiveButtonClick:n,onNegativeButtonClick:s,onClose:a,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}renderContextMenu(){const{contextMenuItems:e=[],onContextMenu:t}=this.props,{contextMenu:n}=this.state;return i.h(r.a.withAutoPosition,{class:"screenThumbnailContextMenu",onMouseDown:u.J,autoPosition:{sidebar:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:n},onOpen:t,onClose:this.handleContextMenuClose},e)}render(){const{id:e,link:t,updated:n,name:r,readOnly:g,fixedSize:m,snapshotWidth:f,snapshotHeight:v,source:C,class:E,onNameBlur:O,onScreenImageLoad:T,loading:k,filterValue:D,dragging:_,highlight:w,hideLeftSectionDivider:j,hideRightSectionDivider:R,sectionDividerPosition:I,sectionDividerTop:A,sectionDividerHeight:x,onShowLeftSectionDivider:P,onShowRightSectionDivider:L,onHideSectionDivider:N,onSectionDividerClick:U,onScreenLinkMouseOver:M,onMouseDown:B,moveCubukPosition:z,moveCubukHeight:F,moveCubukTop:W}=this.props,{contextMenu:H}=this.state,V=m?y:Math.min(Math.round(b/f*v),S);return i.h("div",{class:"screenThumbnailSectionDividerWrapper"},i.h("div",{class:"screenThumbnailPaddingArea left",onMouseDown:u.J,onMouseEnter:P,onMouseLeave:N,style:{height:V}},!j&&"left"===I&&i.h(h.a,{top:A,height:x,onClick:U}),"left"===z&&i.h(p.a,{top:W,height:F})),i.h("div",{class:Object(d.a)("screenThumbnail",{dragging:_},E),ref:this.handleBaseRef,onMouseDown:B,key:e},H&&this.renderContextMenu(),i.h(a.a,{loading:k,dragging:_,highlight:w,href:t,onContextMenu:this.handleContextMenu,onMouseOver:M},i.h(l.a,{source:C,width:b,height:V,onLoad:T,class:"screenImage"})),i.h("div",{class:"screenInfo"},i.h(o.a,{class:"screenName",ref:Object(c.a)(this,"screenName","componentRefs"),matchValue:D,discardOnESC:!0,blurOnEnter:!0,ellipsized:!0,value:r,onBlur:O,readOnly:g,minLength:"1",maxLength:"100",required:!0}),i.h(s.a,{type:"time-ago",format:"micro",class:"screenLastUpdated ellipsis",datetime:n}))),i.h("div",{class:"screenThumbnailPaddingArea right",onMouseDown:u.J,onMouseEnter:L,onMouseLeave:N,style:{height:V}},!R&&"right"===I&&i.h(h.a,{top:A,height:x,onClick:U}),"right"===z&&i.h(p.a,{top:W,height:F})),this.renderDialogs())}}))},function(e,t,n){"use strict";var i=n(1261);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(1262);n.n(a);t.a=function({loading:e,dragging:t,highlight:n,href:a,onContextMenu:o,onMouseOver:r,children:l}){return i.h("a",{class:Object(s.a)("screenThumbnailLink",{loading:e,dragging:t,highlight:n}),onContextMenu:o,onMouseOver:r,href:a,"data-link-type":"inApp"},l)}},function(e,t){},function(e,t,n){"use strict";var i=n(1264);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(457),a=n(26),o=n(3),r=n(14),l=n(1267);n.n(l);class c extends i.Component{constructor(e){super(e),this.state={value:e.value,focusWithin:!1,hasHover:!1},this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}highlight(){Object(a.g)(this.nodeRefs.input)}handleMouseEnter(e){this.props.onMouseEnter&&this.props.onMouseEnter(e),this.setState({hasHover:!0})}handleMouseLeave(e){this.props.onMouseLeave&&this.props.onMouseLeave(e),this.setState({hasHover:!1})}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}handleFocus(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focusWithin:!0})}handleBlur(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focusWithin:!1})}componentWillReceiveProps(e){this.state.focusWithin||e.value===this.state.value||this.setState({value:e.value})}render(){const{value:e,focusWithin:t,hasHover:n}=this.state,{matchValue:l}=this.props,c=Object.assign({},this.props,{value:e,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus,inputRef:Object(r.a)(this,"input","nodeRefs")});delete c.matchValue,delete c.style,delete c.class;const d=l&&e&&!t&&!n;return i.h("div",{class:Object(o.a)("highlightTextInput",this.props.class),style:this.props.style,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d?i.h("div",{class:"inputMirror ellipsis",dangerouslySetInnerHTML:{__html:Object(a.h)(e,l,{caseInsensitive:!0,excludeZeroScore:!0})}}):i.h(s.a,c))}}c.defaultProps={value:""},t.a=c},function(e,t,n){"use strict";var i=n(0),s=n(100),a=n(3),o=n(4),r=n.n(o),l=n(1266),c=(n.n(l),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});class d extends s.a{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this)}handleKeyDown(e){this.props.discardOnESC&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.target.value=this.props.value,e.target.blur(),e.preventDefault()),this.props.blurOnEnter&&e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault()),this.props.onKeyDown&&this.props.onKeyDown(e)}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.stopPropagation()}render(){const{prefix:e,suffix:t,blurOnEnter:n,discardOnESC:s,class:o,ellipsized:r,inputRef:l,type:d}=this.props,u=Object.assign({},this.props);return delete u.class,delete u.inputRef,delete u.ellipsized,delete u.blurOnEnter,delete u.discardOnESC,delete u.prefix,delete u.suffix,(n||s)&&(u.onKeyDown=this.handleKeyDown),r&&(u.class="ellipsis"),i.h("div",{class:Object(a.a)("textInput",o,{withPrefix:!!e,withSuffix:!!t}),onMouseDown:this.handleMouseDown,"data-suffix":t,"data-prefix":e},i.h("input",c({},u,{type:d,ref:l})))}}d.propTypes={suffix:r.a.string,prefix:r.a.string,inputRef:r.a.func,ellipsized:r.a.bool,blurOnEnter:r.a.bool,discardOnESC:r.a.bool},d.defaultProps={type:"text"},t.a=d},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1269);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(43),a=n(1270);n.n(a);t.a=function(e){const{onClick:t,height:n,top:a,left:o}=e;return i.h("button",{class:"sectionDivider",onClick:t,style:{height:n,top:a,left:o}},i.h("div",null),i.h(s.m,{class:"iconDivider noSelect"}),i.h("div",null))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(1272);n.n(s);t.a=function(e){const{height:t,top:n,left:s}=e;return i.h("div",{class:"moveCubuk",style:{height:t,top:n,left:s}})}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(156),a=n(1275);n.n(a);const o=e=>i.h(s.a,Object.assign({},e,{class:"sectionMenu"}));o.Item=s.a.Item,o.ItemDivider=s.a.ItemDivider,t.a=o},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1278);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(704),a=n(1281);n.n(a);function o(e){const{mainContent:t,subContent:n,actionButtonText:s,onActionButtonClick:a}=e;return i.h("div",{class:"emptySectionsWithActionButton"},i.h("h1",null,t),n&&i.h("h2",null,n),i.h("button",{type:"button",onClick:a},s))}t.a=function(e){const{tags:t,untagged:n,selectedJiraIssues:a,onResetJiraIssuesClick:r,onResetTagsClick:l}=e;return a.length?i.h(o,{mainContent:"There are no screens with the selected Jira issues.",actionButtonText:"Reset Jira issues",onActionButtonClick:r}):t.length?i.h(o,{mainContent:"There are no screens with the selected tags.",actionButtonText:"Reset tags",onActionButtonClick:l}):n?i.h(o,{mainContent:"There are no untagged screens.",subContent:"Good job! Looks like you’re well organized. 😎",onResetTagsClick:l}):i.h(s.a,{text:"No screens with this name 🤷‍♀️"})}},function(e,t,n){"use strict";var i=n(0),s=n(1280);n.n(s);t.a=function({text:e}){return i.h("div",{class:"filterEmptySections"},e)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1283);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(43),a=n(34),o=n(56),r=n(31),l=n(1284);n.n(l);t.a=function(){const e=Object(o.j)()===o.c.MAC?"⌥J":"Alt+J";return i.h(a.a,{secondary:!0,class:"jumpToButton",onClick:r.b.openJumpToPopup},i.h(s.t,null),i.h("span",{class:"label"},"Jump to"),i.h("span",{class:"shortcut"},e))}},function(e,t){},function(e,t,n){"use strict";var i=n(1286);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(14),a=n(1287);n.n(a);t.a=class extends i.Component{constructor(e){super(e),this.centerLoadingScreens=this.centerLoadingScreens.bind(this)}centerLoadingScreens(){const{screenGridLoading:e}=this.nodeRefs;e.style.width=244*Math.floor(this.nodeRefs.base.clientWidth/244)+"px",this.centerLoadingTimeout=setTimeout(this.centerLoadingScreens,1e3)}componentDidMount(){CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||this.centerLoadingScreens()}componentWillUnmount(){clearTimeout(this.centerLoadingTimeout)}render(){return i.h("div",{ref:Object(s.a)(this,"base"),class:"projectOverviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"tagsLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"screenGridLoading",ref:Object(s.a)(this,"screenGridLoading")},i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"})))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1289);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(25),o=n(74),r=n(31),l=n(57),c=n(35),d=n(705),u=n(60),h=n(1294);function p(e,t,n){const{_id:i,type:a,densityScale:o}=t;return e.filter(e=>{const t=e._id!==i&&e.type===a&&(!e.densityScale||e.densityScale===o),r="active"===e.status;let l=!0;if(Object(s.z)(e)){const t=e.users.find(({user:e})=>e._id===n);l=t&&s.C.canManageScreens(t)}return t&&r&&l}).sort(s.H.name)}t.a=Object(o.a)(class extends i.Component{constructor(e){super(e),this.handleMove=this.handleMove.bind(this),this.handleClose=this.handleClose.bind(this),this.state={spinnerIndex:-1,moveDialogOpen:!1}}static getStores(){return[c.e,l.c,r.e,d.b,u.b]}static calculateState(){const{open:e,targetNode:t,resourceId:n,resourceType:i}=d.b.getState();if(!e)return{open:!1};const{barrelId:a,loading:o,organizationId:h}=r.e.getState();if(o)return{loading:!0};const{userId:g}=u.b.getState(),{loading:m,loadingProfiles:f,organizations:b,organizationProfiles:y,organizationProjects:S}=c.e.getState();if(m||f)return{loading:!0};const{projects:v}=l.c.getState(),C=r.d.getBarrel(),E="screen"===i?C.findScreen(n):C.findSection(n),O=[];if("user"===h){O.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"});const e=p(S.user.map(e=>v[e]),C,g);O.push(...e.map(({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n})))}const T=("user"===h?Object.entries(S).filter(([e])=>"user"!==e).map(([e,t])=>({organization:b.find(({_id:t})=>t===e),profile:y[e],projects:t.map(e=>v[e])})):[{organization:b.find(({_id:e})=>e===h),profile:y[h],projects:S[h].map(e=>v[e])}]).filter(({organization:{status:e},profile:t})=>"active"===e&&s.C.canMoveScreens(t)).map(({organization:e,projects:t})=>({organization:e,projects:p(t,C,g)})).sort(({organization:e},{organization:t})=>s.H.name(e,t));O.push(...T.flatMap(({organization:{name:e,_id:t},projects:n})=>[{type:"header",content:`${e}’s Projects`},{type:"create",oid:t},...n.map(({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n}))]));const{type:k,name:D,densityScale:_}=C;return{loading:!1,barrelId:a,barrelName:D,platform:k,densityScale:_,open:e,targetNode:t,resourceType:i,resource:E,listItems:O}}getInteractiveItemAtIndex(e){const{listItems:t}=this.state;return t.filter(({type:e})=>"header"!==e)[e]}handleClose(){const{moveDialogOpen:e}=this.state;e||d.a.close()}handleMove(e){const{resourceType:t}=this.state,{barrelId:n,barrelName:i,platform:s,densityScale:o,resource:r}=this.state,l=this.getInteractiveItemAtIndex(e),c="create"===l.type?"a new project":`"${l.name}"`;this.setState({moveDialogOpen:!0}),a.a({message:`Move selected ${t} from "${i}" to ${c}?`,done:{name:"MOVE",cb:()=>{this.setState({spinnerIndex:e,moveDialogOpen:!1}),d.a.move({barrelId:n,resource:r,resourceType:t,target:l,densityScale:o,platform:s})}},cancel:{name:"KEEP",cb:()=>{this.setState({moveDialogOpen:!1}),d.a.close()}}})}render(){const{loading:e,platform:t,densityScale:n,spinnerIndex:s,listItems:a,open:o,targetNode:r,resourceType:l}=this.state;return o?i.h(h.a,{resourceType:l,targetNode:r,loading:e,platform:t,densityScale:n,spinnerIndex:s,listItems:a,onMove:this.handleMove,onClose:this.handleClose}):null}})},function(e,t,n){"use strict";var i=n(16),s=n.n(i),a=n(86),o=n(526);t.a=new class extends s.a{constructor(){super(o.a)}getInitialState(){return{open:!1,targetNode:null,resourceId:null,resourceType:null}}open(e,{targetNode:t,resourceId:n,resourceType:i}){return Object.assign({},e,{open:!0,targetNode:t,resourceId:n,resourceType:i})}close(e){return Object.assign({},e,{open:!1,targetNode:null,resourceId:null,resourceType:null})}reduce(e,t){switch(t.type){case a.a.OPEN:return this.open(e,t);case a.a.CLOSE:return this.close(e);default:return e}}}},function(e,t,n){"use strict";n(1292),n(1293)},function(e,t,n){"use strict";var i=n(86),s=n(643),a=n(526),o=n(25),r=n(8),l=n(216),c=n(17),d=n(13);function u(e,t,n){Object(c.b)(e,{clientErrorHandler:{402(){o.a({title:`Can’t move ${t} to “${n}”`,message:e.message})},default:c.b}})}function h(e){Object(c.b)(e,{clientErrorHandler:{402(){o.a({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:l.a}})},default:c.b}})}function p({tpid:e,sourceDensityScale:t,targetDensityScale:n}){return n?Promise.resolve():d.updateProjectDensityScale(e,t)}function g(e){const{barrelId:t,resource:n,target:i,densityScale:s,platform:a}=e;switch(i.type){case"create":!async function({barrelId:e,oid:t,platform:n,densityScale:i,section:s}){const{_id:a,name:o,screens:l}=s;let c,g;try{({_id:c,densityScale:g}=await d.createProject({oid:t,platform:n,densityScale:i,name:o}))}catch(e){return void h(e)}try{await p({tpid:c,sourceDensityScale:i,targetDensityScale:g}),await d.moveScreen(e,c,l),await d.deleteSection(e,a),window.location.assign(Object(r.j)("project",{url:{bid:c}}))}catch(e){u(e,"section","a new project")}}({barrelId:t,oid:i.oid,platform:a,densityScale:s,section:n});break;case"project":!async function({barrelId:e,target:t,densityScale:n,section:i}){const s=t.pid,a=n,o=t.densityScale;try{await p({tpid:s,sourceDensityScale:a,targetDensityScale:o});const{_id:n}=await d.createSection(s,i);await d.moveScreen(e,s,i.screens),await d.updateSectionScreens(s,n,0,i.screens),await d.deleteSection(e,i._id);const l=Object(r.j)("project",{url:{bid:s},query:{seid:n}});window.location.assign(l)}catch(e){u(e,"section",t.name)}}({barrelId:t,target:i,densityScale:s,section:n})}}const m={move(e){const{resourceType:t}=e;switch(t){case"screen":!async function(e){const{barrelId:t,resource:n,target:i,target:{type:a,oid:o},densityScale:r,platform:l}=e;let c,g;const m="create"===a?"a new project":`"${i.name}"`;switch(a){case"create":try{({_id:c,densityScale:g}=await d.createProject({oid:o,platform:l,densityScale:r}))}catch(e){return h(e),void s.a.close()}break;case"project":({pid:c,densityScale:g}=i)}try{await p({tpid:c,sourceDensityScale:r,targetDensityScale:g}),await d.moveScreen(t,c,[n._id]),s.a.moveScreen({spid:t,tpid:c,screen:n})}catch(e){u(e,"screen",m)}finally{s.a.close()}}(e);break;case"section":g(e)}}};a.a.register(e=>{if(e.syncWithApi)switch(e.type){case i.a.MOVE:m.move(e)}})},function(e,t,n){"use strict";var i=n(86),s=n(526),a=n(35),o=n(31),r=n(17),l=n(13),c=n(57);const d={getProjects(e){a.d.getOrganizationProjects(e)||l.getProjects("user"===e?null:e).then(t=>{c.b.getProjectsSuccess({projects:t,oid:e})}).catch(r.b)},getOrganizationsProjects(){const{organizationId:e}=o.e.getState(),{organizations:t}=a.e.getState();t.length&&t.filter(({_id:t})=>t!==e).forEach(({_id:e})=>this.getProjects(e))}};s.a.register(e=>{switch(e.type){case i.a.OPEN:d.getOrganizationsProjects(e)}})},function(e,t,n){"use strict";var i=n(1295);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1296),a=n(199),o=n(1),r=n(1299);n.n(r);const l=78,c=172;t.a=class extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.handleMove=this.handleMove.bind(this),this.renderContent=this.renderContent.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}getInteractiveItemAtIndex(e){const{listItems:t}=this.props;return t.filter(({type:e})=>"header"!==e)[e]}getPosition(){const{resourceType:e}=this.props;return"section"===e?{top:0,left:0}:{top:l,left:c}}handleMove(e){const{spinnerIndex:t,onMove:n}=this.props;-1===t&&n(e)}renderProjectList(){const{loading:e,densityScale:t,platform:n,spinnerIndex:a,listItems:r}=this.props,l=Object(o.s)(n);return e?i.h("div",{key:"projectListLoading",class:"projectListLoading"}):i.h(s.a,{key:"projectList",projectType:l,densityScale:t,items:r,spinnerIndex:a,onSelect:this.handleMove})}renderContent(){const{densityScale:e,platform:t}=this.props,n=Object(o.s)(t),s=Object(o.p)(t,e);return i.h("div",{class:"moveResourcesPopup"},i.h("p",null,"To keep asset sizes and measurements consistent, only ",i.h("strong",null,n)," projects with ",i.h("strong",null,s)," density are listed. Select one or create a new one to move the screen(s):"),this.renderProjectList())}render(){const{resourceType:e,targetNode:t,onClose:n}=this.props,s="section"===e,o="section"===e,r="section"===e,l="screen"===e,c="screen"===e,{top:d,left:u}=this.getPosition();return i.h(a.a,{targetNode:t,content:this.renderContent,showAnchor:o,anchorTop:-4,centerY:s,top:d,left:u,openToLeft:r,faceLeft:l,faceTop:c,stickToEdge:!0,open:!0,onClose:n})}}},function(e,t,n){"use strict";var i=n(1297);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(43),a=n(1),o=n(3),r=n(14),l=n(26),c=n(1298);n.n(c);class d extends i.Component{constructor(e){super(),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.itemCount=d.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}static getInteractiveItemCount(e){return e.filter(({type:e})=>"header"!==e).length}handleClick(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}handleKeyDown(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){if(e.stopPropagation(),this.lastX===e.clientX&&this.lastY===e.clientY)return;const t=e.target.closest("[data-index]");if(!t)return;const n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){this.itemCount=d.getInteractiveItemCount(e.items)}componentDidUpdate(){Object(l.m)(this.nodeRefs.base.querySelector(`[data-index="${this.state.selectedIndex}"]`))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderHeader(e){const{densityScale:t,projectType:n}=this.props,s=a.p(n,t);return i.h("h3",{key:e},i.h("span",null,e)," ",i.h("span",null,"(",n,", ",s,")"))}renderProjectButton(e,t){const{spinnerIndex:n}=this.props,{selectedIndex:a}=this.state,r=t===a,l=Object(o.a)("newProjectButton",{selected:r});return i.h("div",{key:e,class:l,"data-index":t,"data-oid":e},i.h(s.w,{class:"iconPlus",circleColor:r?"#fff":"var(--cornflower-blue)",color:r?"var(--cornflower-blue)":"#fff"}),i.h("div",null,i.h("div",null,"New project"),i.h("div",null,"Create a new project and transfer screens")),t===n&&i.h(s.E,{color:r?"#fff":"var(--gandalf)",class:"iconSpinner"}))}renderProjectItem(e,t,n,a){const{spinnerIndex:r}=this.props,{selectedIndex:l}=this.state,c=a===l,d=Object(o.a)("project",{odd:n,selected:c});return i.h("div",{key:e,class:d,title:t,"data-index":a},i.h("span",null,t),a===r&&i.h(s.E,{color:c?"#fff":null,class:"iconSpinner"}))}renderItems(){const{items:e}=this.props;let t=0,n=!1;return e.map(e=>{switch(e.type){case"header":return this.renderHeader(e.content);case"create":return n=!1,this.renderProjectButton(e.oid,t++);case"project":return n=!n,this.renderProjectItem(e.pid,e.name,n,t++);default:return null}})}render(){return i.h("div",{ref:Object(r.a)(this,"base"),class:"projectList",onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onClick:this.handleClick},this.renderItems())}}t.a=d},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1301);t.a=i.a},function(e,t,n){"use strict";t.a=function(){const e=s.a.isWindowsApp?a.a:o.a;return i.h("div",{class:"noScreens"},i.h(e,null))};var i=n(0),s=n(27),a=n(1302),o=n(1319),r=n(1322);n.n(r)},function(e,t,n){"use strict";var i=n(1303);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(18),a=n(24),o=n(1304),r=n(1307),l=n(1310),c=n(1313);function d(e){e.preventDefault(),s.a.shell.openExternal(e.target.href)}t.a=class extends i.Component{constructor(e){super(e),this.state={designTool:"photoshop"},this.handleDesignToolChange=this.handleDesignToolChange.bind(this)}handleDesignToolChange(e){const t=e.target.value;this.setState({designTool:t}),a.d.set("noScreensDesignToolSelection",t)}componentDidMount(){a.d.get("noScreensDesignToolSelection").then(e=>{this.setState({designTool:e})})}render(){const{designTool:e}=this.state;return i.h(o.a,{designTool:e,onDesignToolChange:this.handleDesignToolChange},i.h(o.a.Tab,{value:"figma",description:"Figma"},i.h(r.a,null)),i.h(o.a.Divider,null),i.h(o.a.Tab,{value:"xd",description:"Adobe XD"},i.h(l.a,null)),i.h(o.a.Divider,null),i.h(o.a.Tab,{value:"photoshop",description:"Photoshop"},i.h(c.a,{onExternalLinkClicked:d})))}}},function(e,t,n){"use strict";var i=n(1305);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(1306);n.n(a);class o extends i.Component{get tabs(){return i.toChildArray(this.props.children)}renderTabs(){const{designTool:e,onDesignToolChange:t}=this.props;return this.tabs.map(n=>n?i.cloneElement(n,{onChange:t,designTool:e}):null)}renderActiveTabContent(){const{designTool:e}=this.props,t=this.tabs.find(t=>!!t&&t.props&&t.props.value===e);return t?t.props.children:null}render(){const{designTool:e}=this.props;return i.h("div",{class:Object(s.a)("noScreensElectron","designToolTabs",e)},i.h("h1",null,"Let’s start by exporting designs."),i.h("div",{class:"designToolSelection"},this.renderTabs()),this.renderActiveTabContent())}}o.Tab=function({onChange:e,designTool:t,value:n,description:s}){return i.h("label",null,i.h("input",{name:"noScreensElectronDesignTool",value:n,type:"radio",checked:t===n,onChange:e}),i.h("span",{class:"designToolName"},s))},o.Divider=(()=>i.h("div",{class:"designToolDivider"})),t.a=o},function(e,t){},function(e,t,n){"use strict";var i=n(1308);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(281),a=n(1309);n.n(a);const o=i.h("ol",{class:"figmaSteps"},i.h("li",null,i.h("div",null,"To get started, install the Zeplin plugin in Figma."),i.h("a",{class:"installPluginButton noSelect",href:"https://www.figma.com/community/plugin/745330164019088593/Zeplin",target:"_blank"},"Install plugin")),i.h("li",null,i.h("div",null,"In your Figma file, right-click anywhere in the canvas and "),i.h("div",null,"select ",i.h("strong",null,"“Plugins > Zeplin”:")),i.h(s.a,{asset:"img/imgFigmaPluginMenuIntegration.png"})),i.h("li",null,i.h("div",null,"Select frames and hit the ",i.h("strong",null,"“Export”")," button:"),i.h(s.a,{asset:"img/imgFigmaPluginMenuExport.png"})));t.a=function(){return i.h("div",{class:"figmaContainer"},i.h(s.a,{class:"figmaToZeplinImage",asset:"img/imgFigmaToZeplin.png"}),o)}},function(e,t){},function(e,t,n){"use strict";var i=n(1311);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(281),a=n(21),o=n(1312);n.n(o);const r=i.h("ol",{class:"xdSteps"},i.h("li",null,i.h("div",null,"Select and artboard/layer in your XD file.")),i.h("li",null,i.h("div",null,"Select ",i.h("strong",null,"“Zeplin”")," under ",i.h("strong",null,"“File > Export”"),":"),i.h(s.a,{class:"ssMenuExport",asset:"img/imgXDMenuExport.png"}),i.h("div",{class:"additionalInfo"},i.h("div",{class:"shortcutInfo"},i.h("img",{class:"emoji",src:a.f("img/emjPointUp@17w.png"),srcset:`${a.f("img/emjPointUp@34w.png")} 2x, ${a.f("img/emjPointUp@51w.png")} 3x`}),i.h("div",null,"You can use the shortcut ",i.h("strong",null,"Ctrl+Alt+E"),", on your next export.")),i.h(s.a,{class:"xdShortcut",asset:"img/icXDShortcut.png"}))));t.a=function(){return i.h("div",{class:"xdContainer"},i.h(s.a,{class:"xdToZeplinImage",asset:"img/imgXdToZeplin.png"}),r)}},function(e,t){},function(e,t,n){"use strict";var i=n(1314);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1315),a=n(21),o=n(1318);n.n(o);const r=[i.h("img",{class:"psLogo",src:a.f("img/icLogoPS.png"),srcset:a.g(a.f("img/icLogoPS.png"))}),i.h("img",{class:"psToZeplinLogo",src:a.f("img/icDashboardPSToZeplin.svg")})];function l({onExternalLinkClicked:e,longInstallPanelInfo:t}){return i.h("ol",{class:"photoshopSteps"},i.h("li",null,i.h("div",null,i.h("div",null,"Open your Photoshop file"),i.h("img",{src:a.f("img/icPSLogoGrayscale.png"),srcset:a.g(a.f("img/icPSLogoGrayscale.png"))}))),i.h("li",null,i.h("div",null,"Select artboards (or layers in artboards) and click:"),i.h("img",{class:"ssDashboardEmpty",src:a.f("img/ss/ssDashboardEmpty.png"),srcset:a.g(a.f("img/ss/ssDashboardEmpty.png"))}),t?i.h("div",{class:"installPanelInfo"},"If you can’t see the panel under ",i.h("code",null,"“Window > Extensions > Zeplin”"),", check how it’s installed from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),"."):i.h("div",{class:"installPanelInfo"},"If you can’t see the panel, install it from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),".")))}t.a=function({onExternalLinkClicked:e,longInstallPanelInfo:t,withToolToZeplinMargin:n=!0}){return i.h("div",{class:"photoshopContainer"},i.h(s.a,{images:r,withMargin:n}),i.h(l,{onExternalLinkClicked:e,longInstallPanelInfo:t}))}},function(e,t,n){"use strict";var i=n(1316);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(21),a=n(3),o=n(1317);n.n(o);t.a=function({images:e,withMargin:t}){return i.h("div",{class:Object(a.a)("toolToZeplin",{withMargin:t})},e,i.h("img",{class:"zeplinLogo",src:Object(s.f)("img/icZeplin.svg")}))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1320);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(){return i.h("div",{class:"noScreensWebApp"},i.h("h1",null,"Here, you’ll see a list of screens after the designs are uploaded from Sketch, Adobe XD, Figma or Photoshop CC."),i.h("div",{class:"screenSilhouettes"},i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"})),i.h("p",null,"Screens can be uploaded from macOS or Windows apps",i.h("span",{class:"downloadApp"},", if you are a designer you can ",i.h("a",{href:"https://zpl.io/download"},"download them from here"),"!"),i.h("br",null),i.h("br",null),"To learn more about how to export from ",i.h("a",{href:"https://zpl.io/demo",target:"_blank",rel:"noopener noreferrer external"},"Sketch"),", ",i.h("a",{href:"https://www.youtube.com/watch?v=PI-0v40gc_8",target:"_blank",rel:"noopener noreferrer external"},"Adobe XD"),", ",i.h("a",{href:"https://www.youtube.com/watch?v=ASCFEK_VBVY",target:"_blank",rel:"noopener noreferrer external"},"Figma")," or ",i.h("a",{href:"https://www.youtube.com/watch?v=0cVbzq-Q43M",target:"_blank",rel:"noopener noreferrer external"},"Photoshop CC"),", follow the links for a short demo."))};var i=n(0),s=n(1321);n.n(s)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1324);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(56),o=n(14),r=n(156),l=n(3),c=n(1325);n.n(c);t.a=class extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleCloseContextMenu=this.handleCloseContextMenu.bind(this),this.handleCopyWebURL=this.handleCopyWebURL.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDownloadScreenImages=this.handleDownloadScreenImages.bind(this),this.handleConvertToSection=this.handleConvertToSection.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleContextMenu(e){this.props.untagged||this.props.contextMenuDisabled||(e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}}),this.props.onOpenContextMenu(this.props.tag))}handleClick(e){const{untagged:t,tag:n,disabled:i}=this.props;i||this.props.onClick(t?null:n,Object(a.d)(e))}handleCloseContextMenu(){this.setState({contextMenu:null})}handleCopyWebURL(e){e.stopPropagation(),this.props.onCopyWebURL(this.props.tag)}handleCopyAppURI(e){e.stopPropagation(),this.props.onCopyAppURI(this.props.tag)}handleDownloadScreenImages(e){e.stopPropagation(),this.props.onDownloadScreenImages(this.props.tag)}handleConvertToSection(e){e.stopPropagation(),this.props.onConvertToSection(this.props.tag)}handleDelete(e){e.stopPropagation(),this.props.onDelete(this.props.tag)}renderTagContextMenu(){const{canCreateSectionFromTag:e}=this.props,{contextMenu:t}=this.state;return i.h(r.a.withAutoPosition,{class:"tagContextMenu",onMouseDown:s.J,autoPosition:{sidebar:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t},onClose:this.handleCloseContextMenu},e&&i.h(r.a.Item,{onClick:this.handleConvertToSection},"Convert to section"),e&&i.h(r.a.ItemDivider,{key:"copyDivider"}),i.h(r.a.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(r.a.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(r.a.ItemDivider,{key:"downloadDivider"}),i.h(r.a.Item,{onClick:this.handleDownloadScreenImages},"Download all screen images"),i.h(r.a.ItemDivider,{key:"warningDivider"}),i.h(r.a.Item,{onClick:this.handleDelete,warning:!0},"Delete tag"))}render(){const{tag:e,untagged:t,selected:n,disabled:s}=this.props,a=Object(l.a)("projectOverviewTag","noSelect",{selected:n,untagged:t,disabled:s});return i.h("button",{ref:Object(o.a)(this,"base"),onContextMenu:this.handleContextMenu,onClick:this.handleClick,class:a},i.h("div",{class:"tagName ellipsis"},t?"Untagged":e),this.state.contextMenu&&this.renderTagContextMenu())}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(100),a=n(31),o=n(74),r=n(1328),l=n(58),c=n(286),d=n(35),u=n(57),h=n(60);class p extends s.a{constructor(e){super(e)}static getExtensionState(){const e=c.b.getState();let t,n;if(e.initialized){const i=e.extensions.filter(({id:t})=>e.enabledExtensions[e.barrelType].includes(t)).map(({name:e})=>e);t=!0,n=i.length?[i.slice(0,-1).join(", "),i.slice(-1)[0]].join(i.length<2?"":" and "):"No extensions yet."}else t=!1,n="…";return{extensionsLoaded:t,extensionTitles:n}}static calculateState(){const e=a.e.getState(),{loading:t}=e,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["loading"]);if(t)return{loading:t};const i=a.d.findUser(),{loadingSelectParent:s}=l.c.getState(),{organizationId:o}=n,r=d.d.getOrganizationStyleguides(o)||[];return Object.assign({loading:t},n,{barrelUser:i},p.getExtensionState(),{loadingSelectParent:s,currentOrganizationStyleguides:r,barrel:a.d.getBarrel()})}static getStores(){return[a.e,u.c,l.c,c.b,d.e,h.b]}render(){const{width:e,onRelease:t}=this.props,{loading:n,organizationId:s,barrel:a,barrelType:o,barrelUser:l,showSlackReconnectionAuntie:c,extensionsLoaded:d,extensionTitles:u,shortlinks:h,loadingSelectParent:p,currentOrganizationStyleguides:g}=this.state;return n?i.h(r.a.Loading,null):i.h(r.a,{width:e,onRelease:t,organizationId:s,barrel:a,barrelType:o,barrelUser:l,showSlackReconnectionAuntie:c,extensionsLoaded:d,extensionTitles:u,shortlinks:h,loadingSelectParent:p,currentOrganizationStyleguides:g})}}const g=Object(o.a)(p,{withProps:!0,pure:!1});t.a=g},function(e,t,n){"use strict";var i=n(1329);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(100),a=n(470),o=n(468),r=n(1),l=n(3),c=n(319),d=n(14),u=n(543),h=n(31),p=n(310),g=n(10),m=n(216),f=n(386),b=n(1333),y=n(208),S=n(1336),v=n(644),C=n(645),E=n(544),O=n(34),T=n(1354),k=n(1357),D=n(1362),_=n(199),w=n(142),j=n(1368),R=n(1371),I=n(1378),A=n(58),x=n(77),P=n(33),L=n(71),N=n(43),U=n(1381),M=(n.n(U),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});const B=Object(a.a)(class extends s.a{constructor(e){super(e),this.openMembersDialog=this.openMembersDialog.bind(this),this.closeMembersDialog=this.closeMembersDialog.bind(this),this.openDensityDialog=this.openDensityDialog.bind(this),this.closeDensityDialog=this.closeDensityDialog.bind(this),this.toggleInvitePopup=this.toggleInvitePopup.bind(this),this.setInvitePopupPosition=Object(r.f)(this.setInvitePopupPosition).bind(this),this.setInvitePopupAnchorPosition=this.setInvitePopupAnchorPosition.bind(this),this.openSelectParentDialog=this.openSelectParentDialog.bind(this),this.closeSelectParentDialog=this.closeSelectParentDialog.bind(this),this.openRemoveParentDialog=this.openRemoveParentDialog.bind(this),this.closeRemoveParentDialog=this.closeRemoveParentDialog.bind(this),this.handleRename=this.handleRename.bind(this),this.handleDensityScaleChange=this.handleDensityScaleChange.bind(this),this.handleShareContentOpen=this.handleShareContentOpen.bind(this),this.handleShareContentClose=this.handleShareContentClose.bind(this),this.renderShareContent=this.renderShareContent.bind(this),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleSelectParent=this.handleSelectParent.bind(this),this.handleRemoveParent=this.handleRemoveParent.bind(this),this.handleMemberClick=this.handleMemberClick.bind(this),this.state={shareContentOpen:!1,membersDialogOpen:!1,invitePopupOpen:!1,densityDialogOpen:!1,selectParentDialogOpen:!1,removeParentDialogOpen:!1,selectedParentStyleguide:null}}get isOrganizationProject(){const{barrel:e}=this.props;return Object(r.z)(e)}get canUpdateBarrel(){const{barrelUser:e}=this.props;return r.C.canUpdateProject(e)}get canUserChangeBarrelAccesibility(){const{barrelUser:e}=this.props;return r.C.canChangeProjectAccesibility(e)}get jiraIntegration(){const{barrel:e}=this.props;return e&&e.integration?e.integration.jira:null}get slackChannels(){const{barrel:e}=this.props;let t;return e.integration&&e.integration.slacks&&e.integration.slacks.length&&(t=[...e.integration.slacks].reverse()),t}openMembersDialog(){this.setState({membersDialogOpen:!0})}closeMembersDialog(){this.setState({membersDialogOpen:!1})}openDensityDialog(){this.setState({densityDialogOpen:!0})}closeDensityDialog(){this.setState({densityDialogOpen:!1})}setInvitePopupAnchorPosition(){const{inviteButton:e}=this.nodeRefs,t=o.c.getBoundingClientRect(),n=e.getBoundingClientRect(),i=n.top+n.height/2-t.top-11;o.a.classList.toggle("hidden",t.bottom<n.bottom)||(o.a.style.top=i+"px")}setInvitePopupPosition(){o.c.style.transform="";const{inviteButton:e}=this.nodeRefs,t=o.c.getBoundingClientRect(),n=e.getBoundingClientRect(),i=(t.height-n.height)/2,s=n.top-i,a=n.bottom+n.height+i;let r;r=s>108&&a<window.innerHeight-12?i:n.top-108;const l=Math.max(n.top-r,12)-60;o.c.style.transform=`translate3d(0, ${l}px, 0)`,this.setInvitePopupAnchorPosition()}setInvitePopupState(e){this.setState({invitePopupOpen:e})}openInvitePopup(){const{barrel:e,barrelType:t,barrelUser:n,organizationId:i}=this.props,{id:s,users:a}=e,{sidebar:r}=this.nodeRefs;o.j({bt:t,popupContainer:r,bid:s,members:a,oid:"pawn"===n.role?"user":i,onDismiss:e=>{this.setInvitePopupState(!1)}}),this.setInvitePopupPosition(),r.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),r.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.webapp.track("Showed invite user pop up",{type:"project"}),this.setInvitePopupState(!0)}closeInvitePopup(){const{sidebar:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),o.b(),this.setInvitePopupState(!1)}openSelectParentDialog(e){const{currentOrganizationStyleguides:t}=this.props,n=t.find(t=>t._id===e);this.setState({selectParentDialogOpen:!0,selectedParentStyleguide:n})}closeSelectParentDialog(){this.setState({selectParentDialogOpen:!1,selectedParentStyleguide:null})}openRemoveParentDialog(){this.setState({removeParentDialogOpen:!0})}closeRemoveParentDialog(){this.setState({removeParentDialogOpen:!1})}toggleInvitePopup(e){e.stopPropagation(),o.h()?this.openInvitePopup():this.closeInvitePopup()}handleRename(e){if(e===this.props.barrel.name)return;const{barrel:{id:t},barrelType:n}=this.props;h.b.updateName({bid:t,barrelType:n,name:e,syncWithApi:!0})}handleDensityScaleChange(e){if(e===this.props.densityScale)return;const{barrel:{id:t},barrelType:n}=this.props;h.b.updateDensityScale({bid:t,barrelType:n,densityScale:e,syncWithApi:!0})}handleRemoveIntegration(e,t){h.b.removeIntegration({intype:e,inid:t,syncWithApi:!0})}handleShareContentOpen(){this.setState({shareContentOpen:!0})}handleShareContentClose(){this.setState({shareContentOpen:!1})}handleDescriptionSubmit(e){if(e===this.props.barrel.description)return;const{barrel:{id:t},barrelType:n}=this.props;h.b.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})}handleMemberClick(e){this.highlightedMemberId=e,this.setState({membersDialogOpen:!0})}handleAddMembers(e){h.b.addMembers({members:e.detail.users,syncWithApi:!0})}handleRemoveMember({user:{_id:e}}){h.b.removeMember({mid:e,syncWithApi:!0})}handleAssignAdmin({user:{_id:e}}){h.b.updateUserRole({uid:e,role:"admin",syncWithApi:!0})}handleUnassignAdmin({user:{_id:e}}){h.b.updateUserRole({uid:e,role:"user",syncWithApi:!0})}handleTransferOwnership({user:{_id:e}}){h.b.transferOwnership({uid:e,syncWithApi:!0})}handleSelectParent(){const{barrel:{id:e}}=this.props,{selectedParentStyleguide:t}=this.state;A.b.selectParentRequest({stid:e,parent:t._id,syncWithApi:!0})}handleRemoveParent(){const{barrel:{id:e,parent:t}}=this.props;A.b.removeParent({stid:e,oldParent:t,syncWithApi:!0})}renderSelectParentDialog(){const{barrel:e}=this.props,{selectedParentStyleguide:t}=this.state,{name:n,type:s,parent:a}=e,{name:o,type:r}=t,l=s===r||r===P.c.BASE,c=a?"Change":"Select",d=a?"to":"as",u=`“${n}”`+(l?"":` (${P.d[s]})`),h=`“${o}”`+(l?"":` (${P.d[r]})`);return i.h(L.a,{title:`${c} parent styleguide of ${u} ${d} ${h}?`,message:"Styleguide parent can be changed later.",positiveButtonText:`${a?"CHANGE":"SELECT"}${l?"":" ANYWAY"}`,onPositiveButtonClick:this.handleSelectParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeSelectParentDialog})}renderRemoveParentDialog(){const{barrel:e}=this.props;return i.h(L.a,{message:`Remove parent styleguide of “${e.name}”?`,positiveButtonText:"REMOVE PARENT",onPositiveButtonClick:this.handleRemoveParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeRemoveParentDialog})}renderDensityChangeAction(){if(!this.props.hover)return null;const{barrelUser:e}=this.props,t=this.canUpdateBarrel?"Update project density.":Object(c.a)(e.role,"update project density"),n=!this.canUpdateBarrel;return i.h(y.a,{content:t},i.h("button",{onClick:this.openDensityDialog,class:"changeDensityButton",disabled:n},i.h(N.o,{color:n?"#C1BEC1":"#554D56"})))}renderName(){const{barrel:e,barrelUser:t,barrelType:n}=this.props,{name:s}=e,a=i.h(b.a,{readonly:!this.canUpdateBarrel,onBlur:this.handleRename,value:s});return this.canUpdateBarrel?a:i.h(y.a,{content:Object(c.a)(t.role,`rename ${n}s`)},a)}renderDensityAndType(){const{barrel:e}=this.props,{type:t,densityScale:n}=e;return i.h("div",{class:"densityAndType"},i.h("div",{class:"info"},Object(r.s)(t),", ",Object(r.p)(t,n)),this.renderDensityChangeAction())}renderShareContent(){const{barrel:e,barrelType:t,shortlinks:n}=this.props,{id:s,public:a}=e;return i.h(D.a,{barrelType:t,barrelId:s,shortlinks:n,sceneEnabled:a,canChangeProjectAccesibility:this.canUserChangeBarrelAccesibility,onEnableScene:h.b.enableScene,onUnshare:h.b.unshareScene})}renderShareButton(){const{shareContentOpen:e}=this.state;return i.h("div",{class:"shareButtonContainer"},i.h(_.a,{open:e,onOpen:this.handleShareContentOpen,onClose:this.handleShareContentClose,content:this.renderShareContent,left:12,centerY:!0,faceTop:!0,showAnchor:!0},i.h(O.a,{class:"shareButton",primary:!0},"Share")))}renderDescription(){const{barrel:e,barrelType:t}=this.props,{description:n}=e;return t===g.a.STYLEGUIDE?null:[i.h(C.a,{key:"descriptionSubtitle",class:"descriptionSubtitle",title:"Description"}),i.h("div",{key:"descriptionTextArea",class:"descriptionTextAreaContainer"},i.h(E.a,{class:"descriptionTextArea",value:n,placeholder:this.canUpdateBarrel?"Got any notes?":"No description yet",readOnly:!this.canUpdateBarrel,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,autoEdit:!0,formatter:u.b,showEmojiAutoComplete:!0,maxLength:1024})),i.h(v.a,{key:"descriptionSeparator"})]}renderMembers(){const{barrel:e,barrelUser:t,barrelType:n,organizationId:s}=this.props,{membersDialogOpen:a}=this.state,{id:o,name:r,users:l}=e;let c=null;if(a){const e=this.highlightedMemberId;this.highlightedMemberId=null,c=i.h(w.a,null,i.h(k.a,{key:"membersDialog",members:l,barrelUser:t,barrelType:n,barrelId:o,barrelName:r,isOrganizationProject:this.isOrganizationProject,organizationId:s,highlight:e,onLeave:this.handleRemoveMember,onAddMembers:this.handleAddMembers,onRemoveMember:this.handleRemoveMember,onAssignAdmin:this.handleAssignAdmin,onUnassignAdmin:this.handleUnassignAdmin,onTransferOwnership:this.handleTransferOwnership,onClose:this.closeMembersDialog,onUpgrade:m.a}))}return[i.h(C.a,{key:"membersSubtitle",title:"Members",onSettingsButtonClick:this.openMembersDialog,withSettingsButton:!0}),i.h("div",{key:"inviteButton",class:"inviteButtonContainer"},i.h(O.a,{secondary:!0,class:"inviteButton",baseRef:Object(d.a)(this,"inviteButton"),onClick:this.toggleInvitePopup},"Invite")),i.h(T.a,{key:"memberList",members:l,barrelUser:t,onMemberClick:this.handleMemberClick}),c]}renderDensityDialog(){const{barrel:e}=this.props,{densityDialogOpen:t}=this.state,{type:n,densityScale:s}=e;return t?"base"===n?i.h(R.a,{selectedValue:s,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):i.h(j.a,{type:n,selectedValue:s,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):null}renderParentStyleguides(){const{barrel:e,barrelType:t,barrelUser:n,loadingSelectParent:s,currentOrganizationStyleguides:a}=this.props,{id:o,users:r,ancestors:l,parent:c}=e;if(t===g.a.PROJECT)return null;const d=Object(x.c)({isOrganizationStyleguide:this.isOrganizationProject,currentStyleguides:a,currentUser:n,id:o,parentId:c,users:r}),u=function(e,t){return e.map(e=>{const n=t.find(t=>t._id===e);return n?n.name:null}).filter(Boolean).reverse()}(l,a);return i.h(I.a,{barrelUser:n,selectableStyleguides:d,parentNames:u,isOrganization:this.isOrganizationProject,loading:s,onParentSelect:this.openSelectParentDialog,onParentRemove:this.openRemoveParentDialog})}render(){const{width:e,hover:t,onRelease:n,barrelType:s,barrel:a,barrelUser:o,extensionsLoaded:r,extensionTitles:c,showSlackReconnectionAuntie:u}=this.props,{shareContentOpen:g,invitePopupOpen:m,selectParentDialogOpen:b,removeParentDialogOpen:y}=this.state,{id:E,name:O}=a;return i.h(f.a,{class:Object(l.a)("barrelSidebar",{shareContentOpen:g,invitePopupOpen:m}),minWidth:260,initialWidth:e,baseRef:Object(d.a)(this,"sidebar"),onContentScroll:this.handleContentScroll,onRelease:n},this.renderName(),this.renderDensityAndType(),i.h(S.a,{barrelId:E,barrelName:O,barrelType:s,barrelUser:o,slackChannels:this.slackChannels,jiraIntegration:this.jiraIntegration,onAddToSlack:h.b.addToSlack,onOpenPreferences:p.a.open,showConfigurationButtons:t,showSlackReconnectionAuntie:u,onRemoveIntegration:this.handleRemoveIntegration,canUpdateProject:this.canUpdateBarrel}),this.renderShareButton(),i.h(v.a,null),this.renderDescription(),this.renderParentStyleguides(),i.h(C.a,{title:"Extensions",onSettingsButtonClick:h.b.openExtensionSettings,withSettingsButton:!0,settingsButtonDisabled:!r}),i.h("div",{class:"extensionsContainer"},i.h("div",{class:"extensions ellipsis",title:c},c)),i.h(v.a,null),this.renderMembers(),this.renderDensityDialog(),b&&this.renderSelectParentDialog(),y&&this.renderRemoveParentDialog())}}),z=e=>i.h(B,M({},e,{ignoreOverlays:!1}));z.Loading=f.a.Loading,t.a=z},function(e,t,n){var i,s,a;
/*!
 * Autolinker.js
 * 1.6.2
 *
 * Copyright(c) 2018 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */!function(n,o){s=[],void 0===(a="function"==typeof(i=o)?i.apply(t,s):i)||(e.exports=a)}(0,function(){var e=function(t){t=t||{},this.version=e.version,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"!=typeof t.email||t.email,this.phone="boolean"!=typeof t.phone||t.phone,this.hashtag=t.hashtag||!1,this.mention=t.mention||!1,this.newWindow="boolean"!=typeof t.newWindow||t.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"!=typeof t.stripTrailingSlash||t.stripTrailingSlash,this.decodePercentEncoding="boolean"!=typeof t.decodePercentEncoding||t.decodePercentEncoding;var n=this.mention;if(!1!==n&&"twitter"!==n&&"instagram"!==n)throw new Error("invalid `mention` cfg - see docs");var i=this.hashtag;if(!1!==i&&"twitter"!==i&&"facebook"!==i&&"instagram"!==i)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||"",this.replaceFn=t.replaceFn||null,this.context=t.context||this,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return e.link=function(t,n){return new e(n).link(t)},e.parse=function(t,n){return new e(n).parse(t)},e.version="1.6.2",e.prototype={constructor:e,normalizeUrlsCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},normalizeStripPrefixCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},normalizeTruncateCfg:function(t){return"number"==typeof t?{length:t,location:"end"}:e.Util.defaults(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(e){for(var t=this.getHtmlParser().parse(e),n=0,i=[],s=0,a=t.length;s<a;s++){var o=t[s],r=o.getType();if("element"===r&&"a"===o.getTagName())o.isClosing()?n=Math.max(n-1,0):n++;else if("text"===r&&0===n){var l=this.parseText(o.getText(),o.getOffset());i.push.apply(i,l)}}return i=this.compactMatches(i),i=this.removeUnwantedMatches(i)},compactMatches:function(e){e.sort(function(e,t){return e.getOffset()-t.getOffset()});for(var t=0;t<e.length-1;t++){var n=e[t],i=n.getOffset(),s=n.getMatchedText().length,a=i+s;if(t+1<e.length){if(e[t+1].getOffset()===i){var o=e[t+1].getMatchedText().length>s?t:t+1;e.splice(o,1);continue}e[t+1].getOffset()<=a&&e.splice(t+1,1)}}return e},removeUnwantedMatches:function(t){var n=e.Util.remove;return this.hashtag||n(t,function(e){return"hashtag"===e.getType()}),this.email||n(t,function(e){return"email"===e.getType()}),this.phone||n(t,function(e){return"phone"===e.getType()}),this.mention||n(t,function(e){return"mention"===e.getType()}),this.urls.schemeMatches||n(t,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()}),this.urls.wwwMatches||n(t,function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()}),this.urls.tldMatches||n(t,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()}),t},parseText:function(e,t){t=t||0;for(var n=this.getMatchers(),i=[],s=0,a=n.length;s<a;s++){for(var o=n[s].parseMatches(e),r=0,l=o.length;r<l;r++)o[r].setOffset(t+o[r].getOffset());i.push.apply(i,o)}return i},link:function(e){if(!e)return"";for(var t=this.parse(e),n=[],i=0,s=0,a=t.length;s<a;s++){var o=t[s];n.push(e.substring(i,o.getOffset())),n.push(this.createMatchReturnVal(o)),i=o.getOffset()+o.getMatchedText().length}return n.push(e.substring(i)),n.join("")},createMatchReturnVal:function(t){var n;return this.replaceFn&&(n=this.replaceFn.call(this.context,t)),"string"==typeof n?n:!1===n?t.getMatchedText():n instanceof e.HtmlTag?n.toAnchorString():t.buildTag().toAnchorString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new e.htmlParser.HtmlParser),t},getMatchers:function(){if(this.matchers)return this.matchers;var t=e.matcher,n=this.getTagBuilder(),i=[new t.Hashtag({tagBuilder:n,serviceName:this.hashtag}),new t.Email({tagBuilder:n}),new t.Phone({tagBuilder:n}),new t.Mention({tagBuilder:n,serviceName:this.mention}),new t.Url({tagBuilder:n,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=i},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new e.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},e.match={},e.matcher={},e.htmlParser={},e.truncate={},e.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},defaults:function(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e},extend:function(t,n){var i,s=t.prototype,a=function(){};a.prototype=s;var o=(i=n.hasOwnProperty("constructor")?n.constructor:function(){s.constructor.apply(this,arguments)}).prototype=new a;return o.constructor=i,o.superclass=s,delete n.constructor,e.Util.assign(o,n),i},ellipsis:function(e,t,n){var i;return e.length>t&&(null==n?(n="&hellip;",i=3):i=n.length,e=e.substring(0,t-i)+n),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},remove:function(e,t){for(var n=e.length-1;n>=0;n--)!0===t(e[n])&&e.splice(n,1)},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,i=[],s=0;n=t.exec(e);)i.push(e.substring(s,n.index)),i.push(n[0]),s=n.index+n[0].length;return i.push(e.substring(s)),i},trim:function(e){return e.replace(this.trimRegex,"")}},e.HtmlTag=e.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){e.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){return this.getAttrs()[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(t){var n=this.getAttrs();return e.Util.assign(n,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(t){for(var n,i=this.getClass(),s=this.whitespaceRegex,a=e.Util.indexOf,o=i?i.split(s):[],r=t.split(s);n=r.shift();)-1===a(o,n)&&o.push(n);return this.getAttrs().class=o.join(" "),this},removeClass:function(t){for(var n,i=this.getClass(),s=this.whitespaceRegex,a=e.Util.indexOf,o=i?i.split(s):[],r=t.split(s);o.length&&(n=r.shift());){var l=a(o,n);-1!==l&&o.splice(l,1)}return this.getAttrs().class=o.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")}}),e.RegexLib=function(){var e="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",t="0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",n=e+t,i=function(e){return"(?=([A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９](?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９\\-]{0,61}[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９])?))\\"+e};return{alphaNumericCharsStr:n,alphaCharsStr:e,getDomainNameStr:function(e){return"(?:"+i(e)+"(?:\\."+i(e+1)+"){0,126}|(?:[0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]{1,3}\\.){3}[0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]{1,3})"}}}(),e.AnchorTagBuilder=e.Util.extend(Object,{constructor:function(e){e=e||{},this.newWindow=e.newWindow,this.truncate=e.truncate,this.className=e.className},build:function(t){return new e.HtmlTag({tagName:"a",attrs:this.createAttrs(t),innerHtml:this.processAnchorText(t.getAnchorText())})},createAttrs:function(e){var t={href:e.getAnchorHref()},n=this.createCssClass(e);return n&&(t.class=n),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},createCssClass:function(e){var t=this.className;if(t){for(var n=[t],i=e.getCssClassSuffixes(),s=0,a=i.length;s<a;s++)n.push(t+"-"+i[s]);return n.join(" ")}return""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(t){var n=this.truncate;if(!n||!n.length)return t;var i=n.length,s=n.location;return"smart"===s?e.truncate.TruncateSmart(t,i):"middle"===s?e.truncate.TruncateMiddle(t,i):e.truncate.TruncateEnd(t,i)}}),e.htmlParser.HtmlParser=e.Util.extend(Object,{htmlRegex:function(){var e=/[0-9a-zA-Z][0-9a-zA-Z:]*/,t=/[^\s"'>\/=\x00-\x1F\x7F]+/,n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,i="(?:\\s*?=\\s*?"+n.source+")?",s=function(e){return"(?=("+t.source+"))\\"+e+i};return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",s(2),"|",n.source+")",")*",">",")","|","(?:","<(/)?","(?:",/!--([\s\S]+?)--/.source,"|","(?:","("+e.source+")","\\s*/?",")","|","(?:","("+e.source+")","\\s+","(?:","(?:\\s+|\\b)",s(7),")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,n,i=this.htmlRegex,s=0,a=[];null!==(t=i.exec(e));){var o=t[0],r=t[4],l=t[1]||t[5]||t[6],c=!!t[3],d=t.index,u=e.substring(s,d);u&&(n=this.parseTextAndEntityNodes(s,u),a.push.apply(a,n)),r?a.push(this.createCommentNode(d,o,r)):a.push(this.createElementNode(d,o,l,c)),s=d+o.length}if(s<e.length){var h=e.substring(s);h&&(n=this.parseTextAndEntityNodes(s,h)).forEach(function(e){a.push(e)})}return a},parseTextAndEntityNodes:function(t,n){for(var i=[],s=e.Util.splitAndCapture(n,this.htmlCharacterEntitiesRegex),a=0,o=s.length;a<o;a+=2){var r=s[a],l=s[a+1];r&&(i.push(this.createTextNode(t,r)),t+=r.length),l&&(i.push(this.createEntityNode(t,l)),t+=l.length)}return i},createCommentNode:function(t,n,i){return new e.htmlParser.CommentNode({offset:t,text:n,comment:e.Util.trim(i)})},createElementNode:function(t,n,i,s){return new e.htmlParser.ElementNode({offset:t,text:n,tagName:i.toLowerCase(),closing:s})},createEntityNode:function(t,n){return new e.htmlParser.EntityNode({offset:t,text:n})},createTextNode:function(t,n){return new e.htmlParser.TextNode({offset:t,text:n})}}),e.htmlParser.HtmlNode=e.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(t){if(e.Util.assign(this,t),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:e.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),e.htmlParser.CommentNode=e.Util.extend(e.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),e.htmlParser.ElementNode=e.Util.extend(e.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),e.htmlParser.EntityNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"entity"}}),e.htmlParser.TextNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"text"}}),e.match.Match=e.Util.extend(Object,{constructor:function(e){if(null==e.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==e.matchedText)throw new Error("`matchedText` cfg required");if(null==e.offset)throw new Error("`offset` cfg required");this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset},getType:e.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(e){this.offset=e},getOffset:function(){return this.offset},getAnchorHref:e.Util.abstractMethod,getAnchorText:e.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}}),e.match.Email=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.email)throw new Error("`email` cfg required");this.email=t.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),e.match.Hashtag=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=t.serviceName,this.hashtag=t.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}}),e.match.Phone=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.number)throw new Error("`number` cfg required");if(null==t.plusSign)throw new Error("`plusSign` cfg required");this.number=t.number,this.plusSign=t.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),e.match.Mention=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.serviceName)throw new Error("`serviceName` cfg required");if(!t.mention)throw new Error("`mention` cfg required");this.mention=t.mention,this.serviceName=t.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var t=e.match.Match.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();return n&&t.push(n),t}}),e.match.Url=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),"scheme"!==t.urlMatchType&&"www"!==t.urlMatchType&&"tld"!==t.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!t.url)throw new Error("`url` cfg required");if(null==t.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==t.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");if(null==t.decodePercentEncoding)throw new Error("`decodePercentEncoding` cfg required");this.urlMatchType=t.urlMatchType,this.url=t.url,this.protocolUrlMatch=t.protocolUrlMatch,this.protocolRelativeMatch=t.protocolRelativeMatch,this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},stripSchemePrefix:function(e){return e.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(e){return e.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},removePercentEncoding:function(e){try{return decodeURIComponent(e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;"))}catch(t){return e}}}),e.tldRegex=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|संगठन|বাংলা|భారత్|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بيتك|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ਭਾਰਤ|ભારત|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,e.matcher.Matcher=e.Util.extend(Object,{constructor:function(e){if(!e.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=e.tagBuilder},parseMatches:e.Util.abstractMethod}),e.matcher.Email=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=e.RegexLib.alphaNumericCharsStr+"!#$%&'*+\\-\\/=?^_`{|}~",n=new RegExp("(?:["+t+"](?:["+t+']|\\.(?!\\.|@))*|\\"['+(t+'\\s"(),:;<>@\\[\\]')+'.]+\\")@'),i=e.RegexLib.getDomainNameStr,s=e.tldRegex;return new RegExp([n.source,i(1),"\\.",s.source].join(""),"gi")}(),parseMatches:function(t){for(var n,i=this.matcherRegex,s=this.tagBuilder,a=[];null!==(n=i.exec(t));){var o=n[0];a.push(new e.match.Email({tagBuilder:s,matchedText:o,offset:n.index,email:o}))}return a}}),e.matcher.Hashtag=e.Util.extend(e.matcher.Matcher,{matcherRegex:new RegExp("#[_"+e.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){for(var n,i=this.matcherRegex,s=this.nonWordCharRegex,a=this.serviceName,o=this.tagBuilder,r=[];null!==(n=i.exec(t));){var l=n.index,c=t.charAt(l-1);if(0===l||s.test(c)){var d=n[0],u=n[0].slice(1);r.push(new e.match.Hashtag({tagBuilder:o,matchedText:d,offset:l,serviceName:a,hashtag:u}))}}return r}}),e.matcher.Phone=e.Util.extend(e.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4}([,;]*[0-9]+#?)*/g,parseMatches:function(t){for(var n,i=this.matcherRegex,s=this.tagBuilder,a=[];null!==(n=i.exec(t));){var o=n[0],r=o.replace(/[^0-9,;#]/g,""),l=!!n[1];this.testMatch(n[2])&&this.testMatch(o)&&a.push(new e.match.Phone({tagBuilder:s,matchedText:o,offset:n.index,number:r,plusSign:l}))}return a},testMatch:function(e){return/\D/.test(e)}}),e.matcher.Mention=e.Util.extend(e.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+e.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+e.RegexLib.alphaNumericCharsStr+"]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){var n,i=this.matcherRegexes[this.serviceName],s=this.nonWordCharRegex,a=this.serviceName,o=this.tagBuilder,r=[];if(!i)return r;for(;null!==(n=i.exec(t));){var l=n.index,c=t.charAt(l-1);if(0===l||s.test(c)){var d=n[0].replace(/\.+$/g,""),u=d.slice(1);r.push(new e.match.Mention({tagBuilder:o,matchedText:d,offset:l,serviceName:a,mention:u}))}}return r}}),e.matcher.Url=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=e.RegexLib.getDomainNameStr,n=e.tldRegex,i=e.RegexLib.alphaNumericCharsStr,s=new RegExp("[/?#](?:["+i+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+i+"\\-+&@#/%=~_()|'$*\\[\\]✓])?");return new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,t(2),")","|","(","(//)?",/(?:www\.)/.source,t(6),")","|","(","(//)?",t(10)+"\\.",n.source,"(?![-"+i+"])",")",")","(?::[0-9]+)?","(?:"+s.source+")?"].join(""),"gi")}(),wordCharRegExp:new RegExp("["+e.RegexLib.alphaNumericCharsStr+"]"),openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(t){if(e.matcher.Matcher.prototype.constructor.call(this,t),null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},parseMatches:function(t){for(var n,i=this.matcherRegex,s=this.stripPrefix,a=this.stripTrailingSlash,o=this.decodePercentEncoding,r=this.tagBuilder,l=[];null!==(n=i.exec(t));){var c=n[0],d=n[1],u=n[4],h=n[5],p=n[9],g=n.index,m=h||p,f=t.charAt(g-1);if(e.matcher.UrlMatchValidator.isValid(c,d)&&!(g>0&&"@"===f||g>0&&m&&this.wordCharRegExp.test(f))){if(/\?$/.test(c)&&(c=c.substr(0,c.length-1)),this.matchHasUnbalancedClosingParen(c))c=c.substr(0,c.length-1);else{var b=this.matchHasInvalidCharAfterTld(c,d);b>-1&&(c=c.substr(0,b))}var y=d?"scheme":u?"www":"tld",S=!!d;l.push(new e.match.Url({tagBuilder:r,matchedText:c,offset:g,urlMatchType:y,url:c,protocolUrlMatch:S,protocolRelativeMatch:!!m,stripPrefix:s,stripTrailingSlash:a,decodePercentEncoding:o}))}}return l},matchHasUnbalancedClosingParen:function(e){if(")"===e.charAt(e.length-1)){var t=e.match(this.openParensRe),n=e.match(this.closeParensRe);if((t&&t.length||0)<(n&&n.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(t,n){if(!t)return-1;var i=0;n&&(i=t.indexOf(":"),t=t.slice(i));var s=e.RegexLib.alphaNumericCharsStr,a=new RegExp("^((.?//)?[-."+s+"]*[-"+s+"]\\.[-"+s+"]+)").exec(t);return null===a?-1:(i+=a[1].length,t=t.slice(a[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(t)?i:-1)}}),e.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:new RegExp(":[^\\s]*?["+e.RegexLib.alphaCharsStr+"]"),ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},isValidIpAddress:function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},containsMultipleDots:function(e){var t=e;return this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]),t.split("/")[0].indexOf("..")>-1},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)}},e.truncate.TruncateEnd=function(t,n,i){return e.Util.ellipsis(t,n,i)},e.truncate.TruncateMiddle=function(e,t,n){if(e.length<=t)return e;var i,s;null==n?(n="&hellip;",i=8,s=3):(i=n.length,s=n.length);var a=t-s,o="";return a>0&&(o=e.substr(-1*Math.floor(a/2))),(e.substr(0,Math.ceil(a/2))+n+o).substr(0,a+i)},e.truncate.TruncateSmart=function(e,t,n){var i,s;null==n?(n="&hellip;",s=3,i=8):(s=n.length,i=n.length);var a=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},o=function(e,t){var i=t/2,s=Math.ceil(i),a=-1*Math.floor(i),o="";return a<0&&(o=e.substr(a)),e.substr(0,s)+n+o};if(e.length<=t)return e;var r=t-s,l=function(e){var t={},n=e,i=n.match(/^([a-z]+):\/\//i);return i&&(t.scheme=i[1],n=n.substr(i[0].length)),(i=n.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=i[1],n=n.substr(i[0].length)),(i=n.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=i[1],n=n.substr(i[0].length)),(i=n.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=i[1],n=n.substr(i[0].length)),(i=n.match(/^#(.*?)$/i))&&(t.fragment=i[1]),t}(e);if(l.query){var c=l.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);c&&(l.query=l.query.substr(0,c[1].length),e=a(l))}if(e.length<=t)return e;if(l.host&&(l.host=l.host.replace(/^www\./,""),e=a(l)),e.length<=t)return e;var d="";if(l.host&&(d+=l.host),d.length>=r)return l.host.length==t?(l.host.substr(0,t-s)+n).substr(0,r+i):o(d,r).substr(0,r+i);var u="";if(l.path&&(u+="/"+l.path),l.query&&(u+="?"+l.query),u){if((d+u).length>=r)return(d+u).length==t?(d+u).substr(0,t):(d+o(u,r-d.length)).substr(0,r+i);d+=u}if(l.fragment){var h="#"+l.fragment;if((d+h).length>=r)return(d+h).length==t?(d+h).substr(0,t):(d+o(h,r-d.length)).substr(0,r+i);else d+=h}if(l.scheme&&l.host){var p=l.scheme+"://";if((d+p).length<r)return(p+d).substr(0,t)}if(d.length<=t)return d;var g="";return r>0&&(g=d.substr(-1*Math.floor(r/2))),(d.substr(0,Math.ceil(r/2))+n+g).substr(0,r+i)},e})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(43),r=n(3),l=n(14),c=n(56),d=n(1332);n.n(d);const u={pointer:{down:"pointerdown",move:"pointermove",up:"pointerup"},touch:{down:"touchstart",move:"touchmove",up:"touchend"},mouse:{down:"mousedown",move:"mousemove",up:"mouseup"}};function h(e){const t="PointerEvent"in window?"pointer":"ontouchstart"in document?"touch":"mouse";return u[t][e]}class p extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleResizingClick=this.handleResizingClick.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this);const{initialWidth:t,minWidth:n,collapsed:i}=e;this.state={cursorType:"resize",width:Math.max(t,n),collapsed:i,resizing:!1}}collapse(){const{onCollapse:e}=this.props;e&&e(),this.setState({collapsed:!0})}expand(){const{onExpand:e}=this.props;e&&e(),this.setState({collapsed:!1})}updateCursorType(){const{collapsed:e,width:t,cursorType:n}=this.state,{minWidth:i,resizingSide:s}=this.props,{clientWidth:a}=this.nodeRefs.base;let o;(o=e||t<i?"left"===s?"west":"east":Math.floor(t)>a?"right"===s?"west":"east":Math.floor(t)===a&&"resize"!==n?n:"resize")!==n&&(document.body.dataset.resizeCursor=o,this.setState({cursorType:o}))}handleBaseRef(e){Object(l.a)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleMouseMove(e){e.preventDefault(),requestAnimationFrame(()=>{const{base:t}=this.nodeRefs;if(!t)return;const{minWidth:n,resizingSide:i,onCollapse:s,onExpand:a}=this.props,{collapsed:o}=this.state,{left:r,right:l}=t.getBoundingClientRect(),c=e.clientX||e.changedTouches&&e.changedTouches[0].clientX;let d,u;if(c){if(d="right"===i?Math.max(0,c-r):Math.max(0,l-c),o){if(d<n/2)return;u=!1,d=Math.max(d,n)}else if(d<n){if(d>n/2)return;u=!0}this.setState({collapsed:u,width:d}),!o&&u&&s?s():o&&!u&&a&&a()}})}handleMouseUp(e){document.removeEventListener(h("move"),this.handleMouseMove),document.removeEventListener(h("up"),this.handleMouseUp),e.stopPropagation(),requestAnimationFrame(()=>{const{base:e}=this.nodeRefs;if(!e)return;const{onRelease:t}=this.props,{collapsed:n}=this.state,i=e.clientWidth;document.body.classList.remove("resizing"),delete document.body.dataset.resizeCursor,t&&t(i,{collapsed:n}),this.setState({width:i,resizing:!1})})}handleResizerMouseDown(){document.addEventListener(h("move"),this.handleMouseMove),document.addEventListener(h("up"),this.handleMouseUp),document.addEventListener("click",this.handleResizingClick,!0),document.body.classList.add("resizing"),document.body.dataset.resizeCursor=this.state.cursorType,this.setState({resizing:!0})}handleResizingClick(e){e.stopImmediatePropagation(),e.stopPropagation(),document.removeEventListener("click",this.handleResizingClick,!0)}componentDidMount(){this.nodeRefs.resizer.addEventListener(h("down"),this.handleResizerMouseDown)}componentDidUpdate(e,t){this.updateCursorType(),this.props.onResize&&this.state.resizing&&t.width!==this.state.width&&this.props.onResize(this.nodeRefs.base.clientWidth)}componentWillUnmount(){document.removeEventListener(h("move"),this.handleMouseMove),document.removeEventListener(h("up"),this.handleMouseUp),this.nodeRefs.resizer.removeEventListener(h("down"),this.handleResizerMouseDown)}render(){const{collapsed:e,resizing:t,width:n,cursorType:s}=this.state,{children:a,class:c,resizingSide:d="left",compact:u,minWidth:h,paddingBottom:p,noScroll:g,onClick:m}=this.props,f={},b=Object(r.a)("sidebar",c,d,{resizing:t,collapsed:e,compact:u});return e||Object.assign(f,{minWidth:h?`${h}px`:"",width:n?`${n}px`:"",paddingBottom:p?`${p}px`:""}),i.h("div",{class:b,style:f,onClick:m,ref:this.handleBaseRef},i.h("div",{class:Object(r.a)("content",{noScroll:g})},i.toChildArray(a)),i.h("div",{class:Object(r.a)("resizer",`cursor${s}`),ref:Object(l.a)(this,"resizer")},i.h(o.v,{color:"var(--gandalf)"})))}}p.Loading=(()=>i.h("div",{class:"sidebar loading"})),p.propTypes={children:a.a.node,class:a.a.string,compact:a.a.bool,collapsed:a.a.bool,initialWidth:a.a.number,minWidth:a.a.number,resizingSide:a.a.oneOf(["left","right"]),noScroll:a.a.bool,onRelease:a.a.func,onResize:a.a.func,onCollapse:a.a.func,onExpand:a.a.func},p.defaultProps={collapsed:Object(c.l)(),initialWidth:0,minWidth:0,resizingSide:"left"},t.a=p},function(e,t){},function(e,t,n){"use strict";var i=n(1334);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(14),a=n(3),o=n(1335);n.n(o);t.a=class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={value:this.props.value,editing:!1,originalValue:this.props.value},this.handleKeyDown=(e=>{e.keyCode===Zeplin.KEY_CODE.ESC?(this.setState(e=>({value:e.originalValue})),e.target.blur(),e.preventDefault()):e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault())}),this.handleMouseDown=(()=>{this.setState({editing:!0})}),this.handleInput=(e=>{this.setState({editing:!0,value:e.target.value})}),this.handleBlur=(()=>{const{onBlur:e}=this.props,{value:t,originalValue:n}=this.state,i=t.trim();this.setState({value:i||n,editing:!1}),i&&e(i)}),t}ellipsizeMirrorIfNecessary(){if(CSS.supports("-webkit-line-clamp",2))return;const e=this.nodeRefs.mirror;if(e.scrollHeight<=e.clientHeight)return;let{value:t}=this.state;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=`${t}…`}componentDidMount(){this.ellipsizeMirrorIfNecessary(),this.nodeRefs.textarea.scrollTop=0}componentWillReceiveProps(e){const{editing:t}=this.state;if(t)return;const{value:n}=e;this.setState({value:n,originalValue:n})}componentDidUpdate(){this.ellipsizeMirrorIfNecessary();const{editing:e}=this.state;e?this.nodeRefs.textarea.focus():(this.nodeRefs.textarea.scrollTop=0,this.nodeRefs.textarea.setSelectionRange(0,0))}render(){const{readonly:e}=this.props,{value:t,editing:n}=this.state;return i.h("div",{class:Object(a.a)("barrelNameTextArea",{editing:n,readonly:e})},i.h("div",{class:"mirror",ref:Object(s.a)(this,"mirror"),title:t},t),i.h("textarea",{onBlur:this.handleBlur,value:t,minlength:"1",maxlength:"100",onInput:this.handleInput,onKeyDown:this.handleKeyDown,onMouseDown:e?null:this.handleMouseDown,ref:Object(s.a)(this,"textarea"),readonly:e}),n&&i.h("div",{class:"underline"}),!n&&!e&&i.h("div",{class:"dashedLine"}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1337);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(319),a=n(13),o=n(26),r=n(100),l=n(208),c=n(638),d=n(1338),u=n(701),h=n(34),p=n(43),g=n(31),m=n(699),f=n(1343);n.n(f);t.a=class extends r.a{constructor(e){super(e),this.handleReconnectSlackIntegration=this.handleReconnectSlackIntegration.bind(this),this.handleAddToJiraClick=this.handleAddToJiraClick.bind(this)}handleAddToJiraClick(){Object(o.l)("https://zpl.io/jira")}handleReconnectSlackIntegration(){const{barrelId:e,barrelType:t,slackChannels:[n]}=this.props;g.b.hideSlackReconnectionAuntie(),a[t].deleteIntegration(e,"slacks",n).then(this.addToSlack)}renderSlackReconnectionAuntie(){const{slackChannels:e}=this.props,t=e.filter(e=>!e.scope.includes("emoji"));return 0===t.length?null:t.length>1?i.h(c.a,{content:"You can now use your custom Slack emojis in Zeplin! Remove an existing integration and re-add it to get started.",hideCallback:g.b.hideSlackReconnectionAuntie}):i.h(c.a,{content:"You can now use your custom Slack emojis in Zeplin! Reconnect Slack to get started.",actionButton:{text:"Reconnect",callback:this.handleReconnectSlackIntegration},hideCallback:g.b.hideSlackReconnectionAuntie})}renderAddToSlackButton(){const{barrelUser:e,onAddToSlack:t,canUpdateProject:n}=this.props;return n?i.h(h.a,{class:"addToButton",onClick:t,secondary:!0},i.h(p.C,{class:"logo"}),i.h("span",null,"Add to Slack")):i.h(l.a,{content:Object(s.a)(e.role,"add projects to Slack")},i.h(h.a,{class:"addToButton",disabled:!0,secondary:!0},i.h(p.C,{class:"logo",disabled:!0}),i.h("span",null,"Add to Slack")))}renderAddToJiraButton(){const{barrelUser:e,canUpdateProject:t}=this.props;return t?i.h(h.a,{class:"addToButton",onClick:this.handleAddToJiraClick,secondary:!0},i.h(u.a,{class:"logo"}),i.h("span",null,"Connect to Jira")):i.h(l.a,{content:Object(s.a)(e.role,"connect projects to Jira")},i.h(h.a,{class:"addToButton",disabled:!0,secondary:!0},i.h(u.a,{class:"logo",disabled:!0}),i.h("span",null,"Connect to Jira")))}render(){const{barrelId:e,barrelUser:t,slackChannels:n,jiraIntegration:s,showSlackReconnectionAuntie:a,showConfigurationButtons:o,onRemoveIntegration:r,onAddToSlack:l,onOpenPreferences:c,canUpdateProject:u}=this.props;return i.h("div",{class:"integrationsContainer"},i.h("div",{class:"existingIntegrations"},n&&n.length&&i.h("div",{class:"slackChannels"},n.map(e=>i.h(d.a,{key:e._id,channel:e,barrelUser:t,showConfigurationButton:o,onAddAnother:l,onOpenPreferences:c,onRemove:r,canUpdateProject:u})),a&&this.renderSlackReconnectionAuntie()),i.h("div",{class:"jiraIntegration"},i.h(m.a,{items:[{itemType:"project",itemId:e,label:"Attached to "}]}))),i.h("div",{className:"newIntegrations"},!n&&i.h("div",{class:"addToButtonContainer"},this.renderAddToSlackButton()),!s&&i.h("div",{className:"addToButtonContainer"},this.renderAddToJiraButton())))}}},function(e,t,n){"use strict";var i=n(1339);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(319),a=n(26),o=n(100),r=n(707),l=n(156),c=n(3),d=n(208),u=n(43),h=n(700),p=n(1342);n.n(p);t.a=class extends o.a{constructor(e){super(e),this.state={menuOpen:!1},this.handleMenuOpen=this.handleMenuOpen.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleAddAnotherClick=this.handleAddAnotherClick.bind(this),this.handleViewInSlackClick=this.handleViewInSlackClick.bind(this),this.handlePreferencesClick=this.handlePreferencesClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleMenuOpen(){this.setState({menuOpen:!0})}handleMenuClose(){this.setState({menuOpen:!1})}handleAddAnotherClick(){const{onAddAnother:e}=this.props;e()}handleViewInSlackClick(){const{channel:{incomingWebHook:{configurationURL:e}}}=this.props;Object(a.l)(e)}handlePreferencesClick(){const{onOpenPreferences:e,channel:t}=this.props;e(t._id,t.incomingWebHook.channel)}handleRemoveClick(){const{onRemove:e,channel:{_id:t}}=this.props;e("slacks",t)}handleKeyDown(e){const{menuOpen:t}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&t&&this.handleMenuClose()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){const{showConfigurationButton:t}=e;!t&&this.setState({menuOpen:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderMenu(){return i.h(l.a,{class:"slackChannelContextMenu",onClose:this.handleMenuClose},i.h(l.a.Item,{key:"addAnother",onClick:this.handleAddAnotherClick},"Add another…"),i.h(l.a.Item,{key:"view",onClick:this.handleViewInSlackClick},"View In Slack"),i.h(l.a.Item,{key:"preferences",onClick:this.handlePreferencesClick},"Preferences…"),i.h(l.a.Item,{key:"remove",onClick:this.handleRemoveClick,warning:!0},"Remove"))}renderSlackChannelConfigurationButton(){const{barrelUser:e,canUpdateProject:t}=this.props;if(t){const{menuOpen:e}=this.state;return i.h(r.a,{class:Object(c.a)({active:e}),onClick:this.handleMenuOpen},e&&this.renderMenu())}return i.h(d.a,{content:Object(s.a)(e.role,"update Slack integration.")},i.h(r.a,{disabled:!0}))}render(){const{canUpdateProject:e,showConfigurationButton:t,channel:{incomingWebHook:{channel:n}}}=this.props;return i.h("div",{class:"slackChannelContainer"},i.h(h.a,{class:"slackChannel",logo:i.h(u.C,null),disabled:!e,description:"Connected to ",text:n}),t&&this.renderSlackChannelConfigurationButton())}}},function(e,t,n){"use strict";var i=n(0),s=n(43),a=n(3),o=n(1341);n.n(o);t.a=function(e){const{class:t,disabled:n,onClick:o,baseRef:r,children:l}=e;return i.h("button",{type:"button",class:Object(a.a)("sidebarSettingsButton",t),disabled:n,onClick:o,ref:r},i.h(s.A,{color:n?"#C1BEC1":"#554D56"}),l)}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(1345);n.n(a);t.a=function(e){const{class:t}=e;return i.h("div",{class:Object(s.a)("barrelSidebarSeparator",t)},i.h("div",null))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(707),a=n(3),o=n(1347);n.n(o);t.a=function(e){const{class:t,title:n,buttonRef:o,withSettingsButton:r,settingsButtonDisabled:l,onSettingsButtonClick:c}=e;return i.h("div",{class:Object(a.a)("barrelSidebarSubtitle",t)},i.h("div",{class:"title noSelect"},n),r&&i.h(s.a,{baseRef:o,onClick:c,disabled:l}))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(100),r=n(3),l=n(14),c=n(1),d=n(56),u=n(708),h=n(368),p=n(1353);n.n(p);const g=/:(\S+?):/g;class m extends o.a{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClick=this.handleClick.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleKeyDownWhenListOpen=this.handleKeyDownWhenListOpen.bind(this),this.handleKeyDownListActions=Object(c.f)(this.handleKeyDownListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleListItemMouseOver=this.handleListItemMouseOver.bind(this),this.handleListItemClick=this.handleListItemClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this);const{value:t=""}=e;this.state={selectedEmojiIndex:0,suggestedEmojis:[],emojiListTop:0,autoCompletedEmoji:!1,value:t,editing:e.editing,originalValue:t}}cancelEdit(){const{originalValue:e}=this.state,{onCancelEdit:t}=this.props;t&&t(),this.setState({editing:!1,value:e},()=>{this.nodeRefs.textArea.blur()})}changeSuggestedEmojis(){const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,{textArea:i}=this.nodeRefs,s=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),s=e.substring(i,t).match(/^:(.+)/);if(s){const e=s[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),a=n.substring(t,i+1).match(g);return a&&h.a.searchEmoji(a[0].substring(1,a[0].length-1))?[]:h.a.getSuggestedEmojis(e)}return[]}(e,i.selectionStart);if(s!==t){const e=Math.max(0,Math.min(n,s.length-1)),t=i.getBoundingClientRect().top+i.offsetHeight-60;this.setState({suggestedEmojis:s,selectedEmojiIndex:e,emojiListTop:t})}}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return void 0===e?-1:-1!==e&&Object(d.g)()===d.a.SAFARI?e+(t.match(/\n/g)||[]).length:e}submit(){const{submitOnBlur:e,onSubmit:t}=this.props,{value:n,originalValue:i}=this.state;!e&&t&&(n===i?this.cancelEdit():(this.setState({editing:!1,originalValue:n}),t(n))),this.nodeRefs.textArea.blur()}handleBlur(){const{submitOnBlur:e,onSubmit:t}=this.props,{originalValue:n,value:i}=this.state;e&&t&&(i===n?this.cancelEdit():(this.setState({editing:!1,originalValue:i}),t(i)))}handleButtonClick(){const{readOnly:e}=this.props;e||this.submit()}handleClick(e){const{readOnly:t}=this.props,{editing:n}=this.state;t||n||e.target.closest("a")||this.setState(e=>({editing:!0,originalValue:e.value}))}handleInput(e){const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})}handleKeyDown(e){const{readOnly:t}=this.props;t||(this.props.showEmojiAutoComplete&&this.state.editing&&0!==this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.cancelEdit(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(d.d)(e)&&this.submit()))}handleKeyDownListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}}handleKeyDownWhenListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)}handleKeyUp(e){this.props.showEmojiAutoComplete&&(e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis))}handleListItemClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleListItemMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleSelectEmoji(){const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,i=e[t],s=this.nodeRefs.textArea.selectionStart,a=n.substring(0,s).lastIndexOf(":"),o=i.formattedAlias,r=n.substring(0,a)+":"+o+": "+n.substring(s),l=a+o.length+3;this.setState({value:r,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{this.nodeRefs.textArea.focus(),this.nodeRefs.textArea.setSelectionRange(l,l)})}handleTextAreaClick(){this.state.editing&&this.changeSuggestedEmojis()}componentWillReceiveProps(e){const{value:t="",editing:n}=e,i={};void 0!==n&&Object.assign(i,{editing:n}),this.state.originalValue!==t&&Object.assign(i,{value:t,originalValue:t}),0!==Object.keys(i).length&&this.setState(i)}componentDidUpdate(e,t){const{editing:n,value:i,autoCompletedEmoji:s}=this.state,{showEmojiAutoComplete:a}=this.props;n&&t.editing!==n&&this.nodeRefs.textArea.focus(),a&&!s&&i!==t.value&&this.changeSuggestedEmojis()}render(){const{autoEdit:e,class:t,color:n,formatter:s,placeholder:a="",showEmojiAutoComplete:o}=this.props,{editing:c,value:h,emojiListTop:p,suggestedEmojis:g,selectedEmojiIndex:m}=this.state,f=s?s(h):h,b=this.maxLength,y=Object(d.j)()===d.c.MAC?"⌘⏎":"Ctrl+⏎",S=Object(r.a)("shortcut",{[Object(d.j)()]:!0});return i.h("div",{ref:Object(l.a)(this,"base"),class:"textAreaContainer"},i.h("div",{class:Object(r.a)("textArea",t,{editing:c},n)},i.h("div",{class:Object(r.a)("formattedContent",{placeholder:a&&!h}),onClick:e?this.handleClick:null,dangerouslySetInnerHTML:{__html:f||a}}),i.h("div",{class:"editor"},i.h("div",{class:"mirror"},h," "),i.h("textarea",{ref:Object(l.a)(this,"textArea"),value:h,spellcheck:"false",placeholder:a,maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur})),i.h("div",{class:"controls",tabIndex:"-1"},i.h("div",{class:"counter"},b>-1&&b-h.length),i.h("button",{type:"button",class:"submit",ref:Object(l.a)(this,"submitButton"),onClick:this.handleButtonClick},i.h("span",{class:"label"},"Done"),i.h("span",{class:S},y)))),o&&c&&0!==g.length&&i.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",style:{top:p+"px"}},i.h(u.a,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:g,selectedIndex:m})))}}m.propTypes={autoEdit:a.a.bool,value:a.a.string,class:a.a.string,color:a.a.oneOf(["yellow","orange","peach","green","turquoise","lightOrange"]),editing:a.a.bool,maxLength:a.a.number,placeholder:a.a.string,readOnly:a.a.bool,submitOnBlur:a.a.bool,onSubmit:a.a.func,onCancelEdit:a.a.func,formatter:a.a.func,showEmojiAutoComplete:a.a.bool},m.defaultProps={autoEdit:!1,value:"",color:"lightOrange",placeholder:"",readOnly:!1,submitOnBlur:!1,onSubmit:null,onCancelEdit:null,showEmojiAutoComplete:!1},t.a=m},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(4),o=n.n(a),r=n(1350),l=n(1352);n.n(l);function c(e){const{emoji:t,formattedAlias:n,selected:a,customEmoji:o,onMouseOver:r,onClick:l,listRef:c}=e,d=o?i.h("img",{src:t,class:"emojiImg"}):i.h("span",{class:"emojiChar"},t);return i.h("div",{class:Object(s.a)({selected:a},"emojiItem"),onMouseOver:r,onClick:l,ref:c},d,i.h("span",{class:"emojiAlias"},n))}function d({suggestedEmojis:e,selectedIndex:t,onItemClick:n,onItemMouseOver:s}){return i.h(r.a,{class:"emojiAutoCompleteList",options:e,keyProp:"formattedAlias",selectedIndex:t,onItemMouseOver:s,onItemClick:n,RowComponent:c})}d.propTypes={suggestedEmojis:o.a.array,selectedIndex:o.a.number,onItemClick:o.a.func,onItemMouseOver:o.a.func},t.a=d},function(e,t,n){"use strict";var i=n(1351);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(14),o=n(26);function r(e,t){return n=>t(e,n)}const l=Object(s.f)(e=>{e&&Object(o.m)(e)});t.a=class extends i.Component{componentWillReceiveProps(e){const{selectedIndex:t}=e,{selectedIndex:n}=this.props;if(n===t)return;const i=this.nodeRefs[`ref${t}`],s=this.nodeRefs[`ref${n}`];i&&(l(i),i.classList.add("selected")),s&&s.classList.remove("selected")}shouldComponentUpdate(e,t){return this.props.options!==e.options}render({class:e,options:t,keyProp:n,RowComponent:s,selectedIndex:o,onItemMouseOver:l,onItemClick:c}){return i.h("div",{class:e},t.map((e,t)=>i.h(s,Object.assign({},e,{key:e[n]},{listRef:Object(a.a)(this,`ref${t}`)},{selected:t===o,onMouseOver:r(t,l),onClick:r(t,c)}))))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1355);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(152),a=n(26),o=n(14),r=n(1356);n.n(r);const l=30,c=l+8,d=24;function u(e,t){return"invited"!==e.user.status?e.user.username+("user"!==t?" ("+e.user.email+")":""):"Pending… ("+e.user.email+")"}class h extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{member:e,onClick:t}=this.props;t(e.user._id)}render(){const{member:e,title:t}=this.props,{src:n,srcset:o}=Object(a.f)(e.user,{ignoreRandomEmotar:!1,size:l});return i.h("div",{class:"memberAvatar",onClick:this.handleClick},i.h(s.a,{title:t,width:l,height:l,src:n,srcset:o}))}}t.a=class extends i.Component{constructor(e){super(e),this.state={nrOfAvatarsDisplayed:0}}calculateNrOfAvatarsDisplayed(){const{members:e}=this.props,{nrOfAvatarsDisplayed:t}=this.state,n=this.nodeRefs.base.getBoundingClientRect().width,i=2*Math.floor((n-d)/c);if(0===i)return;let s;(s=e.length>i?i-1:e.length)!==t&&this.setState({nrOfAvatarsDisplayed:s})}componentDidMount(){this.calculateNrOfAvatarsDisplayed()}componentDidUpdate(){this.calculateNrOfAvatarsDisplayed()}renderRemainingMembers(e){const{nrOfAvatarsDisplayed:t}=this.state,{members:n,onMemberClick:s}=this.props;if(0===t)return null;const a=n.length-t;if(a){const o=n.slice(t).map(t=>u(t,e)).join("\n");return i.h("button",{type:"button",class:"remaining",onClick:s,title:o},"+",a)}}render(){const{nrOfAvatarsDisplayed:e}=this.state,{members:t,barrelUser:n,onMemberClick:s}=this.props,a=t.find(e=>e.user._id===n.user._id).role;return i.h("div",{class:"membersPreview",ref:Object(o.a)(this,"base")},t.slice(0,e).map(e=>i.h(h,{key:e.user._id,onClick:s,member:e,title:u(e,a)})),this.renderRemainingMembers(a))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1358);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(468),a=n(1),o=n(8),r=n(14),l=n(34),c=n(645),d=n(646),u=n(1359),h=n(71),p=n(1361);n.n(p);function g(e){const t=Object(a.w)(e);return"king"===e||"owner"===e?t:`${t}s`}const m={removeMemberConfirmationDialog:null,transferOwnershipConfirmationDialog:null,leaveConfirmationDialog:null};t.a=class extends i.Component{constructor(e){super(e),this.state=Object.assign({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null},m),this.close=this.close.bind(this),this.closeDialogs=this.closeDialogs.bind(this),this.toggleInvitePopup=this.toggleInvitePopup.bind(this),this.setInvitePopupPosition=Object(a.f)(this.setInvitePopupPosition).bind(this),this.setInvitePopupAnchorPosition=this.setInvitePopupAnchorPosition.bind(this),this.handleUpgrade=this.handleUpgrade.bind(this),this.handleMembersDialogClick=this.handleMembersDialogClick.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this),this.handleCloseMemberOptions=this.handleCloseMemberOptions.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.openRemoveMemberConfirmationDialog=this.openRemoveMemberConfirmationDialog.bind(this),this.handleAddMembers=this.handleAddMembers.bind(this),this.handleRemoveMember=this.handleRemoveMember.bind(this),this.openTransferOwnershipConfirmationDialog=this.openTransferOwnershipConfirmationDialog.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this),this.openLeaveConfirmationDialog=this.openLeaveConfirmationDialog.bind(this),this.handleLeave=this.handleLeave.bind(this)}close(){const{onClose:e}=this.props;e()}closeDialogs(){this.setState(m)}openRemoveMemberConfirmationDialog(e){this.setState(Object.assign({},m,{removeMemberConfirmationDialog:{member:e}}))}openTransferOwnershipConfirmationDialog(e){this.setState(Object.assign({},m,{transferOwnershipConfirmationDialog:{member:e}}))}openLeaveConfirmationDialog(e){this.setState(Object.assign({},m,{leaveConfirmationDialog:{member:e}}))}setInvitePopupAnchorPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;const t=s.c.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom<n.top+39,a=t.top>=n.top,o=i||a;if(!s.a.classList.toggle("hidden",o)){const e=n.top-t.top;s.a.style.top=e+25+-10+"px"}}setInvitePopupPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;s.c.style.transform="";const t=s.c.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom+12-window.innerHeight;let a;if(i>0?a=Math.max(t.top-i,60):t.top<60&&(a=60),a){const e=a-n.top- -52;s.c.style.transform=`translate3d(0, ${e}px, 0)`}const o=n.right+t.width+24>window.innerWidth;s.c.classList.toggle("left",o),this.setInvitePopupAnchorPosition()}openInvitePopup(){const{barrelType:e,barrelId:t,members:n,barrelUser:i,organizationId:a}=this.props,{membersDialog:o}=this.nodeRefs;s.j({bt:e,popupContainer:o,bid:t,members:n,oid:"pawn"===i.role?"user":a}),this.setInvitePopupPosition(),o.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),o.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.webapp.track("Showed invite user pop up",{type:"project"})}closeInvitePopup(){const{membersDialog:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),s.b()}toggleInvitePopup(e){e.stopPropagation(),s.h()?this.openInvitePopup():this.closeInvitePopup()}handleOpenMemberOptions(e,t){this.setState({memberOptionsMenuOpenFor:e,memberOptionsMenuClickOrigin:t})}handleCloseMemberOptions(){this.setState({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null})}handleUpgrade(){this.props.onUpgrade(),this.close()}handleDocumentKeyDown(e){const{memberOptionsMenuOpenFor:t,removeMemberConfirmationDialog:n,transferOwnershipConfirmationDialog:i,leaveConfirmationDialog:s}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),t?this.handleCloseMemberOptions():n||i||s?this.setState(m):this.close())}handleBackdropClick(e){if(e.stopPropagation(),!s.h())return void this.closeInvitePopup();const{onClose:t}=this.props;t()}handleMembersDialogClick(e){e.stopPropagation(),s.h()||this.closeInvitePopup()}handleAddMembers(e){const{onAddMembers:t}=this.props;t(e)}handleRemoveMember(){const{removeMemberConfirmationDialog:{member:e}}=this.state,{onRemoveMember:t}=this.props;this.closeDialogs(),t(e)}handleTransferOwnership(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{onTransferOwnership:t}=this.props;this.closeDialogs(),t(e)}handleLeave(){const{leaveConfirmationDialog:{member:e}}=this.state,{onLeave:t}=this.props;this.closeDialogs(),t(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}renderHeader(){return i.h("div",{class:"membersDialogHeader"},i.h("div",{class:"title"},"Members"),i.h(l.a,{class:"inviteButton",onClick:this.toggleInvitePopup,primary:!0},"Invite"))}renderExtraInfo(){const{barrelUser:e,members:t,isOrganizationProject:n,organizationId:s}=this.props;if(n&&"pawn"!==e.role)return i.h("div",{class:"information visitOrganizationDashboard"},"To setup roles of members, ",i.h("a",{href:Object(o.j)("organization-dashboard",{url:{oid:s}})},"visit the organization dashboard"),".");const a=t.find(e=>"owner"===e.role);return a&&"free"===a.user.paymentPlan?a.user._id===e.user._id?i.h("div",{class:"upgradeNow"},i.h("div",{class:"information text"},"On the Free plan, only the project owner can upload designs. Upgrade now to access more projects and allow members to upload designs!"),i.h(l.a,{class:"updgradeNowButton",secondary:!0,onClick:this.handleUpgrade},"Upgrade")):i.h("div",{class:"information ownerIsOnFreePlan"},"On the Free plan, only the project owner can upload designs. Contact ",a.user.username," to upgrade their plan and allow members to upload designs!"):void 0}renderMembers(){const{barrelUser:e,members:t,highlight:n}=this.props,{memberOptionsMenuOpenFor:s}=this.state,o=t.reduce((t,o)=>{const r=i.h(d.a,{key:o.user._id,member:o,showOptionsButton:"owner"!==o.role&&a.C.isSuperior(e,o,!0),memberOptionsOpen:!!s&&s.user._id===o.user._id,onOpenMemberOptions:this.handleOpenMemberOptions,highlight:n&&n===o.user._id});return t.has(o.role)?t.get(o.role).push(r):t.set(o.role,[r]),t},new Map),r=[];for(let[a,l]of o)r.push(i.h("div",{key:`${a}Rows`,class:"roleGroup"},i.h(c.a,{class:"roleTitle",key:a,title:g(a)}),l));return i.h("div",{class:"members"},r)}renderFooter(){return i.h("div",{class:"membersDialogFooter"},i.h("button",{type:"button",onClick:this.close},"DONE"))}renderMemberOptionsMenu(){const{barrelUser:e,barrelType:t,isOrganizationProject:n,onAssignAdmin:s,onUnassignAdmin:o}=this.props,{memberOptionsMenuOpenFor:r,memberOptionsMenuClickOrigin:l}=this.state,{membersDialog:c}=this.nodeRefs;return i.h("div",{class:"memberOptionsContainer",key:"memberOptions"},i.h(u.a,{class:"memberOptions",barrelType:t,clickOrigin:l,menuContainer:c,member:r,canAssignAdmin:!n&&"user"!==e.role&&"user"===r.role,canUnassignAdmin:!n&&"user"!==e.role&&"admin"===r.role,canTransferOwnership:!n&&a.C.canTransferOwnership(e),canRemoveFromProject:r.user._id!==e.user._id&&a.C.isSuperior(e,r,!0),canLeaveProject:r.user._id===e.user._id,onAssignAdmin:s,onUnassignAdmin:o,onTransferOwnership:this.openTransferOwnershipConfirmationDialog,onRemoveMember:this.openRemoveMemberConfirmationDialog,onLeave:this.openLeaveConfirmationDialog,onClose:this.handleCloseMemberOptions}))}renderRemoveMemberConfirmation(){const{removeMemberConfirmationDialog:{member:e}}=this.state;return i.h(h.a,{key:"removeMemberConfirmationDialog",message:`Remove "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"REMOVE",onPositiveButtonClick:this.handleRemoveMember,onClose:this.closeDialogs})}renderTransferOwnershipConfirmationDialog(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{barrelName:t}=this.props;return i.h(h.a,{key:"transferOwnershipConfirmationDialog",message:`Transfer ownership of "${t}" to "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"TRANSFER",onPositiveButtonClick:this.handleTransferOwnership,onClose:this.closeDialogs})}renderLeaveConfirmationDialog(){const{barrelName:e}=this.props;return i.h(h.a,{key:"leaveConfirmationDialog",message:`Leave "${e}"?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"LEAVE",onPositiveButtonClick:this.handleLeave,onClose:this.closeDialogs})}renderDialog(){const{memberOptionsMenuOpenFor:e,removeMemberConfirmationDialog:t,transferOwnershipConfirmationDialog:n,leaveConfirmationDialog:s}=this.state;return i.h("div",{class:"membersDialog",ref:Object(r.a)(this,"membersDialog"),onClick:this.handleMembersDialogClick},this.renderHeader(),this.renderExtraInfo(),this.renderMembers(),this.renderFooter(),e&&this.renderMemberOptionsMenu(),t&&this.renderRemoveMemberConfirmation(),n&&this.renderTransferOwnershipConfirmationDialog(),s&&this.renderLeaveConfirmationDialog())}render(){return i.h("div",{class:"membersDialogBackdrop",onClick:this.handleBackdropClick},this.renderDialog())}}},function(e,t,n){"use strict";var i=n(1360);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(156);t.a=class extends i.Component{constructor(e){super(e),this.handleLeave=this.handleLeave.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleAssignAdmin=this.handleAssignAdmin.bind(this),this.handleUnassignAdmin=this.handleUnassignAdmin.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this)}handleLeave(){const{member:e,onLeave:t}=this.props;t(e)}handleRemove(){const{member:e,onRemoveMember:t}=this.props;t(e)}handleAssignAdmin(){const{member:e,onAssignAdmin:t}=this.props;t(e)}handleUnassignAdmin(){const{member:e,onUnassignAdmin:t}=this.props;t(e)}handleTransferOwnership(){const{member:e,onTransferOwnership:t}=this.props;t(e)}render(){const{barrelType:e,menuContainer:t,clickOrigin:n,canAssignAdmin:a,canUnassignAdmin:o,canTransferOwnership:r,canRemoveFromProject:l,canLeaveProject:c,onClose:d,class:u}=this.props;return i.h(s.a.withAutoPosition,{class:u,onClose:d,autoPosition:{menuContainer:t,clickOrigin:n}},a&&i.h(s.a.Item,{onClick:this.handleAssignAdmin},"Assign Admin"),o&&i.h(s.a.Item,{onClick:this.handleUnassignAdmin},"Unassign Admin"),r&&i.h(s.a.Item,{onClick:this.handleTransferOwnership},"Transfer ownership"),l&&i.h(s.a.Item,{onClick:this.handleRemove,warning:!0},"Remove from ",e),c&&i.h(s.a.Item,{onClick:this.handleLeave,warning:!0},"Leave ",e))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1363);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(14),o=n(26),r=n(8),l=n(10),c=n(5),d=n(34),u=n(644),h=n(1364),p=n(1367);n.n(p);const g=Object.freeze({WEB:"Web",APP:"App"});function m(e){const{type:t,link:n,onCopy:s}=e;let a;if(n)if(t===g.WEB){const e=new URL(n);a=e.host+e.pathname}else a=n;else a="Fetching…";return i.h("div",{class:"shareBarrelLink"},i.h("div",{class:"type"},t,":"),i.h("div",{class:"link ellipsis",title:n},a),t===g.APP&&i.h("a",{href:n,class:"button secondary openButton"},"Open"),i.h(d.a,{class:"copyButton",onClick:s,primary:!0,disabled:!n},"Copy"))}function f(e){const{title:t,explanation:n}=e;return i.h("div",{class:"shareBarrelSubtitle"},i.h("div",{class:"title"},t),i.h("div",{class:"explanation"},n))}t.a=class extends i.Component{constructor(e){super(e),this.openSceneOptions=this.openSceneOptions.bind(this),this.closeSceneOptions=this.closeSceneOptions.bind(this),this.handleCopyShortURL=this.handleCopyShortURL.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleCopySceneURL=this.handleCopySceneURL.bind(this),this.handleUnshare=this.handleUnshare.bind(this),this.state={sceneOptionsOpen:!1}}openSceneOptions(){this.setState({sceneOptionsOpen:!0})}closeSceneOptions(){this.setState({sceneOptionsOpen:!1})}generateShortlinks(){const{barrelType:e,barrelId:t,shortlinks:n,sceneEnabled:i}=this.props,s=n[Object(r.j)(e,{url:{bid:t}})],a=e===l.a.PROJECT?"pid":"stid",o=`${c.L}//${e}?${a}=${t}`;let d;if(i){const i=Object(r.j)(e,{origin:c.y,url:{bid:t}});d=n[i]||i}this.setState({shortURL:s,appURI:o,sceneURL:d})}handleCopyShortURL(){const{shortURL:e}=this.state,{content:t}=this.nodeRefs;Object(o.c)({content:e,toastContainer:t})}handleCopyAppURI(){const{appURI:e}=this.state,{content:t}=this.nodeRefs;Object(o.c)({content:e,toastContainer:t})}handleCopySceneURL(e){e.stopPropagation();const{sceneURL:t}=this.state,{content:n}=this.nodeRefs;this.closeSceneOptions(),Object(o.c)({content:t,toastContainer:n})}handleUnshare(e){e.stopPropagation();const{onUnshare:t}=this.props;this.closeSceneOptions(),t()}componentDidMount(){this.generateShortlinks()}componentDidUpdate(e){const{sceneEnabled:t}=this.props,{sceneEnabled:n}=e;n!==t&&this.generateShortlinks()}renderSceneSection(){const{barrelType:e,sceneEnabled:t,canChangeProjectAccesibility:n,onEnableScene:s}=this.props;if(e===l.a.STYLEGUIDE)return null;const{sceneURL:a,sceneOptionsOpen:o}=this.state;return[i.h(u.a,{key:"shareBarrelSeparator",class:"shareBarrelSeparator"}),i.h(f,{key:"sceneTitle",title:"Scene",explanation:"Everyone with the link"}),i.h(h.a,{key:"scene",sceneEnabled:t,optionsOpen:o,canChangeProjectAccesibility:n,sceneURL:a,onEnable:s,onUnshare:this.handleUnshare,onCopySceneURL:this.handleCopySceneURL,onOptionsOpen:this.openSceneOptions,onOptionsClose:this.closeSceneOptions})]}render(){const{shortURL:e,appURI:t,sceneOptionsOpen:n}=this.state;return i.h("div",{class:"shareBarrel"},i.h("div",{class:Object(s.a)("content",{sceneOptionsOpen:n}),ref:Object(a.a)(this,"content")},i.h(f,{key:"shareTitle",title:"Share link",explanation:"Invited members only"}),i.h(m,{key:"barrelWebLink",type:g.WEB,link:e,onCopy:this.handleCopyShortURL}),i.h(m,{key:"barrelAppURI",type:g.APP,link:t,onCopy:this.handleCopyAppURI}),this.renderSceneSection()))}}},function(e,t,n){"use strict";var i=n(1365);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(156),o=n(43),r=n(1366);n.n(r);t.a=function(e){const{sceneEnabled:t,onEnable:n,sceneURL:r,canChangeProjectAccesibility:l,onOptionsOpen:c,optionsOpen:d}=e;return i.h("div",{class:"scene"},i.h("div",{class:"explanation"},"Showcase designs and Styleguide"),t?[i.h("a",{class:"openSceneButton button secondary",key:"openSceneButton",href:r,target:"_blank"},"Open"),i.h("button",{key:"sceneOptionsButton",class:"sceneOptionsButton",onClick:c},i.h(o.u,null)),d&&function(e){const{canChangeProjectAccesibility:t,onOptionsClose:n,onCopySceneURL:s,onUnshare:o}=e;return i.h(a.a,{class:"sceneOptions",onClose:n},i.h(a.a.Item,{onClick:s},"Copy link"),t&&i.h(a.a.Item,{onClick:o},"Unshare"))}(e)]:i.h(s.a,{class:"enableScene",onClick:n,disabled:!l,secondary:!0},"Enable"))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1369);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(71),r=n(283),l=n(21),c=n(14),d=n(1),u=n(33),h=n(1370);n.n(h);class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||u.a.BASE,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){const{type:e}=this.props;return i.h("div",{ref:Object(c.a)(this,"tooltip"),onClick:d.J,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),"android"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"720×1280px")," screen, you should select ",i.h("strong",null,'"xhdpi"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10dp to help developers out (since they use 1x values while coding)."),("ios"===e||"osx"===e)&&i.h("div",null,"e.g. for a ",i.h("strong",null,"640×1136px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10pt to help developers out (since they use 1x values while coding)."),"web"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderAndroid(){const{selected:e}=this.state;return i.h("div",{class:"androidDensitySelection"},i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Phone"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(r.a,{tabIndex:"1",class:"densityRadioButton",name:"androidDensity",checked:!e||e===u.a.MDPI,onClick:this.handleChange,value:u.a.MDPI}),i.h("span",{class:"densityValue"},"mdpi"),i.h("span",{class:"densityResolution"},"360x640px"))),i.h("td",null,i.h("label",null,i.h(r.a,{tabIndex:"2",class:"densityRadioButton",name:"androidDensity",checked:e===u.a.XHDPI,onClick:this.handleChange,value:u.a.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi"),i.h("span",{class:"densityResolution"},"720x1280px")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(r.a,{tabIndex:"3",class:"densityRadioButton",name:"androidDensity",checked:e===u.a.HDPI,onClick:this.handleChange,value:u.a.HDPI}),i.h("span",{class:"densityValue"},"hdpi"),i.h("span",{class:"densityResolution"},"480x800px"))),i.h("td",null,i.h("label",null,i.h(r.a,{tabIndex:"4",class:"densityRadioButton",name:"androidDensity",checked:e===u.a.XXHDPI,onClick:this.handleChange,value:u.a.XXHDPI}),i.h("span",{class:"densityValue"},"xxhdpi"),i.h("span",{class:"densityResolution"},"1080x1920px")))),i.h("tr",null,i.h("td",null),i.h("td",null,i.h("label",null,i.h(r.a,{tabIndex:"5",class:"densityRadioButton",name:"androidDensity",checked:e===u.a.XXXHDPI,onClick:this.handleChange,value:u.a.XXXHDPI}),i.h("span",{class:"densityValue"},"xxxhdpi"),i.h("span",{class:"densityResolution"},"1440x2560px")))))),i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Tablet"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(r.a,{tabIndex:"6",class:"densityRadioButton",name:"androidTabletDensity",checked:e===u.a.MDPI,onClick:this.handleChange,value:u.a.MDPI}),i.h("span",{class:"densityValue"},"mdpi"))),i.h("td",null,i.h("label",null,i.h(r.a,{tabIndex:"7",class:"densityRadioButton",name:"androidTabletDensity",checked:e===u.a.XHDPI,onClick:this.handleChange,value:u.a.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(r.a,{tabIndex:"8",class:"densityRadioButton",name:"androidTabletDensity",checked:e===u.a.HDPI,onClick:this.handleChange,value:u.a.HDPI}),i.h("span",{class:"densityValue"},"hdpi"))),i.h("td",null)))))}renderWeb(){const{selected:e}=this.state;return i.h("div",{class:"webDensitySelection"},i.h("label",null,i.h(r.a,{tabIndex:"1",class:"densityRadioButton",name:"webDensity",checked:!e||e===u.a._1x,onClick:this.handleChange,value:u.a._1x}),i.h("span",{class:"densityValue"},"1x"),i.h("span",{class:"densityResolution"},"320px, 768px, 1024px, 1440px width")),i.h("hr",null),i.h("label",null,i.h(r.a,{tabIndex:"2",class:"densityRadioButton",name:"webDensity",checked:e===u.a._2x,onClick:this.handleChange,value:u.a._2x}),i.h("span",{class:"densityValue"},"2x"),i.h("span",{class:"densityResolution"},"2560px, 2880px width")))}renderIOSX(){const{selected:e}=this.state;return i.h("div",{class:"iosxDensitySelection"},i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(r.a,{tabIndex:"1",class:"densityRadioButton",name:"iosxDensity",checked:!e||e===u.a._1x,onClick:this.handleChange,value:u.a._1x}),i.h("span",{class:"densityValue"},"1x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _320x480"},"320x480"),i.h("div",{class:"phoneFrame _320x568"},"320x568"),i.h("div",{class:"phoneFrame _375x667"},"375x667"),i.h("div",{class:"phoneFrame _414x736"},"414x736"),i.h("div",{class:"phoneFrame _768x1024"},"768x1024"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(r.a,{tabIndex:"2",class:"densityRadioButton",name:"iosxDensity",checked:e===u.a._2x,onClick:this.handleChange,value:u.a._2x}),i.h("span",{class:"densityValue"},"2x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _640x960"},"640x960"),i.h("div",{class:"phoneFrame _640x1136"},"640x1136"),i.h("div",{class:"phoneFrame _750x1334"},"750x1334"),i.h("div",{class:"phoneFrame _1536x2048"},"1536x2048"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(r.a,{tabIndex:"3",class:"densityRadioButton",name:"iosxDensity",checked:e===u.a._3x,onClick:this.handleChange,value:u.a._3x}),i.h("span",{class:"densityValue"},"3x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _1242x2208"},"1242x2208"),i.h("div",{class:"phoneFrame _1125x2436"},"1125x2436"))))}renderForm(){const{type:e}=this.props;return"android"===e?this.renderAndroid():"web"===e?this.renderWeb():"ios"===e||"osx"===e?this.renderIOSX():void 0}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(o.c,{class:"densityDialog",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:720,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(l.f)("img/icInfo.svg")}),"What I need to choose?"))},i.h("div",{ref:Object(c.a)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},i.h("h1",null,"Choose your screens’ densities"),i.h("div",{class:"densityChangeWarning"},i.h("img",{src:Object(l.f)("img/icWarning.svg"),alt:"⚠"}),i.h("p",null,"Changing the density might affect your assets since Zeplin generates them based on this setting.",i.h("br",null),i.h("strong",null,"Please re-export your designs after changing the density."))),this.renderForm()),e&&this.renderTooltip())}}p.propTypes={type:a.a.oneOf(["android","web","ios"]),selectedValue:a.a.number.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func.isRequired},t.a=p},function(e,t){},function(e,t,n){"use strict";var i=n(1372);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(71),r=n(21),l=n(14),c=n(1),d=n(1373),u=n(33),h=n(1377);n.n(h);class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||u.a._1x,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){return i.h("div",{ref:Object(l.a)(this,"tooltip"),onClick:c.J,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderBody(){const{selected:e}=this.state;return[i.h("h2",null,"Styleguide density helps Zeplin generate matching assets and convert units.",i.h("br",null),"Pick the density based on your artboard size."),i.h("div",{class:"densityDialogForm"},i.h(d.a,{text:Object(c.p)("base",u.a._1x),value:u.a._1x,checked:e===u.a._1x,divisor:u.a._1x,onChange:this.handleChange}),i.h(d.a,{text:Object(c.p)("base",u.a._2x),value:u.a._2x,checked:e===u.a._2x,divisor:u.a._2x,onChange:this.handleChange}))]}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(o.c,{class:"densityDialogForBase",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:600,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(r.f)("img/icInfo.svg")}),"Learn more"))},i.h("div",{ref:Object(l.a)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},this.renderBody()),e&&this.renderTooltip())}}p.propTypes={selectedValue:a.a.string.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func.isRequired},t.a=p},function(e,t,n){"use strict";var i=n(1374);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(283),a=n(1375),o=n(1376);n.n(o);t.a=function(e){const{text:t,description:n,value:o,divisor:r,unit:l,checked:c,onChange:d}=e;return i.h("div",{class:"densityDialogOption"},i.h("label",{class:"densityRadio"},i.h(s.a,{tabIndex:"1",class:"densityRadioButton",checked:c,onClick:d,value:o}),i.h("span",{class:"densityValue"},t),n&&i.h("span",{class:"densityAdditionalDescription"},n)),c&&i.h("div",{class:"densityOptionBody"},i.h(a.a,{divisor:r,targetUnit:l})))}},function(e,t,n){"use strict";var i=n(0);t.a=function({divisor:e,targetUnit:t="px"}){return i.h("svg",{width:"252",height:"58",viewBox:"0 0 252 58"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{stroke:"#554D56","stroke-linecap":"round","stroke-linejoin":"round"},i.h("path",{d:"M128.813 9.022c4.443 2.402 14.296 5.137-1.088 7.906-.803.145.494-2.05.744-3.08.179-.74.178-1.533.102-2.261M110 15.076c6.862-3.406 14.195-3.911 22-1.516"})),i.h("rect",{width:"60",height:"30",x:"11",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M11 11v43M71 11v43"}),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"24.506",y:"11"},"120")," ",i.h("tspan",{x:"44.721",y:"11",style:"font-weight: bold"},"px")),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"75",y:"37"},"60")," ",i.h("tspan",{x:"88.471",y:"37",style:"font-weight: bold"},"px")),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M3 18h76M3 48h76"}),i.h("text",{fill:"#FFF","font-family":"AppleColorEmoji, Apple Color Emoji","font-size":"24",transform:"translate(0 32)"},i.h("tspan",{x:"0",y:"24"},"🎨")),i.h("rect",{width:"60",height:"30",x:"160",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M160 11v43M220 11v43"}),i.h("svg",{width:"60",x:"160",y:"-18.67"},i.h("text",{x:"50%",y:"50%","alignment-baseline":"middle","text-anchor":"middle",fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",null,120/e)," ",i.h("tspan",{dx:"-3",style:"font-weight: bold"},t))),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"224",y:"37"},60/e)," ",i.h("tspan",{x:"237.471",y:"37",style:"font-weight: bold"},t)),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M152 18h76M152 48h76"}),i.h("path",{fill:"#FDBD39",d:"M153.312 50.43l-1.463.535-.079 4.354 5.065-1.85c-1.737-.584-3.006-1.611-3.523-3.038"}),i.h("path",{fill:"#F69833",d:"M154.078 45.826L149 47.681l2.848 3.284 1.463-.534c-.516-1.423-.198-3.031.766-4.605"}),i.h("path",{fill:"#FFCB03",d:"M162.621 39.545c-6.465 2.362-10.633 7.236-9.309 10.886l23.411-8.554c-1.323-3.65-7.637-4.694-14.102-2.332"}),i.h("path",{fill:"#EE6723",d:"M167.414 52.764c6.465-2.362 10.64-7.215 9.31-10.887l-23.412 8.554c1.331 3.672 7.637 4.695 14.102 2.333"}),i.h("path",{fill:"#F69833",d:"M176.723 41.877l-23.411 8.554c.458 1.264 2.207 1.887 4.66 1.887 2.39 0 5.452-.592 8.643-1.758 6.465-2.361 11.013-6.186 10.108-8.683"}),i.h("path",{fill:"#FDBD39",d:"M172.064 39.99c-2.392 0-5.453.592-8.644 1.758-6.465 2.362-11.013 6.186-10.108 8.683l23.411-8.554c-.458-1.264-2.206-1.887-4.66-1.887"}),i.h("path",{fill:"#EE6723",d:"M170.77 55.55c-.688 0-1.704-.623-3.02-1.85-1.556-1.452-3.338-3.579-5.02-5.988-1.68-2.41-3.06-4.818-3.888-6.783-.9-2.14-1.03-3.457-.382-3.912.142-.1.314-.15.51-.15.526 0 1.552.392 3.45 2.26l.042.042-.006.058c-.013.134-.025.27-.035.402l-.021.264-.187-.187c-2.045-2.06-2.945-2.283-3.237-2.283a.34.34 0 0 0-.197.05c-.281.197-.3 1.164.574 3.24.812 1.93 2.173 4.302 3.832 6.68 1.66 2.378 3.414 4.473 4.943 5.9 1.648 1.537 2.39 1.703 2.633 1.703a.347.347 0 0 0 .203-.054c.296-.208.297-1.244-.678-3.478l-.044-.102.098-.054c.098-.053.192-.106.281-.157l.117-.066.054.124c.691 1.582 1.337 3.594.49 4.19a.87.87 0 0 1-.511.15zm0-.245v.122-.122z"}),i.h("path",{fill:"#EE6723",d:"M167.571 52.697l-.01.122c-.163 2.022-.594 4.454-1.716 4.552a.785.785 0 0 1-.069.003c-.762 0-1.483-1.092-2.143-3.246-.625-2.038-1.11-4.775-1.365-7.705-.255-2.93-.251-5.71.011-7.826.286-2.306.83-3.51 1.618-3.58a.785.785 0 0 1 .071-.003c.553 0 1.387.626 2.24 3.543l-.557.108c-.285-.975-.595-1.768-.904-2.313-.285-.503-.562-.78-.78-.78h-.022c-.341.03-.838.858-1.116 3.094-.257 2.078-.26 4.816-.008 7.708.252 2.893.729 5.589 1.342 7.59.274.897.576 1.635.87 2.137.273.462.537.717.743.717l.021-.001c.327-.029.942-.891 1.201-3.924l.573-.196"})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1379);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(156),a=n(644),o=n(645),r=n(199),l=n(14),c=n(541),d=n(1),u=n(1380);n.n(u);t.a=class extends i.Component{constructor(e){super(e),this.openParentStyleguidesMenu=this.openParentStyleguidesMenu.bind(this),this.closeParentStyleguidesMenu=this.closeParentStyleguidesMenu.bind(this),this.openSelectParentPopup=this.openSelectParentPopup.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleSelectParent=this.handleSelectParent.bind(this),this.state={menuOpen:!1,selectParentPopupOpen:!1}}openParentStyleguidesMenu(){this.setState({menuOpen:!0})}closeParentStyleguidesMenu(){this.setState({menuOpen:!1})}openSelectParentPopup(e){e.stopPropagation(),this.setState({selectParentPopupOpen:!0})}ellipsizeIfNecessary(){if(CSS.supports("-webkit-line-clamp",3))return;const e=this.nodeRefs.textContainer;if(e.scrollHeight<=e.clientHeight)return;let t=e.textContent;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=`${t}…`}handleDocumentClick(){this.setState({selectParentPopupOpen:!1})}handleSelectParent(e){const{onParentSelect:t}=this.props;t(e._id)}componentDidMount(){this.ellipsizeIfNecessary()}componentWillReceiveProps(e){const{loading:t}=e,{loading:n}=this.props;n&&!t&&this.setState({selectParentPopupOpen:!1})}componentDidUpdate(e,t){this.ellipsizeIfNecessary(),!t.selectParentPopupOpen&&this.state.selectParentPopupOpen?document.addEventListener("click",this.handleDocumentClick):t.selectParentPopupOpen&&!this.state.selectParentPopupOpen&&document.removeEventListener("click",this.handleDocumentClick)}renderSelectParentPopup(){const{selectableStyleguides:e,loading:t}=this.props;return i.h(r.a,{targetNode:this.nodeRefs.settingsButton,content:i.h(c.f,{styleguides:e,onSelect:this.handleSelectParent,loading:t}),faceTop:!0,open:!0})}renderContextMenu(e,t){const{onParentRemove:n}=this.props,a=e?[t&&i.h(s.a.Item,{onClick:this.openSelectParentPopup,key:"changeParent"},"Change Parent Styleguide"),i.h(s.a.Item,{onClick:n,key:"removeParent"},"Remove Parent Styleguide")]:i.h(s.a.Item,{onClick:this.openSelectParentPopup},"Select Parent Styleguide");return i.h(s.a,{class:"parentStyleguidesMenu",onClose:this.closeParentStyleguidesMenu},a)}render(){const{barrelUser:e,selectableStyleguides:t,parentNames:n}=this.props,{selectParentPopupOpen:s,menuOpen:r}=this.state,c=d.C.canUpdateStyleguide(e),u=!!t.length,h=!!n.length;return i.h("div",null,i.h(o.a,{title:"Parent Styleguide",buttonRef:Object(l.a)(this,"settingsButton"),onSettingsButtonClick:this.openParentStyleguidesMenu,settingsButtonDisabled:!c,withSettingsButton:u}),i.h("div",{class:"parentStyleguidesContainer"},r&&this.renderContextMenu(h,u),i.h("p",{ref:Object(l.a)(this,"textContainer")},h?n.join(" ▸ "):"No parent styleguides.")),i.h(a.a,null),s&&this.renderSelectParentPopup(t))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";t.a=function(e){return class extends e{constructor(...e){var t;return t=super(...e),this.showToast=(({text:e,source:t})=>{(this.toastContainer||this.nodeRefs&&this.nodeRefs.base)&&Object(i.a)({text:e,source:t,container:this.toastContainer||this.nodeRefs.base})}),t}getChildContext(){return{showToast:this.showToast}}}};var i=n(45)},function(e,t){},function(e,t,n){"use strict";var i=n(1385);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1386),a=n(1424),o=n(1484),r=n(153),l=n(31),c=n(60),d=n(74),u=n(56),h=n(14),p=n(45),g=n(1610);n.n(g);t.a=Object(d.a)(class extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getStores(){return[l.e,r.f,c.b]}static calculateState(){const{versionsVisible:e}=r.f.getState(),{connectedComponentsDevModeEnabled:t}=l.e.getState();return{userRestricted:l.d.isUserRestricted(),versionsVisible:e,connectedComponentsDevModeEnabled:t}}handleBaseRef(e){Object(h.a)(this,"base")(e),this.props.baseRef(e)}handleKeyDown(e){const{connectedComponentsDevModeEnabled:t}=this.state;Object(u.d)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(p.a)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.base}),t?l.b.disableDevMode():l.b.enableDevMode())}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{versionsVisible:e}=this.state;return i.h("div",{class:"screenContainer",ref:this.handleBaseRef},e&&i.h(s.a,null),i.h(a.a,null),i.h(o.a,null))}},{withProps:!0})},function(e,t,n){"use strict";var i=n(1387);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(8),o=n(14),r=n(26),l=n(25),c=n(13),d=n(89),u=n(5),h=n(386),p=n(1388),g=n(1417),m=n(1420),f=n(31),b=n(153),y=n(57),S=n(60),v=n(74),C=n(1423);n.n(C);const E=245;t.a=Object(v.a)(class extends i.Component{constructor(e){super(e),this.handleCollapse=this.handleCollapse.bind(this),this.handleCollapserClick=this.handleCollapserClick.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleRelease=this.handleRelease.bind(this),this.handleSelectedVersionChange=this.handleSelectedVersionChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getStores(){return[f.e,b.f,y.c,S.b]}static calculateState(){const{loading:e,barrelId:t}=f.e.getState();if(e)return{loading:e};const n=f.d.findUser(),{screenId:i,loadingVersions:s,versionId:a,latestVersionSelected:o,versionsCompactMode:r,versionsSidebarWidth:l}=b.f.getState(),{versions:c,totalVersionCount:d,allowedVersionCount:u,name:h}=b.e.getScreen()||{};return{barrelId:t,barrelUser:n,screenId:i,screenName:h,versions:c,loading:s,totalVersionCount:d,remainingVersionCount:d-u,selectedVersionId:a,latestVersionSelected:o,compactMode:r,collapsed:r,sidebarWidth:l}}handleCollapse(){const{compactMode:e,latestVersionSelected:t}=this.state;!e&&t||b.c.enableVersionsCompactMode()}handleCollapserClick(){const{compactMode:e,latestVersionSelected:t}=this.state;e?this.componentRefs.sidebar.expand():t?b.c.hideVersions():this.componentRefs.sidebar.collapse()}handleRelease(e,{collapsed:t}){const{latestVersionSelected:n}=this.state;b.c.changeVersionsSidebarWidth(e),t&&n&&b.c.hideVersions()}handleCopyWebUrl(e,t){const{barrelId:n,screenId:i}=this.state,s=Object(a.j)("project-screen-version",{url:{pid:n,sid:i,vid:e}});c.generateShortlink(s).then(e=>{Object(r.c)({content:e,toastContainer:t})})}handleCopyAppUri(e,t){const{barrelId:n,screenId:i}=this.state,s=`${u.L}//screen?pid=${n}&sid=${i}&vid=${e}`;Object(r.c)({content:s,toastContainer:t})}handleDelete(e){const{screenId:t,screenName:n,totalVersionCount:i}=this.state;1!==i?l.a({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb(){b.c.removeVersion({vid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}}):l.a({title:`Delete ${n}?`,message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb(){b.c.removeScreen({sid:t,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}handleSelectedVersionChange(e){const{barrelId:t,screenId:n,versions:i}=this.state,s=i.findIndex(t=>t._id===e)>0?"project-screen-version":"project-screen";d.a.history.replace(Object(a.j)(s,{url:{pid:t,sid:n,vid:e}}))}handleKeyDown(e){const{barrelId:t,screenId:n,versions:i,selectedVersionId:s}=this.state,o=i.findIndex(e=>e._id===s);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:{e.preventDefault();const s=o-1;if(s>=0){const e=0===s?"project-screen":"project-screen-version",o=i[s]._id;d.a.history.replace(Object(a.j)(e,{url:{pid:t,sid:n,vid:o}}))}break}case Zeplin.KEY_CODE.ArrowDown:{e.preventDefault();const s=o+1;if(s<i.length){const e=i[s]._id;d.a.history.replace(Object(a.j)("project-screen-version",{url:{pid:t,sid:n,vid:e}}))}break}}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{loading:e,barrelUser:t,versions:n,selectedVersionId:a,latestVersionSelected:r,remainingVersionCount:l,compactMode:c,collapsed:d,sidebarWidth:u}=this.state,f=s.C.canManageScreens(t);return i.h(h.a,{ref:Object(o.a)(this,"sidebar","componentRefs"),class:"versionsSidebar",resizingSide:"right",minWidth:E,initialWidth:u,compact:c||!r,collapsed:d,onCollapse:this.handleCollapse,onExpand:b.c.disableVersionsCompactMode,onRelease:this.handleRelease},!c&&i.h("h2",{class:"versionsSidebarHeader"},"Versions"),e?i.h(g.a,null):i.h(p.a,{versions:n,remainingVersionCount:l,selectedVersionId:a,barrelUser:t,compact:c,onCommitColorChange:b.c.updateCommitColor,onCommitMessageChange:b.c.updateCommitMessage,onSelectedVersionChange:this.handleSelectedVersionChange,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:f?this.handleDelete:null}),i.h(m.a,{latestVersionSelected:r,compact:c,onClick:this.handleCollapserClick}))}})},function(e,t,n){"use strict";var i=n(1389);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1),r=n(203),l=n(3),c=n(14),d=n(1390),u=n(1401),h=n(1412),p=n(1414),g=n(1416);n.n(g);class m extends i.Component{constructor(e){super(e),this.state={contextMenuOpen:!1},this.handleOpenMenu=this.handleOpenMenu.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleSelect=this.handleSelect.bind(this),this.renderVersion=this.renderVersion.bind(this)}getCommitMessagePlaceholder(e){const{versions:t,barrelUser:n}=this.props;return e.creator&&e.creator._id===n.user._id?1===t.length?"Got any notes?":"What has changed in this version?":"No commit message yet."}handleOpenMenu(){this.setState({contextMenuOpen:!0})}handleCloseMenu(){this.setState({contextMenuOpen:!1})}handleDelete(e){this.props.onDelete(e)}handleCopyWebUrl(e){this.props.onCopyWebUrl(e,this.nodeRefs.base)}handleCopyAppUri(e){this.props.onCopyAppUri(e,this.nodeRefs.base)}handleSelect(e){this.props.onSelectedVersionChange(e)}renderVersion(e,t){const{selectedVersionId:n,barrelUser:s,onCommitColorChange:a,onCommitMessageChange:l,compact:c}=this.props,{_id:h,creator:p,created:g,commit:{color:m,message:f}={}}=t,b=e.version,y=e.renderedVersions,S=!b||p._id!==b.creator._id,v=new Date(g),C=b&&new Date(b.created),E=Object(r.c)(C,v),O=[!E&&i.h(d.a,{date:v,hideNode:!b}),i.h(u.a,{key:h,id:h,selected:h===n,commitColor:m,hideTopConnector:!b,creator:p,created:g,messagePlaceholder:this.getCommitMessagePlaceholder(t),message:f,showDelete:o.C.canRemoveVersions(s),versionOwner:p._id===s.user._id,shouldDisplayAvatar:S||!E,compact:c,onColorChange:a,onCommitMessageChange:l,onSelect:this.handleSelect,onOpenMenu:this.handleOpenMenu,onCloseMenu:this.handleCloseMenu,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:this.handleDelete})];return y.push(O),{version:t,renderedVersions:y}}render(){const{versions:e,remainingVersionCount:t}=this.props,{contextMenuOpen:n}=this.state;return i.h("div",{ref:Object(c.a)(this,"base"),class:Object(l.a)("versions",{contextMenuOpen:n})},e.reduce(this.renderVersion,{version:null,renderedVersions:[]}).renderedVersions,t>0?i.h(p.a,{remainingVersionCount:t}):i.h(h.a,null))}}m.propTypes={versions:a.a.array.isRequired,remainingVersionCount:a.a.number.isRequired,selectedVersionId:a.a.string.isRequired,barrelUser:a.a.object.isRequired,onCommitColorChange:a.a.func.isRequired,onCommitMessageChange:a.a.func.isRequired,onSelectedVersionChange:a.a.func.isRequired,onCopyWebUrl:a.a.func.isRequired,onCopyAppUri:a.a.func.isRequired,onDelete:a.a.func,compact:a.a.bool},t.a=m},function(e,t,n){"use strict";var i=n(1391);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(203),r=n(649),l=n(1400);n.n(l);function c(e){const{date:t,hideNode:n}=e;return i.h("h3",{class:"versionHeader"},i.h(r.a.forHeader,{hideConnector:n}),i.h("span",{class:"versionHeaderText"},Object(o.b)(t)))}c.propTypes={date:a.a.instanceOf(Date)},t.a=c},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(1393),l=n(1399);n.n(l);function c(e){const{selected:t,color:n,hideTopConnector:s,compact:a,onColorChange:l}=e;return i.h("div",{class:"versionNode noSelect"},i.h("div",{class:Object(o.a)("versionConnector top",{transparent:s}),key:"commitTopConnector"}),i.h(r.a,{selected:t,color:n,compact:a,onColorChange:l}),i.h("div",{class:"versionConnector bottom",key:"commitBottomConnector"}))}function d(e){return i.h("div",{class:"versionNode noSelect"},e.children)}c.propTypes={selected:a.a.bool.isRequired,color:a.a.oneOf(["yellow","orange","peach","green","turquoise"]),onColorChange:a.a.func.isRequired},d.forHeader=function(e){const{hideConnector:t}=e;return i.h("div",{class:"versionNode headerNode noSelect"},i.h("div",{class:Object(o.a)("versionConnector",{transparent:t})}))},d.forInitialCommit=function(){return i.h("div",{class:"versionNode noSelect"},i.h("div",{class:"versionConnector top",key:"initialCommitTopConnector"}),i.h("img",{src:"/img/icHeart.svg",alt:!0,key:"icHeart"}))},d.forCommit=c,t.a=d},function(e,t,n){"use strict";var i=n(1394);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(1395),l=n(1398);n.n(l);class c extends i.Component{constructor(e){super(e),this.openColorChooser=this.openColorChooser.bind(this),this.closeColorChooser=this.closeColorChooser.bind(this),this.state={colorChooserOpen:!1}}openColorChooser(){this.setState({colorChooserOpen:!0})}closeColorChooser(){this.setState({colorChooserOpen:!1})}render(){const{selected:e,color:t,compact:n,onColorChange:s}=this.props;return i.h("div",{class:Object(o.a)("versionNodeDot",t,{selected:e}),onMouseEnter:this.openColorChooser},!n&&this.state.colorChooserOpen&&i.h(r.a,{selected:e,color:t,onChange:s,onClose:this.closeColorChooser}))}}c.propTypes={selected:a.a.bool.isRequired,color:a.a.oneOf(["yellow","orange","peach","green","turquoise"]),compact:a.a.bool,onColorChange:a.a.func.isRequired},t.a=c},function(e,t,n){"use strict";var i=n(1396);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(14),l=n(1),c=n(1397);n.n(c);const d=["yellow","orange","peach","green","turquoise"];class u extends i.Component{constructor(e){super(e),this.handleMouseLeave=this.handleMouseLeave.bind(this)}handleMouseLeave(){this.nodeRefs.chooser.addEventListener("transitionend",()=>this.props.onClose(),{once:!0})}render(){const{selected:e,color:t,onChange:n}=this.props;return i.h("div",{ref:Object(r.a)(this,"chooser"),class:Object(o.a)("nodeColorChooser",t),onClick:l.J,onMouseLeave:this.handleMouseLeave},i.h("div",{class:Object(o.a)("nodeColor",{selected:e})},i.h("div",null)),d.map(e=>{const s=e===t;return i.h("div",{key:e,class:Object(o.a)("nodeColorOption",e,{selectedColor:s}),onClick:()=>{s||n(e)}})}))}}u.propTypes={selected:a.a.bool.isRequired,color:a.a.oneOf(["yellow","orange","peach","green","turquoise"]),onChange:a.a.func.isRequired,onClose:a.a.func},t.a=u},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1402);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(649),r=n(1403),l=n(1409),c=n(142),d=n(470),u=n(26),h=n(14),p=n(70),g=n(1411);n.n(g);class Version extends i.Component{constructor(e){super(e),this.handleColorChange=this.handleColorChange.bind(this),this.handleCommitMessageChange=this.handleCommitMessageChange.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleOpenMenu=this.handleOpenMenu.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this),this.state={contextMenuOpen:!1,contextMenuOrigin:{x:0,y:0}}}scrollIntoView(){const{selected:e}=this.props;e&&Object(u.m)(this.nodeRefs.base)}handleColorChange(e){const{id:t,onColorChange:n}=this.props;n({vid:t,color:Object(p.d)(e),syncWithApi:!0})}handleCommitMessageChange(e){const{id:t,onCommitMessageChange:n}=this.props;n({vid:t,message:e,syncWithApi:!0})}handleSelect(){const{id:e,onSelect:t}=this.props;t(e)}handleOpenMenu(e){e.stopPropagation(),this.setState({contextMenuOpen:!0,contextMenuOrigin:{x:e.clientX,y:e.clientY-28}}),this.props.onOpenMenu()}handleCloseMenu(){this.setState({contextMenuOpen:!1}),this.props.onCloseMenu()}handleCopyWebUrl(){const{id:e,onCopyWebUrl:t}=this.props;t(e)}handleCopyAppUri(){const{id:e,onCopyAppUri:t}=this.props;t(e)}handleDelete(){const{id:e,onDelete:t}=this.props;t(e)}componentDidMount(){this.props.selected&&Object(u.m)(this.nodeRefs.base)}componentWillReceiveProps(e){!this.props.selected&&e.selected&&Object(u.m)(this.nodeRefs.base)}renderContextMenu(){const{versionOwner:e,showDelete:t}=this.props,{contextMenuOpen:n,contextMenuOrigin:s}=this.state;return n?i.h(c.a,null,i.h(l.a,{autoPosition:{zIndex:1e3,menuContainer:"body",clickOrigin:s},onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:(e||t)&&this.handleDelete,onClose:this.handleCloseMenu})):null}render(){const{selected:e,commitColor:t,hideTopConnector:n,creator:s,created:a,messagePlaceholder:l,message:c,versionOwner:d,shouldDisplayAvatar:u,hover:g,compact:m}=this.props,{contextMenuOpen:f}=this.state,b=Object(p.c)(t);return i.h("div",{ref:Object(h.a)(this,"base"),class:"version",onClick:this.handleSelect},i.h(o.a.forCommit,{selected:e,color:b,hideTopConnector:n,onColorChange:this.handleColorChange,compact:m}),i.h(r.a,{creator:s,createdAt:a,messagePlaceholder:l,message:c,color:b,selected:e,versionOwner:d,shouldDisplayAvatar:u,shouldDisplayButtons:f||g,onOpenMenu:this.handleOpenMenu,onCommitMessageChange:this.handleCommitMessageChange}),this.renderContextMenu())}}Version.defaultProps={message:"",commitColor:Object(p.d)("yellow")},Version.propTypes={id:a.a.string.isRequired,selected:a.a.bool.isRequired,commitColor:a.a.oneOfType([a.a.string,a.a.object]),hideTopConnector:a.a.bool,onColorChange:a.a.func.isRequired,creator:a.a.object.isRequired,created:a.a.oneOfType([a.a.instanceOf(Date),a.a.string]),messagePlaceholder:a.a.string.isRequired,message:a.a.string.isRequired,versionOwner:a.a.bool.isRequired,shouldDisplayAvatar:a.a.bool.isRequired,onCommitMessageChange:a.a.func.isRequired,onSelect:a.a.func.isRequired,onOpenMenu:a.a.func.isRequired,onCloseMenu:a.a.func.isRequired,onCopyWebUrl:a.a.func.isRequired,onCopyAppUri:a.a.func.isRequired,onDelete:a.a.func.isRequired,compact:a.a.bool};const m=Object(d.a)(Version);t.a=m},function(e,t,n){"use strict";var i=n(1404);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(14),l=n(543),c=n(1405),d=n(544),u=n(1408);n.n(u);class h extends i.Component{constructor(e){super(e),this.state={editing:!1},this.handleMessageSubmit=this.handleMessageSubmit.bind(this),this.handleEdit=this.handleEdit.bind(this),this.handleCancelEdit=this.handleCancelEdit.bind(this)}handleMessageSubmit(e){const{onCommitMessageChange:t}=this.props;this.setState({editing:!1}),e!==this.props.message&&t(e)}handleEdit(){this.setState({editing:!0})}handleCancelEdit(){this.setState({editing:!1})}componentDidUpdate(e){e.selected&&!this.props.selected&&this.state.editing&&this.componentRefs.textArea.cancelEdit()}render(){const{creator:e,createdAt:t,versionOwner:n,shouldDisplayButtons:s,shouldDisplayAvatar:a,onOpenMenu:u,message:h,messagePlaceholder:p,selected:g,color:m}=this.props,{editing:f}=this.state;return i.h("div",{class:Object(o.a)("versionCommit",m,{selected:g,editing:f,empty:!h})},i.h(c.a,{creator:e,createdAt:t,shouldDisplayButtons:s&&!f,shouldDisplayAvatar:a,shouldDisplayTime:!f||!s,shouldDisplayEditButton:s&&n&&!!h,onEdit:this.handleEdit,onOpenMenu:u}),i.h(d.a,{ref:Object(r.a)(this,"textArea","componentRefs"),class:"message",value:h||"",maxLength:1024,editing:f,color:m,placeholder:p,onCancelEdit:this.handleCancelEdit,onSubmit:this.handleMessageSubmit,formatter:l.a,showEmojiAutoComplete:!0}),n&&!f&&!h&&i.h("button",{type:"button",class:"enterMessageButton",onClick:this.handleEdit},"ENTER COMMIT MESSAGE"))}}h.propTypes={creator:a.a.object,createdAt:a.a.oneOfType([a.a.string,a.a.instanceOf(Date)]),messagePlaceholder:a.a.string,message:a.a.string,color:a.a.string,selected:a.a.bool,versionOwner:a.a.bool,shouldDisplayAvatar:a.a.bool,shouldDisplayButtons:a.a.bool,onOpenMenu:a.a.func,onCommitMessageChange:a.a.func},t.a=h},function(e,t,n){"use strict";var i=n(1406);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(152),r=n(43),l=n(1),c=n(26),d=n(1407);n.n(d);const u="24";function h(e){const{creator:t,createdAt:n,shouldDisplayButtons:s,shouldDisplayAvatar:a,shouldDisplayTime:d,shouldDisplayEditButton:h,onEdit:p,onOpenMenu:g}=e,{src:m,srcset:f}=Object(c.f)(t,{ignoreRandomEmotar:!1,size:u}),b=Object(l.n)(n,{hour:"numeric",minute:"numeric"});return i.h("div",{class:"versionMetadata"},a?i.h("div",{class:"versionAuthor"},i.h(o.a,{width:u,height:u,src:m,srcset:f,class:"versionAuthorImageFrame"}),i.h("div",{class:"versionAuthorName ellipsis"},t?t.username:"Anonymous")):i.h("time",null,b),s?i.h("div",{class:"commitButtons"},h&&i.h("button",{type:"button",onClick:p},i.h(r.o,null)),i.h("button",{type:"button",onClick:g},i.h(r.u,null))):a&&d&&i.h("time",null,b))}h.propTypes={creator:a.a.object.isRequired,createdAt:a.a.oneOfType([a.a.instanceOf(Date),a.a.string]),shouldDisplayButtons:a.a.bool,shouldDisplayAvatar:a.a.bool,shouldDisplayTime:a.a.bool,shouldDisplayEditButton:a.a.bool,onEdit:a.a.func,onOpenMenu:a.a.func},t.a=h},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1410);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(156);t.a=function(e){const{autoPosition:t,onClose:n,onDelete:a,onCopyWebUrl:o,onCopyAppUri:r}=e;return i.h(s.a.withAutoPosition,{autoPosition:t,onClose:n},i.h(s.a.Item,{onClick:o},"Copy version web link"),i.h(s.a.Item,{onClick:r},"Copy version App URI"),a&&[i.h(s.a.ItemDivider,{key:"divider"}),i.h(s.a.Item,{key:"delete",onClick:a,warning:!0},"Delete version")])}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(649),a=n(1413);n.n(a);t.a=function(){return i.h("div",{class:"initialCommit"},i.h(s.a.forInitialCommit,null),i.h("div",{class:"commit"},i.h("h4",null,"The story begins here!"),i.h("p",null,"“Versions” panel lists the changes on this screen over time.")))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(6),r=n(1415);n.n(r);function l(e){const{remainingVersionCount:t}=e;return i.h("div",{class:"versionLimitExceeded noSelect"},Object(o.g)(t,"more version")," available, ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/version-limits",target:"_blank"}," learn more")," about version limits in different plans")}l.propTypes={remainingVersionCount:a.a.number.isRequired},t.a=l},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1418);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1419);n.n(s);t.a=function(e){return i.h("div",{class:"versionsLoading"})}},function(e,t){},function(e,t,n){"use strict";var i=n(1421);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(43),r=n(1422);n.n(r);function l(e){const{latestVersionSelected:t,compact:n,onClick:s}=e;return i.h("button",{class:"versionsCollapser",onClick:s},n||!t?i.h(o.h,null):i.h(o.f,null))}l.propTypes={compact:a.a.bool,onClick:a.a.func.isRequired},t.a=l},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1425);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1426),a=n(638),o=n(284),r=n(1466),l=n(57),c=n(31),d=n(153),u=n(58),h=n(60),p=n(74),g=n(1),m=n(3),f=n(287),b=n(316),y=n(203),S=n(14),v=n(21),C=n(26),E=n(6),O=n(56),T=n(5),k=n(33),D=n(1483);n.n(D);const _=36e5;t.a=Object(p.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={holdingSpace:!1,holdingMouse:!1,edgesToMeasure:null,parentIndex:0},this.setZoomOrigin=(e=>{if(this.zoomOrigin)return;const{top:t,left:n,width:i,height:s}=this.nodeRefs.snapshotDetail.getBoundingClientRect(),{clientX:a,clientY:o}=e;this.zoomOrigin={x:a,y:o,xRatio:(a-n)/i,yRatio:(o-t)/s}}),this.setZoomOriginAsCenter=(()=>{const{screenView:e,snapshotDetail:t}=this.nodeRefs,{top:n,width:i,height:s}=e.getBoundingClientRect(),{top:a,left:o,width:r,height:l}=t.getBoundingClientRect(),c=i/2,d=s/2+n;this.zoomOrigin={x:c,y:d,xRatio:(c-o)/r,yRatio:(d-a)/l}}),this.scrollToZoomOrigin=(()=>{const{x:e,y:t,xRatio:n,yRatio:i}=this.zoomOrigin,{screenView:s,dotgrid:a,snapshotDetail:o}=this.nodeRefs,r=s.getBoundingClientRect(),l=a.getBoundingClientRect(),c=o.getBoundingClientRect(),d=c.left-l.left-e+n*c.width,u=c.top-l.top+r.top-t+i*c.height;s.scrollTo(d,u)}),this.animateScroll=(()=>{this.scrollToZoomOrigin(),this.scrollHandle=requestAnimationFrame(this.animateScroll)}),this.deselectLayer=(()=>{d.c.deselectLayer()}),this.handleMouseLeave=(()=>{const{selectedLayer:e}=this.state;e&&this.setState({edgesToMeasure:null})}),this.handleMouseMove=(e=>{const{loading:t,selectedLayer:n,holdingSpace:i,holdingMouse:s}=this.state;t||(i&&s&&this.scrollScreenView(e),this.mousePosition={x:e.clientX,y:e.clientY},n&&this.handleEdgeDistanceMode(e))}),this.handleMouseDown=(e=>{document.addEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!0}),this.mousePosition={x:e.clientX,y:e.clientY}}),this.handleMouseUp=(()=>{document.removeEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!1}),this.scrolledScreenView&&(d.c.disableNoteMode(),this.scrolledScreenView=!1)}),this.handleGestureStart=(e=>{e.preventDefault(),d.c.startGesture()}),this.handleGestureChange=(e=>{e.preventDefault(),this.setZoomOrigin(e),d.c.zoomWithGesture(e.scale)}),this.handleWheel=(e=>{e.ctrlKey&&(e.preventDefault(),this.setZoomOrigin(e),d.c.zoomWithWheel(e.deltaY))}),this.handleKeyPress=(e=>{Object(C.i)(e.target)||e.keyCode===Zeplin.KEY_CODE.SPACE&&e.preventDefault()}),this.handleKeyDown=(e=>{if(Object(C.i)(e.target))return;const{screenId:t,percentageMode:n,selectedLayer:i,destinationLayer:s,parentLayers:{length:a},parentIndex:o,holdingSpace:r,edgesToMeasure:l}=this.state;if(e.keyCode!==Zeplin.KEY_CODE.SPACE||r){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp&&n&&a)e.preventDefault(),this.setState({parentIndex:(o+1)%a});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown&&n&&a)e.preventDefault(),this.setState({parentIndex:(o-1+a)%a});else if(e.keyCode===Zeplin.KEY_CODE.ArrowLeft){e.preventDefault();const n=d.e.getPreviousScreen(t);n&&d.e.navigateToScreen(n._id)}else if(e.keyCode===Zeplin.KEY_CODE.ArrowRight){e.preventDefault();const n=d.e.getNextScreen(t);n&&d.e.navigateToScreen(n._id)}else if(e.altKey){switch(e.code){case k.b.Code.Minus:e.preventDefault(),e.stopPropagation(),d.c.zoomOut();break;case k.b.Code.Equal:e.preventDefault(),e.stopPropagation(),d.c.zoomIn()}switch(e.keyCode){case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),d.c.resetZoom();break;case Zeplin.KEY_CODE.KeyG:e.preventDefault(),e.stopPropagation(),d.c.toggleLayoutGrid();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),d.c.openTagManager(t);break;case Zeplin.KEY_CODE.KeyV:e.preventDefault(),e.stopPropagation(),d.c.toggleVersions()}}}else e.preventDefault(),this.setState({holdingSpace:!0});!Object(O.d)(e)||!Object(O.k)(e)||Object(O.e)(e)||e.altKey||e.shiftKey?d.c.disableNoteMode():d.c.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!i||!s&&!l?d.c.disablePercentageMode():d.c.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?d.c.hideFlowLinks():d.c.showFlowLinks()}),this.handleKeyUp=(e=>{if(Object(C.i)(e.target))return;const{holdingSpace:t,selectedLayer:n,destinationLayer:i,edgesToMeasure:s}=this.state;e.keyCode===Zeplin.KEY_CODE.SPACE&&t&&(e.preventDefault(),this.setState({holdingSpace:!1})),!Object(O.d)(e)||Object(O.e)(e)||e.altKey||e.shiftKey?d.c.disableNoteMode():d.c.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!n||!i&&!s?d.c.disablePercentageMode():d.c.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?d.c.hideFlowLinks():d.c.showFlowLinks()}),this.handleCopy=(e=>{const{selectedLayer:t}=this.state;t&&"text"===t.type&&"Range"!==window.getSelection().type&&(e.preventDefault(),e.clipboardData.setData("text/plain",t.content))}),this.handleCopyDotWebUrl=(e=>{const{screenView:t}=this.nodeRefs;Object(C.c)({content:e,toastContainer:t})}),this.handleCopyDotAppUri=(e=>{const{screenView:t}=this.nodeRefs,{barrelId:n,screenId:i}=this.state,s=`${T.L}//screen?pid=${n}&sid=${i}&did=${e}`;Object(C.c)({content:s,toastContainer:t})}),this.handleLayerSelect=((e,t)=>{const{noteMode:n,holdingSpace:i}=this.state;n||i||(e.stopPropagation(),this.setState({edgesToMeasure:null}),d.c.selectLayer(t))}),this.handleComponentLayerTagClick=(()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Header"})}),this.handleZoomIn=(()=>{this.setZoomOriginAsCenter(),d.c.zoomIn()}),this.handleZoomOut=(()=>{this.setZoomOriginAsCenter(),d.c.zoomOut()}),this.handleZoomChange=(e=>{this.setZoomOriginAsCenter(),d.c.changeZoomLevel(e,!0)}),t}static getStores(){return[c.e,d.f,l.c,u.c,h.b]}static calculateState(e={}){const t=c.d.getStyleguidesData({barrelStore:c.e,styleguidesDataStore:u.c,projectsDataStore:l.c}),{loading:n,barrelId:i}=c.e.getState();if(n)return{loading:!0};const s=c.d.findUser(),{screenId:a,loadingVersions:o,versionId:r,animateZooming:h,zoomLevel:p,percentageMode:m,selectedLayer:y,destinationLayer:S,flowLinksVisible:v,latestVersionSelected:C,layoutGridEnabled:E,notesVisible:O,noteMode:T,hasNewVersions:k,showVersionsAuntie:D,showVersionsTutorial:_,versionsLastSeen:w,versionsVisible:j}=d.f.getState();if(o&&!C)return{loading:!0};const R=sessionStorage.getItem("newVersionsAuntieStatus"),I=sessionStorage.getItem("versionsCommitAuntieStatus"),A=c.d.getBarrel(),x=d.e.getScreen(),P=d.e.getVersion({sid:a,vid:r}),{snapshot:L}=P,N=Object(f.b)(L,y,t),U=t.flatMap(({spacingSections:e})=>e.flatMap(e=>e.spacingTokens)),M=m&&y&&S&&L?Object(b.d)(y,S,L):[],{parentLayers:B=[]}=e;let{parentIndex:z=0}=e;const F=g.a(B,M,(e,t)=>e._id===t._id);return m&&y&&S&&F||(z=0),{loading:!1,barrelId:i,barrel:A,remPreferences:t[0].remPreferences,barrelUser:s,screenId:a,screen:x,version:P,componentLayer:N,spacingTokens:U,animateZooming:h,zoomLevel:p,percentageMode:m,selectedLayer:y,destinationLayer:S,parentLayers:M,parentIndex:z,flowLinksVisible:v,layoutGridEnabled:E,notesVisible:O,noteMode:T,latestVersionSelected:C,hasNewVersions:k,showVersionsAuntie:D,showVersionsTutorial:_,versionsLastSeen:w,newVersionsAuntieStatus:R,versionsCommitAuntieStatus:I,versionsVisible:j}}dismissVersionsCommitAuntie(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}dismissNewVersionsAuntie(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}scrollScreenView(e){this.scrolledScreenView=!0;const{screenView:t}=this.nodeRefs,n=t.scrollTop+this.mousePosition.y-e.clientY,i=t.scrollLeft+this.mousePosition.x-e.clientX;t.scrollTop=n,t.scrollLeft=i}setEdgesToMeasureIfItsChanged(e){const{edgesToMeasure:t}=this.state;(!e&&t||e&&(!t||!g.a(t,e,(e,t)=>e===t)))&&this.setState({edgesToMeasure:e})}resetModeFlags(){d.c.hideFlowLinks(),d.c.disablePercentageMode(),d.c.disableNoteMode()}handleEdgeDistanceMode(e){const t=this.nodeRefs.snapshotDetail.getBoundingClientRect();let n=[];e.clientX<t.left?n.push("left"):e.clientX>t.right&&n.push("right"),e.clientY<t.top?n.push("top"):e.clientY>t.bottom&&n.push("bottom"),0===n.length&&(n=null),this.setEdgesToMeasureIfItsChanged(n)}handleNotesVisibilityChange(e){e?d.c.showNotes():d.c.hideNotes()}handleVersionsTutorialClick(e){e.stopPropagation(),d.c.showVersionsAuntie()}componentDidMount(){const{selectedLayer:e}=this.state;if(e&&document.addEventListener("click",this.deselectLayer),document.addEventListener("keypress",this.handleKeyPress),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("copy",this.handleCopy),window.addEventListener("blur",this.resetModeFlags),"GestureEvent"in window){const{dotgrid:e}=this.nodeRefs;e.addEventListener("gesturestart",this.handleGestureStart),e.addEventListener("gesturechange",this.handleGestureChange)}}componentDidUpdate(e,t){const{zoomLevel:n,animateZooming:i,selectedLayer:s}=this.state;t.zoomLevel!==n&&this.zoomOrigin&&(clearTimeout(this.originResetTimeout),this.originResetTimeout=setTimeout(()=>{cancelAnimationFrame(this.scrollHandle),this.zoomOrigin=null},300),cancelAnimationFrame(this.scrollHandle),this.scrollHandle=i?requestAnimationFrame(this.animateScroll):requestAnimationFrame(this.scrollToZoomOrigin)),s?document.addEventListener("click",this.deselectLayer):document.removeEventListener("click",this.deselectLayer)}componentWillUnmount(){if(document.removeEventListener("click",this.deselectLayer),document.removeEventListener("keypress",this.handleKeyPress),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("blur",this.resetModeFlags),this.resetModeFlags(),"GestureEvent"in window){const{dotgrid:e}=this.nodeRefs;e.removeEventListener("gesturestart",this.handleGestureStart),e.removeEventListener("gesturechange",this.handleGestureChange)}}renderScreen(){const{loading:e,screen:t,version:n,componentLayer:a,spacingTokens:o,barrel:r,barrelUser:l,remPreferences:c,zoomLevel:u,percentageMode:h,selectedLayer:p,destinationLayer:g,parentLayers:m,parentIndex:f,edgesToMeasure:b,flowLinksVisible:y,layoutGridEnabled:v,latestVersionSelected:C,notesVisible:E}=this.state;if(e||!t||!n)return i.h(s.a.Loading,null);const{snapshot:O}=n,T=m[f];return i.h(s.a,{snapshotDetailRef:Object(S.a)(this,"snapshotDetail"),project:r,screen:t,snapshot:O,barrelUser:l,remPreferences:c,notesVisible:E&&C,layoutGridEnabled:v,zoomLevel:u,selectedLayer:p,destinationLayer:g,parentLayer:T,componentLayer:a,spacingTokens:o,percentageMode:h,flowLinksVisible:y,edgesToMeasure:b,onCopyDotWebUrl:this.handleCopyDotWebUrl,onCopyDotAppUri:this.handleCopyDotAppUri,onLayerSelect:this.handleLayerSelect,onLayerEnter:d.c.enterLayer,onLayerLeave:d.c.leaveLayer,onComponentLayerTagClick:this.handleComponentLayerTagClick})}renderDotGrid(){const{version:e,zoomLevel:t,animateZooming:n,holdingSpace:s,holdingMouse:a,noteMode:o}=this.state;let r,l;e?({snapshot:{width:r,height:l}}=e):(r=320,l=480);const c=20*t,u=`linear-gradient(to bottom, transparent, transparent ${2*t}px, #FFF ${2*t}px, #FFF ${c}px), `+`linear-gradient(to right, #C8C3C7, #C8C3C7 ${2*t}px, #FFF ${2*t}px, #FFF ${c}px`,h=window.innerWidth/2-151-t*r/2+"px "+(-3*c+58)+"px",p=c+"px "+c+"px";return i.h("div",{class:Object(m.a)("dotgrid","noSelect",{noteMode:o,zooming:n,grab:s&&!a,grabbing:s&&a}),style:{width:r*t+240,height:l*t+120,backgroundImage:u,backgroundPosition:h,backgroundSize:p},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onWheel:this.handleWheel,onTransitionEnd:d.c.zoomApplied,ref:Object(S.a)(this,"dotgrid")},this.renderScreen())}renderWidgets(){const{zoomLevel:e,hasNewVersions:t,notesVisible:n,latestVersionSelected:s,versionsVisible:a}=this.state;return i.h(r.a,{latestVersionSelected:s,versionsVisible:a,hasNewVersions:t,onVersionsToggleClick:d.c.showVersions,zoomLevel:e,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomChange:this.handleZoomChange,onPopoutWidgetClick:d.c.openPopout,onAddNoteWidgetClick:d.c.enableNoteMode,notesVisible:n,onNotesVisibilityChange:this.handleNotesVisibilityChange})}renderEarlierVersionWarning(){const{version:e,latestVersionSelected:t}=this.state;return!e||t?null:i.h("div",{class:"oldVersionWarning"},"Earlier version from ",i.h("time",{datetime:e.created},Object(y.b)(e.created)))}renderVersionsAuntie(){const{loading:e,barrelUser:t,screen:n,hasNewVersions:s,showVersionsTutorial:r,showVersionsAuntie:l,versionsLastSeen:c,versionsCommitAuntieStatus:u,newVersionsAuntieStatus:h}=this.state;if(e)return null;const{versions:p}=n||{};if(r)return l?i.h(a.a,{content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:d.c.hideVersionsAuntie}):i.h("img",{class:"versionsTutorialCircle",src:Object(v.f)("img/icTutorial.svg"),onClick:this.handleVersionsTutorialClick});if(!s)return null;const g=p.filter(({created:e})=>new Date(e)>c),m=g.filter(({creator:e})=>e&&e._id===t.user._id),f=m.find(({commit:e})=>!e||!e.message),b=g.length-m.length;if(f&&"dismissed"!==u){const e=new Date-new Date(f.created)>_?i.h("span",null,"Looks like you uploaded a version ",i.h(o.a,{type:"time-ago",datetime:f.created}),". Add a commit message and share what has changed!"):"New version! Add a commit message and share what has changed.";return i.h(a.a,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissVersionsCommitAuntie})}if(b&&"dismissed"!==h){const e=`There ${b>1?"are":"is"} ${Object(E.g)(b,"new version",{one:"a"})} since you last visited!`;return i.h(a.a,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissNewVersionsAuntie})}return null}render(){return i.h("div",{class:"screenViewContainer"},i.h("section",{class:"screenView",ref:Object(S.a)(this,"screenView"),onScroll:d.c.zoomApplied},this.renderDotGrid()),this.renderWidgets(),this.renderEarlierVersionWarning(),this.renderVersionsAuntie())}})},function(e,t,n){"use strict";var i=n(1427);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(14),o=n(316),r=n(1428),l=n(1438),c=n(1444),d=n(650),u=n(1465);n.n(u);class Screen extends i.Component{constructor(e){super(e),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleSnapshotDetailRef=this.handleSnapshotDetailRef.bind(this),this.layerClickHandler=Object(o.e)()}handleLayerSelect(e,t){const{onLayerSelect:n}=this.props;if(!n)return;const{selectedLayer:i,snapshot:s}=this.props,a=this.nodeRefs.snapshotDetail.getBoundingClientRect();n(e,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:s,selectedLayer:i,snapshotDetailRect:a}))}handleSnapshotDetailRef(e){Object(a.a)(this,"snapshotDetail")(e);const{snapshotDetailRef:t}=this.props;t&&t(e)}getChildContext(){const{project:{densityScale:e,dimensionSuffix:t}}=this.props;return{densityScale:e,dimensionSuffix:t}}componentWillReceiveProps(e){const{selectedLayer:t}=e,{selectedLayer:n}=this.props;!t&&n&&this.layerClickHandler.reset()}renderScreenImage(){const{zoomLevel:e,snapshot:{_id:t,width:n,height:a}}=this.props;return i.h(d.a.Image,{key:`snapshotImage-${t}`,class:Object(s.a)("snapshotImage",{pixelated:e>=2}),style:{width:n*e,height:a*e}})}renderComponentLayer(){const{project:e,screen:{name:t},snapshot:{width:n,height:s},componentLayer:a,zoomLevel:o,onComponentLayerTagClick:r}=this.props;return i.h(d.a.ComponentLayer,{barrelId:e.id,barrelType:"project",containerName:t,componentLayer:a,containerWidth:n,containerHeight:s,zoomLevel:o,onTagClick:r})}renderLayers(){const{snapshot:e,selectedLayer:t,destinationLayer:n,parentLayer:s,onLayerEnter:a,onLayerLeave:o,edgesToMeasure:r}=this.props;return e.layers?i.h(d.a.Layers,{key:"layers",layers:e.layers,selectedLayerId:t?t._id:null,hoveredId:n?n._id:null,edgeDistanceMode:!!r,parentLayer:s,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:a,onLayerLeave:o}):null}renderFlowLinks(){const{project:e,snapshot:t,flowLinksVisible:n}=this.props;return n&&t.links&&t.links.length?i.h(l.a,{key:"flowLinks",project:e,snapshot:t}):null}renderDotsContainer(){const{notesVisible:e,onCopyDotWebUrl:t,onCopyDotAppUri:n}=this.props;return e?i.h(r.a,{key:"dotsContainer",onCopyWebUrl:t,onCopyAppUri:n}):null}renderRulers(){const{selectedLayer:e}=this.props;return e?i.h(d.a.Rulers,{key:"rulers",x:e.absoluteRect.x,y:e.absoluteRect.y,width:e.absoluteRect.width,height:e.absoluteRect.height}):null}renderDistances(){const{selectedLayer:e,destinationLayer:t,parentLayer:n,percentageMode:s,edgesToMeasure:a}=this.props;return e&&(t||a&&a.length)?t?i.h(d.a.Distances.BetweenLayers,{key:"distances",sourceRect:e.absoluteRect,destRect:t.absoluteRect,percentageMode:s,parentRect:n?n.rect:null}):i.h(d.a.Distances.BetweenEdges,{key:"distances",sourceRect:e.absoluteRect,edgesToMeasure:a,percentageMode:s}):null}renderLayoutGrid(){const{layoutGridEnabled:e,zoomLevel:t,snapshot:n}=this.props;return e&&n.grid?i.h(c.a,{key:"layoutGrid",zoomLevel:t,width:n.width,height:n.height,grid:n.grid}):null}renderLayersAndDots(){const{flowLinksVisible:e}=this.props;return e?null:[this.renderDotsContainer(),this.renderLayers(),this.renderRulers(),this.renderDistances(),this.renderLayoutGrid()]}render(){const{snapshot:e,snapshot:{width:t,height:n},project:{type:s},remPreferences:a,zoomLevel:o,spacingTokens:r}=this.props;return i.h(d.a,{baseRef:this.handleSnapshotDetailRef,snapshot:e,platform:s,spacingTokens:r,remPreferences:a,style:{width:t*o,height:n*o},class:"screenSnapshotDetail"},this.renderScreenImage(),this.renderFlowLinks(),this.renderLayersAndDots())}}Screen.Loading=(()=>i.h("div",{class:"screen loading"})),t.a=Screen},function(e,t,n){"use strict";var i=n(1429);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(70),a=n(8),o=n(13),r=n(25),l=n(1430),c=n(57),d=n(31),u=n(153),h=n(60),p=n(74);t.a=Object(p.a)(class extends i.Component{constructor(e){super(e),this.handleGenerateDotShortlink=(e=>{Object(o.generateShortlink)(e).then(t=>{u.c.setShortlink(e,t)})}),this.handleMenuOpen=(e=>{const{barrelId:t,screenId:n,shortlinks:i}=this.state,s=Object(a.j)("project-screen",{url:{pid:t,sid:n},query:{did:e}});i[s]||this.handleGenerateDotShortlink(s),u.c.openDotMenu()}),this.handleCopyWebUrl=(e=>{const{onCopyWebUrl:t}=this.props,{barrelId:n,screenId:i,shortlinks:s}=this.state;t(s[Object(a.j)("project-screen",{url:{pid:n,sid:i},query:{did:e}})])}),this.handleDelete=this.handleDelete.bind(this)}static calculateState(){const{loading:e,barrelId:t}=d.e.getState();if(e)return{loading:e};const n=d.d.findUser(),{statusFilter:i,colorFilter:a,flash:o,dotId:r,highlightedDots:l}=u.a.getState(),{noteMode:c,screenId:h,shortlinks:p}=u.f.getState(),{dots:g=[]}=u.e.getScreen()||{},m=g.filter(e=>Object(s.a)(e,i,a,n.user)).map(e=>{const{_id:t,status:n="open",color:i,comments:a}=e,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["_id","status","color","comments"]),r=Object(s.c)(i);return Object.assign({},o,{id:t,colorName:r,status:n,highlight:l.includes(t)})});return{loading:e,barrelUser:n,dots:m,dotId:r,noteMode:c,flash:o,screenId:h,barrelId:t,shortlinks:p}}static getStores(){return[d.e,u.f,u.a,c.c,h.b]}handleCreate(e,t){u.c.createNote({x:e,y:t})}handlePositionChange(e,t,n){u.c.updateDotPosition({did:e,x:t,y:n,syncWithApi:!0})}handleStatusChange(e,t){u.c.updateDotStatus({did:e,status:t,syncWithApi:!0})}handleDelete(e){const{barrelUser:t}=this.state,{creator:n}=u.e.getDot({did:e})||{};let i;i=n?n._id===t.user._id?"Delete your note?":`Delete ${n.username}’s note?`:"Delete note?",r.a({title:i,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb(){u.c.removeDot({did:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}render(){const{onCopyAppUri:e}=this.props,{barrelUser:t,loading:n,dotId:s,dots:a,noteMode:o,flash:r}=this.state;return n?null:i.h(l.a,{dots:a,selectedDotId:s,noteMode:o,flash:r,barrelUser:t,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:e,onPositionChange:this.handlePositionChange,onStatusChange:this.handleStatusChange,onMenuOpen:this.handleMenuOpen,onClick:u.c.selectDot,onCreate:this.handleCreate,onMoveThresholdExceed:u.c.closeDotPopup,onAnimationEnd:u.c.dotsFlashed,onDelete:this.handleDelete})}})},function(e,t,n){"use strict";var i=n(1431);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1432),a=n(1435),o=n(1),r=n(3),l=n(14),c=n(1437);n.n(c);const d=4,u=13;t.a=class extends i.Component{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMoveBeforeThreshold=this.handleMouseMoveBeforeThreshold.bind(this),this.handleMouseMoveAfterThreshold=this.handleMouseMoveAfterThreshold.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleDotClick=this.handleDotClick.bind(this),this.handleClick=this.handleClick.bind(this),this.state={movingDot:{},movedDot:!1,dotMenu:{},dotZIndex:11},this.clickedDotOriginX=null,this.clickedDotOriginY=null}isDragging(e){const{movingDot:{id:t}}=this.state;return e.id===t}isDraft(e){return e.includes("newDot")}isMoving(e){const{movingDot:{thresholdExceeded:t}}=this.state;return this.isDragging(e)&&t}isOverlapping(){if(document.elementsFromPoint){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=document.elementsFromPoint(e.left+u,e.top+u);for(let n=0;n<t.length;n++)if(t[n].classList.contains("dot")&&t[n]!==this.nodeRefs.dragging)return!0;return!1}return this.comparePositions()}comparePositions(){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=e.left+u,n=e.top+u,i=this.nodeRefs.base.children;for(let s=0;s<i.length&&i[s].classList.contains("dot");s++){const e=i[s].getBoundingClientRect();if(i[s]!==this.nodeRefs.dragging&&t>e.left&&t<e.right&&n>e.top&&n<e.bottom)return!0}return!1}handleContextMenu(e,t){const{onMenuOpen:n}=this.props;n(),this.setState({dotMenu:{id:t,origin:{x:e.clientX,y:e.clientY}}})}handleMenuClose(){this.setState({dotMenu:{}})}handleMouseDown(e,t){this.isDraft(t)||(this.clickedDotOriginX=e.clientX,this.clickedDotOriginY=e.clientY,this.setState({dotMenu:{},movingDot:{id:t,thresholdExceeded:!1}}),document.addEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMoveBeforeThreshold(e){const{dots:t,onMoveThresholdExceed:n}=this.props,{movingDot:{id:i},movingDot:s}=this.state,a=Math.abs(e.clientX-this.clickedDotOriginX),o=Math.abs(e.clientY-this.clickedDotOriginY);if(Math.hypot(a,o)>d){n();const{x:e,y:a}=t.find(e=>e.id===i);this.setState({movingDot:Object.assign({},s,{x:e,y:a,thresholdExceeded:!0})}),document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mousemove",this.handleMouseMoveAfterThreshold)}}handleMouseMoveAfterThreshold(e){e.preventDefault();const t=this.nodeRefs.base.getBoundingClientRect(),{movingDot:n}=this.state,i=Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),s=Math.max(0,Math.min((e.clientY-t.top)/t.height,1)),a=this.isOverlapping();this.setState({movingDot:Object.assign({},n,{x:i,y:s,overlap:a})})}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp),this.clickedDotOriginX=null,this.clickedDotOriginY=null;const{onPositionChange:e}=this.props,{movingDot:{id:t,thresholdExceeded:n,overlap:i,x:s,y:a},movingDot:o,dotZIndex:r}=this.state;n?i?this.setState({movingDot:Object.assign({},o,{revert:!0}),movedDot:!0}):(this.setState({movingDot:{},movedDot:!0,dotZIndex:r+1}),e(t,s,a)):this.setState({movingDot:{}})}handleTransitionEnd(){this.setState({movingDot:{}})}handleClick(e){const{noteMode:t,onCreate:n}=this.props;if(t){e.stopPropagation();const t=this.nodeRefs.base.getBoundingClientRect();n(Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),Math.max(0,Math.min((e.clientY-t.top)/t.height,1)))}}handleDotClick(e){if(this.isDraft(e))return;const{onClick:t}=this.props,{movedDot:n}=this.state;n?this.setState({movedDot:!1}):t(e)}componentWillReceiveProps(e){const{dotMenu:{id:t}}=this.state,{dots:n}=this.props,{dots:i}=e;if(t){const e=n.find(e=>e.id===t),s=i.find(e=>e.id===t);s&&s.x===e.x&&s.y===e.y||this.setState({dotMenu:{}})}}componentDidUpdate(){const{dots:e}=this.props,{movingDot:{id:t,revert:n,x:i,y:s},movingDot:a}=this.state;if(n){const n=e.find(e=>t===e.id&&i!==e.x&&s!==e.y);n&&this.setState({movingDot:Object.assign({},a,{x:n.x,y:n.y})})}}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp)}renderDots(){const{dots:e,selectedDotId:t}=this.props,{movingDot:n,dotZIndex:a,dotMenu:o}=this.state;return e.map(e=>{const r=Object.assign({},e,{key:e.id,selected:t===e.id,zIndex:a,menuOpen:o.id===e.id,onClick:this.handleDotClick});return this.isMoving(e)?i.h(s.a,Object.assign({},r,{x:n.x,y:n.y,moving:!0,overlap:n.overlap,revert:n.revert,onTransitionEnd:n.revert?this.handleTransitionEnd:null,zIndex:a+5,draggingRef:Object(l.a)(this,"dragging")})):this.isDragging(e)?i.h(s.a,Object.assign({},r,{draggingRef:Object(l.a)(this,"dragging")})):i.h(s.a,Object.assign({},r,{onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown}))})}renderMenu(){const{dots:e,barrelUser:t,onStatusChange:n,onCopyWebUrl:s,onCopyAppUri:r,onDelete:l,onMenuOpen:c}=this.props,{dotMenu:{id:d,origin:u},dotZIndex:h}=this.state;if(!d)return null;const p=e.find(e=>e.id===d);if(!p)return null;const g=p.creator&&p.creator._id===t.user._id||o.C.canRemoveNotes(t);return i.h(a.a,{key:"dotmenu",id:d,status:p.status,canDelete:g,autoPosition:{sidebar:".sidebar.screenSidebar",menuContainer:".dots",clickOrigin:u,zIndex:h},onClose:this.handleMenuClose,onOpen:c,onStatusChange:n,onCopyWebUrl:s,onCopyAppUri:r,onDelete:l})}render(){const{noteMode:e,flash:t,onAnimationEnd:n}=this.props,s=Object(r.a)("dots",{noteMode:e});return i.h("div",{class:s,ref:Object(l.a)(this,"base"),onClick:this.handleClick},this.renderDots(),this.renderMenu(),t&&i.h("div",{key:"flash",class:"flash",onAnimationEnd:n}))}}},function(e,t,n){"use strict";var i=n(1433);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(100),l=n(1434);n.n(l);class c extends r.a{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this)}handleClick(e){e.stopPropagation();const{id:t,onClick:n}=this.props;n(t)}handleMouseDown(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{id:t,onMouseDown:n}=this.props;n(e,t)}handleContextMenu(e){e.preventDefault();const{id:t,onContextMenu:n}=this.props;n&&n(e,t)}handleTransitionEnd(e){e.stopPropagation();const{onTransitionEnd:t}=this.props;t&&t()}render(){const{id:e,name:t,colorName:n,x:s,y:a,status:r="open",highlight:l,moving:c,overlap:d,revert:u,selected:h,menuOpen:p,zIndex:g,draggingRef:m}=this.props,f=`calc(${100*s}% - 13px)`,b=`calc(${100*a}% - 13px)`,y=Object(o.a)("dot",n,r,{highlight:l,moving:c,menuOpen:p,overlap:d,revert:u,selected:h});return i.h("div",{class:y,ref:m,"data-id":e,"data-color":n,"data-position":s<=.5?"left":"right",style:{left:f,top:b,zIndex:g},onMouseDown:this.handleMouseDown,onTransitionEnd:this.handleTransitionEnd,onContextMenu:this.handleContextMenu,onClick:this.handleClick},t||"?")}}c.propTypes={id:a.a.string,name:a.a.string,colorName:a.a.string,x:a.a.number,y:a.a.number,status:a.a.oneOf(["open","resolved"]),moving:a.a.bool,menuOpen:a.a.bool,zIndex:a.a.number},c.defaultProps={moving:!1,overlap:!1,revert:!1,selected:!1},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(1436);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(156);t.a=class extends i.Component{constructor(e){super(e),this.handleMenuOpen=(()=>{const{onOpen:e,id:t}=this.props;e(t)}),this.handleStatusChange=this.handleStatusChange.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleStatusChange(e){e.stopPropagation();const{id:t,status:n,onStatusChange:i}=this.props;i(t,"open"===n?"resolved":"open")}handleCopyWebUrl(e){e.stopPropagation();const{id:t,onCopyWebUrl:n}=this.props;n(t)}handleCopyAppUri(e){e.stopPropagation();const{id:t,onCopyAppUri:n}=this.props;n(t)}handleDelete(e){e.stopPropagation();const{id:t,onDelete:n}=this.props;n(t)}render(){const{status:e,canDelete:t,autoPosition:n,onClose:a}=this.props;return i.h(s.a.withAutoPosition,{onClose:a,onOpen:this.handleMenuOpen,autoPosition:n},i.h(s.a.Item,{onClick:this.handleStatusChange},"open"===e?"Resolve":"Reopen"),i.h(s.a.ItemDivider,null),i.h(s.a.Item,{onClick:this.handleCopyWebUrl},"Copy web link"),i.h(s.a.Item,{onClick:this.handleCopyAppUri},"Copy App URI"),t&&i.h(s.a.ItemDivider,null),t&&i.h(s.a.Item,{warning:!0,onClick:this.handleDelete},"Delete note"))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1439);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(8),a=n(75),o=n(1440),r=n(1443);n.n(r);t.a=function(e){const{project:t,snapshot:{_id:n,links:r,width:l,height:c}}=e,d=r.map((e,r)=>{const{rect:{x:d,y:u,width:h,height:p},destination:{type:g,name:m}}=e;let f;if("screen"===g){const e=t.screens.find(e=>e.name===m);if(!e)return null;f=Object(s.j)("project-screen",{url:{pid:t.id,sid:e._id}})}const b=Object(a.d)(h,l),y=Object(a.d)(p,c),S=Object(a.d)(d,l),v=Object(a.d)(u,c);return i.h(o.a,{key:`${t.id}-${n}-link-${r}`,style:{width:b,height:y,top:v,left:S},type:g,to:f})}).filter(Boolean);return i.h("div",{class:"flowLinks"},d)}},function(e,t,n){"use strict";var i=n(1441);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function({style:e,type:t,to:n}){const s="previous"===t?"pop":"replace",a="previous"===t?"#":n;return i.h("a",{href:a,class:"flowLink",style:e,"data-link-type":"inApp","data-nav-op":s,"data-flow-nav":!0})};var i=n(0),s=n(1442);n.n(s)},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1445);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(100),r=n(14),l=n(1446);n.n(l);class c extends o.a{toDeviceDimen(e){const{zoomLevel:t}=this.props;return e*t}drawGrid(){const{width:e,height:t,grid:n}=this.props,i=this.nodeRefs.canvas,s=i.getContext("2d");s.clearRect(0,0,i.width,i.height),i.width=this.toDeviceDimen(e),i.height=this.toDeviceDimen(t);let a="rgba(238, 103, 35, 0.3)";if(n.vertical){let e,t=n.vertical,o=this.toDeviceDimen(t.columnWidth+t.gutterWidth),r=t.numberOfCols,l=this.toDeviceDimen(n.horizontalOffset+(t.guttersOnOutside?t.gutterWidth/2:0));n.horizontal&&!n.horizontal.gutterHeight||!n.vertical.gutterWidth?(a="rgba(0, 255, 255, 0.7)",e=1):e=this.toDeviceDimen(t.columnWidth),r=1===e?r+1:r,s.fillStyle=a;let c=l;for(let n=0;n<r;n++)s.fillRect(c,0,e,i.height),c+=o}if(n.horizontal){let e,t=n.horizontal,o=this.toDeviceDimen(t.rowHeight+t.gutterHeight),r=Math.round(i.height/o),l=0|this.toDeviceDimen(n.horizontalOffset);n.vertical&&!n.vertical.gutterWidth||!n.horizontal.gutterHeight?(a="rgba(0, 255, 255, 0.7)",e=1):e=this.toDeviceDimen(t.rowHeight),r=i.height-r*o>o-e?r+1:r,s.fillStyle=a;let c=1===e?o:0;for(let n=0;n<r;n++)s.fillRect(l,c,i.width-2*l,e),c+=o}}componentDidMount(){this.drawGrid()}componentDidUpdate(){this.drawGrid()}render(){return i.h("div",{class:"layoutGridContainer"},i.h("canvas",{ref:Object(r.a)(this,"canvas"),width:"100%",height:"100%"}))}}c.propTypes={height:a.a.number.isRequired,width:a.a.number.isRequired,grid:a.a.shape({horizontalOffset:a.a.number,vertical:a.a.shape({gutterWidth:a.a.number,columnWidth:a.a.number,numberOfCols:a.a.number,guttersOnOutside:a.a.bool}),horizontal:a.a.shape({gutterHeight:a.a.number,rowHeight:a.a.number})})},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(1448),o=n(1451),r=n(1454),l=n(1460),c=n(1462);class d extends i.Component{getChildContext(){const{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}=this.props;return{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}}render(){const{baseRef:e,class:t,style:n,children:a,onClick:o}=this.props;return i.h("div",{ref:e,class:Object(s.a)("snapshotDetail",t),style:n,onClick:o},a)}}d.Layers=r.a,d.Rulers=o.a,d.Distances=a,d.Image=l.a,d.ComponentLayer=c.a,t.a=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1449);n.d(t,"BetweenEdges",function(){return i.a}),n.d(t,"BetweenLayers",function(){return i.b})},function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return f});var i=n(0),s=n(75),a=n(6),o=n(83),r=n(3),l=n(11),c=n(1450);n.n(c);const d=7,u=24,h=144;function p(e){const{style:t,side:n}=e,s=["left","right"].includes(n)?"top":"left";return i.h("div",{class:"spacingHighlight",style:Object.assign({},t,{[s]:0})})}function g(e){const{style:t,side:n,value:s,matchedSpacingTokens:a,showVerticalLabelOnLeft:o,showHorizontalLabelOnBottom:l}=e,c=["left","right"].includes(n)?"horizontal":"vertical",d=Object(r.a)("distance",c,{onLeft:"vertical"===c&&o,onBottom:"horizontal"===c&&l});return i.h("div",{class:d,style:t},i.h("div",{class:"value"},Boolean(a.length)&&[i.h("div",{key:"spacingTokenNames"},a.map(({_id:e,token:t})=>i.h("span",{key:e,class:"spacingTokenName ellipsis"},t))),i.h("div",{key:"valueDivider",class:"valueDivider"})],i.h("span",null,s)))}function m(e){const{measurements:t}=e,{platform:n,spacingTokens:r,remPreferences:c,densityScale:d,dimensionSuffix:m}=this.context,f="web"===n&&"enabled"===c.status&&c.useForMeasurements,{topDistanceAmount:b,rightDistanceAmount:y,bottomDistanceAmount:S,leftDistanceAmount:v}=t,C=null===y&&null!==b&&null!==S&&null!==v,E=null===b&&null!==y&&null!==S&&null!==v,O=["top","right","bottom","left"].map(e=>{if(null===t[`${e}DistanceAmount`])return null;const{[`${e}DistanceTop`]:n,[`${e}DistanceLeft`]:b,[`${e}DistanceAmount`]:y,[`${e}DistanceValue`]:S,[`${e}DistanceValuePercentage`]:v}=t,O=Object(s.c)(S/d,1),T={top:n,left:b,[["left","right"].includes(e)?"width":"height"]:y};let k=[],D=v;if(!v){const e=1===r.length&&O<=h&&O%r[0].value==0&&O!==r[0].value;k=Object(o.a)(r.filter(e=>e.value===O),"token"),e&&k.push(Object.assign({},r[0],{_id:Object(a.e)(u),value:O,token:`${O/r[0].value} ${r[0].token}`})),D=f?Object(s.e)(S/d,c.remRootFontSize):O+m}return[Boolean(k.length)&&i.h(p,{style:Object.assign({},T,{backgroundColor:new l.a(k[0].color).toRGBAString()}),side:e}),i.h(g,{key:`${e}-distance`,style:T,side:e,value:D,matchedSpacingTokens:k,showVerticalLabelOnLeft:C,showHorizontalLabelOnBottom:E})]},this);return O.filter(Boolean).length?i.h("div",{class:"distances"},O):null}class f extends i.Component{_measureHorizontal(e,t,n,i){const{snapshot:{width:a}}=this.context,o=e.x,r=o+e.width,l=t.x,c=l+t.width;let u=!1,h=null,p=null,g=null,m=null,f=null,b=null,y=null,S=null,v=null,C=null,E=null,O=null;return c<o?(E=o-c,y=Object(s.d)(c,a)):l<o&&c>r?(E=o-l,y=Object(s.d)(l,a),O=c-r,p=Object(s.d)(r,a),h=Object(s.d)((o+r)/2,a),b=Object(s.d)((o+r)/2,a),u=!0):l>o&&c<r?(E=l-o,y=Object(s.d)(o,a),O=r-c,p=Object(s.d)(c,a)):c>o&&c<r?(E=o-l,y=Object(s.d)(l,a),c-o>d&&(h=Object(s.d)((c+o)/2,a),b=Object(s.d)((c+o)/2,a),u=!0)):l>o&&l<r?(E=l-o,y=Object(s.d)(o,a),r-l>d&&(h=Object(s.d)((l+r)/2,a),b=Object(s.d)((l+r)/2,a),u=!0)):l>r&&(O=l-r,p=Object(s.d)(r,a)),E&&(S=Object(s.d)(E,a),v=E,n&&(C=Object(s.b)(E,i.width))),O&&(g=Object(s.d)(O,a),m=O,n&&(f=Object(s.b)(O,i.width))),u||(h=Object(s.d)((l+c)/2,a),b=Object(s.d)((l+c)/2,a)),{topDistanceLeft:h,rightDistanceLeft:p,rightDistanceAmount:g,rightDistanceValue:m,rightDistanceValuePercentage:f,bottomDistanceLeft:b,leftDistanceLeft:y,leftDistanceAmount:S,leftDistanceValue:v,leftDistanceValuePercentage:C}}_measureVertical(e,t,n,i){const{snapshot:{height:a}}=this.context,o=e.y,r=o+e.height,l=t.y,c=l+t.height;let u=!1,h=null,p=null,g=null,m=null,f=null,b=null,y=null,S=null,v=null,C=null,E=null,O=null;return c<o?(E=o-c,h=Object(s.d)(c,a)):l<o&&c>r?(E=o-l,h=Object(s.d)(l,a),O=c-r,v=Object(s.d)(r,a),C=Object(s.d)((o+r)/2,a),f=Object(s.d)((o+r)/2,a),u=!0):l>o&&c<r?(E=l-o,h=Object(s.d)(o,a),O=r-c,v=Object(s.d)(c,a)):c>o&&c<r?(E=o-l,h=Object(s.d)(l,a),c-o>d&&(C=Object(s.d)((c+o)/2,a),f=Object(s.d)((c+o)/2,a),u=!0)):l>o&&l<r?(E=l-o,h=Object(s.d)(o,a),r-l>d&&(C=Object(s.d)((l+r)/2,a),f=Object(s.d)((l+r)/2,a),u=!0)):l>r&&(O=l-r,v=Object(s.d)(r,a)),E&&(p=Object(s.d)(E,a),g=E,n&&(m=Object(s.b)(E,i.height))),O&&(b=Object(s.d)(O,a),y=O,n&&(S=Object(s.b)(O,i.height))),u||(C=Object(s.d)((l+c)/2,a),f=Object(s.d)((l+c)/2,a)),{topDistanceTop:h,topDistanceAmount:p,topDistanceValue:g,topDistanceValuePercentage:m,rightDistanceTop:f,bottomDistanceAmount:b,bottomDistanceValue:y,bottomDistanceValuePercentage:S,bottomDistanceTop:v,leftDistanceTop:C}}measure(){const{sourceRect:e,destRect:t,percentageMode:n,parentRect:i}=this.props;return Object.assign(this._measureHorizontal(e,t,n,i),this._measureVertical(e,t,n,i))}render(){return i.h(m,{measurements:this.measure()})}}class b extends i.Component{_measureEdges(e,t){const{snapshot:{width:n,height:i}}=this.context,{edgesToMeasure:a}=this.props,o=e.x,r=o+e.width,l=e.y,c=l+e.height;let d=null,u=null,h=null,p=null,g=null,m=null,f=null,b=null,y=null,S=null,v=null,C=null,E=null,O=null,T=null,k=null,D=null,_=null,w=null,j=null;return a.includes("left")&&(d=0,h=Object(s.d)(o,n),u=Object(s.d)((l+c)/2,i),p=o,t&&(g=Object(s.b)(o,n))),a.includes("top")&&(f=0,b=Object(s.d)(l,i),m=Object(s.d)((o+r)/2,n),y=l,t&&(S=Object(s.b)(l,i))),a.includes("right")&&(v=Object(s.d)(r,n),E=Object(s.d)(n-r,n),C=Object(s.d)((l+c)/2,i),O=n-r,t&&(T=Object(s.b)(O,n))),a.includes("bottom")&&(w=Object(s.d)(c,i),k=Object(s.d)(i-c,i),j=Object(s.d)((o+r)/2,n),D=i-c,t&&(_=Object(s.b)(D,i))),{leftDistanceLeft:d,leftDistanceTop:u,leftDistanceAmount:h,leftDistanceValue:p,leftDistanceValuePercentage:g,topDistanceLeft:m,topDistanceTop:f,topDistanceAmount:b,topDistanceValue:y,topDistanceValuePercentage:S,rightDistanceLeft:v,rightDistanceTop:C,rightDistanceAmount:E,rightDistanceValue:O,rightDistanceValuePercentage:T,bottomDistanceLeft:j,bottomDistanceTop:w,bottomDistanceAmount:k,bottomDistanceValue:D,bottomDistanceValuePercentage:_}}measure(){const{sourceRect:e,percentageMode:t}=this.props;return this._measureEdges(e,t)}render(){return i.h(m,{measurements:this.measure()})}}},function(e,t){},function(e,t,n){"use strict";var i=n(1452);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(75),a=n(1453);n.n(a);t.a=function(e){const{x:t,y:n,width:a,height:o}=e,{snapshot:{width:r,height:l}}=this.context,c=Object(s.d)(n,l),d=Object(s.d)(t+a,r),u=Object(s.d)(n+o,l),h=Object(s.d)(t,r);return i.h("div",{class:"rulers"},i.h("div",{style:{top:c},class:"ruler horizontal"}),i.h("div",{style:{left:`calc(${d} - 1px)`},class:"ruler vertical"}),i.h("div",{style:{top:`calc(${u} - 1px)`},class:"ruler horizontal"}),i.h("div",{style:{left:h},class:"ruler vertical"}))}},function(e,t){},function(e,t,n){"use strict";var i=n(1455);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1456),a=n(14),o=n(1),r=n(1459);n.n(r);const l=()=>{};t.a=class extends i.Component{constructor(e){super(e),this.processLayers=this.processLayers.bind(this),this.positionLayerWidth=this.positionLayerWidth.bind(this),this.state={layerWidthOnBottom:!1}}processLayers(e){const{onLayerSelect:t,onLayerEnter:n,onLayerLeave:o,edgeDistanceMode:r,selectedLayerId:c,hoveredId:d,parentLayer:u}=this.props,{snapshot:h,densityScale:p,dimensionSuffix:g}=this.context,{layerWidthOnBottom:m}=this.state,f=!!c&&c===e._id,b=f&&!r&&(!d||d===e._id),y=i.h(s.a,{key:e._id,selectedLayerRef:b?Object(a.a)(this,"selectedLayer"):l,layerWidthRef:b?Object(a.a)(this,"layerWidth"):l,showWidthLabelOnBottom:m,selected:f,shouldRenderDimensions:b,parentLayer:u,container:h,data:e,densityScale:p,dimensionSuffix:g,onSelect:t,onEnter:n,onLeave:o});if("group"===e.type){let t=[];return"bottom"===e.interactionLevel&&t.push(y),t=t.concat(...e.layers.map(this.processLayers)),"top"===e.interactionLevel&&t.push(y),t}return[y]}positionLayerWidth(){const{selectedLayerId:e,componentLayer:t}=this.props,{layerWidthOnBottom:n}=this.state;if(e&&t&&this.nodeRefs){const{componentLayerTag:e,layerWidth:t,selectedLayer:i}=this.nodeRefs;if(!e||!t||!i)return;const s=t.getBoundingClientRect(),a=i.getBoundingClientRect(),r=e.getBoundingClientRect();if(n){const e=new DOMRect(s.x,a.y-24,s.width,s.height);Object(o.G)(e,r)||this.setState({layerWidthOnBottom:!1})}else{const e=Object(o.G)(s,r);e&&this.setState({layerWidthOnBottom:e})}}}componentDidUpdate(){this.positionLayerWidth()}render(){const{layers:e,componentLayer:t}=this.props;return i.h("div",{class:"layers"},[].concat(...e.map(this.processLayers)),i.cloneElement(t,{componentLayerTagRef:Object(a.a)(this,"componentLayerTag")}))}}},function(e,t,n){"use strict";var i=n(1457);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(75),a=n(3),o=n(100),r=n(1458);n.n(r);const l=120,c=3;t.a=class extends o.a{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this),this.mouseEnterHandler=this.mouseEnterHandler.bind(this)}shouldRenderHitRegion(){const{selected:e,data:{rect:{width:t,height:n}}}=this.props;return!e&&(t<c||n<c)}clickHandler(e){const{data:t,onSelect:n}=this.props;n(e,t)}mouseEnterHandler(){const{data:e,onEnter:t}=this.props;t&&t(e)}renderCornerCircles(){return[i.h("div",{key:"tl",class:"cornerCircle topLeftCircle"}),i.h("div",{key:"tr",class:"cornerCircle topRightCircle"}),i.h("div",{key:"br",class:"cornerCircle bottomRightCircle"}),i.h("div",{key:"bl",class:"cornerCircle bottomLeftCircle"})]}renderEdgeCircles(){const{data:{rect:{width:e,height:t}}}=this.props,n=[];return e>l&&n.push(i.h("div",{key:"tc",class:"edgeCircle horizontalEdgeCircle topCircle"}),i.h("div",{key:"bc",class:"edgeCircle horizontalEdgeCircle bottomCircle"})),t>l&&n.push(i.h("div",{key:"rc",class:"edgeCircle verticalEdgeCircle rightCircle"}),i.h("div",{key:"lc",class:"edgeCircle verticalEdgeCircle leftCircle"})),n}renderHitRegion(){const{data:{rect:{width:e,height:t}}}=this.props,n=e<c,s=t<c,a=n?"calc(100% + 12px)":"100%",o=s?"calc(100% + 12px)":"100%",r=n?"-6px":"0",l=s?"-6px":"0";return i.h("div",{key:"hitRegion",class:"hitRegion",style:{width:a,height:o,top:r,left:l}})}renderLayerDimensions(){const{parentLayer:e,data:{rect:{width:t,height:n}},densityScale:o,dimensionSuffix:r,showWidthLabelOnBottom:l,layerWidthRef:c}=this.props,{platform:d,remPreferences:u}=this.context,h=Object(a.a)("layerWidth",{showOnBottom:l}),p="web"===d&&"enabled"===u.status&&u.useForMeasurements;return e?[i.h("div",{key:"layerWidth",ref:c,class:h},Object(s.b)(t,e.rect.width)),i.h("div",{key:"layerHeight",class:"layerHeight"},Object(s.b)(n,e.rect.height))]:[i.h("div",{key:"layerWidth",ref:c,class:h},p?Object(s.e)(t/o,u.remRootFontSize):Object(s.c)(t/o,1)+r),i.h("div",{key:"layerHeight",class:"layerHeight"},p?Object(s.e)(n/o,u.remRootFontSize):Object(s.c)(n/o,1)+r)]}render(){const{selected:e,parentLayer:t,data:{_id:n,rect:{width:o,height:r},absoluteRect:{x:l,y:c}},container:d,onLeave:u,shouldRenderDimensions:h,selectedLayerRef:p}=this.props,g={width:Object(s.d)(o,d.width),height:Object(s.d)(r,d.height),left:Object(s.d)(l,d.width),top:Object(s.d)(c,d.height)};return i.h("div",{class:Object(a.a)("zplLayer",{selected:e}),style:g,ref:p,onClick:this.clickHandler,onMouseEnter:this.mouseEnterHandler,onMouseLeave:u},h&&this.renderLayerDimensions(),e&&this.renderCornerCircles(),e&&this.renderEdgeCircles(),this.shouldRenderHitRegion()&&this.renderHitRegion(),t&&t._id===n&&i.h("div",{class:"parent"}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1461);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0);t.a=class extends i.Component{constructor(e){super(e),this.state={src:null}}componentDidMount(){const{snapshot:{url:e}}=this.context;this.setState({src:e})}componentWillReceiveProps(e,t){const{src:n}=this.state;n!==t.snapshot.url&&this.setState({src:t.snapshot.url})}render(){const{class:e,style:t,onError:n}=this.props,{src:s}=this.state,{snapshot:{width:a,height:o}}=this.context;return i.h("img",{class:e,style:t,width:a,height:o,src:s,crossOrigin:"anonymous",onError:n})}}},function(e,t,n){"use strict";var i=n(1463);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(43),a=n(10),o=n(8),r=n(75),l=n(1464);n.n(l);const c=62,d=240;class u extends i.Component{constructor(e){super(e),this.handleTagClick=this.handleTagClick.bind(this)}handleTagClick(){const{onTagClick:e}=this.props;e&&e()}render(){const{barrelId:e,barrelType:t,containerName:n,componentLayer:l,containerWidth:u,containerHeight:h,zoomLevel:p,componentLayerTagRef:g}=this.props;if(!l)return null;const{_id:m,name:f,rect:{width:b,height:y,x:S,y:v}}=l,C=t===a.a.PROJECT?"project-styleguide-components":"styleguide-components",E=Object(o.j)(C,{url:{bid:e},query:{coid:m}}),O={width:Object(r.d)(b,u),height:Object(r.d)(y,h),left:Object(r.d)(S,u),top:Object(r.d)(v,h)},T=Math.min(b*p,d);return i.h("div",{class:"componentLayer",style:O},i.h("a",{ref:g,href:E,style:{maxWidth:T},title:f,onClick:this.handleTagClick,"data-link-type":"inApp","data-back":n},T>c&&i.h("span",{class:"componentLayerName ellipsis"},f),i.h(s.r,{width:"12",height:"12",color:"#fff"})))}}u.defaultProps={zoomLevel:1},t.a=u},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1467);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1468),r=n(1471),l=n(1474),c=n(1477),d=n(1480),u=n(27),h=n(1482);n.n(h);const p=u.a.featureValue("popout");function g(e){return i.h("div",{class:"widgets"},i.h("div",{class:"widgetGroup"},function(e){const{versionsVisible:t,hasNewVersions:n,onVersionsToggleClick:s}=e;return t?null:i.h(o.a,{onClick:s,hasNewVersions:n})}(e),function(e){const{zoomLevel:t,onZoomIn:n,onZoomOut:s,onZoomChange:a}=e;return i.h(r.a,{value:t,onZoomIn:n,onZoomOut:s,onChange:a})}(e),function(e){const{onPopoutWidgetClick:t}=e;return u.a.isWindowsApp?i.h(l.a,{disabled:!p,onClick:t}):null}(e)),i.h("div",{class:"widgetGroup"},function(e){const{latestVersionSelected:t,notesVisible:n,onAddNoteWidgetClick:s,onNotesVisibilityChange:a}=e;return t?i.h(i.Fragment,null,i.h(c.a,{onClick:s}),i.h(d.a,{notesVisible:n,onChange:a})):null}(e)))}g.propTypes={latestVersionSelected:a.a.bool.isRequired,versionsVisible:a.a.bool.isRequired,hasNewVersions:a.a.bool.isRequired,onVersionsToggleClick:a.a.func.isRequired,zoomLevel:a.a.number.isRequired,onZoomIn:a.a.func.isRequired,onZoomOut:a.a.func.isRequired,onZoomChange:a.a.func.isRequired,onPopoutWidgetClick:a.a.func.isRequired,onAddNoteWidgetClick:a.a.func.isRequired,notesVisible:a.a.bool.isRequired,onNotesVisibilityChange:a.a.func.isRequired},t.a=g},function(e,t,n){"use strict";var i=n(1469);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(21),l=n(1470);n.n(l);function c(e){const{hasNewVersions:t,onClick:n}=e;return i.h("button",{class:Object(o.a)("versionsToggleWidget","widget",{hasNewVersions:t}),onClick:n},i.h("img",{src:Object(r.f)("img/icHourglass.svg"),alt:"⌛"}))}c.propTypes={hasNewVersions:a.a.bool.isRequired,onClick:a.a.func.isRequired},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(1472);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(34),r=n(464),l=n(1473);n.n(l);class c extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.stopPropagation();const{onChange:t}=this.props;t(parseFloat(e.target.value))}render(){const{value:e,onZoomIn:t,onZoomOut:n}=this.props;return i.h("div",{class:"zoomWidget widget"},i.h(o.a,{disabled:e<=r.c,onClick:n},i.h("div",{class:"minus"})),i.h("select",{id:"zoomDropdown",onChange:this.handleChange},r.d.map(t=>i.h("option",{key:t,value:t,selected:e===t},100*t,"%"))),i.h("label",{for:"zoomDropdown"},(100*e).toFixed()),i.h(o.a,{disabled:e>=r.b,onClick:t},i.h("div",{class:"plus"})))}}c.propTypes={value:a.a.number.isRequired,onZoomIn:a.a.func.isRequired,onZoomOut:a.a.func.isRequired,onChange:a.a.func.isRequired},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(1475);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(43),r=n(208),l=n(3),c=n(1476);n.n(c);function d(e){const{disabled:t,onClick:n}=e;return i.h(r.a,{targetClass:"widget",content:t?"Pop out only works on Aero themes, please update your theme.":"Pop screen out"},i.h("button",{class:Object(l.a)("popoutWidget",{disabled:t}),onClick:t?null:n},i.h(o.x,null)))}d.propTypes={disabled:a.a.bool.isRequired,onClick:a.a.func.isRequired},t.a=d},function(e,t){},function(e,t,n){"use strict";var i=n(1478);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(43),r=n(1479);n.n(r);class l extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick()}render(){return i.h("button",{class:"widget addNoteWidget",onClick:this.handleClick},i.h(o.a,null))}}l.propTypes={onClick:a.a.func.isRequired},t.a=l},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(281),r=n(100),l=n(1481);n.n(l);class c extends r.a{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){const{onChange:t}=this.props;t(e.target.checked)}render(){const{notesVisible:e}=this.props;return i.h("label",{for:"maymusCheckbox",class:"toggleNotesWidget widget"},i.h("span",null,"Notes"),i.h("input",{type:"checkbox",name:"maymusCheckbox",id:"maymusCheckbox",checked:e,onChange:this.handleChange}),i.h(o.a,{asset:e?"img/icMaymusOpen.png":"img/icMaymusClosed.png"}))}}c.propTypes={notesVisible:a.a.bool.isRequired,onChange:a.a.func.isRequired},t.a=c},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1485);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(74),a=n(31),o=n(153),r=n(57),l=n(58),c=n(35),d=n(60),u=n(709),h=n(1578),p=n(386),g=n(25),m=n(1),f=n(3),b=n(14),y=n(26),S=n(45),v=n(316),C=n(525),E=n(1609),O=(n.n(E),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});t.a=Object(s.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={scrollDisabled:!1},this.enableScroll=(()=>{this.setState({scrollDisabled:!1})}),this.disableScroll=(()=>{this.setState({scrollDisabled:!0})}),this.handleAddColorClick=(e=>{a.b.addColor({color:e,syncWithApi:!0}),Object(S.a)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddColor"})}),this.handleColorNameChange=((e,t)=>{const{styleguidesData:[{colors:n}]}=this.state;if(n.find(e=>e.name===t))return g.a({title:`${t} already exists`,message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();a.b.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),this.handleRemoveColorClick=(e=>{a.b.removeColor({cid:e,syncWithApi:!0})}),this.handleAddTextStyleClick=(e=>{a.b.addTextStyle({textStyle:e,syncWithApi:!0}),Object(S.a)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddTextStyle"})}),this.handleTextStyleNameChange=((e,t)=>{const{styleguidesData:[{textStyles:n}]}=this.state;if(n.some(e=>e.name===t))return g.a({title:`${t} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();a.b.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}),this.handleRemoveTextStyleClick=(e=>{a.b.removeTextStyle({tsid:e,syncWithApi:!0})}),this.handleRequestOrgInviteClick=(()=>{const{organizationId:e}=this.state;c.b.requestInvite(e,this.nodeRefs.sidebar)}),this.handleCopyCode=((e,t,n)=>{const{platform:i}=this.state;o.c.copyCode({code:e,toastContainer:this.nodeRefs.sidebar,platform:i,extensionFunction:t,extensionId:n})}),this.handleCopy=(e=>{Object(y.c)({content:e,toastContainer:this.nodeRefs.sidebar})}),t}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick}}static getStores(){return[a.e,o.f,r.c,l.c,d.b]}static calculateState(){const{loading:e,barrelType:t,barrelId:n,organizationId:i}=a.e.getState();if(e)return{loading:!0};const s=a.d.getBarrel(),c=a.d.findUser(),{screenId:d,loadingVersions:u,versionId:h,latestVersionSelected:p,selectedLayer:g,screenSidebarWidth:m}=o.f.getState();if(u&&!p)return{loading:!0};const f=o.e.getScreen(),b=o.e.getVersion({sid:d,vid:h}),y=Object(v.c)(s,b,g),S=new C.a(s),E=a.d.getStyleguidesData({barrelStore:a.e,styleguidesDataStore:l.c,projectsDataStore:r.c});return{loading:!1,barrelType:t,barrelId:n,barrelUser:c,organizationId:i,platform:s.type,flowLink:y,formatter:S,screenId:d,screen:f,version:b,selectedLayer:g,sidebarWidth:m,styleguidesData:E}}getChildContext(){const{barrelType:e,barrelId:t,barrelUser:n={},platform:i}=this.state;return{barrelType:e,barrelId:t,projectId:t,platform:i,projectType:i,barrelUser:n,userRole:n.role,permissions:{canManageColors:m.C.canManageColors(n),canManageScreens:m.C.canManageColors(n),canManageTextStyles:m.C.canManageTextStyles(n)},enableScroll:this.enableScroll,disableScroll:this.disableScroll}}renderLayerDetail(){const{screen:e,version:t,selectedLayer:n,flowLink:s,formatter:a}=this.state;return i.h(u.a,O({layer:n,layerContainer:e,version:t,flowLink:s,formatter:a},this.getHandlers(),{onCloseClick:o.c.deselectLayer}))}renderResourceView(){const{formatter:e}=this.state;return i.h(h.a,O({formatter:e,onRequestOrgInviteClick:this.handleRequestOrgInviteClick},this.getHandlers()))}render(){const{loading:e,selectedLayer:t,sidebarWidth:n,scrollDisabled:s}=this.state;return e?i.h(p.a.Loading,null):i.h(p.a,{baseRef:Object(b.a)(this,"sidebar"),class:"screenSidebar",resizingSide:"left",initialWidth:n,minWidth:260,onRelease:o.c.changeScreenSidebarWidth,noScroll:s},i.h("div",{class:"sidebarViews",onClick:m.J},i.h("div",{class:Object(f.a)("sidebarView",{scrollable:!t})},t?this.renderLayerDetail():this.renderResourceView())))}})},function(e,t,n){"use strict";var i=n(0),s=n(100),a=n(1),o=n(150),r=n(287),l=n(545),c=n(465),d=n(1487),u=n(1562),h=n(31),p=n(58),g=n(57),m=n(74),f=n(1577);n.n(f);t.a=Object(m.a)(class extends s.a{constructor(...e){var t;return t=super(...e),this.handleDownloadAssetClick=((e,t)=>{const{layerContainer:{name:n},version:i}=this.props,{selectedView:s}=this.state,{screenContainerRef:a,styleguideContainerRef:o}=this.context,r="screen"===s?a:o;h.b.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:r})}),this.handleAssetNameChange=((e,t)=>{const{layerContainer:{_id:n},version:{snapshot:i}}=this.props;h.b.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t})}),t}static getStores(){return[h.e,p.c,g.c]}static calculateState(e,t){const{version:{snapshot:{density:n,densityScale:i=Object(a.o)(n)}}}=t,{loading:s,selectedView:o,assetDensityScalePrefs:r,assetExportTarget:l,assetNamingConvention:c,densityMismatchWarningHidden:d,flowLinkInfoDismissed:u,noVectorAssetInfoHidden:m,showOptimizedSVG:f,connectedComponentsDevModeEnabled:b,connectedComponentsLocalWorkspace:y,connectedComponentsEditorInfo:S}=h.e.getState();if(s)return{loading:!0};const{type:v,densityScale:C}=h.d.getBarrel();return{loading:!1,selectedView:o,platform:v,assetDensityScalePrefs:r,assetExportTarget:l,assetNamingConvention:c,showDensityMismatchWarning:i!==C&&!d,flowLinkInfoDismissed:u,noVectorAssetInfoHidden:m,showOptimizedSVG:f,connectedComponentsDevModeEnabled:b,connectedComponentsLocalWorkspace:y,connectedComponentsEditorInfo:S,styleguidesData:h.d.getStyleguidesData({barrelStore:h.e,styleguidesDataStore:p.c,projectsDataStore:g.c})}}render(){const{layerContainer:{name:e},formatter:t,layer:n,flowLink:s,version:a,onCopy:p,onCopyCode:g,onAddColorClick:m,onColorNameChange:f,onRemoveColorClick:b,onAddTextStyleClick:y,onTextStyleNameChange:S,onRemoveTextStyleClick:v,onCloseClick:C}=this.props,{loading:E,platform:O,assetDensityScalePrefs:T,assetExportTarget:k,assetNamingConvention:D,showDensityMismatchWarning:_,flowLinkInfoDismissed:w,noVectorAssetInfoHidden:j,showOptimizedSVG:R,connectedComponentsDevModeEnabled:I,connectedComponentsLocalWorkspace:A,connectedComponentsEditorInfo:x,styleguidesData:P}=this.state;if(E)return null;const L=Object(r.b)(a.snapshot,n,P);let N=null;L&&(N=Object(r.c)(L.name,P,I));const U=Object(o.a)(a.snapshot,n),M=new c.a(Object.assign({},n,{component:L,asset:U})),B=Object(l.d)(M,t,O,P);return i.h("div",{class:"layerDetail"},i.h(d.a,{layer:B,connectedComponent:N,connectedComponentsDevModeEnabled:I,connectedComponentsLocalWorkspace:A,connectedComponentsEditorInfo:x,containerName:e,projectType:O,showDensityMismatchWarning:_,noVectorAssetInfoHidden:j,assetDensityScalePrefs:T,namingConvention:D,showOptimizedSVG:R,flowLink:s,flowLinkInfoDismissed:w,assetExportTarget:k,onOpenExportTargetClick:h.b.openExportTarget,onChangeExportTargetClick:h.b.changeExportTarget,onCloseClick:C,onAddTextStyleClick:y,onTextStyleNameChange:S,onRemoveTextStyleClick:v,onAddColorClick:m,onColorNameChange:f,onRemoveColorClick:b,onContentCopyClick:p,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:h.b.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:h.b.hideNoVectorAssetInfo,onAssetDensityOptionChange:h.b.changeAssetDensityScalePref,onNamingConventionChange:h.b.changeAssetNamingConvention,onShowOptimizedSVGChange:h.b.toggleSVGOptimization,onHideFlowInfoClick:h.b.dismissFlowLinkInfo}),i.h(u.a,{class:"codeSection",version:a,layer:M,onCopyClick:g,onSettingsClick:h.b.openExtensionSettings}))}},{withProps:!0})},function(e,t,n){"use strict";var i=n(1488);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(320),a=n(472),o=n(713),r=n(719),l=n(720),c=n(14),d=n(1538),u=n(1541),h=n(1544),p=n(724),g=n(1549),m=n(1552),f=n(1555),b=n(1558),y=n(1561);n.n(y);t.a=class extends i.Component{constructor(e){super(e),this.handleTypefaceHover=this.handleTypefaceHover.bind(this)}handleTypefaceHover(e){this.setState({hoveredTypeface:e})}renderAssets(e){const{layer:{asset:t},projectType:n,assetDensityScalePrefs:s,assetExportTarget:a,namingConvention:r,showDensityMismatchWarning:l,showOptimizedSVG:c,noVectorAssetInfoHidden:d,onChangeExportTargetClick:u,onOpenExportTargetClick:h,onDownloadAssetClick:p,onAssetNameChange:g,onHideDensityMismatchWarningClick:m,onHideNoVectorAssetInfoClick:f,onAssetDensityOptionChange:b,onNamingConventionChange:y,onShowOptimizedSVGChange:S}=this.props;return t?{assets:i.h(o.a,{showSeparator:!!e,asset:t,projectType:n,showDensityMismatchWarning:l,noVectorAssetInfoHidden:d,assetDensityScalePrefs:s,namingConvention:r,showOptimizedSVG:c,assetExportTarget:a,onChangeExportTargetClick:u,onOpenExportTargetClick:h,onDownloadClick:p,onNameChange:g,onHideDensityMismatchWarningClick:m,onHideNoVectorAssetInfoClick:f,onAssetDensityOptionChange:b,onNamingConventionChange:y,onShowOptimizedSVGChange:S}),showSeparator:!0}:{assets:null,showSeparator:e}}renderBlur(e){const{layer:{blur:t}}=this.props;return t?{blur:i.h(s.a,{title:"Blur",showSeparator:!!e},i.h(f.a,{blur:t})),showSeparator:!0}:{blur:null,showSeparator:e}}renderBorders(e){const{layer:{borders:t},onAddColorClick:n,onRemoveColorClick:a,onColorNameChange:o}=this.props;return t.length?{borders:i.h(s.a,{title:"Borders",showSeparator:!!e},t.map((e,t)=>i.h(g.a,{key:t,border:e,onColorNameChange:o,onColorAddClick:n,onColorRemoveClick:a}))),showSeparator:!0}:{borders:null,showSeparator:e}}renderComponentSection(){const{containerName:e,layer:{component:t},connectedComponent:n,connectedComponentsDevModeEnabled:a,connectedComponentsLocalWorkspace:o,connectedComponentsEditorInfo:r}=this.props;if(!t)return{componentSection:i.h("div",{class:"withPadding"},i.h(s.a,{title:"Component",showSeparator:!0},i.h(b.a,null))),showSeparator:!0};const{_id:c,name:d}=t;return{componentSection:i.h(l.a,{containerName:e,connectedComponentsDevModeEnabled:a,connectedComponentsLocalWorkspace:o,connectedComponentsEditorInfo:r,componentId:c,componentName:d,connectedComponent:n,showLayerComponent:!0,userRestricted:!1}),showSeparator:!1}}renderContent(e){const{layer:{content:t,type:n,typefaces:s},onContentCopyClick:a}=this.props,{hoveredTypeface:o}=this.state;return"text"!==n?{content:null,showSeparator:e}:{content:i.h(d.a,{showSeparator:!!e,textStyles:s.filter(e=>"default"!==e.group),onCopyClick:a,content:t,hovered:o}),showSeparator:!0}}renderFills(e){const{layer:{fills:t},onAddColorClick:n,onRemoveColorClick:o,onColorNameChange:r}=this.props;return t.length?{fills:i.h(s.a,{title:"Colors",showSeparator:!!e},t.map(e=>"color"===e.type?i.h(a.a,{color:e.color,onNameChange:r,onAddClick:n,onRemoveClick:o}):"gradient"===e.type?i.h(p.a,{gradient:e.gradient,onColorNameChange:r,onColorAddClick:n,onColorRemoveClick:o}):null)),showSeparator:!0}:{fills:null,showSeparator:e}}renderShadows(e){const{layer:{shadows:t},onAddColorClick:n,onRemoveColorClick:a,onColorNameChange:o}=this.props;return t.length?{shadows:i.h(s.a,{title:"Shadows",showSeparator:!!e},t.map((e,t)=>i.h(m.a,{key:t,shadow:e,onColorNameChange:o,onColorAddClick:n,onColorRemoveClick:a}))),showSeparator:!0}:{shadows:null,showSeparator:e}}renderTypefaces(e){const{layer:{type:t,typefaces:n},onAddTextStyleClick:a,onRemoveTextStyleClick:o,onTextStyleNameChange:r,onAddColorClick:l,onRemoveColorClick:c,onColorNameChange:d}=this.props;return"text"!==t?{typefaces:null,showSeparator:e}:{typefaces:i.h(s.a,{showSeparator:!!e},i.h(h.a,{typefaces:n,onHoverChange:this.handleTypefaceHover,onAddTextStyleClick:a,onRemoveTextStyleClick:o,onTextStyleNameChange:r,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d})),showSeparator:!0}}render(){const{flowLink:e,layer:t,flowLinkInfoDismissed:n,onCloseClick:s,onHideFlowInfoClick:a}=this.props,{componentSection:o,showSeparator:l}=this.renderComponentSection(),{typefaces:d,showSeparator:h}=this.renderTypefaces(l),{assets:p,showSeparator:g}=this.renderAssets(h),{fills:m,showSeparator:f}=this.renderFills(g),{borders:b,showSeparator:y}=this.renderBorders(f),{shadows:S,showSeparator:v}=this.renderShadows(y),{blur:C,showSeparator:E}=this.renderBlur(v),{content:O}=this.renderContent(E);return i.h("div",{class:"detailSections",ref:Object(c.a)(this,"base")},i.h("div",{class:"withPadding"},i.h(r.a,{onCloseClick:s},t.name)),i.h("div",{class:"withPadding"},i.h(u.a,{flowLink:e,layer:t,flowLinkInfoDismissed:n,onHideFlowInfoClick:a})),o,i.h("div",{class:"withPadding"},d,p,m,b,S,C,O))}}},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(1490);n.n(a);t.a=function(e){const{class:t,children:n,title:a,showSeparator:o}=e;return i.h("div",{class:Object(s.a)("sidebarSection",t)},o&&i.h("div",{class:"sidebarSectionSeparator"}),a&&i.h("h2",{class:"title"},a),n)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(710),a=n(470),o=n(1501);n.n(o);const r=Object(a.a)(class extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleColorNameChange=this.handleColorNameChange.bind(this)}handleAddClick(){const{color:{value:e},onAddClick:t}=this.props;t(e)}handleColorNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleRemoveClick(){const{color:{id:e},onRemoveClick:t}=this.props;t(e)}render(){const{color:{id:e,name:t,added:n,colorStyle:a,colorString:o,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},hover:h}=this.props,{permissions:{canManageColors:p}}=this.context;return i.h("div",{class:"layerColor"},i.h("div",{class:"colorPreview",style:{backgroundColor:a}}),i.h(s.a,{class:"layerColorInfo",added:n,hover:h,id:e,name:t,colorString:o,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:p,onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,onNameChange:this.handleColorNameChange}))}});t.a=r},function(e,t,n){"use strict";var i=n(0),s=n(711),a=n(10),o=n(43),r=n(712),l=n(3),c=n(1),d=n(8),u=n(1500);n.n(u);t.a=function(e,t){const{added:n,isMember:u,isOrganizationBarrel:h,styleguideId:p,styleguideName:g,id:m,name:f,canManageColors:b,class:y,colorString:S,hover:v,opacity:C,onAddClick:E,onRemoveClick:O,onNameChange:T}=e,{projectType:k,barrelType:D,barrelId:_}=t;let w;f&&(w=n&&b&&p===_?i.h(s.a,{initialValue:f,filterRegex:c.e[k],prefix:"#",maxLength:36,blurOnEnter:!0,onBlur:T}):i.h("div",null,i.h("span",{class:"name"},"#",f,C&&i.h("span",{class:"opacity"},", ",C))));const j=!b||n&&p!==_,R=D===a.a.STYLEGUIDE?"styleguide":"project-styleguide",I=Object(d.j)(`${R}-colors`,{url:{bid:_},query:{cid:m}});return i.h("div",{class:Object(l.a)("colorInfo",y,{hover:v})},i.h("div",{class:"infoContent"},w,i.h("div",{class:"value"},S)),i.h(r.a,{onAddClick:E,onRemoveClick:O,resourceAdded:n,isMember:u,isOrganizationBarrel:h,styleguideId:p,styleguideName:g,canManageResource:b,class:"resourceButton",type:r.a.TYPE.COLOR,disabled:j}),m&&i.h("a",{href:I,class:"goToResource","data-link-type":"inApp"},i.h(o.r,{width:"18",height:"18"})))}},function(e,t,n){"use strict";var i=n(0),s=n(457),a=n(14);t.a=class extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleInput=this.handleInput.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusWithin:!1,oldValue:e.initialValue,value:e.initialValue}}handleBlur(e){const{initialValue:t,validator:n,onBlur:i}=this.props,{oldValue:s,value:a}=this.state,o=e.target.value;s===a||!o||n&&!n(o)?this.setState({value:s,focusWithin:!1,selectionStart:null,selectionEnd:null}):(this.setState({value:o,oldValue:a,focusWithin:!1,selectionStart:null,selectionEnd:null}),t!==o&&i(o))}handleFocus(){this.setState(e=>({oldValue:e.value,focusWithin:!0}))}handleInput(e){const{filterRegex:t,onAttemptToChange:n}=this.props;if(n)return void n();let{value:i,selectionStart:s,selectionEnd:a}=e.target;const o=i;t&&(i=i.replace(t,""));const r=o.length-i.length;r>0&&(s-=r,a-=r),e.target.value=i,this.setState({selectionStart:s,selectionEnd:a,value:i})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){e.stopPropagation();const{oldValue:t}=this.state;this.setState({value:t}),this.nodeRefs.input.blur()}}handleMouseUp(e){const{selectionStart:t,selectionEnd:n}=e.target;this.setState({selectionStart:t,selectionEnd:n})}componentWillReceiveProps(e){const{initialValue:t}=e,{value:n}=this.state;this.state.focusWithin||t===n&&t===this.props.initialValue||this.setState({value:t,oldValue:t})}componentDidUpdate(){const{focusWithin:e,selectionStart:t,selectionEnd:n}=this.state;e&&this.nodeRefs.input.setSelectionRange(t,n)}render(){const{value:e}=this.state,t=Object.assign({},this.props);return delete t.onClick,delete t.onKeyDown,delete t.onBlur,delete t.onFocus,delete t.onInput,delete t.filterRegex,delete t.initialValue,i.h(s.a,Object.assign({},t,{inputRef:Object(a.a)(this,"input"),value:e,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}},function(e,t,n){"use strict";var i=n(0),s=n(1495),a=n(1497),o=n(1499);n.n(o);class r extends i.Component{constructor(e){super(e),this.state={hasClickHover:!1},this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveButtonMouseLeave=this.handleRemoveButtonMouseLeave.bind(this)}handleAddClick(e){this.setState({hasClickHover:!0}),this.props.onAddClick(e)}handleRemoveButtonMouseLeave(){this.state.hasClickHover&&this.setState({hasClickHover:!1})}handleRemoveClick(e){this.setState({hasClickHover:!0}),this.props.onRemoveClick(e)}render({class:e,isMember:t,isOrganizationBarrel:n,styleguideId:o,styleguideName:l,canManageResource:c,type:d=r.TYPE.DEFAULT,resourceAdded:u,disabled:h},{hasClickHover:p}){return u?i.h(a.a,{type:d,class:e,isMember:t,isOrganizationBarrel:n,canManageResource:c,styleguideId:o,styleguideName:l,disabled:h,hideHoverState:p,onMouseLeave:this.handleRemoveButtonMouseLeave,onClick:this.handleRemoveClick}):i.h(s.a,{type:d,class:e,disabled:h,onClick:this.handleAddClick})}}r.TYPE=Object.freeze({DEFAULT:"color",COLOR:"color",TEXT_STYLE:"textStyle"}),t.a=r},function(e,t,n){"use strict";var i=n(1496);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(208),o=n(319),r=n(43);const l={color:i.h(r.i,{type:"add"}),textStyle:i.h(r.F,{type:"add"})};t.a=function(e,t){const{class:n,disabled:r,type:c,onClick:d}=e,{userRole:u}=t,h=c.replace(/[A-Z]/g,e=>` ${e.toLowerCase()}`),p=r?Object(o.a)(u,`add ${h}s`):`Add ${h} to Styleguide`;return i.h(a.a,{targetClass:n,content:p},i.h(s.a,{class:"addResourceButton resourceButtonButton",disabled:r,onClick:d},l[c]))}},function(e,t,n){"use strict";var i=n(1498);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(8),a=n(34),o=n(208),r=n(43),l=n(319),c=n(3);const d={color:i.h(r.i,{color:"#fff",key:"tick",type:"tick",opacity:".5"}),textStyle:i.h(r.F,{color:"#fff",key:"tick",type:"tick",opacity:".5"})},u={color:[i.h(r.i,{color:"#fff",key:"tick",type:"tick"}),i.h(r.i,{color:"#fff",class:"remove",key:"remove",type:"remove"})],textStyle:[i.h(r.F,{color:"#fff",key:"tick",type:"tick"}),i.h(r.F,{color:"#fff",class:"remove",key:"remove",type:"remove"})]};function h({isMember:e,isOrganizationBarrel:t,canManageResource:n,styleguideId:a,styleguideName:o,resourceName:r,userRole:c}){return t?function({resourceName:e,isMember:t,canManageResource:n,userRole:a,styleguideId:o,styleguideName:r}){if(!n)return Object(l.a)(a,`delete ${e}s`);const c=Object(s.j)("styleguide",{url:{bid:o}});return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Go to ",r)," to update the ",e,"s.")]:[i.h("p",{key:"tooltipExplanation"},"You’re not a member of the ",i.h("strong",null,r)," Styleguide, only members can remove ",e,"s."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Join to edit ",r),".")]}({resourceName:r,isMember:e,canManageResource:n,userRole:c,styleguideId:a,styleguideName:o}):function({resourceName:e,isMember:t,styleguideId:n,styleguideName:a}){return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:Object(s.j)("styleguide",{url:{bid:n}}),"data-link-type":"inApp"},"Go to ",a)," update the ",e,"s.")]:i.h("p",null,"You are not a member of ",a,". Contact the owner to request access.")}({resourceName:r,isMember:e,styleguideId:a,styleguideName:o})}t.a=function(e,t){const{class:n,disabled:s,type:r,onClick:l,hideHoverState:p,onMouseLeave:g,isMember:m,isOrganizationBarrel:f,canManageResource:b,styleguideId:y,styleguideName:S}=e,{userRole:v}=t,C=r.replace(/[A-Z]/g,e=>` ${e.toLowerCase()}`),E=s?h({isMember:m,isOrganizationBarrel:f,canManageResource:b,styleguideId:y,styleguideName:S,resourceName:C,userRole:v}):`Delete ${C} from Styleguide`,O=i.h(a.a,{class:Object(c.a)("removeResourceButton","resourceButtonButton",{hideHoverState:p}),disabled:s,onClick:l,onMouseLeave:g},s?d[r]:u[r]);return p?O:function(e,{targetClass:t,content:n}){return i.h(o.a,{targetClass:t,content:n},e)}(O,{targetClass:n,content:E})}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(150),o=n(26),r=n(1),l=n(33),c=n(1503),d=n(714),u=n(715),h=n(716),p=n(717),g=n(718),m=n(34),f=n(457),b=n(320),y=n(204),S=n(527),v=n(43),C=n(1518);n.n(C);const E="[\\w-]+",O="[a-zA-Z\\d]+",T="[a-z\\d_]+",k=Object(o.b)();t.a=class extends i.Component{constructor(e){super(e),this.oldNameInputValue=e.asset.localName||this.getAssetName(),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleNameInput=this.handleNameInput.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this)}getAssetName(){const{asset:e,namingConvention:t}=this.props;return Object(a.b)(e,t)}hideSettingsMenu(){this.context.enableScroll(),this.setState({settingsOpen:!1})}showSettingsMenu(){this.context.disableScroll(),this.setState({settingsOpen:!0})}handleNameInput(e){e.target.validity.valid?this.oldNameInputValue=e.target.value:e.target.value=this.oldNameInputValue}handleNameChange(e){const{asset:{id:t,localName:n},onNameChange:i}=this.props,{value:s}=e.target,a=n||this.getAssetName();s?a!==s&&i(t,s):e.target.value=a}createDownloadClickHandler(e){const{asset:{id:t},onDownloadClick:n}=this.props;return()=>{n(t,e)}}renderExports(){const{asset:{formats:e},assetDensityScalePrefs:t,showOptimizedSVG:n,projectType:s}=this.props;return s===l.c.BASE?i.h(y.a,null,"To download assets, navigate to a linked project or a platform‑specific child styleguide."):i.h("div",{class:"assetExports"},Object.keys(e).sort(a.h).map(s=>{const{variants:a,diff:o}=e[s];return i.h(h.a,{key:s,format:s,variants:a,diff:o,assetDensityScalePrefs:t,hideOptimization:!("svg"!==s||n&&o),onDownloadClick:this.createDownloadClickHandler(s)})}))}renderBitmapInfo(){const{onHideNoVectorAssetInfoClick:e}=this.props;return i.h(y.a,{class:"bitmapInfo",onHideClick:e},"This asset contains a ‘bitmap’ image inside. So no vector assets is generated.")}render(){const{class:e,showSeparator:t,asset:{localName:n,size:a,formats:o,light:h,previewImages:y},noVectorAssetInfoHidden:C,showDensityMismatchWarning:D,assetDensityScalePrefs:_,namingConvention:w,showOptimizedSVG:j,projectType:R,assetExportTarget:I,onChangeExportTargetClick:A,onOpenExportTargetClick:x,onHideDensityMismatchWarningClick:P,onAssetDensityOptionChange:L,onNamingConventionChange:N,onShowOptimizedSVGChange:U}=this.props,{settingsOpen:M}=this.state,B=i.h("div",{class:"assetsTitle"},"Assets",i.h(g.a,{open:M,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:L,onNamingConventionChange:N,onShowOptimizedSVGChange:U,projectType:R,settings:{assetDensityScalePrefs:_,namingConvention:w,showOptimizedSVG:j},target:i.h(m.a,{class:Object(s.a)("assetSettingsButton",{active:M}),onClick:this.showSettingsMenu},i.h(v.A,null))})),z=Object.keys(o).some(e=>"jpg"===e)&&Object.keys(o).every(e=>"svg"!==e&&"pdf"!==e),F=this.getAssetName(),{pattern:W,text:H}=function(e){switch(e){case l.c.BASE:case l.c.WEB:default:return{pattern:E,text:"letters, numbers, underscores, and hyphens"};case l.c.IOS:case l.c.MACOS:return{pattern:O,text:"letters, and numbers"};case l.c.ANDROID:return{pattern:T,text:"lower cased letters, numbers, and underscores"}}}(R),V=`${Object(r.s)(R)} platform assets can only contain ${H}`;return i.h(b.a,{class:Object(s.a)("assetSection",e),title:B,showSeparator:t},D&&i.h(d.a,{class:"warningBox",onHideClick:P}),!k&&i.h(u.a,{class:"warningBox"}),i.h(p.a,{class:"preview",light:h,images:y}),i.h(S.a,{name:"Name",capitalize:!1},i.h(f.a,{class:"assetName",blurOnEnter:!0,title:V,value:n||this.getAssetName(),pattern:W,onBlur:this.handleNameChange,onInput:this.handleNameInput})),n&&i.h("div",{class:"renameInfo"},"Renamed locally from “",F,"”"),i.h(S.a,{name:"Size"},a&&`${a.width} × ${a.height}`),this.renderExports(),I&&i.h(c.a,{name:I.name,type:I.type,path:I.path,pathParts:I.pathParts,onChangeClick:A,onOpenClick:x}),z&&!C&&this.renderBitmapInfo())}}},function(e,t,n){"use strict";var i=n(1504);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(43),o=n(3),r=n(21),l=n(1505);n.n(l);t.a=function(e){const{name:t,type:n,path:l,pathParts:c,onChangeClick:d,onOpenClick:u}=e;return i.h("div",{class:"exportPathSelection"},i.h("div",{class:"pathLocation"},i.h("div",{class:"name ellipsis",title:t,onClick:d},"Exporting to “",t,"”"),i.h("div",{class:"path",title:l,onClick:u},c.join(" ▸ "))),i.h(s.a,{class:Object(o.a)(n,"openExportPath"),onClick:u},"android"===n?[i.h("img",{key:"regular",src:Object(r.f)("img/icAndroidStudio.png"),srcset:Object(r.g)(Object(r.f)("img/icAndroidStudio.png"))}),i.h("img",{key:"pressed",src:Object(r.f)("img/icAndroidStudioPressed.png"),srcset:Object(r.g)(Object(r.f)("img/icAndroidStudioPressed.png"))})]:i.h(a.p,null)))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(204);function a(){window.open("https://support.zeplin.io/faq/all-the-measurements-are-wrong-halftwice-the-size","_blank,noopener")}t.a=function(e){const{class:t,onHideClick:n}=e;return i.h(s.a,{class:t,type:"warning",onHideClick:n,actionContent:"Learn more",onActionClick:a},"Project density changed after this screen was exported. Asset sizes might be incorrect, please re-export to make sure.")}},function(e,t,n){"use strict";var i=n(0),s=n(204);t.a=function(e){const{class:t}=e;return i.h(s.a,{class:t,type:"warning"},"Exporting assets is not working on your browser yet 😔, try it on Firefox or Chrome.")}},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(34),o=n(43),r=n(1509),l=(n.n(r),n(150));function c(e){return"svg"===e||"pdf"===e}t.a=function(e,t){const{format:n,variants:r,assetDensityScalePrefs:d,diff:u,hideOptimization:h,onDownloadClick:p}=e,{projectType:g}=t,m=r.filter(e=>Object(l.f)(d,n,e.densityScale)).length;let f,b;if(c(n)||u)!c(n)&&u?b=f=`~${u.percent}% smaller than ${u.type.toUpperCase()}`:"svg"!==n||h||(b=f=u?`~${u.percent}% smaller, optimized with SVGO`:"Optimized with SVGO");else{const e=[...new Set(r.map(e=>e.densityScale))].sort((e,t)=>e-t);f=e.reduce((e,t,a,o)=>{const r=Object(s.p)(g,t);return e.push(Object(l.f)(d,n,t)?r:i.h("s",null,r)),a!==o.length-1&&e.push(", "),e},[]),b=e.filter(e=>Object(l.f)(d,n,e)).map(e=>Object(s.p)(g,e)).join(", ")}return i.h("div",{class:"assetExport"},i.h("div",{class:"exportType"},n),i.h("div",{class:"exportInfo"},i.h("div",null,m," ",function(e){switch(e){case"pdf":case"svg":return"vector";case"jpg":case"png":default:return"bitmap"}}(n)," image",m>1?"s":""),i.h("div",{class:"extraInfo ellipsis",title:b},f)),i.h(a.a,{class:"downloadButton",onClick:p},i.h(o.n,null)))}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(14),o=n(21),r=n(1511);n.n(r);t.a=class extends i.Component{constructor(e){super(e),this.setImageSource=this.setImageSource.bind(this),this.state={source:null,svg:!1}}setImageSource(){const{images:e}=this.props;if(e.svg)return void this.setState({source:e.svg,svg:!0});const[t]=getComputedStyle(this.nodeRefs.image).maxHeight.match(/\d+/),n=t*window.devicePixelRatio,i=Object.keys(e).map(Number).sort((e,t)=>e-t),s=e[i[0]];Object(o.d)(s).then(t=>{const s=t.size.height,a=i.find(e=>s*e>=n)||i[i.length-1];this.setState({source:e[a],svg:!1})})}componentDidMount(){this.setImageSource()}componentDidUpdate(e){e.images[1]===this.props.images[1]&&e.images.svg===this.props.images.svg||this.setImageSource()}render(){const{source:e,svg:t}=this.state,{class:n,light:o}=this.props;return i.h("div",{class:Object(s.a)("assetPreview","noSelect",n,{light:o,svg:t})},i.h("img",{ref:Object(a.a)(this,"image"),src:e,crossorigin:"anonymous"}))}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(142),a=n(651),o=n(14),r=n(1515),l=(n.n(r),n(1)),c=n(150);const d=[{name:"Default",value:"default"},{name:"camelCase",value:"camelCase"},{name:"snake_case",value:"snakeCase"},{name:"kebab-case",value:"kebabCase"},{name:"Original",value:"original"}],u=1;class h extends i.Component{constructor(e){super(e),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.handleSettingsChange=this.handleSettingsChange.bind(this)}static densityScaleOptionVisible(e){return"base"!==e}static namingOptionVisible(e){return"android"!==e}static svgOptionVisible(e){return"android"===e||"web"===e}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,s=t.left-n.width;let a,o;o=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,a=s+n.width+12>window.innerWidth?window.innerWidth-n.width-12:s,e.style.transform=`translate3d(${a}px, ${o}px, 0)`}handleSettingsChange(e,t){"naming"===e?this.props.onNamingConventionChange(t):"optimizedSVG"===e?this.props.onShowOptimizedSVGChange(t):"pngScales"===e&&this.props.onAssetDensityOptionChange("png",t)}render(){const{settings:{assetDensityScalePrefs:e,namingConvention:t,showOptimizedSVG:n},projectType:r,open:p,target:g,onClose:m}=this.props,f=[];return h.densityScaleOptionVisible(r)&&f.push(i.h(a.a.SwitchMenu,{name:"pngScales",content:"PNG Scales",selectedOptionNames:e.png,minNumberOfSelectedOptions:u,options:Object(c.d)(r).map(e=>({name:e,content:Object(l.p)(r,e)}))})),h.namingOptionVisible(r)&&f.push(i.h(a.a.Picker,{name:"naming",content:"Naming",submenu:!0,value:t,options:d})),h.svgOptionVisible(r)&&f.push(i.h(a.a.Switch,{name:"optimizedSVG",content:"Display optimized SVG",value:n})),i.h("div",{class:"assetSettings"},i.h("div",{class:"target",ref:Object(o.a)(this,"target")},g),p&&i.h(s.a,{didRender:this.handlePortalDidRender},i.h(a.a,{class:"assetSettingsMenu",onChange:this.handleSettingsChange,onClose:m},f)))}}t.a=h},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(3),o=n(14),r=n(21),l=n(1514);n.n(l);class c extends i.Component{constructor(e){super(e),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.state={open:!1,direction:"right"}}hideSubmenu(){this.setState({open:!1})}positionSubmenu(){if(!this.state.open)return;const{edgeOffset:e}=this.context,t=this.nodeRefs.base.getBoundingClientRect(),n=this.nodeRefs.submenu.getBoundingClientRect(),i=window.innerWidth>=t.right+n.width+e?"right":"left";let s=0;n.top<e?s=e:n.bottom+e>window.innerHeight&&(s=window.innerHeight-n.bottom-e),0!==s&&(this.nodeRefs.submenu.style.transform=`translate3d(0, ${s}px, 0)`),i!==this.state.direction&&this.setState({direction:i})}showSubmenu(){this.setState({open:!0})}componentDidMount(){this.positionSubmenu()}componentDidUpdate(){this.positionSubmenu()}render(){const{open:e,direction:t}=this.state,{content:n,name:s,children:l}=this.props;return i.h("label",{ref:Object(o.a)(this,"base"),for:"sidebarSubmenu",class:"sidebarSubmenu",onMouseEnter:this.showSubmenu,onMouseLeave:this.hideSubmenu},i.h("span",null,n||s),i.h("img",{src:r.f("img/icMenuArrow.svg"),alt:">",class:"menuChevron"}),e&&i.h("div",{ref:Object(o.a)(this,"submenu"),class:Object(a.a)("submenu",t)},l))}}class d extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}handleClick(e,t,n=!0){this.props.onChange&&this.props.onChange(e,t),n&&this.props.onClose()}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||this.props.onClose()}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}getChildContext(){return{edgeOffset:this.edgeOffset}}render(){const{class:e,children:t}=this.props,n=Object(a.a)("zplMenu",e);return i.h("div",{ref:Object(o.a)(this,"base"),onClick:s.J,class:n},i.toChildArray(t).map(e=>i.cloneElement(e,{onClick:this.handleClick})))}}d.Submenu=c,d.Picker=class extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.value)}render(){const{options:e,name:t,value:n,submenu:s,content:a}=this.props,o=e.map(e=>{const s=e.value===n,{value:a,name:o}=e;return i.h("label",{key:`${o}-${a}`},i.h("span",null,o),i.h("input",{onClick:this.clickHandler,type:"radio",name:t,value:a,checked:s}),i.h("img",{src:r.f("img/icMenuCheck.svg"),alt:"&check;"}))});if(s){let s=t;return a&&(s=`${a} (${e.find(e=>e.value===n).name})`),i.h(c,{content:s},o)}return i.h("div",null,o)}},d.Switch=class extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.checked)}render(){const{content:e,name:t,disabled:n,value:s}=this.props;return i.h("label",{class:Object(a.a)({disabled:n})},i.h("span",null,e||t),i.h("input",{type:"checkbox",disabled:n,onClick:this.clickHandler,name:t,checked:s}),i.h("img",{src:r.f("img/icMenuCheck.svg"),alt:"&check;"}))}},d.SwitchMenu=class extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e,t){const{name:n,selectedOptionNames:i,onClick:s}=this.props;if(s){let a=i?[...i]:[];t?a.push(e):a=a.filter(t=>t!==e),s(n,a,!1)}}render(){const{options:e,content:t,selectedOptionNames:n,minNumberOfSelectedOptions:s}=this.props,a=e.map(e=>n&&n.includes(e.name)),o=s>=a.filter(e=>e).length;return i.h(d.Submenu,{content:t},e.map((e,t)=>i.h(d.Switch,{key:e.key||t,name:e.name,content:e.content,value:a[t],disabled:e.disabled||o&&a[t],onClick:this.clickHandler})))}},d.Button=class extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e)}render(){return i.h("label",null,i.h("span",null,this.props.children),i.h("input",{onClick:this.handleClick,type:"button"}))}},d.Divider=function(){return i.h("hr",null)},t.a=d},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(1517);n.n(a);function o(e){const{capitalize:t=!0,name:n,abbr:a,children:o,class:r}=e,l=n?`${n}`:null,c=a?i.h("abbr",null,a):null,d=l&&c?", ":"";return i.h("div",{class:Object(s.a)("layerProperty",r,{capitalize:t})},i.h("span",{class:"propertyName noSelect"},l,d,c,": "),i.h("span",{class:"propertyValue ellipsis"},o))}o.Group=function({children:e,class:t}){return i.h("div",{class:Object(s.a)("layerPropertyGroup",t)},e)},t.a=o},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(34),r=n(43),l=n(1520);n.n(l);function c(e){const{children:t,onCloseClick:n}=e;return i.h("div",{class:"sidebarHeader"},i.h("h2",{class:"ellipsis"},t),i.h(o.a,{class:"closeButton",onClick:n},i.h(r.f,{color:"#979197"})))}c.propTypes={onCloseClick:a.a.func,children:a.a.oneOfType([a.a.node,a.a.element])},t.a=c},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(34),r=n(462),l=n(652),c=n(43),d=n(27),u=n(31),h=n(8),p=n(26),g=n(6),m=n(1524),f=n(1529),b=n(1531),y=n(1534),S=n(1537);n.n(S);const v=e=>e.find(e=>!!e.snippet)||e.find(e=>!!e.description)||{};class C extends i.Component{constructor(e){super(e),this.handleLayerComponentClick=(()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Layer detail"})}),this.handleConnectToCodeClick=this.handleConnectToCodeClick.bind(this),this.handleOpenDocumentationClick=this.handleOpenDocumentationClick.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this)}handleConnectToCodeClick(){const e=this.props.showLayerComponent;mixpanel.master.track("Clicked connect to code button",{On:e?"Screen":"Component"}),Object(p.l)("https://zpl.io/connected-components")}handleOpenDocumentationClick(){const e=this.props.showLayerComponent;mixpanel.master.track("Clicked local configuration documentation button",{On:e?"Screen":"Component"}),Object(p.l)("https://zpl.io/connected-components-local-configuration")}handleAddWorkspacePath(e){const{barrelId:t}=this.context;u.b.setConnectedComponentsLocalWorkspace({bid:t,workspace:e})}renderLayerComponent(){if(!this.props.showLayerComponent)return null;const{containerName:e,componentId:t,componentName:n}=this.props,{projectId:s}=this.context,a=Object(h.j)("project-styleguide-components",{url:{bid:s},query:{coid:t}});return[i.h("h2",{key:"componentTitle",class:"componentTitle"},"Component"),i.h("div",{key:"styleguideComponent",class:"styleguideComponent"},i.h("span",{class:"name ellipsis",title:n},n),i.h("a",{href:a,onClick:this.handleLayerComponentClick,"data-link-type":"inApp","data-back":e},i.h(c.r,{width:"18",height:"18",color:"#C1BEC1"})))]}renderDevModeHintBox(){const{connectedComponentsDevModeEnabled:e}=this.props;return e?i.h(b.a,{onReload:u.b.reloadLocalConnectedComponents}):null}renderCodeComponent(){const{connectedComponent:e,connectedComponentsDevModeEnabled:t,componentName:n}=this.props;if(!e)return t?[i.h("span",{key:"notFoundDescription",class:"notFoundDescription"},`${n} not found in local configuration file. Reload to try again.`),i.h(o.a,{key:"openDocumentation",class:"openDocumentation",onClick:this.handleOpenDocumentationClick},"Open Documentation")]:[i.h("span",{key:"notConnectedDescription",class:"notConnectedDescription"},"Connect this component to your component in code to see a quick overview with links to documentation, e.g. Storybook."),i.h(o.a,{key:"connectToCode",class:"connectToCode",onClick:this.handleConnectToCodeClick},"Connect to Code")];let{name:s,path:a,data:c}=e;s||(s=Object(g.c)(a));const{description:d,snippet:u,lang:h}=v(c);return[i.h("div",{key:"componentInfo",class:"componentInfo"},i.h("span",{class:"componentName ellipsis"},s),i.h("span",{class:"componentPath ellipsis"},a)),d||u?[d&&i.h("div",{key:"componentDescription",class:"componentDescription"},i.h(r.a,null,d)),u&&i.h("div",{key:"componentCodeSnippet",class:"snippet"},i.h(l.a,{lineIndicator:!0,lang:h,content:u,asyncHighlight:!1}))]:i.h("div",{key:"noData",class:"componentDescription"},i.h(r.a,null,"No description or code snippet."))]}renderOpenInEditor(e){const{connectedComponentsLocalWorkspace:t,connectedComponentsEditorInfo:n,userRestricted:s}=this.props;if(d.a.isWindowsApp){const{editorList:t,defaultEditorPreferences:a,workspacePath:o}=n,r=Object(g.b)(e),l=a&&a[r];return i.h(f.a,{filePath:e,fileExtension:r,editorList:t,selectedEditor:l,workspacePath:o,disabled:s,onOpenFileInEditor:u.b.openComponentFileInEditor,onEditorChange:u.b.setConnectedComponentsEditorPreference,onSelectWorkspace:u.b.selectConnectedComponentsWorkspaceFolder})}return i.h(m.g,{filePath:e,showOptionsButton:!0,onAddWorkspacePath:this.handleAddWorkspacePath,workspace:t,disabled:s})}renderOpenInButtons(){const{connectedComponent:e,userRestricted:t}=this.props;if(!e)return;const{urlPaths:n,path:s}=e,a=[],o=[];return n&&n.forEach(e=>{const{name:n,type:s,url:r}=e;"github"===s?o.push(i.h(m.c,{key:"github",name:n,uri:r,disabled:t})):"gitlab"===s?o.push(i.h(m.d,{key:"gitlab",name:n,uri:r,disabled:t})):"bitbucket"===s?o.push(i.h(m.a,{key:"bitbucket",name:n,uri:r,disabled:t})):"styleguidist"===s?o.push(i.h(m.f,{key:"styleguidist",name:n,uri:r,disabled:t})):"storybook"===s?a.push(r):"custom"===s&&o.push(i.h(m.b,{key:`custom-${n}`,name:n,uri:r,disabled:t}))}),i.h("div",{class:"openInButtons"},o.length>0&&o,a.length>0&&i.h(m.e,{uriList:a,disabled:t}),this.renderOpenInEditor(s))}render(){const{connectedComponent:e,userRestricted:t,onRequestInvite:n}=this.props;return i.h("div",{class:"componentDetailSection"},i.h("div",{class:"componentDetailsWrapper"},i.h("div",{class:"componentDetails"},this.renderLayerComponent(),this.renderDevModeHintBox(),this.renderCodeComponent()),e&&t&&i.h("div",{class:"connectedComponentsAlienOverlay"},i.h(y.a,{onRequestInvite:n}))),this.renderOpenInButtons())}}C.propTypes={containerName:a.a.string,componentId:a.a.string,componentName:a.a.string,showLayerComponent:a.a.bool,connectedComponent:a.a.object},t.a=C},function(e,t,n){"use strict";var i=n(0),s=n(534),a=n.n(s),o=n(3),r=n(1523);n.n(r);t.a=class extends i.Component{highlight(e){const{content:t,lang:n,asyncHighlight:i=!0}=e;!function(e){return e&&!!a.a.languages[e]}(n)?this.setState({lines:e.content.split("\n")}):function(e,t,n){return n?new Promise((n,i)=>{try{a.a.tokenizeFlat(e,a.a.languages[t],!0,e=>{n(e)})}catch(e){i(e)}}):Promise.resolve(a.a.tokenizeFlat(e,a.a.languages[t]))}(t,n,i).then(e=>{this.setState({lines:function(e){let t=[];const n=[t];for(const i of e)if("string"==typeof i&&i.includes("\n")){const e=i.split("\n");t.push(e[0]);for(let t=1;t<e.length-1;t++)n.push([e[t]]);t=[e[e.length-1]],n.push(t)}else t.push(i);return n}(e)})}).catch(()=>{this.setState({lines:e.content.split("\n")})})}componentDidMount(){this.highlight(this.props)}componentWillReceiveProps(e){this.highlight(e)}render(e,t){const{class:n,lang:s,lineIndicator:a,style:r}=e,{lines:l=[]}=t,c=Object(o.a)("code",n,{lineIndicator:a});return i.h("pre",{class:c},i.h("code",{class:`language-${s}`,style:r},l.map((e,t)=>i.h("span",{key:t,class:"lineWrapper"},i.h("span",{class:"lineno"}),i.h("pre",{class:"line"},Array.isArray(e)?e.map(e=>"string"==typeof e?e:i.h("span",{class:`token ${e.type}`},e.content)):e)))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1525);n.d(t,"g",function(){return i.g}),n.d(t,"f",function(){return i.f}),n.d(t,"c",function(){return i.c}),n.d(t,"d",function(){return i.d}),n.d(t,"a",function(){return i.a}),n.d(t,"e",function(){return i.e}),n.d(t,"b",function(){return i.b})},function(e,t,n){"use strict";n.d(t,"g",function(){return C}),n.d(t,"c",function(){return O}),n.d(t,"d",function(){return T}),n.d(t,"a",function(){return k}),n.d(t,"e",function(){return D}),n.d(t,"f",function(){return E}),n.d(t,"b",function(){return _});var i=n(0),s=n(721),a=n(14),o=n(3),r=n(8),l=n(56),c=n(1),d=n(142),u=n(651),h=n(1526),p=n(722);n.n(p);function g(e){const{name:t,icon:n,uri:a,target:r,showOptionsButton:l,onOptionsClick:d,onClickOpenInButton:u,disabled:h}=e;return i.h("div",{class:Object(o.a)("openInButtonWrapper",{disabled:h})},i.h("a",{class:"openInButton noSelect",href:h?"":a,target:r,onClick:h?c.E:u},n,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",t)),l&&i.h("button",{onClick:d},s.i))}function m(){v("Styleguidist")}function f(){v("GitHub")}function b(){v("GitLab")}function y(){v("Bitbucket")}function S(){v("Storybook")}function v(e){mixpanel.master.track("Clicked open in button",{Type:e})}class C extends i.Component{constructor(e){super(e),this.handleOpen=this.handleOpen.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleHideDialog=this.handleHideDialog.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.state={showDialog:!1,optionsDialog:!1}}handleOpen(){const{filePath:e,workspace:t}=this.props;if(t){mixpanel.master.track("Clicked open in button for connected component",{Type:"Editor",Source:"Visual Studio Code"});const n=`vscode://file/${Object(l.n)(t)}/${Object(l.n)(e)}`;window.open(n,"_self")}else this.setState({showDialog:!0,optionsDialog:!1})}handleOptionsClick(){this.setState({showDialog:!0,optionsDialog:!0})}handleHideDialog(){this.setState({showDialog:!1})}handleAddWorkspacePath(e){const{optionsDialog:t}=this.state,{filePath:n,onAddWorkspacePath:i}=this.props;if(i(e),this.handleHideDialog(),!t){const t=`vscode://file/${Object(l.n)(e)}/${Object(l.n)(n)}`;window.open(t,"_self")}}render(){const{name:e,showOptionsButton:t,workspace:n,disabled:r}=this.props,{showDialog:l}=this.state;return i.h("div",{class:Object(o.a)("openInButtonWrapper",{disabled:r}),ref:Object(a.a)(this,"base")},l&&i.h(h.a,{workspace:n,onAdd:this.handleAddWorkspacePath,onHide:this.handleHideDialog}),i.h("button",{class:"openInButton noSelect",onClick:r?c.E:this.handleOpen},s.m,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",e||"VS Code")),t&&i.h("button",{onClick:r?c.E:this.handleOptionsClick},s.i))}}function E(e){const{name:t,uri:n,showOptionsButton:a,onOptionsClick:o,disabled:r}=e;return i.h(g,{name:t||"Styleguidist",icon:s.k,uri:n,target:"_blank",disabled:r,showOptionsButton:a,onOptionsClick:o,onClickOpenInButton:m})}function O(e){const{name:t,uri:n,showOptionsButton:a,onOptionsClick:o,disabled:r}=e;return i.h(g,{name:t||"GitHub",icon:s.f,uri:n,target:"_blank",disabled:r,showOptionsButton:a,onOptionsClick:o,onClickOpenInButton:f})}function T(e){const{name:t,uri:n,showOptionsButton:a,onOptionsClick:o,disabled:r}=e;return i.h(g,{name:t||"GitLab",icon:s.g,uri:n,target:"_blank",disabled:r,showOptionsButton:a,onOptionsClick:o,onClickOpenInButton:b})}function k(e){const{name:t,uri:n,showOptionsButton:a,onOptionsClick:o,disabled:r}=e;return i.h(g,{name:t||"Bitbucket",icon:s.c,uri:n,target:"_blank",disabled:r,showOptionsButton:a,onOptionsClick:o,onClickOpenInButton:y})}class D extends i.Component{constructor(e){super(e),this.hideOptions=this.hideOptions.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.setState({showOptions:!1})}getStoryName(e){const t=new URL(e),{selectedStory:n}=Object(r.h)(t.search);return n?n[0]:null}hideOptions(){this.context.enableScroll(),this.setState({showOptions:!1})}handleOptionsClick(){this.context.disableScroll(),this.setState({showOptions:!0})}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,s=t.left-n.width;let a,o;o=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,a=s+n.width+12>window.innerWidth?window.innerWidth-n.width-12:s,e.style.transform=`translate3d(${a}px, ${o}px, 0)`}render(){const{uriList:e,disabled:t}=this.props,{showOptions:n}=this.state,r=[];return e.forEach(e=>{const t=this.getStoryName(e);t&&r.push({name:t,uri:e})}),i.h("div",null,i.h("div",{class:Object(o.a)("openInButtonWrapper",{disabled:t})},i.h("a",{class:"openInButton noSelect",href:t?"":e[0],target:"_blank",onClick:t?c.E:S},s.j,i.h("span",{class:"openInButtonText ellipsis"},"Open in Storybook")),r.length>1&&i.h("button",{class:Object(o.a)("storybookSettings",{active:n}),onClick:t?c.E:this.handleOptionsClick,ref:Object(a.a)(this,"target")},s.i)),n&&i.h(d.a,{didRender:this.handlePortalDidRender},i.h(u.a,{class:"storybooksMenu",onClose:this.hideOptions},i.h(u.a.Submenu,{name:"Stories"},r.map(e=>i.h(u.a.Button,{key:e.name,onClick:()=>window.open(e.uri)},e.name))))))}}function _(e){const{name:t,uri:n,showOptionsButton:a,onOptionsClick:o,disabled:r}=e;return i.h(g,{name:t||"Custom Link",icon:s.d,uri:n,target:"_blank",disabled:r,showOptionsButton:a,onOptionsClick:o})}},function(e,t,n){"use strict";var i=n(1527);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(14),a=n(373),o=n(34),r=n(457),l=n(142),c=n(1528);n.n(c);t.a=class extends i.Component{constructor(e){super(e),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}focusTextInput(){const{textInput:e}=this.nodeRefs;e.focus()}handleDocumentKeyDown(e){e.stopPropagation(),e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onHide()}handleAddWorkspacePath(e){const t=this.nodeRefs.textInput.value;t?this.props.onAdd(t):e.preventDefault()}handleInputChange(e){const t=e.target.value.split(/\u25B8/g).map(e=>e.replace(/[^\x20-\x7E]/g,"").trim()).join("/");this.nodeRefs.textInput.value=t}componentDidMount(){const{workspace:e}=this.props;this.nodeRefs.textInput.value=e||"",document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.focusTextInput()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{onHide:e,workspace:t}=this.props,n=t?"CHANGE":"SAVE";return i.h(l.a,null,i.h(a.a,{onClose:e},i.h("div",{class:"localWorkspaceDialog"},i.h("div",{class:"dialogContent"},i.h("p",null,`${t?"Change":"Enter"} local path for repository`),i.h(r.a,{inputRef:Object(s.a)(this,"textInput"),class:"localWorkspacePath",placeholder:"e.g. /Users/zo/Developer/project/",onInput:this.handleInputChange})),i.h("div",{class:"footer"},i.h(o.a,{class:"negative",onClick:e},"CANCEL"),i.h(o.a,{class:"positive",onClick:this.handleAddWorkspacePath},n)))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1530);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(721),a=n(1),o=n(14),r=n(3),l=n(142),c=n(651),d=n(722);n.n(d);const u={"Visual Studio Code":s.m,"Visual Studio Code - Insiders":s.n,Atom:s.b,"Sublime Text":s.l,"Android Studio":s.a,"IntelliJ IDEA":s.h,WebStorm:s.o},h={name:"Default Editor",value:"defaultEditor"};t.a=class extends i.Component{constructor(e){super(e),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleMenuItemClick=this.handleMenuItemClick.bind(this),this.state={showMenu:!1}}selectedEditorAvailable(){const{selectedEditor:e,editorList:t}=this.props;return t.findIndex(t=>t.exePath===e.exePath)>-1}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,s=t.left-n.width;let a,o;o=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,a=s+n.width+12>window.innerWidth?window.innerWidth-n.width-12:s,e.style.transform=`translate3d(${a}px, ${o}px, 0)`}handleOptionsClick(){this.context.disableScroll(),this.setState({showMenu:!0})}handleCloseMenu(){this.context.enableScroll(),this.setState({showMenu:!1})}handleMenuItemClick(e,t){if("editors"===e){const{editorList:e,selectedEditor:n,onEditorChange:i,fileExtension:s}=this.props,a=e.find(e=>e.exePath===t);return void(n&&!a?i(s,null):!n&&a?i(s,a):n&&a.name!==n.name&&i(s,a))}const{onSelectWorkspace:n}=this.props;n()}handleOpen(){const{selectedEditor:e,filePath:t,onOpenFileInEditor:n}=this.props;n(t,e)}render(){const{editorList:e,selectedEditor:t,workspacePath:n,disabled:d}=this.props,{showMenu:p}=this.state,g=[h];e&&e.forEach(e=>{g.push({name:e.name,value:e.exePath})});const m=[i.h(c.a.Button,{key:"openInEditorSelectButton"},n?"Change":"Select"," Folder in File Explorer")];return e&&e.length>0&&m.push(i.h(c.a.Picker,{key:"openInEditorPicker",name:"editors",content:"Editors",submenu:!0,value:t&&this.selectedEditorAvailable()&&t.exePath||h.value,options:g})),i.h("div",null,i.h("div",{class:Object(r.a)("openInButtonWrapper",{disabled:d})},i.h("button",{class:"openInButton noSelect",onClick:d?a.E:this.handleOpen},t?u[t.name]:s.e,i.h("span",{class:"openInButtonText ellipsis"},`Open in ${t?t.name:"default editor"}`)),i.h("button",{onClick:d?a.E:this.handleOptionsClick,ref:Object(o.a)(this,"target")},s.i)),p&&i.h(l.a,{didRender:this.handlePortalDidRender},i.h(c.a,{class:"openInEditorMenu",onChange:this.handleMenuItemClick,onClose:this.handleCloseMenu},m)))}}},function(e,t,n){"use strict";var i=n(1532);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(56),o=n(1533);n.n(o);t.a=function(e){const{onReload:t}=e;return i.h("div",{class:"devModeHintBox"},i.h("span",{class:"hintAunt"},"👷‍♀️"),i.h("div",{class:"devModeHintContent"},i.h("p",{class:"devModeHint"},`Local configuration enabled -- this is only visible to you, use shortcut ${Object(a.h)()} to disable it.`),i.h(s.a,{class:"devModeReload",onClick:t},"Reload")))}},function(e,t){},function(e,t,n){"use strict";var i=n(1535);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(1536);n.n(a);t.a=function(e){const{onRequestInvite:t}=e;return i.h("div",{class:"notAMemberHintBox"},i.h("span",{class:"hintTippingWoman"},"💁‍♀"),i.h("div",{class:"notAMemberHintContent"},i.h("p",{class:"notAMemberHint"},"This styleguide belongs to an organization but looks like you’re not a member. If you’re a developer or designer and want to access these resources, please request an invite from admins."),i.h(s.a,{class:"notAMemberRequestInvite",onClick:t},"Request invite")))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1539);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(320),o=n(43),r=n(3),l=n(26),c=n(1),d=n(1540);n.n(d);const u=/\u2028/g,h="\n",p=Object(l.a)();function g(e){return e.replace(u,h)}t.a=class extends i.Component{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleContentCopy=this.handleContentCopy.bind(this),this.handleContentFocus=this.handleContentFocus.bind(this)}handleContentCopy(e){e.preventDefault();const{content:t}=this.props;e.clipboardData.setData("text/plain",g(t))}handleContentFocus(e){const{onCopyClick:t,content:n}=this.props;t(g(n)),setTimeout(l.n,40,e.target)}handleCopyClick(){const{onCopyClick:e,content:t}=this.props;e(g(t))}renderContent(){const{content:e,textStyles:t,hovered:n}=this.props,s=g(e);if(!t.length)return s;const a=[];let o=0;return t.forEach(({range:e,group:t})=>{const l=Object(c.h)(s.substring(e.start,e.end));if(e.start>o)a.push(Object(c.h)(s.substring(o,e.start)));else if(e.start<o)return;a.push(i.h("span",{class:Object(r.a)({hovered:n===t}),"data-color-group":t},l)),o=e.end}),a.push(Object(c.h)(s.substring(o,s.length))),a}renderTitle(){return i.h("div",{class:"contentTitle"},"Content",p&&i.h(s.a,{class:"contentCopyButton",onClick:this.handleCopyClick},i.h(o.k,null)))}render(){const{class:e,showSeparator:t}=this.props;return i.h(a.a,{class:Object(r.a)("contentSection",e),title:this.renderTitle(),showSeparator:t},i.h("p",{class:"layerContent",onCopy:this.handleContentCopy,onFocus:this.handleContentFocus,tabIndex:"1"},this.renderContent()))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1542);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(320),a=n(204),o=n(527),r=n(43),l=n(3),c=n(1543);n.n(c);function d({name:e,url:t}){return i.h("div",{class:"linkProperty"},i.h("a",{class:"ellipsis screenLink",href:t,"data-link-type":"inApp"},e),t&&i.h("a",{class:"screenLinkIcon",href:t,"data-link-type":"inApp"},i.h(r.z,null)))}t.a=function(e){const{class:t,showSeparator:n,flowLink:r,layer:{rect:c,opacity:u,borderRadius:h,rotation:p,blendMode:g},flowLinkInfoDismissed:m,onHideFlowInfoClick:f}=e;return i.h(s.a,{class:Object(l.a)("infoSection",t),showSeparator:n},i.h(o.a.Group,null,i.h(o.a,{name:"X"},c.x),i.h(o.a,{name:"Y"},c.y)),i.h(o.a.Group,null,i.h(o.a,{name:"Width"},c.width),i.h(o.a,{name:"Height"},c.height)),h&&i.h(o.a,{name:"Radius"},h),u&&i.h(o.a,{name:"Opacity"},u),p&&i.h(o.a,{name:"Rotation"},`${p}°`),g&&i.h(o.a,{name:"Blend Mode"},g),r&&i.h(o.a,{name:"Linked to"},i.h(d,{name:r.name,url:r.url})),r&&!m&&i.h(a.a,{class:"flowInfo",onHideClick:f},"This area is linked to another screen. To quickly view links and navigate to linked screens, hold down ",i.h("strong",null,"Shift"),"."))}},function(e,t){},function(e,t,n){"use strict";var i=n(1545);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1546),a=n(320),o=n(723);n.n(o);t.a=class extends i.Component{constructor(e){super(e),this.handleHoverChange=this.handleHoverChange.bind(this),this.handleHoverChangeByGroup={}}handleHoverChange(e,t){t?this.props.onHoverChange(e):this.props.onHoverChange(null)}render(){const{showSeparator:e,typefaces:t,onAddTextStyleClick:n,onRemoveTextStyleClick:o,onTextStyleNameChange:r,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}=this.props;return i.h("div",null,function(e){const t={};return e.sort(({range:{start:e}},{range:{start:t}})=>e-t).filter(({group:e})=>!t[e]&&(t[e]=!0,!0))}(t).map(({textStyle:t,group:u,content:h})=>{const p="default"===u;return this.handleHoverChangeByGroup[u]||(this.handleHoverChangeByGroup[u]=this.handleHoverChange.bind(this,u)),i.h(a.a,{class:"typefaceSection",showSeparator:e,key:u},i.h(s.a,{textStyle:t,colorGroup:!p&&u,snippet:h,onHoverChange:!p&&this.handleHoverChangeByGroup[u],onAddClick:n,onRemoveClick:o,onNameChange:r,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}))}))}}},function(e,t,n){"use strict";var i=n(0),s=n(8),a=n(75),o=n(3),r=n(542),l=n(527),c=n(712),d=n(457),u=n(472),h=n(470),p=n(43),g=n(10),m=n(723);n.n(m);const f=Object(h.a)(class extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.state={hover:!1}}handleAddClick(){const{textStyle:{value:e},onAddClick:t}=this.props;t(e)}handleNameChange(e){const{textStyle:{id:t,name:n},onNameChange:i}=this.props,{value:s}=e.target;s?n!==s&&i(t,s):e.target.value=n}handleRemoveClick(){this.props.onRemoveClick(this.props.textStyle.id)}renderFontVariationSettings(){const{textStyle:{fontVariationSettings:e}}=this.props;return e?Object(r.b)(e).map(([e,t])=>i.h(l.a,{key:e,name:r.a[e],abbr:e},Object(a.c)(t,2))):null}render(){const{class:e,colorGroup:t,snippet:n,textStyle:{styleguideId:a,styleguideName:r,isMember:h,isOrganizationBarrel:m,id:f,added:b,name:y,color:S,fontFace:v,fontSize:C,letterSpacing:E,lineHeight:O,textAlign:T},hover:k,onColorAddClick:D,onColorRemoveClick:_,onColorNameChange:w}=this.props,{barrelType:j,barrelId:R,permissions:{canManageTextStyles:I}}=this.context,A=t?i.h("div",{class:"typefaceHeader","data-color-group":t},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface "),i.h("span",null,n),i.h("span",null,"”")),t&&i.h("div",{class:"colorGroup"})):i.h("div",{class:"typefaceHeader"},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface"))),x=!I||b&&a!==R,P=i.h(c.a,{onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,resourceAdded:b,isMember:h,isOrganizationBarrel:m,styleguideId:a,styleguideName:r,canManageResource:I,type:c.a.TYPE.TEXT_STYLE,disabled:x}),L=j===g.a.STYLEGUIDE?"styleguide":"project-styleguide",N=Object(s.j)(`${L}-textstyles`,{url:{bid:R},query:{tsid:f}});return i.h("div",{class:Object(o.a)("typeface",e,{hover:k})},A,b?[i.h("div",{key:`textStyleName-${f}`,class:"textStyleName"},i.h(d.a,{class:"textStyleNameInput",value:y,blurOnEnter:!0,disabled:x,onBlur:this.handleNameChange,ellipsized:!0}),i.h("div",{class:"buttonSpacer"},P),i.h("a",{href:N,class:"goToResource","data-link-type":"inApp"},i.h(p.r,{width:"18",height:"18"}))),i.h("div",{key:`layerFontFace-${f}`,class:"layerFontFace"},i.h("span",{class:"ellipsis"},v))]:i.h("div",{class:"layerFontFace"},i.h("span",{class:"ellipsis"},v),i.h("div",{class:"buttonSpacer"},P)),i.h(l.a.Group,null,i.h(l.a,{name:"Size"},C),void 0!==T&&i.h(l.a,{name:"Align"},T)),this.renderFontVariationSettings(),void 0!==O&&i.h(l.a,{name:"Line Height"},O),void 0!==E&&i.h(l.a,{name:"Letter Spacing"},E),S&&i.h(u.a,{color:S,initialHover:k,onNameChange:w,onAddClick:D,onRemoveClick:_}))}});t.a=f},function(e,t,n){"use strict";var i=n(0),s=n(142),a=n(710),o=n(470),r=n(1548);n.n(r);const l=Object(o.a)(function(e){const{color:{id:t,name:n,added:s,colorString:o,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},canManageColors:h,onNameChange:p,onAddClick:g,onRemoveClick:m,hover:f}=e;return i.h("div",{class:"gradientColor"},i.h(a.a,{class:"gradientColorInfo",added:s,hover:f,id:t,name:n,colorString:o,opacity:r,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:h,editable:s&&h,onAddClick:g,onRemoveClick:m,onNameChange:p}))});t.a=class extends i.Component{constructor(e){super(e),this.handleColorStopMouseEnter=this.handleColorStopMouseEnter.bind(this),this.handleColorStopMouseLeave=this.handleColorStopMouseLeave.bind(this),this.state={colorStop:null}}handleColorStopMouseEnter(e){const t=e.target.closest(".colorStop"),{top:n,left:i}=t.getBoundingClientRect();this.setState({activeColorStop:{value:t.dataset.pos,x:`calc(${Math.trunc(i-4)}px - 100%)`,y:`${Math.trunc(n-5)}px`}})}handleColorStopMouseLeave(){this.setState({activeColorStop:null})}render(){const{gradient:{colorStops:e,gradientStyle:t},onColorAddClick:n,onColorRemoveClick:a,onColorNameChange:o}=this.props,{activeColorStop:r}=this.state,{permissions:{canManageColors:c}}=this.context;return i.h("div",{class:"layerGradient"},i.h("div",{class:"gradientPreview",style:{backgroundImage:t}},e.map(({color:{colorStyle:e},position:t},n)=>{const s=t>0&&t<1,a={top:`${Math.trunc(100*t)}%`,color:e};return i.h("div",{class:"colorStop",key:n,style:a,"data-pos":t,onMouseEnter:s?this.handleColorStopMouseEnter:null,onMouseLeave:s?this.handleColorStopMouseLeave:null})})),i.h("div",{class:"gradientColors"},e.map(({color:e},t)=>{const{id:s,value:r}=e;return i.h(l,{key:t,color:e,canManageColors:c,onNameChange:function(e){o(s,e)},onAddClick:function(){n(r)},onRemoveClick:function(){a(s)}})})),r&&i.h(s.a,null,i.h("div",{class:"colorStopPosition",style:{transform:`translate3d(${r.x}, ${r.y}, 0`}},r.value)))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1550);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(472),a=n(724),o=n(1551);n.n(o);t.a=function(e){const{border:{color:t,gradient:n,position:o,thickness:r},disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}=e;return i.h("div",{class:"layerBorder"},i.h("div",{class:"borderInfo"},o,", ",r),t?i.h(s.a,{color:t,disabled:l,onAddClick:c,onRemoveClick:d,onNameChange:u}):i.h(a.a,{gradient:n,disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}))}},function(e,t){},function(e,t,n){"use strict";var i=n(1553);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(472),a=n(527),o=n(1554);n.n(o);t.a=function(e){const{shadow:{blurRadius:t,color:n,offsetX:o,offsetY:r,spread:l,type:c},disabled:d,onColorRemoveClick:u,onColorAddClick:h,onColorNameChange:p}=e;return i.h("div",{class:"layerShadow"},i.h("div",{class:"shadowType"},c),i.h(a.a.Group,null,i.h(a.a,{name:"X"},o),i.h(a.a,{name:"Y"},r)),i.h(a.a.Group,null,i.h(a.a,{name:"Blur"},t),i.h(a.a,{name:"Spread"},l)),i.h(s.a,{color:n,disabled:d,onAddClick:h,onRemoveClick:u,onNameChange:p}))}},function(e,t){},function(e,t,n){"use strict";var i=n(1556);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1557);n.n(s);t.a=function(e){const{blur:{radius:t,type:n}}=e;return i.h("div",{class:"layerBlur"},i.h("div",{class:"blurInfo"},n,", ",t))}},function(e,t){},function(e,t,n){"use strict";var i=n(1559);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(43),a=n(1560);n.n(a);t.a=function(){return i.h("div",{class:"noComponent"},i.h("span",{class:"description ellipsis"},"Not a part of a component yet."),i.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},i.h(s.s,{width:"21",height:"21"})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(653);const a="layer";t.a=class extends i.Component{constructor(e){super(e),this.generateLayerCode=this.generateLayerCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateLayerCode(e,t){const{layer:n,version:i}=this.props;return e[a](t,n,i).then(e=>{if(!e)return;const t={name:a};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,a,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(s.a,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{layer:e}=this.props;return i.h(s.c,{id:e.id,generateCode:this.generateLayerCode,render:this.renderExtensionCode})}}},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(193),r=n(74),l=n(10),c=n(286),d=n(31),u=n(58),h=n(57),p=n(455),g=n(1564);n.n(g);const m={[l.a.PROJECT]:h.c,[l.a.STYLEGUIDE]:u.c};class f extends i.Component{constructor(e){super(e),this.state={snippets:{}}}generateCodeSnippets(){const{barrel:e,styleguides:t,barrelType:n,generateCode:i,extensions:s,enabledExtensions:a}=this.props,o=Object(p.f)(e,n,t),r=s.filter(e=>a[n].includes(e.id)&&e.loaded);Promise.all(r.map(e=>i(e,o).then(t=>{const n=t?[t]:[];return{[e.id]:{snippets:n,title:e.name}}}).catch(()=>{}))).then(e=>{const t=e.filter(Boolean);if(this.props.onGenerateCode){const e=t.some(e=>Object.keys(e).some(t=>e[t].snippets.length));this.props.onGenerateCode(e)}this.setState({snippets:Object.assign({},...t)})})}componentDidMount(){this.generateCodeSnippets()}componentWillReceiveProps(e){this.props.id&&e.id&&this.props.id!==e.id&&this.generateCodeSnippets()}componentDidUpdate(e){Object(o.a)(e,this.props)&&this.generateCodeSnippets()}render(){return this.props.render(this.state.snippets)}}class b extends i.Component{static calculateState(){const e=c.b.getState(),{loading:t,barrelType:n,barrelId:i}=d.e.getState();if(t)return{loading:t};const{[`${n}s`]:s}=m[n].getState(),a=s[i],{styleguides:o}=u.c.getState();return{loading:t,barrel:a,styleguides:o,barrelType:n,extensions:e.extensions,enabledExtensions:e.enabledExtensions}}static getStores(){return[c.b,d.e,h.c,u.c]}render(){const{loading:e,barrel:t,styleguides:n,barrelType:s,enabledExtensions:a,extensions:o}=this.state;if(e)return null;const r=Object.assign({extensions:o,enabledExtensions:a,barrel:t,styleguides:n,barrelType:s},this.props);return i.h(f,r)}}b.propTypes={generateCode:a.a.func.isRequired,onGenerateCode:a.a.func,id:a.a.string,render:a.a.func.isRequired},t.a=Object(r.a)(b,{withProps:!0,pure:!1})},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(26),o=n(528);const r=Object(a.a)();t.a=class extends i.Component{shouldComponentUpdate(e,t){const n=Object.keys(this.props.snippets),i=Object.keys(e.snippets);return!(n.length===i.length&&!i.some(e=>!n.includes(e)))||i.some(t=>{const{snippets:n}=this.props.snippets[t],{snippets:i}=e.snippets[t];return n.length!==i.length||i.some((e,t)=>n[t].language!==e.language||n[t].code!==e.code)})}render(){const{snippets:e,onCopyClick:t,onSettingsClick:n,class:a}=this.props,l=Object.keys(e).map(s=>{const{snippets:a,title:l}=e[s];return a.length?i.h(o.b,{class:"extensionCode",key:s,extensionId:s,copyEnabled:r,onCopyClick:t,onSettingsClick:n,snippets:a,title:l,asyncHighlight:!1}):null}).filter(Boolean);if(l.length)return i.h("div",{class:Object(s.a)("extensionCodePanel",a)},l)}}},function(e,t,n){"use strict";var i=n(0),s=n(100),a=n(3),o=n(1567),r=n(34),l=n(652),c=n(43),d=n(1570);n.n(d);n.d(t,"a",function(){return o.a});t.b=class extends s.a{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleSettingsClick=this.handleSettingsClick.bind(this),this.exportHandlers=new WeakMap}handleCopyClick(){const{extensionId:e,snippets:t,onCopyClick:n}=this.props;n(t.map(e=>e.code).join("\n\n"),e)}handleSettingsClick(e){e.stopPropagation();const{onSettingsClick:t,extensionId:n}=this.props;t({extensionId:n})}bindExportHandler(e){let t=this.exportHandlers.get(e);return t||(t=(()=>this.props.onExportClick(e.name)),this.exportHandlers.set(e,t),t)}render(){const{asyncHighlight:e,class:t,copyEnabled:n,exportEnabled:s,snippets:d,title:u}=this.props,h=d.map(t=>i.h("div",{key:t.name,class:"snippet"},s&&t.exportable&&i.h(r.a,{class:"exportButton",onClick:this.bindExportHandler(t)},i.h(c.n,{color:"#C1BEC1"})),i.h(l.a,{lineIndicator:!0,lang:t.language,content:t.code,asyncHighlight:e})));return i.h("div",{class:Object(a.a)("codePanel",t)},i.h(o.a,null),i.h("div",{class:"title"},i.h("h3",null,u),n&&i.h(r.a,{class:"copyButton",onClick:this.handleCopyClick},i.h(c.k,{color:"#C1BEC1"})),i.h(r.a,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(c.A,{color:"#C1BEC1"}))),h)}}},function(e,t,n){"use strict";var i=n(1568);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1569);n.n(s);t.a=function(){return i.h("div",{class:"codePanelGutter"})}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1572);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(725),a=n(1573),o=n(528),r=n(3),l=n(14),c=n(1576);n.n(c);t.a=class extends i.Component{constructor(e){super(e),this.handleResize=this.handleResize.bind(this)}handleResize(e){const{bottom:t}=this.nodeRefs.base.getBoundingClientRect(),n=Math.min(this.props.maxResizeHeight,Math.max(this.props.minResizeHeight,t-e));this.props.onResize(n)}render(){const{class:e,height:t,minHeight:n,maxHeight:c,onCopyClick:d,onSettingsClick:u,codeGap:h,snippets:p}=this.props;return Object.keys(p).some(e=>p[e].snippets.length)?i.h("div",{class:Object(r.a)("resizableExtensionCodePanel",e),ref:Object(l.a)(this,"base"),style:{height:t,minHeight:n,maxHeight:c}},i.h(a.a,{onResize:this.handleResize}),i.h(s.a,{onCopyClick:d,onSettingsClick:u,snippets:p}),i.h("div",{class:"availableSpace",style:{height:h}},i.h(o.a,null))):null}}},function(e,t,n){"use strict";var i=n(1574);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(528),a=n(1575);n.n(a);t.a=class extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this)}handleResizerMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.preventDefault(),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMove(e){e.preventDefault(),this.props.onResize(e.clientY)}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}render(){return i.h("div",{class:"extensionCodeResizer",onMouseDown:this.handleResizerMouseDown},i.h(s.a,null),i.h("div",{class:"resizerIcon"}))}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1579);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(74),a=n(31),o=n(153),r=n(57),l=n(58),c=n(60),d=n(1580),u=n(1590),h=n(1595),p=n(1601),g=n(1),m=n(8),f=n(21),b=n(6),y=n(5),S=n(1607),v=n(1608),C=(n.n(v),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});class E extends i.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{const{id:t,selected:n,onChange:i}=this.props;e.target.checked&&e.target.checked!==n&&i(t)}),t}render(){const{id:e,selected:t,title:n}=this.props,s=`ic${Object(b.h)(e)}Tab${t?"Selected":""}`;return i.h("label",{class:"noSelect",title:n},i.h("input",{type:"radio",name:"resourceTab",value:e,checked:t,onClick:this.handleClick}),i.h("img",{alt:n,src:Object(f.f)(`img/${s}.png`),srcset:Object(f.g)(Object(f.f)(`img/${s}.png`))}))}}t.a=Object(s.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.handleDescriptionChange=(e=>{const{screenId:t,screen:{description:n}}=this.state;e!==n&&o.c.updateDescription({sid:t,description:e,syncWithApi:!0})}),this.handleManageTagsClick=(()=>{const{screenId:e}=this.state;o.c.openTagManager(e)}),this.handleDownloadAssetClick=((e,t)=>{const{screen:{name:n},version:i}=this.state,{screenContainerRef:s}=this.context;a.b.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:s})}),this.handleDownloadSelectedAssetClick=(e=>{const{screen:{name:t},version:n}=this.state,{screenContainerRef:i}=this.context;a.b.downloadMultipleAsset({containerName:t,version:n,assetList:e,toastContainer:i})}),t}static getStores(){return[a.e,o.f,o.a,r.c,l.c,c.b]}static calculateState(){const{loading:e,barrelId:t,assetDensityScalePrefs:n,assetNamingConvention:i,densityMismatchWarningHidden:s,noResourceInfoDismissed:c,sourceFileInfoHidden:d,showOptimizedSVG:u}=a.e.getState();if(e)return{loading:!0};const{loadingSnapshot:h,screenId:p,loadingVersions:m,versionId:f,latestVersionSelected:b,selectedSidebarTab:y,layoutGridEnabled:S,shortlinks:v,sourceFiles:C}=o.f.getState();if(m&&!b)return{loading:!0};const{statusFilter:E,colorFilter:O}=o.a.getState(),{type:T,densityScale:k}=a.d.getBarrel(),D=a.d.findUser(),_=a.d.isUserRestricted(),w=o.e.getScreen(),j=o.e.getSectionOfScreen(),R=o.e.getVersion({sid:p,vid:f}),{density:I,densityScale:A=Object(g.o)(I)}=R.snapshot,x=A!==k&&!s,P=C[f];return{loading:!1,barrelId:t,barrelUser:D,userRestricted:_,platform:T,assetDensityScalePrefs:n,assetNamingConvention:i,showDensityMismatchWarning:x,noResourceInfoDismissed:c,sourceFileInfoHidden:d,showOptimizedSVG:u,styleguidesData:a.d.getStyleguidesData({barrelStore:a.e,styleguidesDataStore:l.c,projectsDataStore:r.c}),loadingSnapshot:h,screenId:p,screen:w,section:j,versionId:f,latestVersionSelected:b,version:R,selectedTab:y,layoutGridEnabled:S,shortlinks:v,sourceFile:P,noteStatusFilter:E,noteColorFilter:O}}renderTabs(){const{selectedTab:e}=this.state;return i.h("div",{class:"resourceTabs"},o.g.map(({id:t,title:n})=>i.h(E,{id:t,key:t,title:n,selected:e===t,onChange:o.c.changeSidebarTab})))}renderInfoTab(){const{formatter:e,onCopy:t,onCopyCode:n,onRequestOrgInviteClick:s}=this.props,{loading:r,barrelId:l,screenId:c,screen:u,section:h,versionId:p,latestVersionSelected:g,version:f,layoutGridEnabled:b,noResourceInfoDismissed:v,sourceFileInfoHidden:E,shortlinks:O,sourceFile:T,userRestricted:k}=this.state;if(r||!u||!f)return null;const D=Object(S.c)(u,f),_=`${y.L}//screen?pid=${l}&sid=${c}${g?"":`&vid=${p}`}`,w=g?Object(m.j)("project-screen",{url:{pid:l,sid:c}}):Object(m.j)("project-screen-version",{url:{pid:l,sid:c,vid:p}}),j=w in O?O[w]:null,R=k&&!v;return i.h(d.a,C({latestVersionSelected:g,appUri:_,webUrl:j,formatter:e,layoutGridEnabled:b,showNoResourceInfo:R,sourceFileInfoHidden:E,screenId:c,sectionId:h&&h._id,onCopyCode:n,onCopyScreenLink:t,sourceFile:T,onGridToggleChange:o.c.toggleLayoutGrid,onDescriptionChange:this.handleDescriptionChange,onManageTagsClick:this.handleManageTagsClick,onSourceFileClick:o.c.openSourceFile,onSourceFolderClick:o.c.openSourceFolder,onRequestOrgInviteClick:s,onHideNoResourceInfoClick:a.b.dismissNoResourceInfo,onHideSourceFileInfoClick:a.b.hideSourceFileInfo},D))}renderColorsTab(){const{formatter:e,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:s,onRequestOrgInviteClick:a}=this.props,{loadingSnapshot:o,userRestricted:r,version:l,styleguidesData:c}=this.state,d=Object(S.b)(l,e,c);return i.h(u.a,C({loading:o,restricted:r,onRequestOrgInviteClick:a,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:s},d))}renderAssetsTab(){const{formatter:e,onRequestOrgInviteClick:t}=this.props,{loadingSnapshot:n,userRestricted:s,platform:o,version:r,assetDensityScalePrefs:l,assetNamingConvention:c,showDensityMismatchWarning:d,showOptimizedSVG:u}=this.state,p=Object(S.a)(r,e,o);return i.h(h.a,C({restricted:s,formatter:e,showDensityMismatchWarning:d,assetDensityScalePrefs:l,namingConvention:c,showOptimizedSVG:u,loading:n,projectType:o,onRequestOrgInviteClick:t,onHideDensityMismatchWarningClick:a.b.hideDensityMismatchWarning,onAssetDensityOptionChange:a.b.changeAssetDensityScalePref,onNamingConventionChange:a.b.changeAssetNamingConvention,onShowOptimizedSVGChange:a.b.toggleSVGOptimization,onDownloadClick:this.handleDownloadAssetClick,onDownloadSelectedClick:this.handleDownloadSelectedAssetClick},p))}renderNotesTab(){const{barrelUser:e,screen:t,noteStatusFilter:n,noteColorFilter:s}=this.state;return i.h(p.a,{dots:t.dots,statusFilter:n,colorFilter:s,barrelUser:e,onFilterChange:o.c.changeDotFilter,onNoteClick:o.c.selectDot,onAddNoteClick:o.c.enableNoteMode})}renderContent(){const{selectedTab:e}=this.state,t=o.g.reduce((e,t)=>(e[t.id]=t.id,e),{});switch(e){case t.colors:return this.renderColorsTab();case t.assets:return this.renderAssetsTab();case t.notes:return this.renderNotesTab();case t.info:default:return this.renderInfoTab()}}render(){return i.h("div",{class:"resourceView"},this.renderTabs(),i.h("div",{class:"resourceContent"},this.renderContent()))}})},function(e,t,n){"use strict";var i=n(1581);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1582),a=n(34),o=n(726),r=n(544),l=n(672),c=n(208),d=n(204),u=n(320),h=n(546),p=n(727),g=n(698),m=n(43),f=n(8),b=n(3),y=n(319),S=n(21),v=n(543),C=n(56),E=n(31),O=n(1589);n.n(O);class T extends i.Component{getGridData(){const{grid:{horizontal:e,vertical:t}}=this.props,n={};if(t){const{columnWidth:e,gutterWidth:i,guttersOnOutside:s,numberOfCols:a}=t,o=Math.min(230*e/(e+i),206);Object.assign(n,{vertical:!0,columnWidth:e,gutterWidth:i,vizColumnWidth:Math.floor(o),vizGutterWidth:Math.ceil(230-o),totalWidth:a*e+(a-!s)*i,numberOfCols:a})}if(e){const{rowHeight:t,gutterHeight:i}=e,s=Math.min(48*t/(t+i),32);Object.assign(n,{horizontal:!0,rowHeight:t,gutterHeight:i,vizRowHeight:Math.floor(s),vizGutterHeight:Math.ceil(48-s)})}return n}render(){const{formatter:e}=this.props,{vertical:t,columnWidth:n,gutterWidth:s,vizColumnWidth:a,vizGutterWidth:o,totalWidth:r,numberOfCols:l,horizontal:c,rowHeight:d,gutterHeight:u,vizRowHeight:h,vizGutterHeight:p}=this.getGridData();return i.h("div",{class:Object(b.a)("layoutGrid",{vertical:t,horizontal:c})},i.h("table",null,i.h("tr",null,i.h("td",{class:"gridColumnWidth"},e.length(n)),i.h("td",{class:"gridGutterWidth"},e.length(s)),i.h("td",null)),i.h("tr",null,i.h("td",{class:"gridColumn",style:{width:`${a}px`}}),i.h("td",{class:"verticalGutter",style:{width:`${o}px`}}),i.h("td",{class:"gridRowHeight",style:{height:`${h}px`}},e.length(d))),i.h("tr",null,i.h("td",{class:"horizontalGutter"}),i.h("td",null),i.h("td",{class:"gridGutterHeight",style:{height:`${p}px`}},e.length(u)))),i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},"Total width:"),i.h("span",{class:"value"},e.length(r))),i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},"# of columns:"),i.h("span",{class:"value"},l)))}}class k extends i.Component{constructor(e){super(e),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleSourceFileClick=this.handleSourceFileClick.bind(this),this.handleSourceFolderClick=this.handleSourceFolderClick.bind(this)}handleDescriptionSubmit(e){const{screenId:t,onDescriptionChange:n,description:i}=this.props;e!==i&&n(t,e)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}handleSourceFileClick(){const{sourceFile:e,onSourceFileClick:t}=this.props;e&&t(e.file)}handleSourceFolderClick(){const{sourceFile:e,onSourceFolderClick:t}=this.props;e&&t(e.file)}renderNoResourceInfo(){const{showNoResourceInfo:e,onHideNoResourceInfoClick:t}=this.props;return e?i.h(d.a,{class:"noResourceInfo",onHideClick:t},"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!"):null}renderTags(){const{tags:e,onManageTagsClick:t}=this.props,{barrelId:n,barrelUser:{role:s},permissions:{canManageScreens:o}}=this.context,r=e.map(e=>{const t=Object(f.j)("project-dashboard",{url:{pid:n},query:{tag:[e]}});return i.h("a",{key:e,href:t,class:"tagLink","data-link-type":"inApp"},e)}),l=Object(C.j)()===C.c.MAC?"⌥T":"Alt+T";return i.h("div",{class:"tags"},r,i.h(c.a,{content:o?"Manage tags":Object(y.a)(s,"organize screens using tags")},i.h(a.a,{class:"manageTagsButton",onClick:t,disabled:!o},i.h(m.q,null),i.h("span",{class:"label"},"Manage"),i.h("span",{class:"shortcut"},l))))}renderLayoutGrid(){const{grid:e,formatter:t,layoutGridEnabled:n,onGridToggleChange:s}=this.props;if(!e)return null;const a=i.h("div",{class:"gridsTitle"},"Grids",i.h(l.a,{checked:n,onChange:s}));return i.h(u.a,{title:a,showSeparator:!0},i.h(T,{grid:e,formatter:t}))}renderSourceFile(){const{sourceFile:e,sourceFileInfoHidden:t,onHideSourceFileInfoClick:n}=this.props;if(!e)return null;const s=t?null:i.h(d.a,{class:"sourceFileHint",onHideClick:n},"This is only visible to you, to quickly jump to your design file.");return i.h(u.a,{title:"File",showSeparator:!0},i.h("div",{class:"sourceFileInfo"},i.h("div",{class:"sourceFileLocation"},i.h("div",{class:"sourceFileName ellipsis",title:e.name,onClick:this.handleSourceFileClick},e.name),i.h("div",{class:"sourceFilePath",title:e.dir,onClick:this.handleSourceFolderClick},e.pathParts.join(" ▸ "))),i.h(a.a,{class:"openFile",onClick:this.handleSourceFileClick},this.renderSourceFileIcons())),s)}renderSourceFileIcons(){const{source:e}=this.props;return"psd"===e?[i.h("img",{key:"ps",src:Object(S.f)("img/icFilePhotoshop.png"),srcset:Object(S.g)(Object(S.f)("img/icFilePhotoshop.png"))}),i.h("img",{key:"psPressed",src:Object(S.f)("img/icFilePhotoshopPressed.png"),srcset:Object(S.g)(Object(S.f)("img/icFilePhotoshopPressed.png"))})]:"xd"===e?[i.h("img",{key:"xd",src:Object(S.f)("img/icFileXD.png"),srcset:Object(S.g)(Object(S.f)("img/icFileXD.png"))}),i.h("img",{key:"xdPressed",src:Object(S.f)("img/icFileXDPressed.png"),srcset:Object(S.g)(Object(S.f)("img/icFileXDPressed.png"))})]:void 0}renderJiraAttachmentsWithSections(e){return e?i.h(u.a,{class:"jiraIntegrationContainer",showSeparator:!0},e):null}render(){const{authors:e,description:t,latestVersionSelected:n,showNoResourceInfo:a,appUri:l,webUrl:c,screen:d,screenId:m,sectionId:f,version:b,onCopyCode:y,onCopyScreenLink:S,onDescriptionChange:C}=this.props,{permissions:{canManageScreens:O}}=this.context;return i.h(h.a,{class:"infoTab"},this.renderNoResourceInfo(),i.h(u.a,{showSeparator:a},e.map(({username:t,avatar:n={},versions:s,lastUpdated:a})=>i.h(p.a,{key:t,avatar:n,username:t,versionCount:s,authorCount:e.length,lastUpdated:a}))),i.h(g.a,{class:"jiraIntegration",wrappingFn:this.renderJiraAttachmentsWithSections,items:[{itemType:"screen",itemId:m,label:"Attached to "},{itemType:"section",itemId:f,label:"Section attached to "}]}),i.h(u.a,{title:`Share ${n?"screen":"version"}`,showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(o.a,{webUrl:c,appUri:l,onCopy:S}))),i.h(u.a,{title:"Description",showSeparator:!0},i.h(r.a,{class:"descriptionInput",value:t,placeholder:O?"Got any notes?":"No description yet",readOnly:!O,submitOnBlur:!0,onSubmit:C,autoEdit:!0,formatter:v.b,showEmojiAutoComplete:!0,maxLength:1024})),i.h(u.a,{title:"Tags",showSeparator:!0},this.renderTags()),this.renderLayoutGrid(),this.renderSourceFile(),i.h(s.a,{class:"codeSection",screen:d,version:b,onCopyClick:y,onSettingsClick:E.b.openExtensionSettings}))}}k.defaultProps={authors:[]},t.a=k},function(e,t,n){"use strict";var i=n(0),s=n(653);const a="screen";t.a=class extends i.Component{constructor(e){super(e),this.generateScreenCode=this.generateScreenCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateScreenCode(e,t){const{screen:n,version:i}=this.props;return e[a](t,i,n).then(e=>{if(!e)return;const t={name:a};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,a,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(s.a,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{screen:e,version:t}=this.props;return t.snapshot.layers?i.h(s.c,{id:e._id,generateCode:this.generateScreenCode,render:this.renderExtensionCode}):null}}},function(e,t,n){"use strict";var i=n(0),s=n(26),a=n(34),o=n(208),r=n(43),l=n(1584);n.n(l);function c(e){const{host:t,pathname:n}=new URL(e);return`${t}${n}`}function d(e){const t=window.getSelection().toString().trim();return t&&t!==e}t.a=class extends i.Component{constructor(e){super(e),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleCopyAppUriClick=this.handleCopyAppUriClick.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyWebUrlClick=this.handleCopyWebUrlClick.bind(this)}copyLink(e){const{webUrl:t,appUri:n,onCopy:i}=this.props;i("web"===e?t:n)}handleCopyAppUriClick(){this.copyLink("app")}handleCopyWebUrlClick(){this.copyLink("web")}handleCopyAppUri(e){d(this.props.appUri)||(e.preventDefault(),this.copyLink("app"),Object(s.n)(e.target))}handleCopyWebUrl(e){d(c(this.props.webUrl))||(e.preventDefault(),this.copyLink("web"),Object(s.n)(e.target))}render(){const{webUrl:e,appUri:t}=this.props;return i.h("div",{class:"shareView"},i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"Web:"),e?[i.h("span",{key:"webUrl",class:"link"},i.h(o.a,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyWebUrl,onFocus:this.handleCopyWebUrl,tabIndex:"1"},c(e)))),i.h("div",{key:"webUrlShareButtons",class:"shareButtons"},i.h(o.a,{targetClass:"shareButton",content:"Copy web link"},i.h(a.a,{onClick:this.handleCopyWebUrlClick},i.h(r.k,null))))]:i.h("span",{class:"fetching"},"Fetching…")),i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"App:"),i.h("span",{class:"link"},i.h(o.a,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyAppUri,onFocus:this.handleCopyAppUri,tabIndex:"1"},t))),i.h("div",{class:"shareButtons"},i.h(o.a,{targetClass:"shareButton",content:"Open in App"},i.h("a",{href:t},i.h(r.B,null))),i.h(o.a,{targetClass:"shareButton",content:"Copy app URI"},i.h(a.a,{onClick:this.handleCopyAppUriClick},i.h(r.k,null))))))}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(1586);n.n(a);t.a=function(e){const{class:t,children:n,afterContent:a,title:o,onClick:r}=e;return i.h("div",{class:Object(s.a)("resourceTab",t),onClick:r},o&&i.h("div",{class:"title"},i.h("h1",null,o)),i.h("div",{class:"tabContent"},n),a)}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(152),a=n(284),o=n(1588);n.n(o);t.a=function(e){const{avatar:t,username:n,versionCount:o,authorCount:r,lastUpdated:l}=e;return i.h("div",{class:"versionAuthor"},i.h(s.a,{src:t.src,srcset:t.srcset,class:"userImageFrame",width:"28",height:"28"}),i.h("div",{class:"authorAndCount"},i.h("span",{class:"author ellipsis",title:n},n),(r>1||o>1)&&i.h("span",null,", ",o," version",o>1?"s":"")),i.h(a.a,{type:"time-ago",format:"micro",class:"date",datetime:l}))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1591);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(320),a=n(546),o=n(472),r=n(728),l=n(21),c=n(1594);n.n(c);t.a=class extends i.Component{constructor(e){super(e),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}render(){const{backgroundColor:e,screenColors:t,loading:n,restricted:c,onAddColorClick:d,onRemoveColorClick:u,onColorNameChange:h}=this.props;let p;return n?p=i.h(s.a,null,i.h(r.a,null)):c?p=i.h(s.a,null,i.h("div",{class:"restricted"},i.h("h2",null,"Limited access"),i.h("p",null,"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!"))):e||t.length?(p=[],e&&p.push(i.h(s.a,{title:"Background color"},i.h(o.a,{onAddClick:d,onRemoveClick:u,onNameChange:h,color:e}))),t.length>0&&p.push(i.h(s.a,{title:"Colors",showSeparator:p.length>0},t.map(e=>i.h(o.a,{key:e.colorStyle,onAddClick:d,onRemoveClick:u,onNameChange:h,color:e}))))):p=i.h(s.a,null,i.h("div",{class:"noColors"},i.h("h2",null,"No colors. ",i.h("img",{width:"24",height:"24",src:Object(l.f)("img/emjPalette.png"),srcset:Object(l.g)(Object(l.f)("img/emjPalette.png")),alt:"🎨",title:"🎨"})),i.h("p",null,"All the colors used in the screen will be listed here."),i.h("p",null,"Could this be a bitmap? ",i.h("a",{href:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},"Learn more")," about exporting designs."))),i.h(a.a,{class:"colorsTab",title:"Colors"},p)}}},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(14),o=n(1593);n.n(o);const r=180,l=7,c=5;t.a=class extends i.Component{constructor(e){super(e),this.handleOnePeriod=this.handleOnePeriod.bind(this)}handleOnePeriod(){this.iteration=(this.iteration+1)%this.flipPeriod,this.nodeRefs.base.classList.toggle("flip",0===this.iteration)}componentDidMount(){this.props.randomFlipLastShape&&(this.iteration=1,this.flipPeriod=Math.floor(Math.random()*c)+1,this.intervalId=setInterval(this.handleOnePeriod,r*l))}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId)}render(){const{shapes:e=[]}=this.props;return i.h("div",{ref:Object(a.a)(this,"base"),class:"tabLoading loadingShapes"},i.h("div",{class:Object(s.a)("loadingShape","yellow",e[0]||"circle")}),i.h("div",{class:Object(s.a)("loadingShape","lightOrange",e[1]||"circle")}),i.h("div",{class:Object(s.a)("loadingShape","orange",e[2]||"circle")}),i.h("div",{class:Object(s.a)("loadingShape","peach",e[3]||"circle")}),i.h("div",{class:Object(s.a)("loadingShape","green",e[4]||"circle")}),i.h("div",{class:Object(s.a)("loadingShape","turquoise",e[5]||"circle")}),i.h("div",{class:Object(s.a)("loadingShape","cornflowerBlue",e[6]||"circle")}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1596);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1597),a=n(546),o=n(728),r=n(34),l=n(714),c=n(715),d=n(716),u=n(717),h=n(718),p=n(320),g=n(43),m=n(14),f=n(3),b=n(150),y=n(26),S=n(56),v=n(24),C=n(1600);n.n(C);const E=Object(y.b)();class O extends i.Component{constructor(e){super(e),this.createFormatSelectHandler=this.createFormatSelectHandler.bind(this),this.handleEntryClick=this.handleEntryClick.bind(this),this.handleDoubleClick=this.handleDoubleClick.bind(this)}handleDoubleClick(){this.props.onDblClick()}handleEntryClick(e){const{onClick:t}=this.props;e.stopPropagation(),t(e)}createFormatSelectHandler(e){const{onFormatChange:t}=this.props;return n=>{n.stopPropagation(),t(e)}}render(){const{name:e,size:t,formats:n,selectedFormat:s,light:a,previewImages:o}=this.props;return i.h("div",{class:Object(f.a)("assetEntry","noSelect",{selected:!!s}),onClick:this.handleEntryClick,onDblClick:this.handleDoubleClick},i.h(u.a,{class:"preview",light:a,images:o}),i.h("div",{class:"entryInfo"},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"size ellipsis"},t&&`${t.width} × ${t.height}`)),s&&i.h("div",null,Object.keys(n).sort(b.h).map(e=>i.h(r.a,{key:e,class:Object(f.a)("exportType",{selected:s===e}),onClick:this.createFormatSelectHandler(e)},e))))}}const T="png";function k(e){return Object.keys(e).sort().join("&")}t.a=class extends i.Component{constructor(e){super(e),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.clearAssetSelection=this.clearAssetSelection.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this),this.handleDownloadSelectedClick=this.handleDownloadSelectedClick.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleAssetClick=this.handleAssetClick.bind(this),this.handleAssetFormatChange=this.handleAssetFormatChange.bind(this),this.getPreferredFormatObjectForAsset=this.getPreferredFormatObjectForAsset.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.state={shiftPressed:!1,cmdPressed:!1,lastSelectedAssetIndex:0,assetFormatPreference:{},assetSelections:{}}}clearAssetSelection(){this.setState({assetSelections:{},lastSelectedAssetIndex:0})}getPreferredFormatObjectForAsset(e){const{assetFormatPreference:t}=this.state,n=t[k(e.formats)]||T;return{[e.id]:n}}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleAssetClick(e,t){const{lastSelectedAssetIndex:n,assetSelections:i}=this.state,{assets:s}=this.props;if(t.shiftKey){const t=Math.min(n,e),a=Math.max(n,e),o=s.slice(t,a+1),r=function(e,t,n){const i=Object.assign({},e);for(let s=n-1;s>=0;s--){const e=t[s].id;if(!i[e])break;delete i[e]}for(let s=n;s<t.length;s++){const e=t[s].id;if(!i[e])break;delete i[e]}return i}(i,s,n),l=o.reduce((e,t)=>Object.assign(e,this.getPreferredFormatObjectForAsset(t)),r);return void this.setState(e=>({assetSelections:l}))}const a=this.getPreferredFormatObjectForAsset(s[e]);if(Object(S.d)(t)){const t=s[e].id;if(t in i){const e=Object.assign({},i);delete e[t],this.setState({assetSelections:Object.assign({},e)})}else this.setState({assetSelections:Object.assign({},i,a),lastSelectedAssetIndex:e})}else this.setState(t=>({assetSelections:a,lastSelectedAssetIndex:e}))}handleAssetFormatChange(e,t){const{assetSelections:n,assetFormatPreference:i}=this.state,{assets:s}=this.props,a=s[e],o=Object.assign({},n,{[a.id]:t});this.setState({assetSelections:o,assetFormatPreference:Object.assign({},i,{[k(a.formats)]:t})})}handleDocumentClick(e){this.nodeRefs&&this.nodeRefs.individualAssets&&!this.nodeRefs.individualAssets.contains(e.target)&&this.clearAssetSelection()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.clearAssetSelection()}handleDownloadSelectedClick(e){e.stopPropagation();const{onDownloadSelectedClick:t}=this.props,{assetSelections:n}=this.state,i=Object.keys(n).map(e=>({assetId:e,format:n[e]}));i.length&&t(i)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}createDownloadClickHandler(e,t){const{onDownloadClick:n}=this.props;return()=>{n(e,t)}}componentDidMount(){v.d.get("assetFormatPreference").then(e=>{e&&this.setState({assetFormatPreference:e})}),document.addEventListener("keydown",this.handleDocumentKeydown),document.addEventListener("click",this.handleDocumentClick)}componentDidUpdate(e,{assetSelections:t,assetFormatPreference:n}){const{assetSelections:i,assetFormatPreference:s}=this.state,a=Object.keys(t).length,o=Object.keys(i).length;n!==s&&function(e){v.d.set("assetFormatPreference",e)}(s),0===a&&o>0?document.body.classList.add("supportButtonHidden"):a>0&&0===o&&document.body.classList.remove("supportButtonHidden")}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown),document.removeEventListener("click",this.handleDocumentClick)}renderExportGroups(){const{assets:e,assetDensityScalePrefs:t,showOptimizedSVG:n}=this.props,s={};let a=!1;for(let i of e)Object.keys(i.formats).forEach(e=>{s[e]=(s[e]||[]).concat(i.formats[e].variants)}),i.formats.svg&&!i.formats.svg.diff&&(a=!0);return Object.keys(s).sort(b.h).map(e=>i.h(d.a,{key:e,format:e,variants:s[e],assetDensityScalePrefs:t,hideOptimization:"svg"===e&&(!n||a),onDownloadClick:this.createDownloadClickHandler("all",e)}))}renderIndividuals(){const{assets:e,namingConvention:t}=this.props,{assetSelections:n}=this.state;return e.map((e,s)=>{const a=this.getPreferredFormatObjectForAsset(e);return i.h(O,{key:e.id,name:Object(b.c)(e,t),formats:e.formats,light:e.light,size:e.size,selectedFormat:n[e.id],previewImages:e.previewImages,onDblClick:this.createDownloadClickHandler(e.id,a[e.id]),onClick:function(e,t){return n=>t(e,n)}(s,this.handleAssetClick),onFormatChange:function(e,t){return n=>t(e,n)}(s,this.handleAssetFormatChange)})})}render(){const{assets:e,source:t="sketch",loading:n,restricted:d,showDensityMismatchWarning:u,assetDensityScalePrefs:b,namingConvention:y,showOptimizedSVG:S,projectType:v,onHideDensityMismatchWarningClick:C,onAssetDensityOptionChange:O,onNamingConventionChange:T,onShowOptimizedSVGChange:k}=this.props,{assetSelections:D,settingsOpen:_}=this.state,w=i.h("div",{class:"assetsTitle"},"Assets",i.h(h.a,{open:_,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:O,onNamingConventionChange:T,onShowOptimizedSVGChange:k,projectType:v,settings:{assetDensityScalePrefs:b,namingConvention:y,showOptimizedSVG:S},target:i.h(r.a,{class:Object(f.a)("assetSettingsButton",{active:_}),onClick:this.showSettingsMenu},i.h(g.A,null))}));let j;return j=n?i.h(o.a,{shapes:["square","circle","triangleUp","circle","square","pentagon","triangleDown"],randomFlipLastShape:!0}):d?i.h(p.a,{class:"restricted"},i.h("h1",null,"Limited access"),i.h("p",null,"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!")):e.length?[i.h(p.a,{class:"allAssets",key:"allAssets"},!E&&i.h(c.a,{class:"warningBox"}),u&&i.h(l.a,{class:"warningBox",onHideClick:C}),i.h("h2",{class:"title"},"Download all assets"),this.renderExportGroups()),i.h(p.a,{title:"Download individual assets",key:"individualAssets",showSeparator:!0},i.h("div",{class:"individualAssets",ref:Object(m.a)(this,"individualAssets")},this.renderIndividuals()),i.h("div",{class:"spacer"}))]:i.h(p.a,null,i.h(s.a,{source:t})),i.h(a.a,{onClick:this.handleDocumentClick,title:w,class:"assetsTab",afterContent:Object.keys(D).length>0&&i.h(r.a,{class:"downloadSelected noSelect",onClick:this.handleDownloadSelectedClick},"Download selected assets")},j)}}},function(e,t,n){"use strict";var i=n(1598);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(21),a=n(1599);n.n(a);t.a=function(e){return i.h("div",{class:"noScreenAssets"},i.h("h1",null,"Rock paper scissors",i.h("img",{src:s.f("img/emjAssetVictory.png"),srcset:s.g(s.f("img/emjAssetVictory.png")),alt:"✌",class:"victory"}),i.h("img",{src:s.f("img/emjScissors.png"),srcset:s.g(s.f("img/emjScissors.png")),alt:"✂",class:"scissors"})),function(e){switch(e){default:case"sketch":return i.h("div",{class:"info sketchFile"},i.h("p",null,i.h("strong",null,"Set layers as exportable or draw slices")," in Sketch and Zeplin will generate assets and list them here."),i.h("img",{src:s.f("img/icSketchSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:s.f("img/icSketchMakeExportable.png"),srcset:s.g(s.f("img/icSketchMakeExportable.png")),class:"exportableAsset"}),i.h("p",null,"or"),i.h("img",{src:s.f("img/icSketchDrawSlices.svg"),class:"sliceAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/exporting-assets-in-zeplin-50b8b4a56b05",target:"_blank"},"here.")));case"psd":return i.h("div",{class:"info psdFile"},i.h("p",null,i.h("strong",null,"Mark layers as assets")," in Photoshop, from Zeplin’s panel and Zeplin will generate assets and list them here."),i.h("img",{src:s.f("img/icPhotoshopSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:s.f("img/icPhotoshopMakeExportable.png"),srcset:s.g(s.f("img/icPhotoshopMakeExportable.png")),class:"exportableAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/photoshop-open-beta-now-3f8f502fc4de",target:"_blank"},"here.")));case"figma":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Set layers as exportable")," in Figma and Zeplin will generate assets and list them here."),i.h("img",{src:s.f("img/icFigmaSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:s.f("img/icFigmaMakeExportable.png"),srcset:s.g(s.f("img/icFigmaMakeExportable.png")),class:"exportableAsset"}));case"xd":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Mark layers for export")," in Adobe XD from the layer list, Zeplin will generate assets and list them here."),i.h("img",{src:s.f("img/icXDSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:s.f("img/icXDMakeExportable.png"),srcset:s.g(s.f("img/icXDMakeExportable.png")),class:"exportableAsset"}))}}(e.source))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1602);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(456),o=n(320),r=n(546),l=n(281),c=n(1603),d=n(3),u=n(6),h=n(70),p=n(21),g=n(56),m=n(1606);n.n(m);const f=["open","mentioned","resolved"];function b({color:e,count:t,status:n}){return i.h("div",{class:"statusFilterLabel"},e&&i.h("div",{class:Object(d.a)("color",e)}),i.h("span",null,t>0?t:"No"," ",Object(u.h)(n)))}class y extends i.Component{constructor(e){super(e),this.handleStatusChange=this.handleStatusChange.bind(this),this.colorClickHandlers=h.b.map(e=>()=>{this.handleColorClick(e)})}handleColorClick(e){const{statusFilter:t,colorFilter:n,onFilterChange:i}=this.props;i(t,n===e?null:e)}handleStatusChange(e){const{statusFilter:t,colorFilter:n,onFilterChange:i}=this.props;t!==e&&i(e,n)}render(){const{statusFilter:e,colorFilter:t,dotCount:n}=this.props;return i.h(a.a,{top:22,onChange:this.handleStatusChange},f.map(s=>i.h(a.a.Item,{label:i.h(b,{color:t,count:n,status:s}),value:s,selected:e===s,key:s},i.h("span",{class:"noteStatusFilterItem"},Object(u.h)(s)," notes"))),i.h("div",{class:"noteFilterSeperator"}),i.h("div",{class:"noteColorFilter"},h.b.map((e,n)=>i.h("div",{key:e,class:Object(d.a)("noteColorFilterItem",e,{selected:e===t}),onClick:this.colorClickHandlers[n]}))))}}t.a=class extends i.Component{renderShortcutImage(){return i.h("div",{class:"shortcuts"},Object(g.j)()===g.c.MAC?i.h("img",{class:"dotMacShortcut",src:Object(p.f)("img/icDotMacShortcut.svg")}):i.h("img",{class:"dotWinShortcut",src:Object(p.f)("img/icDotWinShortcut.png"),srcset:Object(p.g)(Object(p.f)("img/icDotWinShortcut.png"))}))}renderEmptyState(){const{dots:e,statusFilter:t,onAddNoteClick:n}=this.props;return e.length?"open"===t?i.h("div",{class:"empty open"},i.h("h1",null,"No open notes"),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(g.j)()===g.c.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(s.a,{class:"addFirstNoteButton",onClick:n},"Add Note")):"resolved"===t?i.h("div",{class:"empty resolved"},i.h("h1",null,"No resolved notes"),i.h("p",null,"Looks like things are going pretty hectic these days ",i.h("img",{src:Object(p.f)("img/emjSweatTears.png"),srcset:Object(p.g)(Object(p.f)("img/emjSweatTears.png"))})),i.h("p",null,"You can resolve notes from the first comment or by right clicking on a note.")):"mentioned"===t?i.h("div",{class:"empty mentioned"},i.h("h1",null,"No mentioned notes"),i.h("p",null,"Looks like you’re not mentioned in any notes. Relax and grab a coffee—or tea, if that’s what you’re into.")):void 0:i.h("div",{class:"empty noDots"},i.h("h1",null,"What a quiet team!",i.h("img",{src:Object(p.f)("img/icQuietMaymus.png"),srcset:Object(p.g)(Object(p.f)("img/icQuietMaymus.png"))})),i.h("p",null,"Looks like you didn’t add any notes yet. When you do, they’ll be listed here."),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(g.j)()===g.c.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(s.a,{class:"addFirstNoteButton",onClick:n},"Add Note"))}renderTab(e,t){return i.h(r.a,{class:"notesTab",title:e},i.h(o.a,null,t))}render(){const{dots:e,statusFilter:t,colorFilter:n,barrelUser:s,onNoteClick:a,onFilterChange:o}=this.props;if(!e)return this.renderTab("Notes",i.h("div",{class:"loadingDots"},i.h(l.a,{asset:"img/icDotsLoading.png"}),i.h("div",null,"Loading notes…")));const r=e.filter(e=>Object(h.a)(e,t,n,s.user)),d=e.length?i.h("div",{class:"notesTitle"},"Notes",i.h(y,{dotCount:r.length,colorFilter:n,statusFilter:t,onFilterChange:o})):"Notes";let u;return r.length?(u=r.map(({_id:e,color:t,comments:n,name:s})=>i.h(c.a,{key:e,color:Object(h.c)(t),id:e,comments:n,name:s,onNoteClick:a}))).push(i.h("div",{class:"endingMark"},"~")):u=this.renderEmptyState(),this.renderTab(d,u)}}},function(e,t,n){"use strict";var i=n(1604);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(152),a=n(284),o=n(3),r=n(14),l=n(26),c=n(462),d=n(463),u=n(1605);n.n(u);function h(e){const t=new Date(e.updated),n=new Date(e.created);return t-n>3e5?t:n}function p(e,t){if(e.length===t)return`${t} more ${t>1?"replies":"reply"}`;const n=e.slice(0,e.length-t);return t>0?`${n.join(", ")} and ${t} more also replied`:1===n.length?`${n[0]} also replied`:`${n.slice(0,-1).join(", ")} and ${n[n.length-1]} also replied`}const g=document.createElement("canvas").getContext("2d");function m(e){return g.measureText(e)}function f({content:e=""}){const t=[d.a.SPOTIFY,d.a.YOUTUBE,d.b.IMAGE,d.b.CHECKBOX,d.b.TABLE,d.b.HEADING];return i.h("div",{class:"content"},i.h(c.a,{disabledFeatures:t},e))}g.font="italic 12px Roboto";t.a=class extends i.Component{constructor(e){super(e),this.hiddenAuthorCount=0,this.otherAuthorNames=[],this.handleClick=this.handleClick.bind(this)}adjustOtherAuthors(){const{comments:e}=this.props,{repliesSummary:t}=this.nodeRefs||{},n=this.otherAuthorNames.length;if(e.length<3||!t||!n)return;const i=t.offsetWidth;let s=p(this.otherAuthorNames,this.hiddenAuthorCount);for(;m(s).width>i&&this.hiddenAuthorCount<=n;)this.hiddenAuthorCount++,s=p(this.otherAuthorNames,this.hiddenAuthorCount);t.textContent=s}handleClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT||"a"===e.target.tagName.toLowerCase())return;const{id:t,comments:n,onNoteClick:i}=this.props;i(t,n.length>1?n[n.length-1]._id:null)}componentDidMount(){this.adjustOtherAuthors()}componentDidUpdate(){this.adjustOtherAuthors()}renderOtherReplies(){const{comments:e}=this.props,t=e.map(e=>e.author||{username:"Anonymous"}),[n]=t,a=t[e.length-1],o=new Set([n.username,a.username]),c=[];t.forEach(e=>{o.has(e.username)||(o.add(e.username),c.push(e))});const d=e.length-2,u=c.filter(e=>!!e._id).length;let h;return c.sort(({_id:e},{_id:t})=>e?t?0:-1:1),this.otherAuthorNames=c.map(e=>e.username),this.hiddenAuthorCount=c.length-u,h=u&&this.otherAuthorNames.length?p(this.otherAuthorNames,this.hiddenAuthorCount):d>1?`${d} more replies`:"1 more reply",i.h("div",{class:"otherReplies"},i.h("div",{class:"avatars"},c.map(e=>{const{src:t}=Object(l.f)(e);return i.h(s.a,{class:"authorAvatar",src:t,width:"16",height:"16"})})),i.h("div",{class:"summary",ref:Object(r.a)(this,"repliesSummary")},h))}render(){const{color:e,comments:t,name:n}=this.props,[r]=t;if(!r)return null;const c=t.length>1?t[t.length-1]:null,{author:d={username:"Anonymous"},note:u}=r,{author:p={username:"Anonymous"},note:g}=c||{};return i.h("div",{class:Object(o.a)("dotEntry",e),onClick:this.handleClick},i.h("div",{class:"comment"},i.h("h4",null,i.h("div",{class:"commentHeader"},i.h(s.a,{src:Object(l.f)(d).src,width:"24",height:"24"}),i.h("div",{class:"author ellipsis"},d.username),i.h(a.a,{type:"time-ago",format:"micro",class:"time",datetime:h(r)})),i.h("div",{class:"number"},n)),i.h(f,{content:u})),t.length>2&&this.renderOtherReplies(),c&&i.h("div",{class:"comment"},i.h("h4",null,i.h("img",{class:"replyArrow",src:"/img/icDotReply.svg"}),i.h(s.a,{src:Object(l.f)(p).src,width:"24",height:"24"}),i.h("div",{class:"author ellipsis"},p.username),i.h(a.a,{type:"time-ago",format:"micro",class:"time",datetime:h(c)})),i.h(f,{content:g})))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var i=n(11),s=n(545);function a(e,t={}){const{description:n,tags:i=[],versions:a}=e,{snapshot:{grid:o,source:r}={}}=t;return{authors:Object(s.b)(a),description:n,grid:o,source:r,tags:i,version:t,screen:e}}function o(e,t,n){const a=new Set,o={screenColors:[]};function r(e){const i=Object(s.c)(e,t,n);a.has(i.colorStyle)||(o.screenColors.push(i),a.add(i.colorStyle))}const{snapshot:l}=e;return l.backgroundColor&&(o.backgroundColor=Object(s.c)(new i.a(l.backgroundColor),t,n)),l.layers?(l.layers.forEach(function e(t){"group"===t.type&&(t.layers.forEach(e),"bottom"!==t.interactionLevel&&"top"!==t.interactionLevel)||("text"===t.type&&t.textStyles&&t.textStyles.forEach(e=>{e.style.color&&r(new i.a(e.style.color))}),t.fills.forEach(e=>{switch(e.fillType){default:case"color":r(new i.a(e.color));break;case"gradient":e.gradient.colorStops.forEach(e=>{r(new i.a(e.color))})}}))}),o):o}function r(e,t,n){const{snapshot:{assets:i,source:a}}=e;return{assets:i?i.map(e=>Object(s.a)(e,t,n)).filter(Boolean):[],source:a}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1612);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(10),a=n(1),o=n(8),r=n(287),l=n(525),c=n(14),d=n(45),u=n(56),h=n(89),p=n(1613),g=n(1731),m=n(207),f=n(57),b=n(58),y=n(318),S=n(624),v=n(31),C=n(35),E=n(60),O=n(74);t.a=Object(O.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.handleBaseRef=(e=>{Object(c.a)(this,"styleguide")(e),this.props.baseRef(e)}),this.handleSectionNavigatorClick=((e,t)=>{const{barrel:{id:n}}=this.state,i=`${this.slugPrefix()}-${e.toLowerCase()}`;h.a.history.replace(Object(o.j)(i,{url:{bid:n},query:{seid:t}}))}),this.handleStyleguideLink=(e=>{const{barrel:t}=this.state;S.a.linkProjectToStyleguideRequest({project:t,styleguide:e,syncWithApi:!0})}),this.handleStyleguideUnlink=(e=>{const{barrel:{_id:t}}=this.state;S.a.unlinkProjectFromStyleguide({pid:t,styleguide:e,syncWithApi:!0})}),this.handleExportClick=((e,t,n)=>{v.b.exportCode({resourceType:e,exportObjects:t,extension:n})}),this.handleKeyDown=(e=>{const{connectedComponentsDevModeEnabled:t}=this.state;Object(u.d)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(d.a)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.styleguide}),t?v.b.disableDevMode():v.b.enableDevMode())}),t}static calculateState(){const e=v.e.getState(),{loading:t}=e,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["loading"]);if(t)return{loading:!0};const{loadingJoin:i,organizationId:s,barrelType:a,showSlackReconnectionAuntie:o,linkingProjectToStyleguide:r,connectedComponentsDevModeEnabled:l}=n,c=v.d.getBarrel(),d=v.d.findUser(),{userId:u,paymentPlan:h}=E.b.getState(),p=c.users.some(({user:e})=>e._id===u);if(c.partial||!p)return{loading:t,loadingJoin:i,barrel:c,isUserJoined:p};const g=m.b.getState(),{suggestedResourcesByBarrel:S}=y.d.getState(),O=C.d.getOrganizationStyleguides(s),T=v.d.isUserRestricted(),k=v.d.getStyleguidesData({barrelStore:v.e,styleguidesDataStore:b.c,projectsDataStore:f.c});return Object.assign({loading:!1},g,{barrel:c,barrelUser:d,isUserJoined:p,suggestedResourcesByBarrel:S,userId:u,paymentPlan:h,currentOrganizationStyleguides:O,userRestricted:T,organizationId:s,barrelType:a,showSlackReconnectionAuntie:o,linkingProjectToStyleguide:r,connectedComponentsDevModeEnabled:l,styleguidesData:k})}static getStores(){return[m.b,y.d,E.b,v.e,f.c,b.c,C.e,E.b]}slugPrefix(){const{barrelType:e}=this.state;return e===s.a.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e,userId:t,paymentPlan:n,organizationId:i,barrelType:s,barrel:o,barrelUser:r,isUserJoined:l}=this.state;if(e||o.partial||!l)return{};const{id:c,type:d,densityScale:u,dimensionSuffix:h,styleguideLink:p}=o;return{densityScale:u,dimensionSuffix:h,barrelType:s,barrelId:c,projectId:c,projectType:d,barrelUser:r,organizationId:i,userRole:r.role,hasLinkedStyleguide:!!p,currentUserId:t,currentUserPaymentPlan:n,permissions:{canManageProject:a.C.canUpdateProject(r),canManageStyleguide:a.C.canUpdateStyleguide(r),canManageColors:a.C.canManageColors(r),canManageScreens:a.C.canManageColors(r),canManageTextStyles:a.C.canManageTextStyles(r),canManageSpacings:a.C.canManageSpacings(r),canManageRemSettings:a.C.canManageRemSettings(r)}}}render(){const{loading:e,loadingJoin:t,barrel:n,barrelUser:s,isUserJoined:a,showSlackReconnectionAuntie:o}=this.state;if(e)return null;if(n.partial||!a)return i.h(g.a,{styleguide:n,loadingJoin:t,onJoin:v.b.join});const{barrelType:c,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:h,selectedNavigatorId:f,highlightedColors:b,highlightedTextStyles:y,highlightedSpacingTokens:S,scrolledSection:C,highlightScrolledSection:E,sortType:O,filterValue:T,moveResourcesPopup:k,selectionComponentId:D,selection:_,suggestedResourcesByBarrel:w,showSuggestedResourcesBadge:j,currentOrganizationStyleguides:R,linkingProjectToStyleguide:I,styleguidesData:A}=this.state,x=new l.a(n),{barrelId:P,component:L}=Object(r.a)(A,D);let N=_;return!N&&L&&(N=L),i.h(p.a,{baseRef:this.handleBaseRef,linkingProjectToStyleguide:I,styleguidesData:A,barrelType:c,barrel:n,barrelUser:s,currentOrganizationStyleguides:R,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:h,selectedNavigatorId:f,scrolledSection:C,highlightScrolledSection:E,highlightedColors:b,highlightedTextStyles:y,highlightedSpacingTokens:S,selectionStyleguideId:P,selectionComponent:L,selection:N,sortType:O,filterValue:T,formatter:x,showSlackReconnectionAuntie:o,suggestedResources:w[n.id],showSuggestedResourcesBadge:j,onLeftSidebarRelease:m.a.changeLeftSidebarWidth,onSectionNavigatorClick:this.handleSectionNavigatorClick,onStyleguideLink:this.handleStyleguideLink,onStyleguideUnlink:this.handleStyleguideUnlink,moveResourcesPopup:k,onExportClick:this.handleExportClick})}},{pure:!1})},function(e,t,n){"use strict";var i=n(1614);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1),a=n(14),o=n(3),r=n(31),l=n(386),c=n(729),d=n(1620),u=n(1644),h=n(1661),p=n(1672),g=n(1694),m=n(34),f=n(199),b=n(541),y=n(1719),S=n(1725),v=n(1730);n.n(v);function C({children:e,baseRef:t,compact:n,overlapped:s}){const a=Object(o.a)("sidebarBottom",{compact:n,overlapped:s});return i.h("div",{class:a,ref:t},i.toChildArray(e).map(e=>"string"==typeof e?e:i.cloneElement(e,{compact:n})))}t.a=class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={linkToStyleguidePopupVisible:!1,targetLinkButton:null},this.openLinkPopup=(e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}),this.openLinkPopupAtTargetNode=(e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}),this.closeLinkToStyleguidePopup=(()=>{this.setState({linkToStyleguidePopupVisible:!1,targetLinkButton:null})}),this.handleComponentToSectionNodeDrop=((e,t,n)=>{const i=e[e.length-1],s=e.slice(0,-1);if(s.join()===t.join())return;const a=[{coid:i,csid:s,tcsid:t,sourceIndex:n}];r.b.updateComponentsOrder({components:a,syncWithApi:!0})}),this.handleLinkStyleguideSelect=(e=>{const{onStyleguideLink:t}=this.props;t(e)}),this.handleRepeatedClick=(()=>{const{selectedStyleguideSection:e,onSectionNavigatorClick:t}=this.props;this.componentRefs[e].goToTop(),"components"===e&&t(e,null)}),this.handleResize=(()=>{requestAnimationFrame(()=>{const e=this.nodeRefs.sidebarBottom,t=this.nodeRefs.sidebar,n=this.nodeRefs.styleguideSections.scrollHeight>t.clientHeight-e.clientHeight;this.setState({sidebarContentOverlapped:n,sidebarBottomHeight:n?e.clientHeight:0})})}),this.renderAbout=(()=>i.h(d.a,{ref:Object(a.a)(this,"about","componentRefs"),onSectionNavigatorClick:this.props.onSectionNavigatorClick})),t}componentDidMount(){this.nodeRefs.sidebarBottom&&(window.addEventListener("resize",this.handleResize),this.handleResize())}componentWillReceiveProps(e){const{linkingProjectToStyleguide:t}=e,{linkingProjectToStyleguide:n}=this.props;n&&!t&&this.closeLinkToStyleguidePopup()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),document.body.classList.remove("dragging")}renderStyleguideSections(){const{barrelType:e,styleguidesData:t,selectedStyleguideSection:n,selectedNavigatorId:o,onSectionNavigatorClick:r,suggestedResources:l={colors:[],textStyles:[]},showSuggestedResourcesBadge:d}=this.props,u=t.map(({id:e,name:t,colors:n=[],textStyles:i=[],spacingSections:a=[],componentSections:o=[]})=>({id:e,styleguideId:e,idPath:function(e){return 0===e.length?[]:e[0].idPath}(o),name:t,has:{colors:!!n.length,textStyles:!!i.length,spacing:!!a.flatMap(({spacingTokens:e})=>e).length,components:!!Object(s.d)(o).length},componentTree:function e(t,n){return t.map(({_id:t,idPath:i,name:s,componentSections:a=[]})=>({id:t,idPath:i,styleguideId:n,title:s,content:s,children:e(a,n)}))}(o.slice(1),e)})),h={colors:!!l.colors.length&&"colors"!==n&&d.colors,textStyles:!!l.textStyles.length&&"textStyles"!==n&&d.colors};return i.h(c.a,{baseRef:Object(a.a)(this,"styleguideSections"),barrelType:e,styleguideData:u,selectedStyleguideSection:n,selectedNavigatorId:o,onRepeatedClick:this.handleRepeatedClick,onSectionNavigatorClick:r,onComponentToSectionNodeDrop:this.handleComponentToSectionNodeDrop,showBadge:h})}renderColorPalette(){const{onExportClick:e}=this.props;return i.h(u.a,{ref:Object(a.a)(this,"colors","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderTextStyleCatalog(){const{onExportClick:e}=this.props;return i.h(h.a,{ref:Object(a.a)(this,"textStyles","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSpacings(){const{barrel:e,styleguidesData:t,onExportClick:n}=this.props,s=t.reduce((t,n)=>{let i=n;if(n.id!==e.id&&(i=Object.assign({},n,{spacingSections:n.spacingSections.filter(({spacingTokens:e})=>e.length)})),i.spacingSections.length){const{id:e,name:n,type:s,spacingSections:a,remPreferences:o,dimensionSuffix:r}=i;t.push({id:e,name:n,platform:s,spacingSections:a,remPreferences:o,dimensionSuffix:r})}return t},[]),{remPreferences:o,parentStyleguideToInheritRemPreferences:r}=t[0];return i.h(p.a,{ref:Object(a.a)(this,"spacing","componentRefs"),remPreferences:o,parentStyleguideToInheritRemPreferences:r,spacingSectionsData:s,onExportClick:n})}renderComponents(){const{onExportClick:e}=this.props;return i.h(g.a,{ref:Object(a.a)(this,"components","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSection(){let{selectedStyleguideSection:e}=this.props;switch(e=e.toLowerCase()){case"about":default:return this.renderAbout();case"colors":return this.renderColorPalette();case"textstyles":return this.renderTextStyleCatalog();case"spacing":return this.renderSpacings();case"components":return this.renderComponents()}}renderSidebarBottom(){const{permissions:{canManageProject:e},organizationId:t}=this.context,{barrel:n,barrelType:s,currentOrganizationStyleguides:o,onStyleguideUnlink:r}=this.props;if("styleguide"===s)return null;let l;const c=n.styleguideLink;if(c){const{styleguide:e,status:t}=c,s=function(e,t=[]){return t.find(({_id:t})=>t===e._id)||e}(e,o);l=i.h(y.a,{key:"info",barrelName:n.name,linkedStyleguide:s,linkStatus:t,onUnlink:r})}else{if("user"!==t&&!e)return null;l=i.h(m.a,{class:"linkToStyleguideButton ellipsis",onClick:this.openLinkPopup,primary:!0},"Link to Styleguide")}const{sidebarContentOverlapped:d}=this.state;return i.h(C,{baseRef:Object(a.a)(this,"sidebarBottom"),overlapped:d},l)}renderLinkToStyleguidePopup(){const{currentUserId:e,organizationId:t}=this.context,{linkToStyleguidePopupVisible:n,targetLinkButton:s}=this.state,{barrel:a,currentOrganizationStyleguides:o,linkingProjectToStyleguide:r}=this.props;if(!n)return null;const l=a.users.find(e=>"owner"===e.role),c=o.filter(e=>["base",a.type].includes(e.type)&&"active"===e.status);let d=i.h(b.f,{onSelect:this.handleLinkStyleguideSelect,styleguides:c,selected:r,loading:!!r});return"user"===t?l.user._id!==e?d=i.h(b.e,{projectOwnerName:l.user.username}):c.length||(d=i.h(b.d,null)):c.length||(d=i.h(b.d,{hasOrganization:!0})),i.h(f.a,{targetNode:s,onClose:this.closeLinkToStyleguidePopup,left:12,centerY:!0,stickToEdge:!0,content:d,showAnchor:!0,open:!0})}render(){const{leftSidebarWidth:e,onLeftSidebarRelease:t,baseRef:n}=this.props,{sidebarBottomHeight:o}=this.state;return i.h("div",{class:"styleguide",ref:n},i.h(l.a,{class:"styleguideLeftSidebar",baseRef:Object(a.a)(this,"sidebar"),minWidth:100,paddingBottom:o,initialWidth:e,resizingSide:"right",collapsed:!1,onClick:s.J,onRelease:t},this.renderStyleguideSections(),this.renderSidebarBottom()),this.renderSection(),this.renderLinkToStyleguidePopup(),i.h(S.a,null))}}},function(e,t,n){"use strict";t.a=function(e){const{barrelType:t,styleguideData:n,selectedStyleguideSection:o,selectedNavigatorId:l,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,baseRef:h,showBadge:p}=e,g=t===a.a.PROJECT?r.slice(1):r;return i.h("div",{ref:h,class:"styleguideSections"},g.map(({name:e,value:a})=>{const r=o===a;return i.h(s.a,{key:a,barrelType:t,name:e,value:a,selected:r,selectedNavigatorId:l,styleguideData:n,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,showBadge:p[a]})}))};var i=n(0),s=n(1616),a=n(10),o=n(1619);n.n(o);const r=[{name:"About",value:"about"},{name:"Color palette",value:"colors"},{name:"Text style catalog",value:"textStyles"},{name:"Spacing and layout",value:"spacing"},{name:"Components",value:"components"}];t.b=r},function(e,t,n){"use strict";var i=n(1617);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(8),o=n(10),r=n(730),l=n(690),c=n(1618);n.n(c);t.a=class extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleSectionNavigatorClick=this.handleSectionNavigatorClick.bind(this)}get sectionURL(){const{styleguideData:e,barrelType:t,value:n}=this.props,i=t===o.a.PROJECT?`project-styleguide-${n.toLowerCase()}`:`styleguide-${n.toLowerCase()}`;return Object(a.j)(i,{url:{bid:e[0].id}})}handleClick(){const{selected:e,id:t,value:n,onRepeatedClick:i}=this.props;e&&i(t,n)}handleSectionNavigatorClick(e){const{value:t,onSectionNavigatorClick:n}=this.props;n(t,e)}renderInstances(){const{value:e,selected:t,styleguideData:n,selectedNavigatorId:s,onComponentToSectionNodeDrop:a}=this.props;if(1===n.length&&"components"!==e)return null;let o,r="";switch(e){case"colors":case"textStyles":case"spacing":o=n.filter(({has:{[e]:t}})=>t).map(({id:e,name:t})=>({id:e,title:t,content:t,class:"styleguideRootNode",children:[]}));break;case"components":1===n.length?o=n[0].componentTree:(r="linkedStyleguideTree",o=n.filter(({has:{[e]:t}})=>t).map(({id:e,idPath:t,styleguideId:n,name:i,componentTree:s})=>({id:e,idPath:t,styleguideId:n,title:i,content:i,class:"styleguideRootNode",children:s})));break;default:return null}return i.h(l.a,{class:["styleguideTree",r],nodeClass:"styleguideNode",nodePadding:10,dragDropEnabled:"components"===e,tree:o,selectedNodeId:t?s:null,onNodeSelect:this.handleSectionNavigatorClick,onComponentToSectionNodeDrop:a})}render(){const{name:e,value:t,selected:n,showBadge:a}=this.props;return i.h("div",{class:Object(s.a)("styleguideSection",{selected:n,showBadge:a}),onClick:this.handleClick},i.h("a",{href:this.sectionURL,"data-link-type":"inApp"},i.h(r.a,{type:t,selected:n}),i.h("span",{class:"name noSelect ellipsis",title:e},e),a&&i.h("div",{class:"badge"})),this.renderInstances())}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1621);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(74),a=n(14),o=n(31),r=n(57),l=n(58),c=n(207),d=n(624),u=n(35),h=n(1),p=n(60),g=n(1622);t.a=Object(s.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={editing:!1},this.goToTop=(()=>{if(!this.nodeRefs)return;const{about:e}=this.nodeRefs;e.scrollTop=0}),this.handleStyleguideTutorialHideClick=(()=>{p.a.hideStyleguideTutorial()}),this.handleSectionNavigatorClick=(e=>{const{onSectionNavigatorClick:t}=this.props;"about"===e&&this.handleEditDescription(),t(e)}),this.handleEditDescription=(()=>{this.setState({editing:!0})}),this.handleUpdateDescription=(e=>{this.setState({editing:!1});const{barrelId:t,barrelType:n}=this.state;o.b.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})}),this.handleCancelDescription=(()=>{this.setState({editing:!1})}),this.handleLinkProject=(e=>{const{barrel:t,currentOrganizationProjects:n}=this.state,i=n.find(t=>t._id===e);d.a.linkProjectToStyleguideRequest({project:i,styleguide:t})}),this.handleUnlinkProject=(e=>{const{barrel:t}=this.state;d.a.unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:!0})}),t}static getStores(){return[o.e,c.b,l.c,r.c,u.e,p.b]}static calculateState(){const e=o.e.getState(),{loading:t}=e,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["loading"]),{shouldDisplayStyleguideTutorial:i}=p.b.getState();if(t)return{loading:!0};const{barrelId:s,barrelType:a,organizationId:d,showSlackReconnectionAuntie:g}=n,m=o.d.getBarrel(),f=o.d.findUser(),{rightSidebarWidth:b}=c.b.getState(),y=u.d.getOrganizationProjects(d)||[],[{colors:S}]=o.d.getStyleguidesData({barrelStore:o.e,styleguidesDataStore:l.c,projectsDataStore:r.c});return{loading:!1,barrel:m,barrelId:s,barrelType:a,organizationId:d,showSlackReconnectionAuntie:g,sidebarWidth:b,currentOrganizationProjects:y,colors:S,shouldDisplayStyleguideTutorial:i,permissions:{canManageProject:h.C.canUpdateProject(f),canManageStyleguide:h.C.canUpdateStyleguide(f)}}}getChildContext(){const{colors:e,permissions:t}=this.state;return{permissions:t,projectColors:e}}render(){const{loading:e,barrel:t,organizationId:n,showSlackReconnectionAuntie:s,sidebarWidth:o,currentOrganizationProjects:r,editing:l,shouldDisplayStyleguideTutorial:d,permissions:u}=this.state;return e?null:i.h(g.a,{nodeRef:Object(a.a)(this,"about"),barrel:t,organizationId:n,editing:l,showSlackReconnectionAuntie:s,sidebarWidth:o,shouldDisplayStyleguideTutorial:d,onStyleguideTutorialHideClick:this.handleStyleguideTutorialHideClick,onSectionNavigatorClick:this.handleSectionNavigatorClick,onEditDescription:this.handleEditDescription,onUpdateDescription:this.handleUpdateDescription,onCancelDescription:this.handleCancelDescription,onSidebarRelease:c.a.changeRightSidebarWidth,onLinkProject:this.handleLinkProject,onUnlinkProject:this.handleUnlinkProject,currentOrganizationProjects:r,permissions:u})}})},function(e,t,n){"use strict";var i=n(1623);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(706),o=n(34),r=n(547),l=n(1626),c=n(731),d=n(529),u=n(1637),h=n(199),p=n(1640),g=n(14),m=n(1643);n.n(m);class f extends i.Component{constructor(e){super(e),this.openLinkPopup=this.openLinkPopup.bind(this),this.openLinkPopupAtTargetNode=this.openLinkPopupAtTargetNode.bind(this),this.closeLinkToProjectPopup=this.closeLinkToProjectPopup.bind(this),this.state={linkToProjectPopupVisible:!1,targetLinkButton:null}}openLinkPopup(){this.setState({linkToProjectPopupVisible:!0})}openLinkPopupAtTargetNode(e){this.setState({linkToProjectPopupVisible:!0,targetLinkButton:e.target})}closeLinkToProjectPopup(){this.setState({linkToProjectPopupVisible:!1})}componentDidUpdate({barrel:{linkedProjects:{length:e}}}){const{barrel:{linkedProjects:{length:t}},editing:n}=this.props;(0===e&&1===t||1===e&&0===t)&&this.forceUpdate(),n&&setTimeout(()=>this.nodeRefs.styleguideDescription.scrollIntoView(),4)}renderDescription(){const{barrel:{description:e},editing:t,onEditDescription:n,onUpdateDescription:s,onCancelDescription:a,permissions:{canManageProject:o}}=this.props;return e||t?i.h(c.a,{ref:Object(g.a)(this,"styleguideDescription"),value:e,editing:t,readOnly:!o,onEdit:n,onUpdate:s,onCancel:a}):i.h(r.a,{class:"styleguideDescriptionEmptyState",type:r.a.TYPE.DESCRIPTION,onButtonClick:n})}renderLinkToProjectPopup(){const{linkToProjectPopupVisible:e,targetLinkButton:t}=this.state;if(!e)return null;const{organizationId:n,currentOrganizationProjects:s,onLinkProject:a,barrel:{_id:o,type:r,users:l,linkedProjects:c},permissions:{canManageStyleguide:d}}=this.props,p=s.filter(e=>{const t="base"===r||e.type===r;if("user"===n){const n=e.users.find(e=>"owner"===e.role);if(!n)return!1;const i=l.find(e=>"owner"===e.role).user._id===n.user._id;return"active"===e.status&&t&&i}return"active"===e.status&&t&&d}),g=c.length>0?this.nodeRefs.inlineLinkButton:t;return i.h(h.a,{targetNode:g,onClose:this.closeLinkToProjectPopup,content:i.h(u.a,{organizationId:n,currentStyleguide:o,onSelect:a,projects:p}),left:12,faceTop:!0,centerY:!0,stickToEdge:!0,showAnchor:!0,open:!0})}renderLinkedProjects(){const{barrel:{linkedProjects:e},onUnlinkProject:t,permissions:{canManageProject:n}}=this.props;let s;return s=e.length?i.h("div",{key:"linkedProjects",class:"linkedProjects"},e.map(({_id:e,name:n,type:s,updated:a})=>i.h(l.a,{key:e,id:e,name:n,type:s,updated:a,onUnlinkProject:t}))):i.h(r.a,{key:"linkedProjectsEmptyState",type:"linkedProjects",class:"linkedProjectsEmptyState",onButtonClick:this.openLinkPopupAtTargetNode}),[i.h(d.b,{key:"styleguideHeader"},"Linked projects",e.length>0&&n&&i.h(o.a,{baseRef:Object(g.a)(this,"inlineLinkButton"),class:"headerButton",onClick:this.openLinkPopup},"Link to projects")),s]}renderSidebar(){const{sidebarWidth:e,onSidebarRelease:t}=this.props;return i.h(a.a,{width:e,onRelease:t})}render(){const{nodeRef:e,shouldDisplayStyleguideTutorial:t,onStyleguideTutorialHideClick:n,onSectionNavigatorClick:a}=this.props;return i.h(i.Fragment,null,i.h("div",{class:Object(s.a)("styleguideContainerContent","aboutContent",{styleguideTutorialVisible:t}),ref:e},t&&i.h("div",{class:"styleguideTutorialContainer"},i.h(p.a,{hideButtonText:"Got it!",onHideClick:n,onSectionNavigatorClick:a})),this.renderDescription(),this.renderLinkedProjects()),this.renderSidebar(),this.renderLinkToProjectPopup())}}f.defaultProps={editing:!1},t.a=f},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(281),o=n(43),r=n(3),l=n(27),c=n(1625);n.n(c);const d=Object.freeze({description:{emoji:"📝"},linkedProjects:{emoji:"🔗"},colors:{emoji:"🎨",addIcon:i.h(o.i,{type:"add"}),exampleAddImg:"imgColorFromLayer"},textStyles:{emoji:"✏️",addIcon:i.h(o.F,{type:"add"}),exampleAddImg:"imgTextStyleFromLayer"},components:{emoji:"🍡"}}),u="https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps";function h(e,{singular:t=!1}={}){const n=e.replace(/[A-Z]/g,e=>` ${e.toLowerCase()}`);return t?n.slice(0,-1):n}class p extends i.Component{constructor(e){super(e),this.handleLinkButtonClick=this.handleLinkButtonClick.bind(this)}handleLinkButtonClick(e){const{onButtonClick:t}=this.props;t(e)}renderDescription(){const{barrelType:e}=this.context,{type:t}=this.props;switch(t){case"description":return"You can enter Zeplin flavored markdown description and tell the story of the styleguide.";case"linkedProjects":return"You can link this styleguide to multiple projects to reference the same colors, text styles, and components.";case"components":return`Components are re-usable elements used throughout designs, crucial piece of your design system. Store, organize and showcase ${e} components here.`;default:return`You can organize and showcase your ${e} ${h(t)} here.`}}renderFromStyleguide(){const{type:e}=this.props,{permissions:{canManageProject:t},hasLinkedStyleguide:n,barrelType:a}=this.context;return t&&!n&&"project"===a?i.h("li",null,i.h("h3",null,"From a Styleguide (Recommended)"),i.h("p",null,"Use ",h(e)," from a Styleguide by linking your project."),i.h(s.a,{onClick:this.handleLinkButtonClick,primary:!0},"Link to Styleguide")):null}renderFromLayers(){const{type:e}=this.props;if("components"===e)return null;const{addIcon:t,exampleAddImg:n}=d[e];return i.h("li",null,i.h("h3",null,"From Layers"),i.h("p",null,"Select a layer and click ",t," next to the ",h(e,{singular:!0}),"."),i.h(a.a,{asset:`img/${n}.png`}))}renderFromDesignTools(){const{type:e}=this.props;return l.a.isWindowsApp?i.h(i.Fragment,null,i.h("li",null,i.h("h3",null,"From Figma"),i.h("p",null,"Select a master component frame and press ⌥E or select “File > Export” from the menu."),i.h(a.a,{asset:"img/icComponentsHintFigma.png"})),i.h("li",null,i.h("h3",null,"From Adobe XD"),i.h("p",null,"Select a component in “Pasteboard”, or a layer inside it. Press ⌥⌘E or select “File > Export > Zeplin” from the menu."),i.h(a.a,{asset:"img/icComponentsHintAdobeXD.png"}))):i.h("li",null,i.h("h3",null,"From Design Tools"),i.h("p",null,i.h("a",{href:u,target:"_blank"},"Download desktop app")," to export ",h(e)," from design tools."))}renderBody(){const{type:e,onButtonClick:t}=this.props,{permissions:{canManageProject:n}}=this.context;return"description"===e?n?i.h(s.a,{primary:!0,class:"addDescriptionButton",onClick:t},"Add description"):null:"linkedProjects"===e?n?i.h(s.a,{class:"linkProjectButton",onClick:this.handleLinkButtonClick,primary:!0},"Link to projects"):null:i.h("ul",null,this.renderFromStyleguide(),this.renderFromLayers(),this.renderFromDesignTools())}render(){const{class:e,type:t,before:n}=this.props,{emoji:s}=d[t];return i.h("div",{class:"emptyStateContainer"},i.h("div",{class:"emptyStateBefore"},n),i.h("div",{class:Object(r.a)("emptyState",e)},i.h("h2",null,"No ",h(t)," yet. ",s),i.h("p",null,this.renderDescription()),this.renderBody()))}}p.TYPE=Object.freeze({DESCRIPTION:"description",COLORS:"colors",TEXT_STYLES:"textStyles",COMPONENTS:"components"}),t.a=p},function(e,t){},function(e,t,n){"use strict";var i=n(1627);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(284),a=n(675),o=n(156),r=n(71),l=n(1),c=n(8),d=n(14),u=n(1628);n.n(u);const h=24;t.a=class extends i.Component{constructor(e){super(e),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{origin:{x:e.clientX,y:e.clientY}}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleOptionsClick(e){e.preventDefault(),e.stopPropagation();const t=this.nodeRefs.optionsButton.getBoundingClientRect();this.setState({contextMenu:{origin:{x:t.left+h,y:t.top-h}}})}handleUnlinkProject(){const{id:e,onUnlinkProject:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:{origin:e}}=this.state;return i.h(o.a.withAutoPosition,{autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:this.handleContextMenuClose},i.h(o.a.Item,{onClick:this.openUnlinkDialog},"Unlink project"))}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{name:t}=this.props;return i.h(r.a,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}render(){const{permissions:{canManageProject:e}}=this.context,{contextMenu:t}=this.state,{id:n,name:o,type:r,updated:u}=this.props;return i.h("div",{class:"linkedProject noSelect",ref:Object(d.a)(this,"base")},t&&this.renderContextMenu(),e&&i.h(a.a,{class:"optionsButton",baseRef:Object(d.a)(this,"optionsButton"),onClick:this.handleOptionsClick}),i.h("a",{href:Object(c.j)("project",{url:{bid:n}}),onContextMenu:e?this.handleContextMenu:null,"data-link-type":"inApp"},i.h("div",{class:"linkedProjectName ellipsis",title:o},o),i.h("div",{class:"projectInfo"},i.h("span",null,Object(l.s)(r)),i.h(s.a,{type:"time-ago",format:"micro",datetime:u}))),this.renderUnlinkDialog())}}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(100),r=n(3),l=n(14),c=n(1),d=n(56),u=n(34),h=n(708),p=n(368),g=n(462),m=n(43),f=n(1630),b=n(1631);n.n(b);const y=/:(\S+?):/g,S=22;class v extends o.a{constructor(e){super(e),this.handleCancel=this.handleCancel.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDownWhenListOpen=this.handleKeyDownWhenListOpen.bind(this),this.handleKeyDownListActions=Object(c.f)(this.handleKeyDownListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleListItemMouseOver=this.handleListItemMouseOver.bind(this),this.handleListItemClick=this.handleListItemClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.scrollIntoView=this.scrollIntoView.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this),this.setValueStateToInitialValue=this.setValueStateToInitialValue.bind(this),this.state={selectedEmojiIndex:0,suggestedEmojis:[],autoCompletedEmoji:!1,value:e.value}}changeSuggestedEmojis(){const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,{textArea:i}=this.nodeRefs,s=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),s=e.substring(i,t).match(/^:(.+)/);if(s){const e=s[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),a=n.substring(t,i+1).match(y);return a&&p.a.searchEmoji(a[0].substring(1,a[0].length-1))?[]:p.a.getSuggestedEmojis(e)}return[]}(e,i.selectionStart);if(s!==t){const e=Math.max(0,Math.min(n,s.length-1));this.setState({suggestedEmojis:s,selectedEmojiIndex:e})}}setValueStateToInitialValue(){const{initialValue:e}=this.props,{value:t}=this.state;!t&&e&&this.setState({value:e})}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return-1!==e&&"safari"===Object(d.g)()?e+(t.match(/\n/g)||[]).length:e}submit(){const{value:e,onUpdate:t,onCancel:n}=this.props,{value:i}=this.state;i!==e?t(i):n()}positionEmojiAutoComplete(){cancelAnimationFrame(this.rAF),this.rAF=requestAnimationFrame(()=>{const{textArea:e,emojiAutoCompleteContainer:t}=this.nodeRefs;if(!e||!t)return;const n=e.selectionStart,{top:i,left:s}=Object(f.a)(e,n);let a=i+S,o=s;t.style.top=`${a}px`,t.style.left=`${o}px`})}scrollIntoView(){this.nodeRefs.styleguideDescription.scrollIntoView()}handleCancel(){const{value:e,onCancel:t}=this.props;this.setState({value:e}),t()}handleSubmit(){const{readOnly:e}=this.props;e||this.submit()}handleInput(e){const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})}handleKeyDown(e){const{editing:t,readOnly:n}=this.props;n||(t&&this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleCancel(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(d.d)(e)&&this.submit()))}handleKeyDownListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}}handleKeyDownWhenListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)}handleKeyUp(e){e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis)}handleListItemClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleListItemMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleSelectEmoji(){const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,{textArea:i}=this.nodeRefs,s=e[t],a=i.selectionStart,o=n.substring(0,a).lastIndexOf(":"),r=s.formattedAlias,l=n.substring(0,o)+":"+r+": "+n.substring(a),c=o+r.length+3;this.setState({value:l,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{i.focus(),i.setSelectionRange(c,c)})}handleTextAreaClick(){this.props.editing&&this.changeSuggestedEmojis()}componentDidMount(){const{editing:e}=this.props;e&&(this.setValueStateToInitialValue(),this.nodeRefs.textArea.focus())}componentWillReceiveProps(e){const{value:t}=this.props,{value:n=""}=e;t!==n&&this.setState({value:n})}componentDidUpdate(e,t){const{editing:n}=this.props,{value:i,autoCompletedEmoji:s,suggestedEmojis:a}=this.state;n&&e.editing!==n&&(this.setValueStateToInitialValue(),this.nodeRefs.textArea.focus()),s||i===t.value||this.changeSuggestedEmojis(),n&&a.length&&this.positionEmojiAutoComplete()}renderEditBar(){const{editing:e,readOnly:t,onEdit:n}=this.props;return e||t?null:i.h("div",{key:"editBar",class:"editBar"},i.h(u.a,{onClick:n},i.h(m.o,null)))}renderControls(){const{editing:e,value:t,readOnly:n}=this.props;return!e||n?null:i.h("div",{key:"controls",class:"controls"},i.h("div",{class:"markdownGuide"},i.h("div",{class:"markdownSamples"},i.h("span",null,"# Header"),"  ",i.h("strong",null,"**bold**"),"  ",i.h("em",null,"_italics_"),"  ",i.h("code",null,"`code`"),"  ",i.h("span",null,">quote")),i.h("a",{href:"https://zpl.io/article/markdown-support",target:"_blank"},"Learn more")),i.h("div",{class:"buttons"},i.h(u.a,{secondary:!0,onClick:this.handleCancel},"Cancel"),i.h(u.a,{primary:!0,class:"submitButton",onClick:this.handleSubmit,disabled:t===this.state.value},t?"Update":"Add")))}renderEmojiAutocomplete(){const{editing:e}=this.props,{suggestedEmojis:t,selectedEmojiIndex:n}=this.state;return e&&t.length?i.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",ref:Object(l.a)(this,"emojiAutoCompleteContainer")},i.h(h.a,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:t,selectedIndex:n})):null}render(){const{editing:e,shouldPromoteEditButton:t,placeholder:n,onUpdate:s}=this.props,{value:a}=this.state,o=!e&&!a&&Boolean(n),c=Object(r.a)("styleguideDescription",{editing:e,promoteEditButton:t,placeholderVisible:o});return i.h("div",{ref:Object(l.a)(this,"styleguideDescription"),class:c},this.renderEditBar(),i.h("div",{class:"textArea"},!e&&i.h(g.a,{onUpdate:s},a||n),i.h("div",{class:"editor"},i.h("div",{class:"mirror"},a," "),this.renderEmojiAutocomplete(),i.h("textarea",{ref:Object(l.a)(this,"textArea"),value:a,spellcheck:"false",maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}))),this.renderControls())}}v.propTypes={value:a.a.string,maxLength:a.a.number,readOnly:a.a.bool,placeholder:a.a.string,shouldPromoteEditButton:a.a.bool,onEdit:a.a.func,onUpdate:a.a.func,onCancel:a.a.func},v.defaultProps={value:"",initialValue:"# Title\n\nDescription",editing:!1,readOnly:!1},t.a=v},function(e,t,n){"use strict";const i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],s=null!==window.mozInnerScreenX;t.a=function(e,t){const n=document.createElement("div");document.body.appendChild(n);const a=n.style,o=window.getComputedStyle(e);var r="INPUT"===e.nodeName;a.whiteSpace="pre-wrap",r||(a.wordWrap="break-word"),a.position="absolute",a.visibility="hidden",i.forEach(e=>{if(r&&"lineHeight"===e)if("border-box"===o.boxSizing){const e=parseInt(o.height,10),t=parseInt(o.paddingTop,10)+parseInt(o.paddingBottom,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10),n=t+parseInt(o.lineHeight,10);a.lineHeight=e>n?e-t+"px":e===n?o.lineHeight:0}else a.lineHeight=o.height;else a[e]=o[e]}),s?e.scrollHeight>parseInt(o.height,10)&&(a.overflowY="scroll"):a.overflow="hidden",n.textContent=e.value.substring(0,t),r&&(n.textContent=n.textContent.replace(/\s/g," "));const l=document.createElement("span");l.textContent=e.value.substring(t)||".",n.appendChild(l);var c={top:l.offsetTop+parseInt(o.borderTopWidth,10),left:l.offsetLeft+parseInt(o.borderLeftWidth,10),height:parseInt(o.lineHeight,10)};return document.body.removeChild(n),c}},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(14),a=n(1633);n.n(a);t.a=class extends i.Component{highlight(){const{scroll:e,highlight:t,onScroll:n}=this.props;e&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs.base.animate([{backgroundColor:"var(--cornflower-blue-20pc)"},{backgroundColor:"transparent"}],{duration:2500,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}render(){const{children:e}=this.props;return i.h("h2",{class:"styleguideHeader",ref:Object(s.a)(this,"base")},e)}}},function(e,t){},function(e,t,n){"use strict";var i=n(1635);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(156),a=n(43),o=n(3),r=n(1636);n.n(r);t.a=class extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleClick=this.handleClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this)}handleClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}render(){const{menuItems:e,baseRef:t,keepActive:n}=this.props,{contextMenu:r}=this.state;return i.h("div",{class:"styleguideContextMenuButtonWrapper",ref:t},i.h("button",{class:Object(o.a)("styleguideContextMenuButton",{active:!!r||n}),onClick:this.handleClick},i.h(a.u,null)),r&&i.h(s.a,{class:"styleguideContextMenu",onClose:this.handleContextMenuClose},e))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1638);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(680),a=n(1),o=n(8),r=n(21),l=n(3),c=n(13),d=n(1639);n.n(d);const u={DEFAULT:"Add",LINKED:"Done",LINKING:"Spinner",ERROR:"Retry"},h={LINKING:"linking",LINKED:"linked"};function p({selected:e,iconType:t}){const n=Object(r.f)(`img/icInvite${t}${e?"Selected":""}.svg`);return i.h("img",{class:`invite${t}`,src:n})}class g extends i.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(()=>{const{onActionButtonClick:e,value:t,linked:n,linking:i}=this.props;i||n||e(t)}),t}render(){const{selected:e,projectName:t,projectType:n,status:s}=this.props,o=s===h.LINKED,r=s===h.LINKING,c=!o&&!r&&s,d=Object(l.a)("projectListItem",{selected:e,linking:r}),g=Object(a.s)(n),m=`${t} - ${g}`;let f;return f=o?u.LINKED:r?u.LINKING:c?u.ERROR:u.DEFAULT,i.h("div",{title:m,class:d},i.h("div",{class:"projectInfo"},i.h("div",{class:"title ellipsis"},t,", ",i.h("span",{class:"projectType"},g)),c&&i.h("p",{class:"error"},c.title)),i.h("button",{onClick:this.handleClick,disabled:o||r},i.h(p,{iconType:f,selected:e})))}}t.a=class extends i.Component{constructor(e){super(e),this.renderProjectListItem=this.renderProjectListItem.bind(this),this.renderProjectListItemContent=this.renderProjectListItemContent.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,currentStyleguide:n}=this.props;this.setState({[e]:h.LINKING}),Object(c.updateProjectStyleguideLink)(e,n).then(()=>{mixpanel.master.track("Linked styleguide to project"),this.setState({[e]:h.LINKED}),t(e)}).catch(t=>{this.setState({[e]:t})})}renderProjectListItemContent({_id:e,name:t,type:n},s){return i.h(g,{onActionButtonClick:this.handleSelect,value:e,selected:s,projectName:t,projectType:n,status:this.state[e]})}renderProjectListItem(e){return i.h(s.a.ListItem,{class:"selectableListItem noSelect",value:e._id,item:e,renderItem:this.renderProjectListItemContent,disabled:!0})}renderProjects(e){return[i.h("p",{key:"description"},"Select one or more projects to link to this Styleguide, to reference the same colors, text styles and components."),i.h("div",{key:"projects",class:"projects"},i.h(s.a,{class:"projectsList",onSelect:this.handleSelect},e.map(this.renderProjectListItem)))]}renderNoProjects(){const{projects:e,organizationId:t}=this.props;let n="No projects to link yet",s="";return e.length>0?(n="No unlinked projects",s=i.h("p",null,"Looks like all projects are linked to a styleguide, you're well organized. 😎")):s="user"!==t?i.h("p",null,"Looks like there’s no organization project yet, ",i.h("a",{href:Object(o.j)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."):i.h("p",null,"Looks like you don’t have any projects yet, ",i.h("a",{href:Object(o.j)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."),i.h("div",{class:"noProjects"},i.h("h3",null,n),s)}render(){const{projects:e,class:t}=this.props,n=e.filter(e=>Object.keys(this.state).includes(e._id)||!e.styleguideLink),s=Object(l.a)("linkToProjectPopup",t);return i.h("div",{class:s},n.length>0?this.renderProjects(n):this.renderNoProjects())}}},function(e,t){},function(e,t,n){"use strict";var i=n(1641);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(204),a=n(729),o=n(730),r=n(27),l=n(1642);n.n(l);const c={about:i.h("svg",{width:"11",height:"42",viewBox:"0 0 11 42"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.43 2.508c3.108.335 2.84 4.661 2.082 6.789-.81 2.27-2.142 4.38-2.59 6.782-.506 2.705.177 5.634 2.234 7.243-1.197 1.974-.789 4.44-.789 6.84 0 3.018-.68 8.225-5.198 8.513-1.553.1-1.564 2.6 0 2.5 3.585-.228 5.29-1.849 6.828-5.234.713-1.567.88-3.725.815-5.436-.085-2.213-.756-5.022 1.096-6.645.744-.652.258-1.808-.536-2.09-5.487-1.938.57-10.645 1.046-14.016.5-3.551-1.292-7.348-4.988-7.746-1.553-.167-1.542 2.334 0 2.5z"})),colorsAndTextStyles:i.h("svg",{width:"16",height:"94",viewBox:"0 0 16 94"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M15.88 41.779c.41-.927-.273-2.184-1.383-1.837-4.605 1.44-7.613-4.125-7.615-8.077-.002-4.217 1.715-8.225 2.302-12.364C10.191 12.414 7.675 5.308 2.646.357 1.51-.761-.224 1.005.914 2.125c3.419 3.365 5.588 7.797 5.998 12.65.414 4.896-1.545 9.437-2.237 14.201-.538 3.71-.08 7.27 2.229 10.29 1.528 1.997 3.638 3.318 5.972 3.399-3.04 7.761-4.26 16.156-3.275 24.5.578 4.882 2.287 10.182.037 14.88-1.882 3.928-5.654 6.546-9.088 8.94-1.294.903-.07 3.07 1.237 2.159 3.234-2.256 6.556-4.629 8.842-7.94 2.501-3.623 2.863-7.784 2.314-12.076-.659-5.14-1.48-10.07-1.107-15.281.399-5.556 1.802-10.995 4.044-16.068"})),spacing:i.h("svg",{width:"10",height:"41",viewBox:"0 0 10 41"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.172 2.497c2.959.333 2.705 4.641 1.982 6.76-.77 2.26-2.04 4.36-2.467 6.752-.481 2.693.169 5.61 2.128 7.212-1.14 1.965-.75 4.422-.75 6.81 0 3.006-.65 8.19-4.952 8.477-1.48.099-1.49 2.589 0 2.49 3.414-.228 5.038-1.842 6.503-5.212.68-1.561.838-3.71.776-5.413-.08-2.204-.72-5 1.044-6.616.709-.65.246-1.8-.51-2.08-5.226-1.931.543-10.6.995-13.957.477-3.536-1.23-7.316-4.75-7.712-1.478-.166-1.468 2.324 0 2.49z"})),components:i.h("svg",{width:"9",height:"43",viewBox:"0 0 9 43"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M8.154 18.516c.255-.523.152-1.204-.39-1.508-3.968-2.227-.622-8.267-.993-11.739C6.477 2.506 4.472-.154 1.544.007c-1.388.077-1.397 2.28 0 2.203 5.027-.276 2.328 7.582 2.172 10.188-.135 2.255.448 4.553 2.157 5.967-1.399 3.717-.594 7.596.095 11.463.678 3.816.914 9.154-3.107 11.147-1.254.622-.156 2.522 1.095 1.902 9.38-4.649.756-17.307 4.198-24.361"}))};t.a=function({hideButtonText:e,onHideClick:t,onSectionNavigatorClick:n}){return i.h(s.a,{class:"styleguideTutorial",onHideClick:t,hideButtonText:e,hideEmoji:!0},i.h("h1",null,"Welcome to the Styleguide 🍡"),i.h("p",{class:"description"},"Curate your styleguide by adding components, colors, text styles and spacing tokens. All the projects linked to this styleguide will inherit these resources automatically."),i.h("p",{class:"description"},"From the left panel:"),i.h("div",{class:"sections"},i.h("div",{class:"sectionItems"},a.b.map(({value:e,name:t})=>i.h("div",{key:e,class:"sectionItem"},i.h(o.a,{type:e}),i.h("span",null,t)))),i.h("div",{class:"sectionItemDescriptions"},i.h("p",{class:"sectionItemDescription aboutDescription"},c.about,i.h("span",null,i.h("strong",{onClick:()=>n("about")},"Start by describing the styleguide")," to your team. View linked projects, integrations and more.")),i.h("p",{class:"sectionItemDescription colorsAndTextStylesDescription"},c.colorsAndTextStyles,i.h("span",null,i.h("strong",{onClick:()=>n("colors")},"Export colors and text styles")," from design tools ",r.a.isWindowsApp&&"using Zeplin’s desktop apps"," and access them here.")),i.h("p",{class:"sectionItemDescription spacingDescription"},c.spacing,i.h("span",null,i.h("strong",{onClick:()=>n("spacing")},"Set up your spacing tokens")," here to view them while inspecting designs.")),i.h("p",{class:"sectionItemDescription componentsDescription"},c.components,i.h("span",null,i.h("strong",{onClick:()=>n("components")},"Export components")," from design tools ",r.a.isWindowsApp&&"using Zeplin’s desktop apps"," and organize them here.")))))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1645);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(25),a=n(14),o=n(1),r=n(8),l=n(31),c=n(207),d=n(318),u=n(58),h=n(57),p=n(60),g=n(156),m=n(654),f=n(1648),b=n(547),y=n(386),S=n(529),v=n(655),C=n(1656),E=n(33),O=n(656),T=n(74),k=n(43),D=n(1660);n.n(D);t.a=Object(T.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={styleguideToShowColorEditHintBox:null},this.unsetStyleguideForColorEditHintBox=(()=>{this.setState({styleguideToShowColorEditHintBox:null})}),this.goToTop=(()=>{if(!this.nodeRefs)return;const{colors:e}=this.nodeRefs;e.scrollTop=0}),this.goToStyleguideToEdit=(()=>{const{styleguideToShowColorEditHintBox:e}=this.state;location.assign(Object(r.j)("styleguide-colors",{url:{bid:e}}))}),this.handleNameChange=((e,t)=>{const{colorsData:[{colors:n}]}=this.state;if(n.find(e=>e.name===t))return s.a({title:`${t} already exists`,message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();l.b.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),this.handleDataChange=((e,t)=>{const{colorsData:[{colors:n}]}=this.state,i=Object.assign({},n.find(t=>t.id===e),t);if(n.find(e=>e.equals(i)))return s.a({title:"Color with this value already exists",message:"Please enter another value for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();l.b.updateColor({cid:e,colorData:t,syncWithApi:!0})}),this.handleDelete=(e=>{l.b.removeColor({cid:e,syncWithApi:!0})}),this.handleAddSuggestedColor=(e=>{const{barrel:t}=this.state;l.b.addColor({color:e.name?Object.assign({},e,{name:e.formatName(t.type)}):e,syncWithApi:!0})}),this.handleAddAllColors=(()=>{const{barrel:{type:e},suggestedColors:t}=this.state,n=t.map(t=>t.name?Object.assign({},t,{name:t.formatName(e)}):t);l.b.addMultipleColors({colors:n,syncWithApi:!0})}),this.handleHideSuggestedColors=(()=>{const{barrel:{id:e},suggestedColors:t}=this.state;c.a.hideSuggestedColors(e,t)}),this.handleMoveColorsToClick=(e=>{e.stopPropagation();const{colorsData:[{colors:t}]}=this.state;c.a.openMoveResourcesPopup({resourceType:E.e.COLORS,resources:t,targetNode:this.nodeRefs.contextMenuButton})}),this.handleDeleteAllMenuItemClick=(e=>{e.stopPropagation(),s.a({title:"Delete all colors?",message:"Deleted colors cannot be restored",done:{name:"DELETE",cb(){l.b.removeAllColors({syncWithApi:!0})}},cancel:{name:"KEEP"}})}),t}static getStores(){return[l.e,c.b,h.c,u.c,d.d,p.b]}static calculateState(){const{loading:e,barrelId:t}=l.e.getState();if(e)return{loading:!0};const n=l.d.getBarrel(),i=l.d.findUser(),{moveResourcesPopup:s,scrolledSection:a,highlightScrolledSection:r,highlightedColors:p,rightSidebarWidth:g}=c.b.getState(),{role:m}=i,{suggestedResourcesByBarrel:f}=d.d.getState(),b=l.d.getStyleguidesData({barrelStore:l.e,styleguidesDataStore:u.c,projectsDataStore:h.c}),{colors:y=[]}=f[t]||{};let S=b.filter(({colors:{length:e}=[]})=>e).map(({id:e,name:t,colors:n})=>({id:e,name:t,colors:n}));!S.some(e=>e.id===t)&&y.length&&(S=[{id:t,name:"Local Styleguide",colors:[]},...S]);const v=o.C.canManageColors(i);return{loading:!1,barrel:n,barrelUser:i,barrelId:t,userRole:m,moveResourcesPopup:s,scrolledSection:a,highlightScrolledSection:r,styleguidesData:b,colorsData:S,suggestedColors:y,highlightedColors:p,sidebarWidth:g,canManageColors:v}}setStyleguideForColorEditHintBox(e){this.setState({styleguideToShowColorEditHintBox:e})}renderSuggestedColors(){const{suggestedColors:e}=this.state;return e.length?i.h(C.a,{colors:e,onHideClick:this.handleHideSuggestedColors,onAdd:this.handleAddSuggestedColor,onAddAll:this.handleAddAllColors}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelUser:s,moveResourcesPopup:o,canManageColors:l}=this.state,c=o&&o.resourceType===E.e.COLORS,d=e!==n.id?i.h("a",{href:Object(r.j)("styleguide-colors",{url:{bid:e}}),class:"headerButton",title:`Go to ${t}`,"data-link-type":"inApp","data-back":n.name},i.h(k.r,null)):null,u=Object(O.a)(n,s),h=[u&&i.h(g.a.Item,{key:"Move colors to styleguide",onClick:this.handleMoveColorsToClick},"Move colors to styleguide…"),u&&l&&i.h(g.a.ItemDivider,{key:"warningDivider"}),l&&i.h(g.a.Item,{warning:!0,key:"Delete all colors",onClick:this.handleDeleteAllMenuItemClick},"Delete all colors")].filter(Boolean),p=e===n.id&&h.length>0?i.h(S.a,{baseRef:Object(a.a)(this,"contextMenuButton"),keepActive:c,menuItems:h}):null;return d||p?i.h("div",null,p,d):null}renderColorPalettes(){const{barrelId:e,userRole:t,colorsData:n,styleguideToShowColorEditHintBox:s,scrolledSection:a,highlightScrolledSection:o,suggestedColors:r,highlightedColors:l,canManageColors:d}=this.state,{onLinkStyleguide:u}=this.props;return n&&n.length?n.map(({id:n,name:r,colors:u})=>{const h=n===e,p=s===n&&!h;return i.h(i.Fragment,{key:`fragmentColorPalette-${n}`},i.h(S.b,{key:`styleguideHeader-${n}`,scroll:a===n,highlight:a===n&&o,onScroll:c.a.sectionScrolled},r,this.renderStyleguideHeaderEnd({id:n,name:r})),p&&i.h(v.a,{key:"hintbox",styleguideSectionToEdit:"colors",styleguideName:r,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForColorEditHintBox}),h&&this.renderSuggestedColors(),i.h(f.a,{key:`colorPalette-${n}`,colors:u,highlightedColors:l,userRole:t,readOnly:!d,onHover:c.a.unhighlightColor,onAttemptToChange:h?null:this.setStyleguideForColorEditHintBox.bind(this,n),onNameChange:this.handleNameChange,onDataChange:this.handleDataChange,onDelete:this.handleDelete}))}):i.h(b.a,{type:b.a.TYPE.COLORS,before:!!r.length&&i.h("div",{class:"emptyStateSuggestedColors"},i.h(S.b,null,"Local Styleguide"),this.renderSuggestedColors()),onButtonClick:u})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(y.a,{minWidth:280,initialWidth:t,onClick:o.J,onRelease:c.a.changeRightSidebarWidth},i.h(m.a,{type:"color",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent colorPaletteContent",ref:Object(a.a)(this,"colors")},this.renderColorPalettes()),this.renderSidebar())}})},function(e,t,n){"use strict";var i=n(0),s=n(74),a=n(31),o=n(286),r=n(58),l=n(57),c=n(10),d=n(34),u=n(528),h=n(8),p=n(6),g=n(455),m=n(1647);n.n(m);const f={[c.a.PROJECT]:l.c,[c.a.STYLEGUIDE]:r.c};function b({organizationId:e,hasExtensions:t,onManageExtensionsClick:n}){return i.h("div",{class:"emptyStyleguideCodePanel"},t?[i.h("h2",{key:"emptyStyleguideHeader"},"No extension snippets ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions that generate Styleguide code snippets. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Manage and enable the ones that fit your workflow."),i.h(d.a,{key:"emptyStyleguideButton",onClick:n,class:"manageExtensions"},"Manage extensions")]:[i.h("h2",{key:"emptyStyleguideHeader"},"No extensions ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions on this project. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Browse and pick the ones that fit your workflow."),i.h("a",{key:"emptyStyleguideButton",href:Object(h.b)({organizationId:e}),target:"_blank",rel:"noopener"},"Explore extensions")])}class y extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.openSettings=this.openSettings.bind(this)}exportCode(){const{extensionId:e,onExportClick:t}=this.props;t(e)}openSettings(){const{extensionId:e,onSettingsClick:t}=this.props;t({extensionId:e})}render(){const{snippets:e,title:t}=this.props;return i.h(u.b,{class:"styleguideCode",copyEnabled:!1,exportEnabled:!0,onExportClick:this.exportCode,onSettingsClick:this.openSettings,snippets:e,title:t,asyncHighlight:!0})}}class S extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.state={codeSnippets:null}}exportCode(e){const{barrel:t,barrelType:n,styleguides:i,type:s,extensions:a,onExportClick:o}=this.props,r=Object(g.f)(t,n,i),l=a.find(t=>t.id===e);l&&l[`exportStyleguide${Object(p.h)(s)}s`](r).then(t=>o(s,t,e))}generateCodeSnippets(e){if(!e.length)return void this.setState({codeSnippets:{}});const{type:t,barrel:n,barrelType:i,styleguides:s}=this.props,a=Object(g.f)(n,i,s);Promise.all(e.map(e=>(function(e,t,n){return e[`styleguide${Object(p.h)(t)}s`](n).then(n=>{if(!n)return;const i={name:t};return"string"==typeof n?i.code=n:Object.assign(i,n),i.exportable=e.hasMethod(`exportStyleguide${Object(p.h)(t)}s`)||e.hasMethod(`export${Object(p.h)(t)}s`)||e.hasMethod(`export${Object(p.h)(t)}`),[i]}).catch(e=>{}).then((t=[])=>({[e.id]:{snippets:t,title:e.name}}))})(e,t,a))).then(e=>{this.setState({codeSnippets:Object.assign({},...e)})})}componentDidMount(){const{extensions:e}=this.props;this.generateCodeSnippets(e)}componentWillReceiveProps(e){const{extensions:t}=e;this.generateCodeSnippets(t)}shouldComponentUpdate(e,t){const{codeSnippets:n}=this.state;return n!==t.codeSnippets&&(!n||!t.codeSnippets||(Object.keys(n).length!==Object.keys(t.codeSnippets).length||Object.keys(n).some(e=>{const{snippets:i}=n[e],{snippets:s}=t.codeSnippets[e];return!(!s&&!i)&&(!s||!i||(i.length!==s.length||i.some((e,t)=>s[t].language!==e.language||s[t].code!==e.code)))})))}render(){const{extensions:e,hasExtensions:t,onManageExtensions:n,organizationId:s}=this.props,{codeSnippets:a}=this.state;if(!a)return;const o=e.map(e=>{const{snippets:t,title:s}=a[e.id];return t.length?i.h(y,{key:e.id,snippets:t,title:s,extensionId:e.id,onExportClick:this.exportCode,onSettingsClick:n}):null}).filter(Boolean);return e.length&&o.length?i.h("div",{class:"styleguideCodePanel"},o):i.h(b,{hasExtensions:t,organizationId:s,onManageExtensionsClick:n})}}t.a=Object(s.a)(class extends i.Component{static calculateState(){const e=o.b.getState(),t=e.extensions.filter(t=>e.enabledExtensions[e.barrelType].includes(t.id)&&t.loaded),{loading:n,barrelType:i,organizationId:s,barrelId:l}=a.e.getState();if(n)return{loading:n};const{[`${i}s`]:c}=f[i].getState(),{styleguides:d}=r.c.getState();return{loading:n,barrel:c[l],styleguides:d,barrelType:i,initialized:e.initialized,hasExtensions:e.extensions.length>0,enabledExtensions:t,organizationId:s}}static getStores(){return[a.e,o.b,l.c,r.c]}render(){const{type:e,title:t,onExportClick:n}=this.props,{loading:s,barrel:o,barrelType:r,styleguides:l,initialized:c,hasExtensions:d,enabledExtensions:u,organizationId:h}=this.state;if(c&&!s)return i.h(S,{type:e,title:t,barrel:o,barrelType:r,styleguides:l,hasExtensions:d,extensions:u,organizationId:h,onExportClick:n,onManageExtensions:a.b.openExtensionSettings})}},{withProps:!0})},function(e,t){},function(e,t,n){"use strict";var i=n(1649);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e){const{colors:t,highlightedColors:n,readOnly:a,userRole:o,onHover:r,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u}=e;return i.h("div",{class:"colorPalette"},t.map(e=>{const t=n[0]===e.id,h=t||n.includes(e.id);return i.h(s.a,{color:e,key:e.id,readOnly:a,userRole:o,scrollIntoView:t,highlight:h,onHover:r,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u})}))};var i=n(0),s=n(1650),a=n(1653);n.n(a)},function(e,t,n){"use strict";var i=n(1651);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(11),a=n(25),o=n(711),r=n(208),l=n(43),c=n(319),d=n(1),u=n(1652),h=(n.n(u),n(14)),p=n(3);function g(e){return!!/[0-9]{1,3}/.test(e)&&parseInt(e,10)<=100}function m(e){return/[A-Fa-f0-9]{6}/.test(e)}t.a=class extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleHexChange=this.handleHexChange.bind(this),this.handleOpacityChange=this.handleOpacityChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{color:{id:e},highlight:t,onHover:n}=this.props;t&&n({cid:e})}handleDelete(){const{color:{name:e,id:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():a.a({message:`Remove “${e}”?`,done:{name:"REMOVE",cb:()=>{n(t)}},cancel:{name:"KEEP"}})}handleHexChange(e){const{color:{id:t},onDataChange:n}=this.props,{r:i,g:a,b:o}=s.a.fromHex(`#${e}`);n(t,{r:i,g:a,b:o})}handleNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleOpacityChange(e){const{color:{id:t},onDataChange:n}=this.props;n(t,{a:parseInt(e,10)/100})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}render(){const{color:e,userRole:t,readOnly:n,highlight:s,onAttemptToChange:a}=this.props,{projectType:u}=this.context,f=e.name,b=e.hexBase(),y=Math.round(100*e.a),S=e.toRGBString(),v=e.toRGBAString(),C=Object(p.a)("colorCell",{highlight:s});let E=i.h("div",{class:C,ref:Object(h.a)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"colorPreview",style:{backgroundColor:v}},!n&&i.h("button",{type:"button",onClick:this.handleDelete},i.h(l.l,null))),i.h("div",{class:"colorInformation"},i.h("div",{class:"colorNameContainer"},i.h(o.a,{class:"colorName",spellCheck:"false",filterRegex:d.e[u],prefix:"#",maxLength:36,ellipsized:!0,initialValue:f,disabled:n,blurOnEnter:!0,onAttemptToChange:a,onBlur:this.handleNameChange})),i.h("div",{class:"colorValueContainer"},i.h(o.a,{class:"colorHex",maxLength:6,spellCheck:"false",filterRegex:/([^a-fA-F0-9])/g,prefix:"#",validator:m,initialValue:b,disabled:n,blurOnEnter:!0,onAttemptToChange:a,onBlur:this.handleHexChange}),i.h(o.a,{class:"colorAlpha",maxLength:3,filterRegex:/([^0-9])/g,suffix:"%",validator:g,initialValue:y,disabled:n,blurOnEnter:!0,onAttemptToChange:a,onBlur:this.handleOpacityChange})),i.h("div",{class:"colorRGB"},S)));return n&&(E=i.h(r.a,{content:Object(c.a)(t,"edit colors")},E)),E}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(0),s=n(204),a=n(1655);n.n(a);t.a=function(e){const{styleguideName:t,onGoToStyleguide:n,onHideClick:a,styleguideSectionToEdit:o}=e;return i.h(s.a,{class:"styleguideEditHintBox",onActionClick:n,actionContent:"Go to Styleguide",onHideClick:a,hideButtonText:"Got it!"},"Go to “",t,"” to edit ",o,", since it’s a linked styleguide.")}},function(e,t){},function(e,t,n){"use strict";var i=n(1657);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(732),r=n(11),l=n(1659);n.n(l);function c({name:e,color:t,onClick:n}){return i.h("button",{class:"colorItem",onClick:n},i.h("div",{class:"colorPreview",style:{backgroundColor:t}}),i.h("span",{class:"name"},e))}function d(e){const{onAddAll:t,onAdd:n,onHideClick:s,colors:a}=e,r=a.length>1;return i.h(o.a,{class:"candidateColorsHintBox",onActionButtonClick:t,onHideClick:s,actionButtonText:r?"Add All Colors":"Add Color",hideButtonText:r?"Ignore these colors!":"Ignore the color!",emoji:"👩‍🎨",title:`Found ${r?a.length+" colors":"a color"} during the last export, want to add ${r?"them":"it"}?`,description:r?"Click to add them individually or select “Add All Colors”.":"Click the color below or select “Add Color” to add it."},i.h("div",{class:"colorsContainer"},a.map(e=>{const t=e.toHexString();return i.h(c,{key:e.id,name:e.name||t,color:t,onClick:()=>n(e)})})))}d.propTypes={colors:a.a.arrayOf(a.a.instanceOf(r.a)).isRequired,onHideClick:a.a.func.isRequired,onAdd:a.a.func.isRequired,onAddAll:a.a.func},t.a=d},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1662);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(25),a=n(14),o=n(1),r=n(8),l=n(656),c=n(525),d=n(31),u=n(207),h=n(58),p=n(57),g=n(318),m=n(60),f=n(156),b=n(547),y=n(386),S=n(529),v=n(1663),C=n(654),E=n(655),O=n(1668),T=n(33),k=n(74),D=n(43),_=n(1671);n.n(_);function w(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}t.a=Object(k.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={styleguideToShowTextStyleEditHintBox:null},this.unsetStyleguideForTextStyleEditHintBox=(()=>{this.setState({styleguideToShowTextStyleEditHintBox:null})}),this.goToStyleguideToEdit=(()=>{const{styleguideToShowTextStyleEditHintBox:e}=this.state;location.assign(Object(r.j)("styleguide-textstyles",{url:{bid:e}}))}),this.goToTop=(()=>{if(!this.nodeRefs)return;const{textStyles:e}=this.nodeRefs;e.scrollTop=0}),this.handleColorDelete=(e=>{d.b.updateTextStyle({tsid:e,textStyleData:{color:null},syncWithApi:!0})}),this.handleDelete=(e=>{d.b.removeTextStyle({tsid:e,syncWithApi:!0})}),this.handleHideSuggestedTextStyles=(()=>{const{barrelId:e,suggestedTextStyles:t}=this.state;u.a.hideSuggestedTextStyles(e,t)}),this.handleNameChange=((e,t)=>{const{textStylesData:[{textStyles:n}]}=this.state;if(n.some(e=>e.name===t))return s.a({title:`${t} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();d.b.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}),this.handleAddTextStyle=(e=>{d.b.addTextStyle({textStyle:e,syncWithApi:!0})}),this.handleAddAllTextStyles=(()=>{const{suggestedTextStyles:e}=this.state;d.b.addMultipleTextStyles({textStyles:e,syncWithApi:!0})}),this.handleMoveTextStylesToClick=(e=>{e.stopPropagation();const{textStylesData:[{textStyles:t}]}=this.state;u.a.openMoveResourcesPopup({resourceType:T.e.TEXT_STYLES,resources:t,targetNode:this.nodeRefs.contextMenuButton})}),this.handleDeleteAllMenuItemClick=(e=>{e.stopPropagation(),s.a({title:"Delete all text styles?",message:"Deleted text styles cannot be restored",done:{name:"DELETE",cb(){d.b.removeAllTextStyles({syncWithApi:!0})}},cancel:{name:"KEEP"}})}),t}static getStores(){return[d.e,u.b,p.c,h.c,g.d,m.b]}static calculateState(){const{loading:e,barrelId:t}=d.e.getState();if(e)return{loading:!0};const n=d.d.getBarrel(),i=d.d.findUser(),{rightSidebarWidth:s,highlightedTextStyles:a,scrolledSection:r,highlightScrolledSection:l,moveResourcesPopup:m}=u.b.getState(),{suggestedResourcesByBarrel:f}=g.d.getState(),{textStyles:b=[]}=f[t]||{},{role:y}=i,S=new c.a(n);let v=d.d.getStyleguidesData({barrelStore:d.e,styleguidesDataStore:h.c,projectsDataStore:p.c}).filter(({textStyles:{length:e}=[]})=>e).map(e=>{let{componentSections:t}=e;return w(e,["componentSections"])});!v.some(e=>e.id===t)&&b.length&&(v=[{id:t,name:"Local Styleguide",textStyles:[],colors:[]},...v]);const C=o.C.canManageTextStyles(i);return{barrel:n,barrelId:t,barrelUser:i,userRole:y,sidebarWidth:s,highlightedTextStyles:a,scrolledSection:r,highlightScrolledSection:l,moveResourcesPopup:m,suggestedTextStyles:b,formatter:S,textStylesData:v,canManageTextStyles:C}}setStyleguideForTextStyleEditHintBox(e){this.setState({styleguideToShowTextStyleEditHintBox:e})}renderSuggestedTextStyles(){const{suggestedTextStyles:e,formatter:t}=this.state;return e.length?i.h(O.a,{textStyles:e,formatter:t,onHideClick:this.handleHideSuggestedTextStyles,onAdd:this.handleAddTextStyle,onAddAll:this.handleAddAllTextStyles}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelId:s,barrelUser:o,moveResourcesPopup:c,canManageTextStyles:d}=this.state,u=c&&c.resourceType===T.e.TEXT_STYLES,h=e!==s?i.h("a",{href:Object(r.j)("styleguide-textstyles",{url:{bid:e}}),class:"headerButton",title:`Go to ${t}`,"data-link-type":"inApp","data-back":n.name},i.h(D.r,null)):null,p=Object(l.a)(n,o),g=[p&&i.h(f.a.Item,{key:"Move text styles to styleguide",onClick:this.handleMoveTextStylesToClick},"Move text styles to styleguide…"),p&&d&&i.h(f.a.ItemDivider,{key:"warningDivider"}),d&&i.h(f.a.Item,{warning:!0,key:"Delete all text styles",onClick:this.handleDeleteAllMenuItemClick},"Delete all text styles")].filter(Boolean),m=e===s&&g.length>0?i.h(S.a,{baseRef:Object(a.a)(this,"contextMenuButton"),keepActive:u,menuItems:g}):null;return h||m?i.h("div",null,m,h):null}renderTextStyleCatalogs(){const{barrelId:e,userRole:t,textStylesData:n,scrolledSection:s,highlightScrolledSection:a,highlightedTextStyles:o,suggestedTextStyles:r,formatter:l,styleguideToShowTextStyleEditHintBox:c,canManageTextStyles:d}=this.state,{onLinkStyleguide:h}=this.props;if(!n||!n.length)return i.h(b.a,{type:b.a.TYPE.TEXT_STYLES,before:!!r.length&&i.h("div",{class:"emptyStateSuggestedTextStyles"},i.h(S.b,null,"Local Styleguide"),this.renderSuggestedTextStyles()),onButtonClick:h});const p=n.map(e=>{let{textStyles:t}=e;return w(e,["textStyles"])});return n.map(({id:n,name:r,type:h,densityScale:g,remPreferences:m,textStyles:f})=>{const b=n===e,y=c===n&&!b;return i.h(i.Fragment,{key:`textStyleCatalog-${n}`},i.h(S.b,{scroll:s===n,highlight:s===n&&a,onScroll:u.a.sectionScrolled},r,this.renderStyleguideHeaderEnd({id:n,name:r})),y&&i.h(E.a,{styleguideSectionToEdit:"text styles",styleguideName:r,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForTextStyleEditHintBox}),b&&this.renderSuggestedTextStyles(),i.h(v.a,{platform:h,densityScale:g,remPreferences:m,textStyles:f,colorsData:p,highlightedTextStyles:o,userRole:t,readOnly:!d,formatter:l,onHover:u.a.unhighlightTextStyle,onAttemptToChange:!b&&this.setStyleguideForTextStyleEditHintBox.bind(this,n),onNameChange:this.handleNameChange,onColorDelete:this.handleColorDelete,onDelete:this.handleDelete}))})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(y.a,{minWidth:280,initialWidth:t,onClick:o.J,onRelease:u.a.changeRightSidebarWidth},i.h(C.a,{type:"textStyle",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent textStyleCatalogContent",ref:Object(a.a)(this,"textStyles")},this.renderTextStyleCatalogs()),this.renderSidebar())}})},function(e,t,n){"use strict";var i=n(1664);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e){const{platform:t,densityScale:n,remPreferences:o,formatter:r,textStyles:l,colorsData:c,highlightedTextStyles:d,readOnly:u,userRole:h,onHover:p,onAttemptToChange:g,onNameChange:m,onColorDelete:f,onDelete:b}=e;return i.h("div",{class:"textStyleCatalog"},l.map((e,l)=>{const{id:y,color:S}=e,v=d[0]===y,C=v||d.includes(y),E=S&&Object(a.c)(S,r,c);return i.h(s.a,{key:e.id,platform:t,densityScale:n,remPreferences:o,readOnly:u,userRole:h,formatter:r,textStyle:e,textStyleColor:E,tabIndex:l+1,scrollIntoView:v,highlight:C,onHover:p,onAttemptToChange:g,onNameChange:m,onColorDelete:f,onDelete:b})}))};var i=n(0),s=n(1665),a=n(545)},function(e,t,n){"use strict";var i=n(1666);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(14),o=n(319),r=n(25),l=n(43),c=n(34),d=n(375),u=n(208),h=n(542),p=n(75),g=n(1667);n.n(g);t.a=class extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}generateFontStyle(){const{textStyle:{scaledFontSize:e,fontWeight:t,fontStyle:n}}=this.props;return{fontSize:`${e}px`,fontWeight:t,fontStyle:n}}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{textStyle:{id:e},highlight:t,onHover:n}=this.props;t&&n({tsid:e})}handleColorDelete(){const{textStyle:{id:e,name:t},onColorDelete:n,onAttemptToChange:i}=this.props;i?i():r.a({message:`Delete color of "${t}"?`,done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleDelete(){const{textStyle:{id:e,name:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():r.a({title:`Delete "${t}"?`,message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleNameBlur({discard:e,value:t}){const{textStyle:{id:n,name:i},onNameChange:s}=this.props;e||i===t||s(n,t)}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderMainInfo(){const{platform:e,densityScale:t,remPreferences:n,formatter:s,textStyle:a}=this.props,{content:o,fontSize:r}=Object(h.d)(a),l="web"===e&&"enabled"===n.status&&n.useForFontSizes;return[i.h("span",{key:o,title:o,class:"ellipsis"},o),`, ${l?Object(p.e)(r/t,n.remRootFontSize):s.textLength(r)}`]}renderColor(){const{textStyleColor:e}=this.props;return e?i.h("div",{class:"colorContainer"},i.h("span",{class:"colorPreview",style:{backgroundColor:e.colorStyle}}),i.h("span",{class:"color ellipsis"},e.added?`#${e.name}`:e.colorString),i.h(c.a,{class:"deleteColor",onClick:this.handleColorDelete},i.h(l.l,null))):null}render(){const{readOnly:e,userRole:t,formatter:n,textStyle:r,tabIndex:p,highlight:g,onAttemptToChange:m}=this.props;let f=i.h(d.a,{class:"name",fontStyle:this.generateFontStyle(),onBlur:this.handleNameBlur,onAttemptToChange:m,value:r.name,minLength:"1",maxLength:"100",required:!0,readOnly:e,tabIndex:p,ellipsized:!0});e&&(f=i.h(u.a,{content:Object(o.a)(t,"edit text styles")},f));const b=Object(s.a)("textStyleRow",{readOnly:e,highlight:g});return i.h("div",{class:b,ref:Object(a.a)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"nameContainer"},f),i.h("div",{class:"info"},i.h("div",{class:"mainInfo"},i.h("div",{class:"style"},this.renderMainInfo()),this.renderColor()),i.h("div",{class:"extraInfo ellipsis"},Object(h.c)(n,r))),i.h(c.a,{class:"deleteTextStyle",onClick:this.handleDelete},i.h(l.l,null)))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1669);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(732),r=n(542),l=n(1670);n.n(l);function c({name:e,info:t,subInfo:n,color:s,onClick:a}){return i.h("button",{class:"textStyleItem",onClick:a},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"infoContainer"},i.h("div",{class:"mainInfo"},i.h("div",{class:"info ellipsis"},t),s&&i.h("span",{class:"colorPreview",style:{backgroundColor:s}})),n&&i.h("div",{class:"subInfo ellipsis"},n)))}function d(e){const{onAddAll:t,onAdd:n,onHideClick:s,textStyles:a,formatter:l}=e,d=a.length>1;return i.h(o.a,{class:"candidateTextStylesHintBox",onActionButtonClick:t,onHideClick:s,actionButtonText:d?"Add All Text Styles":"Add Text Style",hideButtonText:d?"Ignore these text styles!":"Ignore the text style!",emoji:"👩‍🏫",title:`Found ${d?a.length+" text styles":"a text style"} during the last export, want to add ${d?"them":"it"}?`,description:d?"Click to add them individually or select “Add All Text Styles”.":"Click the text style below or select “Add Text Style” to add it."},i.h("div",{class:"textStylesContainer"},a.map(e=>{const t=e.name,{content:s,fontSize:a}=Object(r.d)(e),o=[s,l.textLength(a)].join(", "),d=e.color&&e.color.toHexString(),u=Object(r.c)(l,e);return i.h(c,{key:e.id,id:t,name:t,info:o,subInfo:u,color:d,onClick:()=>n(e)})})))}d.propTypes={textStyles:a.a.array.isRequired,onHideClick:a.a.func.isRequired,onAdd:a.a.func.isRequired,onAddAll:a.a.func},t.a=d},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1673);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(74),r=n(25),l=n(14),c=n(1),d=n(8),u=n(57),h=n(58),p=n(31),g=n(207),m=n(60),f=n(1674),b=n(733),y=n(386),S=n(1675),v=n(654),C=n(529),E=n(1681),O=n(43),T=n(1693);n.n(T);class k extends i.Component{constructor(...e){var t;return t=super(...e),this.goToTop=(()=>{this.nodeRefs&&(this.nodeRefs.spacingSections.scrollTop=0)}),this.handleCreateSection=(()=>{p.b.addSpacingSection({spacingSection:{name:"Layout",description:"Add your spacing documentation here, _using markdown_."},syncWithApi:!0})}),this.handleUpdateSection=(e=>{p.b.updateSpacingSection(Object.assign({},e,{syncWithApi:!0})),e.updatedSpacingSection.hasOwnProperty("description")&&m.a.stopPromotingSpacingSectionDescriptionEditButton()}),this.handleDeleteSection=(e=>{p.b.removeSpacingSection({ssid:e,syncWithApi:!0})}),this.handleCreateToken=(e=>{const t=this.localStyleguideSpacingSections.find(({_id:t})=>t===e),n=t.spacingTokens.find(({_id:e})=>e===t.baseTokenId),i=this.localStyleguideSpacingTokens.map(({token:e})=>e),s=Object.assign({_id:b.a},Object(f.a)(t.spacingTokens,i,n&&n.value));p.b.addSpacingToken({ssid:e,spacingToken:s})}),this.handleUpdateToken=((e,t)=>{const{ssid:n,sptid:i,updatedSpacingToken:s}=e,{token:a,value:o}=s,{spacingSectionsData:l}=this.props,{barrel:c}=this.state,d=l.find(({id:e})=>e===c.id).spacingSections.find(({_id:e})=>e===n),u=this.localStyleguideSpacingTokens.some(e=>e.token===a&&e._id!==i),h=d.spacingTokens.some(e=>e.value===o);let g=d.spacingTokens.find(({_id:e})=>e===i),m=!0;if(g){if(""===a||""===o?m=!1:u?(m=!1,r.a({title:`${a} already exists`,message:"Please enter another name for the spacing token.",done:{name:"GOT IT"}})):h&&(m=!1,r.a({title:`${o}${t} already exists`,message:"Please enter another value for the spacing token.",done:{name:"GOT IT"}})),i===b.a){this.handleDeleteToken({ssid:n,sptid:i});let e=g;return delete e._id,m&&(e=Object.assign({},e,{token:a})),void p.b.addSpacingToken({ssid:n,spacingToken:e,syncWithApi:!0})}m&&p.b.updateSpacingToken(Object.assign({},e,{syncWithApi:!0}))}}),this.handleDeleteToken=(e=>{p.b.removeSpacingToken(Object.assign({},e,{syncWithApi:e.sptid!==b.a}))}),this.handleRemPreferencesUpdate=(e=>{p.b.updateRemPreferences(Object.assign({},e,{syncWithApi:!0}))}),t}static calculateState(){const{loading:e}=p.e.getState();if(e)return{loading:!0};const t=p.d.getBarrel(),n=p.d.findUser(),{scrolledSection:i,highlightScrolledSection:s,highlightedSpacingTokens:a,rightSidebarWidth:o}=g.b.getState(),{shouldPromoteSpacingSectionDescriptionEditButton:r}=m.b.getState();return{loading:!1,barrel:t,barrelUser:n,scrolledSection:i,highlightScrolledSection:s,highlightedSpacingTokens:a,sidebarWidth:o,shouldPromoteSpacingSectionDescriptionEditButton:r}}static getStores(){return[p.e,g.b,u.c,h.c,m.b]}get localStyleguideSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t}=this.state;return e.find(({id:e})=>e===t.id).spacingSections}get localStyleguideSpacingTokens(){return this.localStyleguideSpacingSections.flatMap(e=>e.spacingTokens)}renderSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t,barrelUser:n,scrolledSection:s,highlightScrolledSection:a,highlightedSpacingTokens:o,shouldPromoteSpacingSectionDescriptionEditButton:r}=this.state;return e.map(({id:e,name:l,spacingSections:c,dimensionSuffix:u})=>{const h=e===t.id;return i.h(i.Fragment,{key:`spacingTokens-${e}`},i.h(C.b,{scroll:s===e,highlight:s===e&&a,onScroll:g.a.sectionScrolled},l,!h&&i.h("a",{href:Object(d.j)("styleguide-spacing",{url:{bid:e}}),class:"headerButton",title:`Go to ${l}`,"data-link-type":"inApp","data-back":t.name},i.h(O.r,null))),c.map(e=>i.h(E.a,{key:`spacingSection-${e._id}`,section:e,highlightedSpacingTokens:o,barrelUser:n,shouldDisplayDeleteButton:c.length>1,shouldDisplayCreateButton:!c.some(e=>0===e.spacingTokens.length),isLocalStyleguide:h,shouldPromoteDescriptionEditButton:r,dimensionSuffix:u,onSpacingTokenRowHover:g.a.unhighlightSpacingToken,onCreateSection:this.handleCreateSection,onUpdateSection:this.handleUpdateSection,onDeleteSection:this.handleDeleteSection,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken})))})}renderSidebar(){const{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onExportClick:n}=this.props,{barrel:{type:s},sidebarWidth:a}=this.state;return i.h(y.a,{class:"spacingsSidebar",minWidth:280,initialWidth:a,onClick:c.J,onRelease:g.a.changeRightSidebarWidth},"web"===s&&i.h(S.a,{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onUpdate:this.handleRemPreferencesUpdate}),i.h(v.a,{type:"spacing",onExportClick:n}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent spacingsContent",ref:Object(l.a)(this,"spacingSections")},this.renderSpacingSections()),this.renderSidebar())}}k.propTypes={remPreferences:a.a.object.isRequired,parentStyleguideToInheritRemPreferences:a.a.object.isRequired,spacingSectionsData:a.a.array.isRequired,onExportClick:a.a.func.isRequired},t.a=Object(o.a)(k,{withProps:!0})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const i=/\d+$/,s=/\w+$/,a={SHORT:["xxs","xs","s","m","l","xl","xxl"],LONG:["xxsmall","xsmall","small","medium","large","xlarge","xxlarge"]},o=4;function r(e,t,n){const r=e.length,l=e[r-1],c=n||o,d={token:"spacing-xxs",value:o,color:{r:153,g:102,b:204,a:.2}};if(r){const t=e[0].value?0:1;let n,i,s=0,a=0;for(let o=1;o<r;o++){let t=e[o].value-e[o-1].value;s!==o-1||n&&n!==t||(n=t,s++),o>=2&&t===e[o-2].value&&a++}i=1===r?l.value||o:s===r-1?n:a===r-2-t?e[r-2].value:c-l.value%c,d.value=l.value+i}if(t.length){const e=l?l.token:d.token,n=e.match(s);let o,r=!1;if(n){const i=e.slice(0,n.index),s=n[0];let l;if(a.SHORT.includes(s)?l="SHORT":a.LONG.includes(s)&&(l="LONG"),l){let e=a[l].indexOf(s);for(;!r&&e+1<a[l].length;)e++,o=`${i}${a[l][e]}`,r=!t.includes(o)}}if(!r){const n=e.match(i);let s,a;for(n?(s=e.slice(0,n.index),a=parseInt(n[0],10)):(s=e,a=1);!r;)a++,o=s.endsWith("-")?s:`${s}-`,o+=a,r=!t.includes(o)}d.token=o}return d}},function(e,t,n){"use strict";var i=n(1676);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(25),r=n(3),l=n(193),c=n(528),d=n(146),u=n(204),h=n(734),p=n(1680);n.n(p);class g extends i.Component{constructor(...e){var t;return t=super(...e),this.handleEnableStatusChange=(()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,s=n||i;t({updatedRemPreferences:{status:s?"disabled":"enabled",useForFontSizes:!s,useForMeasurements:!s}})}),this.handleUseForFontSizeChange=(()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,s=!n;t({updatedRemPreferences:{status:s||i?"enabled":"disabled",useForFontSizes:s}})}),this.handleUseForMeasurementsChange=(()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,s=!i;t({updatedRemPreferences:{status:n||s?"enabled":"disabled",useForMeasurements:s}})}),this.handleRootFontSizeChange=(e=>{const{remPreferences:t,onUpdate:n}=this.props,{status:i,remRootFontSize:s}=t;if(""!==e)if(0===e)o.a({title:"Invalid root font size",message:"Since rem is a relative unit, root font size should be greater than 0.",done:{name:"GOT IT"}});else if(e!==s){n({updatedRemPreferences:{status:i,remRootFontSize:e}})}}),this.handleRevertClick=(()=>{const{parentStyleguideToInheritRemPreferences:e,onUpdate:t}=this.props;t({updatedRemPreferences:Object.assign({},e.remPreferences,{status:"linked"})})}),t}render(){const{permissions:{canManageRemSettings:e}}=this.context,{remPreferences:t,parentStyleguideToInheritRemPreferences:n}=this.props,{remRootFontSize:s,useForFontSizes:a,useForMeasurements:o}=t,p=a||o,g=!e||!p,m=n&&Object(l.a)(n.remPreferences,t),f=Object(r.a)("styleguideRemSettings codePanel",{enabled:p,permitted:e});return i.h("div",{class:f},i.h(c.a,null),i.h("div",{class:"title"},i.h("h3",null,"rem")),i.h("label",{class:"label mainCheckboxLabel"},i.h(d.a,{class:Object(r.a)({enabled:p}),checked:p,disabled:!e,onChange:this.handleEnableStatusChange}),i.h("span",{class:"checkboxText"},"Use “rem” unit")),i.h("label",{class:"label"},i.h(d.a,{class:Object(r.a)({enabled:a}),checked:a,disabled:g,onChange:this.handleUseForFontSizeChange}),i.h("span",{class:"checkboxText"},"Use for font size")),i.h("label",{class:"label"},i.h(d.a,{class:Object(r.a)({enabled:o}),checked:o,disabled:g,onChange:this.handleUseForMeasurementsChange}),i.h("span",{class:"checkboxText"},"Use for measurements")),i.h("label",{class:"label rootFontSizeLabel"},i.h("span",null,"Root font size:"),i.h(h.a,{value:s,onBlur:this.handleRootFontSizeChange,suffix:"px",isDisabled:g})),m&&e&&i.h("div",{class:"hintBoxContainer"},i.h(u.a,{actionContent:"Revert",onActionClick:this.handleRevertClick},`This styleguide has overridden the rem settings from the parent styleguide "${n.name}".`)))}}g.propTypes={remPreferences:a.a.object.isRequired,parentStyleguideToInheritRemPreferences:a.a.object,onUpdate:a.a.func.isRequired},t.a=g},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(735);const r=/^-?\d*[.]?\d*$/,l=/^0+/;class c extends i.Component{constructor(...e){var t;return t=super(...e),this.normalizeValue=((e,t)=>{let n=e;return""!==n&&(!(n=r.test(e)?e.replace(l,""):t)||n<0)&&(n=0),n}),this.handleKeyDown=((e,t)=>{if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){return e.preventDefault(),(""===t?0:parseFloat(t))+1}if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const n=t-1;return n<0?0:n}return t}),this.handleBlur=(e=>{const{onBlur:t}=this.props;t(""===e?e:parseFloat(e))}),t}render(){const{value:e,placeholder:t,suffix:n,isDisabled:s}=this.props;return i.h(o.a,{value:e,suffix:n,placeholder:t,isDisabled:s,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,normalizeValue:this.normalizeValue})}}c.propTypes={value:a.a.number,onBlur:a.a.func.isRequired,placeholder:a.a.string,suffix:a.a.string,isDisabled:a.a.bool},t.a=c},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(14),r=n(26),l=n(1679);n.n(l);class c extends i.Component{constructor(...e){var t;return t=super(...e),this.state={value:this.props.value,isFocused:!1},this.highlight=(()=>{Object(r.g)(this.nodeRefs.input)}),this.setValueToStateFromProps=(()=>{this.setState({value:this.props.value})}),this.handleKeyDown=(e=>{const{onKeyDown:t,onEscape:n}=this.props;if(e.keyCode===Zeplin.KEY_CODE.ESC){if(e.preventDefault(),n)return void n();this.setValueToStateFromProps(),e.target.blur()}else e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.preventDefault(),e.target.blur());t&&this.setState({value:t(e,this.state.value)})}),this.handleBlur=(()=>{const{onBlur:e}=this.props;e(this.state.value),this.setState({isFocused:!1})}),this.handleFocus=(()=>{this.setState({isFocused:!0})}),this.handleInput=(e=>{const{normalizeValue:t}=this.props,{value:n}=this.state,{value:i}=e.target;this.setState({value:t?t(i,n):i})}),t}componentDidUpdate(){const{value:e,isFocused:t}=this.state;t||e===this.props.value||this.setValueToStateFromProps()}render(){const{placeholder:e,suffix:t,isDisabled:n}=this.props,{value:s}=this.state;return i.h("label",{class:"styleguideFormInputContainer ellipsis"},i.h("div",{class:"styleguideFormInputContent"},i.h("span",{class:"mirror ellipsis"},s),i.h("input",{ref:Object(o.a)(this,"input"),class:"styleguideFormInput ellipsis",placeholder:e,type:"text",minlength:"1",maxlength:"100",value:s,disabled:n,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus})),t)}}c.propTypes={value:a.a.oneOfType([a.a.string,a.a.number]),onBlur:a.a.func.isRequired,onEscape:a.a.oneOfType([a.a.func,a.a.bool]),normalizeValue:a.a.func,onKeyDown:a.a.func,placeholder:a.a.string,suffix:a.a.string,isDisabled:a.a.bool},t.a=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1682);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(14),r=n(3),l=n(375),c=n(731),d=n(1683),u=n(34),h=n(156),p=n(43),g=n(1692);n.n(g);class m extends i.Component{constructor(e){super(e),this.handleUpdateName=this.handleUpdateName.bind(this),this.handleEditDescription=this.handleEditDescription.bind(this),this.handleUpdateDescription=this.handleUpdateDescription.bind(this),this.handleCancelDescription=this.handleCancelDescription.bind(this),this.handleUpdateBaseToken=this.handleUpdateBaseToken.bind(this),this.handleDeleteSection=this.handleDeleteSection.bind(this),this.handleCreateToken=this.handleCreateToken.bind(this),this.handleUpdateToken=this.handleUpdateToken.bind(this),this.handleDeleteToken=this.handleDeleteToken.bind(this),this.handleContextMenuButtonClick=this.handleContextMenuButtonClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.state={isEditingDescription:!1,isContextMenuOpen:!1,shouldFocusOnTokenName:!1}}get isEditable(){const{isLocalStyleguide:e}=this.props,{permissions:{canManageSpacings:t}}=this.context;return e&&t}handleUpdateName({discard:e,value:t}){const{section:n,onUpdateSection:i}=this.props,{_id:s,name:a}=n;e||t===a||i({ssid:s,updatedSpacingSection:{name:t}})}handleEditDescription(){this.setState({isEditingDescription:!0})}handleUpdateDescription(e){const{section:t,onUpdateSection:n}=this.props,{_id:i,description:s}=t;this.setState({isEditingDescription:!1}),e!==s&&n({ssid:i,updatedSpacingSection:{description:e}})}handleCancelDescription(){this.setState({isEditingDescription:!1})}handleUpdateBaseToken(e){const{section:t,onUpdateSection:n}=this.props;n({ssid:t._id,updatedSpacingSection:{baseTokenId:e}})}handleDeleteSection(){const{onDeleteSection:e,section:t}=this.props;e(t._id)}handleCreateToken(){const{section:e,onCreateToken:t}=this.props;t(e._id)}handleUpdateToken(e,t,n=null){const{section:i,onUpdateToken:s}=this.props;s({ssid:i._id,sptid:e,updatedSpacingToken:t},n)}handleDeleteToken(e){const{section:{_id:t},onDeleteToken:n}=this.props;n({ssid:t,sptid:e})}handleContextMenuButtonClick(){this.setState({isContextMenuOpen:!0})}handleContextMenuClose(){this.setState({isContextMenuOpen:!1})}componentDidUpdate(e){const{shouldFocusOnTokenName:t}=this.state;this.props.section.spacingTokens.length>e.section.spacingTokens.length?this.setState({shouldFocusOnTokenName:this.isEditable}):t&&this.setState({shouldFocusOnTokenName:!1})}renderContextMenu(){const{contextMenuButtonContainer:e}=this.nodeRefs,{shouldDisplayDeleteButton:t,shouldDisplayCreateButton:n,onCreateSection:s}=this.props,a=e.getBoundingClientRect(),o=[];return n&&(o.push(i.h(h.a.Item,{key:"create",onClick:s},"Create new section")),t&&o.push(i.h(h.a.ItemDivider,{key:"warningDivider"}))),t&&o.push(i.h(h.a.Item,{key:"remove",onClick:this.handleDeleteSection,warning:!0},"Delete section")),i.h(h.a.withAutoPosition,{autoPosition:{sidebar:".spacingsSidebar",menuContainer:e,clickOrigin:{x:a.right-a.width,y:a.top}},onClose:this.handleContextMenuClose},o)}render(){const{section:e,highlightedSpacingTokens:t,barrelUser:n,shouldDisplayDeleteButton:s,shouldDisplayCreateButton:a,isLocalStyleguide:h,shouldPromoteDescriptionEditButton:g,dimensionSuffix:m,onSpacingTokenRowHover:f}=this.props,{name:b,description:y,baseTokenId:S,spacingTokens:v}=e,{isEditingDescription:C,isContextMenuOpen:E,shouldFocusOnTokenName:O}=this.state;return i.h("div",{class:"spacingSection"},i.h("div",{class:"nameContainer"},i.h(l.a,{value:b,required:!0,readOnly:!this.isEditable,onBlur:this.handleUpdateName}),this.isEditable&&(a||s)&&i.h("div",{ref:Object(o.a)(this,"contextMenuButtonContainer"),class:"contextMenuButtonContainer"},i.h(u.a,{class:Object(r.a)("contextMenuButton",{active:E}),onClick:this.handleContextMenuButtonClick},i.h(p.u,null),E&&this.renderContextMenu()))),i.h(c.a,{value:y,placeholder:"No description yet",editing:C,readOnly:!this.isEditable,shouldPromoteEditButton:g,onEdit:this.handleEditDescription,onUpdate:this.handleUpdateDescription,onCancel:this.handleCancelDescription}),i.h(d.a,{tokens:v,highlightedSpacingTokens:t,baseTokenId:S,dimensionSuffix:m,barrelUser:n,isLocalStyleguide:h,shouldFocusOnName:O,onSpacingTokenRowHover:f,onUpdateBaseToken:this.handleUpdateBaseToken,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken}))}}m.propTypes={section:a.a.object.isRequired,highlightedSpacingTokens:a.a.array.isRequired,barrelUser:a.a.object.isRequired,shouldDisplayDeleteButton:a.a.bool.isRequired,shouldDisplayCreateButton:a.a.bool.isRequired,isLocalStyleguide:a.a.bool.isRequired,shouldPromoteDescriptionEditButton:a.a.bool.isRequired,dimensionSuffix:a.a.string.isRequired,onSpacingTokenRowHover:a.a.func.isRequired,onCreateSection:a.a.func.isRequired,onUpdateSection:a.a.func.isRequired,onDeleteSection:a.a.func.isRequired,onCreateToken:a.a.func.isRequired,onUpdateToken:a.a.func.isRequired,onDeleteToken:a.a.func.isRequired},t.a=m},function(e,t,n){"use strict";var i=n(1684);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(3),r=n(34),l=n(208),c=n(1685),d=n(319),u=n(1691),h=(n.n(u),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});const p=1,g=[{token:"spacing-xs",value:4},{token:"spacing-s",value:8},{token:"spacing-m",value:12}];class m extends i.Component{get isThereAnyToken(){const{tokens:e}=this.props;return Boolean(e&&e.length)}get tokensToRender(){return this.isThereAnyToken?this.props.tokens:g}get baseToken(){const{tokens:e,baseTokenId:t}=this.props;return t&&e.find(e=>e._id===t)||g[p]}get createTokenButtonText(){return this.isThereAnyToken?"+ Add token":"+ Add first token"}renderTokens(){const{highlightedSpacingTokens:e,dimensionSuffix:t,isLocalStyleguide:n,shouldFocusOnName:s,onSpacingTokenRowHover:a,onUpdateBaseToken:o,onUpdateToken:r,onDeleteToken:l}=this.props;return this.tokensToRender.map((d,u)=>{const{_id:h,token:p,value:g}=d;return i.h(c.a,{key:`spacingTokenTableRow-${p}-${g}-${h}`,isEmpty:!this.isThereAnyToken,shouldHighlight:e.includes(h),shouldFocusOnName:s&&u===this.tokensToRender.length-1,tokenData:d,baseToken:this.baseToken,dimensionSuffix:t,isLocalStyleguide:n,onHover:a,onUpdateBaseToken:o,onUpdateToken:r,onDeleteToken:l})})}renderCreateButton(){const{isLocalStyleguide:e,onCreateToken:t}=this.props,{permissions:{canManageSpacings:n}}=this.context,s={};return this.isThereAnyToken?s.ninja=!0:(s.primary=!0,s.disabled=!n),e?i.h(r.a,h({class:"createButton",onClick:t},s),this.createTokenButtonText):null}renderCreateButtonWithOrWithoutTooltip(){const{permissions:{canManageSpacings:e}}=this.context,{isLocalStyleguide:t}=this.props;if(e)return this.renderCreateButton();const{barrelUser:n}=this.props;return t&&!this.isThereAnyToken?i.h(l.a,{targetClass:"createButtonTooltip",content:Object(d.a)(n.role,"add spacing tokens")},this.renderCreateButton()):null}render(){return i.h("div",{class:Object(o.a)("spacingTokenTable",{empty:!this.isThereAnyToken})},i.h("div",{class:"header"},i.h("div",{class:"headerCell"},"Token"),i.h("div",{class:"headerCell"},"Value"),i.h("div",{class:"headerCell"},"Ratio"),i.h("div",{class:"headerCell"},"Example")),this.renderTokens(),this.renderCreateButtonWithOrWithoutTooltip())}}m.propTypes={tokens:a.a.array.isRequired,highlightedSpacingTokens:a.a.array.isRequired,baseTokenId:a.a.string,dimensionSuffix:a.a.string.isRequired,barrelUser:a.a.object.isRequired,isLocalStyleguide:a.a.bool.isRequired,shouldFocusOnName:a.a.bool.isRequired,onSpacingTokenRowHover:a.a.func.isRequired,onUpdateBaseToken:a.a.func.isRequired,onCreateToken:a.a.func.isRequired,onUpdateToken:a.a.func.isRequired,onDeleteToken:a.a.func.isRequired},t.a=m},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(14),r=n(75),l=n(11),c=n(3),d=n(735),u=n(734),h=n(1686),p=n(199),g=n(34),m=n(156),f=n(43),b=n(733),y=n(1690);n.n(y);const S=180,v=24;class C extends i.Component{constructor(...e){var t;return t=super(...e),this.state={isColorPickerPopoverOpen:!1,isContextMenuOpen:!1,colorPickerPopoverLeft:0},this.calculateRatio=(e=>Object(r.c)(e/this.props.baseToken.value,3)),this.handleMouseEnter=(()=>{const{tokenData:{_id:e},shouldHighlight:t,onHover:n}=this.props;t&&n(e)}),this.handleTokenNameInputBlur=(e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,token:s}=n;e===s&&i!==b.a||t(i,{token:e})}),this.handleTokenNameInputEscape=(()=>{const{onDeleteToken:e,tokenData:t}=this.props,{_id:n}=t;n===b.a&&e(n)}),this.handleTokenValueInputBlur=(e=>{const{onUpdateToken:t,tokenData:n,dimensionSuffix:i}=this.props,{_id:s,value:a}=n;e!==a&&t(s,{value:e},i)}),this.handleTokenColorChange=(e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,color:s}=n;new l.a(s).equals(e)||t(i,{color:e})}),this.handleColorPickerPopoverOpen=(()=>{const{exampleContainer:e}=this.nodeRefs,t=e.getBoundingClientRect();this.setState({isColorPickerPopoverOpen:!0,colorPickerPopoverLeft:-t.width/2})}),this.handleColorPickerPopoverClose=(()=>{this.setState({isColorPickerPopoverOpen:!1})}),this.handleContextMenuButtonClick=(()=>{this.setState({isContextMenuOpen:!0})}),this.handleContextMenuClose=(()=>{this.setState({isContextMenuOpen:!1})}),this.handleUpdateBaseToken=(()=>{const{tokenData:e,onUpdateBaseToken:t}=this.props;t(e._id)}),this.handleDeleteToken=(()=>{const{onDeleteToken:e,tokenData:t}=this.props;e(t._id)}),t}get isEditable(){const{isEmpty:e,isLocalStyleguide:t}=this.props,{permissions:{canManageSpacings:n}}=this.context;return t&&n&&!e}componentDidUpdate(){this.props.shouldFocusOnName&&this.nodeRefs.spacingTokenTableRowNameInput.highlight()}renderExampleWithOrWithoutPopover(){if(!this.isEditable)return this.renderExample();const{isColorPickerPopoverOpen:e,colorPickerPopoverLeft:t}=this.state;return i.h(p.a,{open:e,onOpen:this.handleColorPickerPopoverOpen,onClose:this.handleColorPickerPopoverClose,content:this.renderColorPickerPopoverContent(),contentClass:"spacingTokenTableRowColorPickerPopoverContent",left:t,centerY:!0,faceTop:!0,stickToEdge:!0},this.renderExample())}renderColorPickerPopoverContent(){const{tokenData:e}=this.props;return i.h(h.a,{selected:e.color,onChange:this.handleTokenColorChange})}renderExample(){const{tokenData:e}=this.props,{value:t,color:n}=e,s={width:`${t}px`,height:`${t}px`,backgroundColor:n&&new l.a(n).toRGBAString()};return i.h("div",{class:"exampleContainer",ref:Object(o.a)(this,"exampleContainer")},i.h("div",{class:"example",style:s},t>S&&i.h("a",{class:"oversizeExampleWarningText",target:"_blank",href:"https://zpl.io/notactualsize"},"*Not actual size")))}renderContextMenu(e){const{baseToken:t}=this.props,{contextMenuButton:n}=this.nodeRefs,s=n.getBoundingClientRect();return i.h(m.a.withAutoPosition,{autoPosition:{sidebar:".spacingsSidebar",menuContainer:n,clickOrigin:{x:s.left+v,y:s.top-v}},onClose:this.handleContextMenuClose},e!==t._id&&[i.h(m.a.Item,{key:"chooseAsBaseToken",onClick:this.handleUpdateBaseToken},'Choose as "base"'),i.h(m.a.ItemDivider,{key:"warningDivider"})],i.h(m.a.Item,{key:"remove",onClick:this.handleDeleteToken,warning:!0},"Delete token"))}render(){const{isEmpty:e,shouldHighlight:t,tokenData:n,dimensionSuffix:s}=this.props,{isColorPickerPopoverOpen:a,isContextMenuOpen:r}=this.state,{_id:l,token:h,value:p}=n,m=this.calculateRatio(p),y=Object(c.a)("spacingTokenTableRow",{empty:e,highlight:t,readOnly:!this.isEditable,colorPickerPopoverOpen:a,contextMenuOpen:r});return i.h("div",{class:y,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"cell inputCell"},i.h(d.a,{ref:Object(o.a)(this,"spacingTokenTableRowNameInput"),value:h,onBlur:this.handleTokenNameInputBlur,onEscape:l===b.a&&this.handleTokenNameInputEscape,isDisabled:!this.isEditable})),i.h("div",{class:"cell inputCell"},i.h(u.a,{value:p,onBlur:this.handleTokenValueInputBlur,suffix:s,isDisabled:!this.isEditable})),i.h("div",{class:"cell ratioCell ellipsis"},m&&m!==1/0?m:"-"),i.h("div",{class:"cell exampleCell"},p?this.renderExampleWithOrWithoutPopover():"👻"),this.isEditable&&i.h(g.a,{baseRef:Object(o.a)(this,"contextMenuButton"),class:"contextMenuButton",onClick:this.handleContextMenuButtonClick},i.h(f.u,null),r&&this.renderContextMenu(l)))}}C.propTypes={isEmpty:a.a.bool.isRequired,shouldHighlight:a.a.bool.isRequired,shouldFocusOnName:a.a.bool.isRequired,isLocalStyleguide:a.a.bool.isRequired,tokenData:a.a.object.isRequired,baseToken:a.a.object.isRequired,dimensionSuffix:a.a.string.isRequired,onHover:a.a.func.isRequired,onUpdateBaseToken:a.a.func.isRequired,onUpdateToken:a.a.func.isRequired,onDeleteToken:a.a.func.isRequired},t.a=C},function(e,t,n){"use strict";var i=n(1687);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(11),r=n(3),l=n(1688),c=n(1689);n.n(c);const d=6;class u extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusedColorIndex:null}}handleKeyDown(e){const{onChange:t}=this.props,{focusedColorIndex:n}=this.state;let i=n||0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n>=d&&(i=n-d);break;case Zeplin.KEY_CODE.ArrowRight:e.preventDefault(),n%d<d-1&&n<l.a.length-1&&(i=n+1);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n<l.a.length-d&&(i=n+d);break;case Zeplin.KEY_CODE.ArrowLeft:e.preventDefault(),n%d>0&&(i=n-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),t(l.a[i])}this.setState({focusedColorIndex:i})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderColorCells(){const{selected:e,onChange:t}=this.props,{focusedColorIndex:n}=this.state;return l.a.map((s,a)=>{const l=Object(r.a)("colorPickerCell",{selected:new o.a(e).equals(s),focused:n===a}),c=new o.a(s).toRGBAString();return i.h("div",{key:c,class:l,style:{backgroundColor:c},onClick:()=>t(s)})})}render(){return i.h("div",{class:"spacingTokenTableRowColorPicker"},i.h("p",{class:"description"},"Select a color to use while displaying the spacing tokens on the layer detail. Overlays will be transparent."),i.h("div",{class:"colorPickerContainer"},this.renderColorCells()))}}u.propTypes={selected:a.a.string,onChange:a.a.func.isRequired},t.a=u},function(e,t,n){"use strict";t.a=[{r:255,g:128,b:128,a:.2},{r:255,g:179,b:102,a:.2},{r:230,g:230,b:46,a:.2},{r:149,g:230,b:69,a:.2},{r:102,g:204,b:102,a:.2},{r:36,g:179,b:107,a:.2},{r:71,g:179,b:179,a:.2},{r:82,g:143,b:204,a:.2},{r:89,g:89,b:179,a:.2},{r:153,g:102,b:204,a:.2},{r:204,g:143,b:204,a:.2},{r:255,g:179,b:217,a:.2}]},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1695);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(10),a=n(1),o=n(14),r=n(8),l=n(287),c=n(3),d=n(6),u=n(124),h=n(525),p=n(316),g=n(656),m=n(13),f=n(33),b=n(207),y=n(31),S=n(58),v=n(57),C=n(60),E=n(74),O=n(1696),T=n(1707),k=n(547),D=n(540),_=n(704),w=n(529),j=n(655),R=n(471),I=n(43),A=n(1718);n.n(A);const x=[{label:"Sections",value:"default"},{label:"Last updated",value:"lastUpdated"},{label:"Name",value:"name"}];const P=a.H.date.bind(null,["latestVersion","created"]);function L(e){const t={};return function e(t,n){t.forEach(t=>{t.components.forEach(e=>{const t=Object(a.v)(new Date(e.latestVersion.created));t in n||(n[t]=[]),n[t].push(e)}),e(t.componentSections,n)})}(e,t),Object.keys(t).map(e=>({_id:e,name:Object(d.h)(e),components:t[e].sort(P),componentSections:[]}))}function N(e,t){switch(t){case"default":default:return e;case"lastUpdated":return L(e);case"name":return function(e){return[{_id:"sortedByName",name:"sortedByName",components:Object(a.d)(e).sort(a.H.name),componentSections:[]}]}(e)}}t.a=Object(E.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={componentContextMenu:{},styleguideToShowComponentEditHintBox:null},this.visibleComponents=new Set,this.openComponentContextMenu=((e,t,n)=>{const{canManageStyleguide:i,barrelId:s}=this.state;i&&(n.preventDefault(),s!==e?this.setState({styleguideToShowComponentEditHintBox:e}):this.setState({componentContextMenu:{coid:t,clickOrigin:{x:n.clientX,y:n.clientY}}}))}),this.closeComponentContextMenu=(()=>{this.setState({componentContextMenu:{}})}),this.unsetStyleguideForComponentEditHintBox=(()=>{this.setState({styleguideToShowComponentEditHintBox:null})}),this.deselectComponent=(()=>{const{selection:e}=this.state;e&&this.handleComponentSelect(null,null)}),this.goToTop=(()=>{if(!this.nodeRefs)return;const{components:e}=this.nodeRefs;e.scrollTop=0}),this.goToStyleguideToEdit=(()=>{const{styleguideToShowComponentEditHintBox:e}=this.state;location.assign(Object(r.j)("styleguide-components",{url:{bid:e}}))}),this.handleMoveSectionClick=(({section:e,targetNode:t})=>{b.a.openMoveResourcesPopup({resourceType:f.e.COMPONENTS,resources:[e],targetNode:t})}),this.handleComponentDrop=(({mirrorPosition:e,sourceStyleguideId:t,sourceIdPath:n,sourceIndex:i,targetStyleguideId:s,targetIdPath:o,targetIndex:r})=>{const{barrelId:l}=this.state,c=o[o.length-1],d=this.getComponentRef(c).getBoundingClientRect(),u=e.left>d.left+d.width/2;let h=r;if(n.slice(0,-1).join()===o.slice(0,-1).join()){if(i>r&&u?h=r+1:i<r&&!u&&(h=r-1),i===h)return}else u&&(h=r+1);if(t===s&&Object(a.a)(n,o,(e,t)=>e===t)&&i===h)return;if(l!==t||l!==s)return void this.setAndFocusToStyleguideForComponentEditHintBox(t);const p=[{coid:n[n.length-1],csid:n.slice(0,-1),tcsid:o.slice(0,-1),sourceIndex:i,to:h}];y.b.updateComponentsOrder({components:p,syncWithApi:!0})}),this.handleSectionDrop=(({sourceId:e,sourceIndex:t,sourceStyleguideId:n,targetStyleguideId:i,to:s})=>{if(n===i&&t===s)return;const{barrelId:a}=this.state;if(a!==n||a!==i)return void this.setAndFocusToStyleguideForComponentEditHintBox(n);const o=[{csid:[e],sourceIndex:t,to:s}];y.b.updateComponentSectionsOrder({componentSections:o,syncWithApi:!0})}),this.handleComponentToSectionDrop=(({sourceIdPath:e,sourceIndex:t,targetSectionId:n,to:i,sourceStyleguideId:s,targetStyleguideId:a})=>{const{barrelId:o}=this.state;if(o!==s||o!==a)return void this.setAndFocusToStyleguideForComponentEditHintBox(s);const r=[{coid:e[e.length-1],csid:e.slice(0,-1),tcsid:[n],sourceIndex:t,to:i}];y.b.updateComponentsOrder({components:r,syncWithApi:!0})}),this.handleComponentSelect=((e,t)=>{const{barrel:{id:n},selection:i}=this.state,s=e?t:null;if(!i&&!s||i&&s&&i._id===s._id)return;let a;b.a.changeSelection({selectionComponentId:e,selection:s}),e&&(a={coid:e}),window.history.replaceState({},"Components - Styleguide - Zeplin",Object(r.j)(`${this.slugPrefix()}-components`,{url:{bid:n},query:a}))}),this.handleComponentsVisible=(e=>{const{barrel:t,barrelUser:n,organizationTransitionFinished:i}=this.state;if("pawn"===n.role&&i)return e.forEach(e=>{delete e.latestVersion.snapshot.layers,delete e.latestVersion.snapshot.assets}),void b.a.componentSnapshotsReady();Promise.all(e.filter(e=>!e.latestVersion.snapshot.layers).map(e=>Object(m.fetchSnapshot)(e.latestVersion.fullSnapshotUrl).then(n=>(Object(p.f)(n.layers),e.latestVersion.snapshot=n,n.assets.map(i=>Object(p.a)(t.id,e._id,n,i)))))).then(e=>{b.a.componentSnapshotsReady()})}),this.handleFilter=(e=>{b.a.changeFilterValue(e)}),this.handleSort=(e=>{b.a.changeSortType(e)}),this.observeComponent=(e=>{this.getIntersectionObserver().observe(e)}),this.unobserveComponent=(e=>{this.getIntersectionObserver().unobserve(e)}),this.getComponentRef=(e=>this.nodeRefs&&this.nodeRefs[`styleguideComponent-${e}`]),this.handleComponentRef=((e,t)=>{Object(o.a)(this,`styleguideComponent-${e}`)(t)}),t}static getStores(){return[y.e,b.b,S.c,v.c,C.b]}static calculateState(){const e=y.e.getState(),{loading:t}=e,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["loading"]);if(t)return{loading:!0};const{barrelId:i,barrelType:s,organizationTransitionFinished:o}=n,{moveResourcesPopup:r,scrolledSection:c,highlightScrolledSection:d,selectionComponentId:u,selection:p,sortType:g,filterValue:m,rightSidebarWidth:f}=b.b.getState(),C=y.d.getBarrel(),E=y.d.findUser(),O=new h.a(C),T=y.d.getStyleguidesData({barrelStore:y.e,styleguidesDataStore:S.c,projectsDataStore:v.c}),{barrelId:k,component:D}=Object(l.a)(T,u),_=a.C.canUpdateStyleguide(E);let w=p;return!w&&D&&(w=D),{loading:!1,barrel:C,barrelId:i,barrelUser:E,barrelType:s,organizationTransitionFinished:o,moveResourcesPopup:r,scrolledSection:c,highlightScrolledSection:d,selectionComponentId:u,sidebarWidth:f,sortType:g,filterValue:m,canManageStyleguide:_,selection:w,selectionStyleguideId:k,selectionComponent:D,formatter:O,styleguidesData:T}}setAndFocusToStyleguideForComponentEditHintBox(e){this.setState({styleguideToShowComponentEditHintBox:e});const t=this.nodeRefs[`styleguideHeader-${e}`];setTimeout(()=>t.nodeRefs.base.scrollIntoView({behavior:"smooth"}))}get componentCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+Object(a.d)(t).length,0)}processComponents(e){const{sortType:t,filterValue:n}=this.state;return n?function(e,t){const n=Object(a.d)(e),i=new WeakMap(n.map(e=>[e,Object(u.a)(t,e.name)])),s=n.filter(e=>i.get(e));return s.length?[{_id:"filtered",name:"filtered",components:s.sort((e,t)=>{const n=i.get(t)-i.get(e);return n||a.H.name(e,t)}),componentSections:[]}]:[]}(e,n):N(e,t)}getIntersectionObserver(){if(this.observer)return this.observer;const{styleguidesData:e}=this.state;return this.observer=new IntersectionObserver(t=>{t.forEach(t=>{const n=t.target.dataset.id,{component:i}=Object(l.a)(e,n);i&&(t.isIntersecting?this.visibleComponents.add(i):this.visibleComponents.delete(i))}),window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(e=>{this.handleComponentsVisible([...this.visibleComponents])},80)},{root:this.nodeRefs.components}),this.observer}slugPrefix(){const{barrelType:e}=this.state;return e===s.a.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{selectionComponent:e}=this.state;e&&setTimeout(()=>{document.addEventListener("click",this.deselectComponent)},4)}componentDidUpdate(){const{selectionComponent:e}=this.state;e?document.addEventListener("click",this.deselectComponent):document.removeEventListener("click",this.deselectComponent)}componentWillUnmount(){this.getIntersectionObserver().disconnect(),document.removeEventListener("click",this.deselectComponent)}renderComponents(){const{barrel:e,barrelId:t,barrelUser:n,moveResourcesPopup:s,scrolledSection:l,highlightScrolledSection:c,selection:d,selectionComponent:u,sortType:h,filterValue:p,styleguidesData:m,canManageStyleguide:f,styleguideToShowComponentEditHintBox:y,componentContextMenu:S}=this.state,{onLinkStyleguide:v}=this.props;if(!this.componentCount)return i.h(k.a,{type:k.a.TYPE.COMPONENTS,onButtonClick:v});const C=m.map(({id:e,name:t,componentSections:n})=>{const i=this.processComponents(n);return{id:e,name:t,componentCount:Object(a.d)(i).length,componentSections:i}}),E=C.reduce((e,{componentCount:t})=>e+t,0),T="lastUpdated"===h,A="default"!==h,P="lastUpdated"!==h||!!p,L=u&&u._id,N=f;return i.h(R.c,{itemsClass:"componentsDragDropItems",disabled:!N},i.h(D.a,{class:"componentsFilterSortView",inputPlaceholder:"Search for a component",placeholderWidth:160,sortOptions:x,selectedSortType:h,filterValue:p,onSort:this.handleSort,onFilter:this.handleFilter}),E?C.map(({id:a,name:u,componentCount:h,componentSections:m})=>{if(!h)return null;const f=a===t,v=f?null:i.h("a",{href:Object(r.j)("styleguide-components",{url:{bid:a}}),class:"headerButton",title:`Go to ${u}`,"data-link-type":"inApp","data-back":e.name},i.h(I.r,null));return[i.h(w.b,{ref:Object(o.a)(this,`styleguideHeader-${a}`),key:`styleguideHeader-${a}`,scroll:l===a,highlight:l===a&&c,onScroll:b.a.sectionScrolled},u,v),y===a&&!f&&i.h(j.a,{key:"hintbox",styleguideSectionToEdit:"components",styleguideName:u,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForComponentEditHintBox}),i.h("div",{key:`components-${a}`,class:"componentSections"},m.map((o,r)=>{const u=s&&s.data&&s.data._id===o._id;return i.h(O.a,{key:o.key||o._id,styleguideId:a,index:r,data:o,handleComponentRef:this.handleComponentRef,getComponentRef:this.getComponentRef,barrelThumbnail:e.thumbnail,scrolledSection:l,highlightScrolledSection:c,actionsDisabled:T,selectionComponentId:L,selection:d,visibleComponents:this.visibleComponents,defaultSection:!r&&P,readOnly:A,filterValue:p,onSelect:this.handleComponentSelect,componentContextMenu:S,optionsActive:u,showMoveSectionAction:a===t&&Object(g.a)(e,n),onMoveSectionClick:this.handleMoveSectionClick,onComponentDidMount:this.observeComponent,onComponentDidUnmount:this.unobserveComponent,onComponentContextMenu:this.openComponentContextMenu,onCloseComponentContextMenu:this.closeComponentContextMenu,onComponentDrop:this.handleComponentDrop,onSectionDrop:this.handleSectionDrop,onComponentToSectionDrop:this.handleComponentToSectionDrop})}))]}):i.h(_.a,{text:"No components with this name 🤷‍♀️"}))}renderSidebar(){const{loading:e}=this.state;if(e)return null;const{sidebarWidth:t,formatter:n,selectionStyleguideId:s,selectionComponent:a,selection:o,styleguidesData:r}=this.state,{onExportClick:l}=this.props;return i.h(T.a,{componentCount:this.componentCount,selectionStyleguideId:s,selectionComponent:a,selection:o,formatter:n,width:t,styleguidesData:r,onCloseClick:this.deselectComponent,onExportClick:l})}render(){const{loading:e,componentContextMenu:t}=this.state;if(e)return null;const n=Object(c.a)("styleguideContainerContent","componentsContent",{componentContextMenuOpen:!!t.coid});return i.h(i.Fragment,null,i.h("div",{class:n,ref:Object(o.a)(this,"components")},this.renderComponents()),this.renderSidebar())}})},function(e,t,n){"use strict";var i=n(1697);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(703),a=n(695),o=n(1698),r=n(736),l=n(642),c=n(31),d=n(58),u=n(57),h=n(207),p=n(14),g=n(6),m=n(84),f=n(74),b=n(1706);n.n(b);const y=136;t.a=Object(f.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={addingDescription:!1,collapsed:!1},this.highlightDescription=(()=>{this.componentRefs.section.highlightDescription()}),this.highlightName=(()=>{this.componentRefs.section.highlightName()}),this.handleAddDescriptionClick=(()=>{this.setState({addingDescription:!0})}),this.handleGroupNameChange=((e,t)=>{c.b.updateComponentSection({csids:e,componentSectionData:{name:t},syncWithApi:!0})}),this.handleNameBlur=(({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==m.a?c.b.updateComponentSection({csids:[n],componentSectionData:{name:t},syncWithApi:!0}):this.highlightName())}),this.handleDescriptionBlur=(({discard:e,value:t})=>{this.state.addingDescription&&this.setState({addingDescription:!1});const{data:{_id:n,description:i}}=this.props;e||i===t||c.b.updateComponentSection({csids:[n],componentSectionData:{description:t},syncWithApi:!0})}),this.handleCopyWebLink=(()=>{const{data:{_id:e}}=this.props;c.b.copyComponentSectionWebLink({seid:e})}),this.handleCopyAppURI=(()=>{const{data:{_id:e}}=this.props;c.b.copyComponentSectionAppURI({cseid:e})}),this.handleCreateSection=((e,t)=>{const{index:n}=this.props,i={index:n+1,name:"Untitled Section",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]};c.b.addComponentSection({csids:[],componentSection:i,syncWithApi:!0})}),this.handleSetAsThumbnail=(e=>{c.b.updateThumbnail({thumbnail:e,syncWithApi:!0})}),this.handleDeleteSection=(()=>{const{data:{_id:e},index:t}=this.props;c.b.mergeComponentSection({csids:[e],index:t,syncWithApi:!0})}),this.handleComponentContextMenu=((e,t)=>{const{onComponentContextMenu:n,styleguideId:i}=this.props;n(i,e,t)}),this.handleMoveSectionClick=(e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})}),this.handleExpand=(()=>{this.setState({collapsed:!1})}),this.handleCollapse=(()=>{this.setState({collapsed:!0})}),t}static getStores(){return[c.e,h.b,d.c,u.c]}static calculateState(){const{loading:e,barrelId:t,barrelType:n}=c.e.getState();return e?{loading:!0}:{loading:!1,barrelId:t,barrelType:n,styleguidesData:c.d.getStyleguidesData({barrelStore:c.e,styleguidesDataStore:d.c,projectsDataStore:u.c})}}handleDeleteComponent(e){const{_id:t,idPath:n}=e;c.b.removeComponent({csids:n.slice(0,n.length-1),coid:t,syncWithApi:!0})}componentDidMount(){this.props.data.newSection&&this.highlightName()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription()}renderComponentGroups(){const{data:{componentSections:e},styleguideId:t,selectionComponentId:n,selection:s,visibleComponents:a,filterValue:r,barrelThumbnail:l,scrolledSection:c,highlightScrolledSection:d,handleComponentRef:u,getComponentRef:p,onSelect:g,componentContextMenu:m,onComponentDidMount:f,onComponentDidUnmount:b,onCloseComponentContextMenu:y,onComponentDrop:S}=this.props,{styleguidesData:v,collapsed:C}=this.state;return!C&&e&&e.length?i.h("div",{class:"componentGroups"},e.map(e=>i.h(o.a,{key:e._id,styleguideId:t,data:e,styleguidesData:v,barrelThumbnail:l,onComponentDidMount:f,onComponentDidUnmount:b,visibleComponents:a,filterValue:r,selectionComponentId:n,selection:s,scroll:c===e._id,highlight:c===e._id&&d,handleComponentRef:u,getComponentRef:p,onNameChange:this.handleGroupNameChange,onSelect:g,onScroll:h.a.sectionScrolled,componentContextMenu:m,onCreateSection:this.handleCreateSection,onSetAsThumbnail:this.handleSetAsThumbnail,onDeleteComponent:this.handleDeleteComponent,onComponentContextMenu:this.handleComponentContextMenu,onCloseComponentContextMenu:y,onHover:this.handleDragHover,onComponentDrop:S}))):null}renderComponents(){const{data:{components:e},styleguideId:t,selectionComponentId:n,selection:s,visibleComponents:a,filterValue:o,barrelThumbnail:l,handleComponentRef:c,getComponentRef:d,onSelect:u,componentContextMenu:{coid:h,clickOrigin:p},onComponentDidMount:g,onComponentDidUnmount:m,onCloseComponentContextMenu:f,onComponentDrop:b}=this.props,{styleguidesData:y,collapsed:S}=this.state;if(S||!e||!e.length)return null;const v=e.map((S,v)=>{const C=e[v-1],E=e[v+1];return i.h(r.a,{styleguideId:t,key:S._id,leftComponentId:C&&C._id,rightComponentId:E&&E._id,index:v,data:S,styleguidesData:y,barrelThumbnail:l,visible:a.has(S),filterValue:o,selection:s,containsSelection:s&&n===S._id,handleComponentRef:c,getComponentRef:d,onMount:g,onUnmount:m,onSelect:u,contextMenu:h===S._id?p:null,onCreateSection:this.handleCreateSection,onSetAsThumbnail:this.handleSetAsThumbnail,onDelete:this.handleDeleteComponent,onContextMenu:this.handleComponentContextMenu,onCloseContextMenu:f,onDrop:b})});return i.h("div",{class:"components"},v)}renderContent(){return i.h("div",{class:"componentSectionContent"},this.renderComponents(),this.renderComponentGroups())}renderOptionsMenu(){const{readOnly:e,data:{description:t},showMoveSectionAction:n}=this.props,a=t?i.h(s.a.Item,{onClick:this.highlightDescription},"Edit description"):i.h(s.a.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(s.a,null,!e&&[a,i.h(s.a.Item,{onClick:this.highlightName},"Rename section"),i.h(s.a.ItemDivider,null)],i.h(s.a.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.h(s.a.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(s.a.ItemDivider,null),!e&&[n&&i.h(s.a.Item,{key:"moveSection",onClick:this.handleMoveSectionClick},"Move section to styleguide…"),i.h(s.a.Item,{key:"deleteSection",warning:!0,onClick:this.handleDeleteSection},"Delete section")])}render(){const{loading:e,addingDescription:t,collapsed:n}=this.state;if(e)return null;const{data:{componentSections:s,components:o,name:r,description:c,_id:d},index:u,styleguideId:m,defaultSection:f,readOnly:b,actionsDisabled:S,scrolledSection:v,highlightScrolledSection:C,optionsActive:E,onSectionDrop:O,onComponentToSectionDrop:T}=this.props,k=s.reduce((e,t)=>e+t.components.length,o.length),D=`${Object(g.g)(k,"component")} collapsed`,_=this.renderContent(),w=this.renderOptionsMenu(),j=t?l.a:c,R=v===d,I=R&&C;return i.h(a.a,{type:l.c,id:d,optionsButtonRef:Object(p.a)(this,"sectionOptionsButton"),index:u,styleguideId:m,componentRef:Object(p.a)(this,"section","componentRefs"),collapsed:n,empty:0===k,componentCount:k,name:r,headerClass:"componentSectionHeader",description:j,countInfoText:D,optionsMenu:w,defaultSection:f,actionsDisabled:S,readOnly:b,topPadding:y,scroll:R,highlight:I,optionsActive:E,draggable:!0,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionBlur,onScroll:h.a.sectionScrolled,onCollapse:this.handleCollapse,onExpand:this.handleExpand,onSectionDrop:O,onComponentToSectionDrop:T},_)}})},function(e,t,n){"use strict";var i=n(1699);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(14),o=n(375),r=n(736),l=n(1705);n.n(l);t.a=class extends i.Component{constructor(e){super(e),this.handleNameBlur=this.handleNameBlur.bind(this),this.showOptionsMenu=this.showOptionsMenu.bind(this),this.hideOptionsMenu=this.hideOptionsMenu.bind(this),this.state={menuShown:!1}}hideOptionsMenu(){this.state.menuShown&&(document.removeEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!1}))}showOptionsMenu(e){e.stopPropagation(),this.state.menuShown||(document.addEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!0}))}highlight(){const{scroll:e,highlight:t,onScroll:n}=this.props;e&&(this.state.collapsed&&this.setState({collapsed:!1}),this.nodeRefs.base.scrollIntoView()),t&&this.nodeRefs.header.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}handleNameBlur({discard:e,value:t}){const{data:{idPath:n,name:i},onNameChange:s}=this.props;e||i===t||s(n,t)}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}renderComponents(){const{data:{components:e},styleguidesData:t,styleguideId:n,visibleComponents:s,filterValue:a,barrelThumbnail:o,selectionComponentId:l,selection:c,handleComponentRef:d,getComponentRef:u,onSelect:h,componentContextMenu:{coid:p,clickOrigin:g},onCreateSection:m,onSetAsThumbnail:f,onDeleteComponent:b,onComponentDidMount:y,onComponentDidUnmount:S,onComponentContextMenu:v,onCloseComponentContextMenu:C,onComponentDrop:E}=this.props,O=e.map((O,T)=>{const k=e[T-1],D=e[T+1];return i.h(r.a,{key:O._id,styleguideId:n,index:T,leftComponentId:k&&k._id,rightComponentId:D&&D._id,data:O,styleguidesData:t,barrelThumbnail:o,visible:s.has(O),filterValue:a,selection:c,containsSelection:c&&l===O._id,handleComponentRef:d,getComponentRef:u,onSelect:h,contextMenu:p===O._id?g:null,onMount:y,onUnmount:S,onCreateSection:m,onSetAsThumbnail:f,onDelete:b,onContextMenu:v,onCloseContextMenu:C,onDrop:E})});return i.h("div",{class:"components"},O)}renderHeader(){const{data:{name:e}}=this.props;return i.h("div",{class:"header",ref:Object(a.a)(this,"header")},i.h("div",{class:"groupInfo"},i.h(o.a,{value:e,required:!0,onBlur:this.handleNameBlur})))}render(){const{menuShown:e}=this.state,t=Object(s.a)("componentGroup",{menuShown:e});return i.h("div",{ref:Object(a.a)(this,"base"),class:t},this.renderHeader(),this.renderComponents())}}},function(e,t,n){"use strict";var i=n(0),s=n(1701),a=n(471),o=n(650),r=n(1),l=n(21),c=n(3),d=n(14),u=n(737),h=n(1704),p=(n.n(h),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});const g=12,m=80,f=240,b=Object(r.D)(Object(a.a)({itemType:"StyleguideComponent",mirrorComponent:({lightness:e,snapshot:t,name:n})=>{const s=t.width,a=t.height,r={};s<48||a<48?(r.width=s,r.height=a):r.paddingBottom=`${100*a/s}%`;const l=Math.max(96,12*Math.ceil(s/12)+48);return i.h("div",{class:"componentsContent componentMirror",style:`width: ${l}px`},i.h(o.a,{class:Object(c.a)("componentContent",e),snapshot:t,style:r},i.h(o.a.Image,null)),i.h("span",{class:"name ellipsis noSelect",title:n,key:"name"},n))},provideDragData:e=>{const{data:t,styleguideId:n,index:i,lightness:s}=e;return{snapshot:t.latestVersion.snapshot,styleguideId:n,name:t.name,idPath:t.idPath,index:i,lightness:s}}}),Object(a.b)({acceptsItemType:"StyleguideComponent",style:{maxWidth:"100%"},onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceStyleguideId:t.dragData.styleguideId,sourceIdPath:t.dragData.idPath,sourceIndex:t.dragData.index,targetStyleguideId:e.styleguideId,targetIdPath:e.data.idPath,targetIndex:e.index})}))(s.a);t.a=class extends i.Component{constructor(e){super(e),this.state={lightness:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}calculateCubukPosition(e,t){const{getComponentRef:n}=this.props;let i=e.height;if(t){const s=n(t).getBoundingClientRect();e.top===s.top&&(i=Math.min(e.height,s.height))}const s=Math.max(m,Math.min(f,Math.round(i-2*g)));return{height:s,top:Math.max(0,Math.round((i-s)/2))}}getImageProperties(){const{latestVersion:{snapshot:{url:e}}}=this.props.data;Object(l.d)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftComponentId;n&&(i=this.props.rightComponentId);const s=this.calculateCubukPosition(t,i);this.setState(Object(r.u)({moveCubukPosition:n?u.a.RIGHT:u.a.LEFT,moveCubukHeight:s.height,moveCubukTop:s.top}))}handleDragHoverOut(){this.setState(Object(r.u)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}handleBaseRef(e){const{data:{_id:t},handleComponentRef:n}=this.props;Object(d.a)(this,"base")(e),n(t,e)}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,lightness:s}=this.state;return i.h(b,p({baseRef:this.handleBaseRef,dragBaseRef:Object(d.a)(this,"dragBase"),lightness:s,moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}},function(e,t,n){"use strict";var i=n(1702);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(14),o=n(1),r=n(650),l=n(1703),c=(n.n(l),n(156)),d=n(71),u=n(287),h=n(316),p=n(26),g=n(702),m=n(737);const f=12,b=4*f,y=96,S=y-b;t.a=class extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleComponentClick=this.handleComponentClick.bind(this),this.handleComponentEnter=this.handleComponentEnter.bind(this),this.handleComponentLeave=this.handleComponentLeave.bind(this),this.handleComponentContentClick=this.handleComponentContentClick.bind(this),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleLayerEnter=this.handleLayerEnter.bind(this),this.handleLayerLeave=this.handleLayerLeave.bind(this),this.handleImageError=this.handleImageError.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.openDeleteComponentDialog=this.openDeleteComponentDialog.bind(this),this.closeDeleteComponentDialog=this.closeDeleteComponentDialog.bind(this),this.handleSetAsThumbnail=this.handleSetAsThumbnail.bind(this),this.handleCreateSection=this.handleCreateSection.bind(this),this.handleDelete=this.handleDelete.bind(this),this.resetDistances=this.resetDistances.bind(this),this.scrollIntoView=e.containsSelection,this.layerClickHandler=Object(h.e)(),this.state={imageRequested:!1,hoveredId:null,distances:null,rulers:!1,contextMenu:null}}get isSetAsThumbnail(){const{barrelThumbnail:e,data:{latestVersion:{snapshot:{url:t}}}}=this.props;return e===t}getDistancesOrigin(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}},selection:i}=this.props;return e===i._id?{x:0,y:0,width:t,height:n}:i.absoluteRect}resetDistances(){null!==this.state.hoveredId&&this.setState({hoveredId:null,distances:null})}openDeleteComponentDialog(e){e.stopPropagation(),this.setState({deleteDialogVisible:!0})}closeDeleteComponentDialog(){this.setState({deleteDialogVisible:!1})}handleImageError(){this.setState({imageRequested:!1})}handleBaseRef(e){Object(a.a)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleComponentClick(e){e.stopPropagation(),this.resetDistances();const{data:t,onSelect:n}=this.props;n(t._id,t)}handleComponentContentClick(e){e.stopPropagation(),this.resetDistances();const{onSelect:t}=this.props;t(null)}handleComponentEnter(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleComponentLeave(){this.resetDistances()}handleLayerEnter(e){const t=this.getDistancesOrigin();this.setState({hoveredId:e._id,distances:{from:t,to:e.absoluteRect}})}handleLayerLeave(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleLayerSelect(e,t){const{selection:n,data:{_id:i,latestVersion:{snapshot:s}},onSelect:a}=this.props;e.stopPropagation(),this.resetDistances();const o=this.nodeRefs.snapshotDetail.getBoundingClientRect();a(i,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:s,selectedLayer:n,snapshotDetailRect:o}))}handleContextMenu(e){const{data:{_id:t},onContextMenu:n}=this.props;n(t,e)}handleCreateSection(e){const{onCreateSection:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)}handleSetAsThumbnail(e){e.stopPropagation();const{data:{latestVersion:{snapshot:{url:t}}},onSetAsThumbnail:n}=this.props;n(t)}handleDelete(){const{data:e,onDelete:t}=this.props;t(e)}componentDidMount(){const{onMount:e,visible:t}=this.props;e(this.nodeRefs.base),t&&this.setState({imageRequested:!0})}componentWillReceiveProps(e){const{selection:t,data:{_id:n}}=this.props;this.setState(t=>({imageRequested:e.data._id===n&&t.imageRequested,rulers:e.containsSelection&&e.selection._id!==e.data._id})),t&&!e.selection&&this.layerClickHandler.reset()}componentDidUpdate(){const{visible:e}=this.props,{imageRequested:t}=this.state;e&&!t&&this.setState({imageRequested:!0}),this.scrollIntoView&&(this.scrollIntoView=!1,this.nodeRefs.base.scrollIntoView())}componentWillUnmount(){const{onUnmount:e}=this.props;e(this.nodeRefs.base)}renderRulers(){const{visible:e}=this.props,{imageRequested:t,rulers:n}=this.state;if(!e&&!t||!n)return null;const{selection:{absoluteRect:{x:s,y:a,width:o,height:l}}}=this.props;return i.h(r.a.Rulers,{x:s,y:a,width:o,height:l})}renderDistances(){const{visible:e}=this.props,{imageRequested:t,distances:n}=this.state;return(e||t)&&n&&n.from&&n.to?i.h(r.a.Distances.BetweenLayers,{sourceRect:n.from,destRect:n.to}):null}renderComponentLayer(){const{styleguidesData:e,data:{name:t,latestVersion:{snapshot:n}},selection:s}=this.props,{barrelId:a,barrelType:o}=this.context,l=Object(u.b)(n,s,e),{width:c,height:d}=n;return i.h(r.a.ComponentLayer,{barrelId:a,barrelType:o,containerName:t,componentLayer:l,containerWidth:c,containerHeight:d,onTagClick:this.resetDistances})}renderLayers(){const{data:{latestVersion:{snapshot:{layers:e=[]}}},selection:t,visible:n,containsSelection:s}=this.props,{imageRequested:a,hoveredId:o}=this.state;return(n||a)&&e.length?i.h(r.a.Layers,{layers:e,selectedLayerId:t?t._id:null,hoveredId:o,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:s?this.handleLayerEnter:null,onLayerLeave:s?this.handleLayerLeave:null}):null}renderSnapshotDetail(){const{styleguidesData:e,data:{latestVersion:{snapshot:t,snapshot:{width:n,height:o}}},visible:l,lightness:c}=this.props,[{type:d,remPreferences:u}]=e,h=e.flatMap(({spacingSections:e})=>e.flatMap(e=>e.spacingTokens)),{imageRequested:p}=this.state,g=Object(s.a)("componentContent",c),m={};return n<S||o<S?(m.width=n,m.height=o):m.paddingBottom=`${100*o/n}%`,i.h(r.a,{class:g,snapshot:t,platform:d,spacingTokens:h,remPreferences:u,style:m,baseRef:Object(a.a)(this,"snapshotDetail")},l||p?i.h(r.a.Image,{onError:this.handleImageError}):null,this.renderRulers(),this.renderDistances(),this.renderLayers())}renderName(){const{data:{name:e},filterValue:t}=this.props,n=t?Object(p.h)(e,t,{caseInsensitive:!0}):e;return i.h("span",{class:"name ellipsis noSelect",dangerouslySetInnerHTML:{__html:n}})}renderContextMenu(){const{contextMenu:e,onCloseContextMenu:t}=this.props,{permissions:{canManageStyleguide:n}}=this.context;if(!e)return;const s=[i.h(c.a.Item,{key:"createSection",onClick:this.handleCreateSection},"Create section from selection"),n&&!this.isSetAsThumbnail&&i.h(c.a.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnail},"Set as thumbnail"),i.h(c.a.ItemDivider,{key:"warningDivider"}),i.h(c.a.Item,{key:"deleteComponent",onClick:this.openDeleteComponentDialog,warning:!0},"Delete component")].filter(Boolean);return i.h(c.a.withAutoPosition,{class:"componentContextMenu",onMouseDown:o.J,autoPosition:{sidebar:".barrelContainer .styleguide .componentsContainer .sidebar.left",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:t},s)}renderDialogs(){const{deleteDialogVisible:e}=this.state,{data:{name:t}}=this.props;if(e)return i.h(d.a,{title:`Delete “${t}”?`,message:"Deleted components cannot be restored.",onPositiveButtonClick:this.handleDelete,onNegativeButtonClick:this.closeDeleteComponentDialog,onClose:this.closeDeleteComponentDialog,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{data:{_id:e,latestVersion:{snapshot:{width:t}}},selection:n,containsSelection:a,dragging:o,moveCubukPosition:r,moveCubukTop:l,moveCubukHeight:c}=this.props,d=n&&n._id,u=Object(s.a)("component",{selected:e===d,dragging:o}),h={width:function(e){return`${Math.max(y,Math.ceil(e/f)*f+b)}px`}(t)},p=i.h(g.a,{top:l,height:c});return i.h("div",{class:"componentWrapper"},i.h("div",{class:"componentPaddingArea left"},r===m.a.LEFT&&p),i.h("div",{class:u,style:h,"data-id":e,ref:this.handleBaseRef,onClick:this.handleComponentClick,onMouseEnter:a?this.handleComponentEnter:null,onMouseLeave:a?this.handleComponentLeave:null,onContextMenu:this.handleContextMenu},this.renderSnapshotDetail(),this.renderName(),this.renderContextMenu(),this.renderDialogs()),i.h("div",{class:"componentPaddingArea right"},r===m.a.RIGHT&&p))}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1708);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(25),a=n(13),o=n(1),r=n(14),l=n(45),c=n(26),d=n(31),u=n(58),h=n(57),p=n(35),g=n(207),m=n(1709),f=n(709),b=n(386),y=n(74),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(y.a)(class extends i.Component{constructor(...e){var t;return t=super(...e),this.state={scrollDisabled:!1},this.enableScroll=(()=>{this.setState({scrollDisabled:!1})}),this.disableScroll=(()=>{this.setState({scrollDisabled:!0})}),this.handleAddColorClick=(e=>{d.b.addColor({color:e,syncWithApi:!0}),Object(l.a)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddColor"})}),this.handleColorNameChange=((e,t)=>{const{styleguidesData:[{colors:n}]}=this.props;if(n.find(e=>e.name===t))return s.a({title:`${t} already exists`,message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();d.b.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),this.handleRemoveColorClick=(e=>{d.b.removeColor({cid:e,syncWithApi:!0})}),this.handleAddTextStyleClick=(e=>{d.b.addTextStyle({textStyle:e,syncWithApi:!0}),Object(l.a)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddTextStyle"})}),this.handleTextStyleNameChange=(e=>{const{styleguidesData:[{textStyles:t}]}=this.props;if(t.some(e=>e.name===name))return s.a({title:`${name} already exists`,message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();d.b.updateTextStyle({tsid:e,textStyleData:{name:name},syncWithApi:!0})}),this.handleCopy=(e=>{Object(c.c)({content:e,toastContainer:this.nodeRefs.sidebar})}),this.handleCopyCode=((e,t,n)=>{const{projectType:i}=this.context;this.handleCopy(e),mixpanel.webapp.track("Copied extension snippet",{from:t,extension:n}),a.createIntercomUserTag(Object(o.q)(i))}),this.handleRequestInvite=(()=>{const{organizationId:e}=this.context;p.b.requestInvite(e,this.nodeRefs.sidebar)}),t}static getStores(){return[d.e,u.c,h.c]}static calculateState(){const{loading:e}=d.e.getState();return e?{loading:!0}:{loading:!1,styleguidesData:d.d.getStyleguidesData({barrelStore:d.e,styleguidesDataStore:u.c,projectsDataStore:h.c})}}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick}}handleRemoveTextStyleClick(e){d.b.removeTextStyle({tsid:e,syncWithApi:!0})}getChildContext(){return{enableScroll:this.enableScroll,disableScroll:this.disableScroll}}renderComponentPanel(){const{componentCount:e,selectionStyleguideId:t,selectionComponent:n,selection:s,formatter:a,onCloseClick:o}=this.props;return s?n._id===s._id?i.h(m.a,S({component:s,selectionStyleguideId:t,formatter:a},this.getHandlers(),{onCloseClick:o,onRequestInvite:this.handleRequestInvite})):i.h(f.a,S({layer:s,layerContainer:n,version:n.latestVersion,formatter:a},this.getHandlers(),{onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick,onCloseClick:o})):i.h(m.a.NoSelectionState,{componentCount:e})}render(){const{width:e}=this.props,{loading:t,scrollDisabled:n}=this.state;return t?null:i.h(b.a,{baseRef:Object(r.a)(this,"sidebar"),minWidth:280,initialWidth:e,onClick:o.J,onRelease:g.a.changeRightSidebarWidth,noScroll:n},this.renderComponentPanel())}})},function(e,t,n){"use strict";var i=n(1710);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(11),a=n(10),o=n(1),r=n(8),l=n(287),c=n(14),d=n(545),u=n(75),h=n(543),p=n(5),g=n(727),m=n(544),f=n(320),b=n(472),y=n(726),S=n(720),v=n(713),C=n(1711),E=n(527),O=n(719),T=n(281),k=n(1714),D=n(31),_=n(58),w=n(57),j=n(74),R=n(1717);n.n(R);const I=89,A=146,x=36,P=60,L=52;class N extends i.Component{constructor(...e){var t;return t=super(...e),this.state={hasSnippet:!1,codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null},this.handleComponentCodeResize=(e=>{requestAnimationFrame(()=>{this.setState({codeGap:null,codeHeight:e,codeMaxHeight:null,componentDetailHeight:this.nodeRefs.base.clientHeight-e})})}),this.handleDescriptionSubmit=(e=>{const{component:{idPath:t,description:n}}=this.props;if(e===n)return;const i=[...t],s=i.pop();D.b.updateComponent({csids:i,coid:s,componentData:{description:e},syncWithApi:!0})}),this.handleAssetNameChange=((e,t)=>{const{component:{_id:n,latestVersion:{snapshot:i}}}=this.props;D.b.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t})}),this.handleDownloadAssetClick=((e,t)=>{const{component:{name:n,latestVersion:i}}=this.props,{styleguideContainerRef:s}=this.context;D.b.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:s})}),this.handleGenerateSnippet=(e=>{this.setState({hasSnippet:e},e=>{this.setCodePanelHeight()})}),this.handleWindowResize=Object(o.f)(()=>{this.state.hasSnippet&&this.setCodePanelHeight()}),t}static getStores(){return[D.e,_.c,w.c]}static calculateState(e,t){const{component:{name:n,latestVersion:{snapshot:{density:i,densityScale:s=Object(o.o)(i)}}}}=t,{loading:a,barrelType:r,barrelId:c,assetDensityScalePrefs:d,assetExportTarget:u,assetNamingConvention:h,densityMismatchWarningHidden:p,noVectorAssetInfoHidden:g,showOptimizedSVG:m,shortlinks:f,connectedComponentsDevModeEnabled:b,connectedComponentsLocalWorkspace:y,connectedComponentsEditorInfo:S}=D.e.getState();if(a)return{loading:!0};const{type:v,densityScale:C,screens:E=[]}=D.d.getBarrel();return{loading:!1,barrelType:r,barrelId:c,platform:v,assetDensityScalePrefs:d,assetExportTarget:u,assetNamingConvention:h,showDensityMismatchWarning:s!==C&&!p,noVectorAssetInfoHidden:g,showOptimizedSVG:m,shortlinks:f,usedScreens:Object(l.d)(E,n),connectedComponentsDevModeEnabled:b,connectedComponentsLocalWorkspace:y,connectedComponentsEditorInfo:S,styleguidesData:D.d.getStyleguidesData({barrelStore:D.e,styleguidesDataStore:_.c,projectsDataStore:w.c})}}setCodePanelHeight(){if(!this.state.hasSnippet)return void this.setState({codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null});const{base:e,componentDetail:t}=this.nodeRefs,n=t.scrollHeight,i=e.clientHeight;n+I>=i?this.setState({codeGap:0,codeHeight:I,codeMaxHeight:I,componentDetailHeight:i-I,componentDetailBottomPadding:x}):this.setState({codeGap:L,codeHeight:null,codeMaxHeight:i-n-x,componentDetailHeight:null,componentDetailBottomPadding:x})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{loading:e}=this.state;if(e)return null;const{component:t,selectionStyleguideId:n,formatter:o,onCopy:T,onAddColorClick:_,onColorNameChange:w,onRemoveColorClick:j,onCopyCode:R,onCloseClick:x,onRequestInvite:L}=this.props,{barrelType:N,barrelId:U,platform:M,assetDensityScalePrefs:B,assetExportTarget:z,assetNamingConvention:F,showDensityMismatchWarning:W,noVectorAssetInfoHidden:H,showOptimizedSVG:V,shortlinks:G,usedScreens:$,connectedComponentsDevModeEnabled:q,connectedComponentsLocalWorkspace:Z,connectedComponentsEditorInfo:Y,codeGap:K,codeMaxHeight:J,componentDetailHeight:X,componentDetailBottomPadding:Q,codeHeight:ee,styleguidesData:te}=this.state,{permissions:{canManageScreens:ne}}=this.context,{_id:ie,name:se,latestVersion:ae,description:oe}=t,{snapshot:{width:re,height:le,backgroundColor:ce,assets:de=[]}}=ae,{densityScale:ue,remPreferences:he}=te[0],{status:pe,useForMeasurements:ge,remRootFontSize:me}=he,fe="web"===M&&"enabled"===pe&&ge,be=fe?Object(u.e)(re/ue,me):o.length(re),ye=fe?Object(u.e)(le/ue,me):o.length(le),Se=Object(d.b)([ae])[0],ve=N===a.a.PROJECT?"pid":"stid",Ce=`${p.L}//components?${ve}=${U}&coid=${ie}`,Ee=N===a.a.PROJECT?"project-styleguide-components":"styleguide-components",Oe=Object(r.j)(Ee,{url:{bid:U},query:{coid:ie}}),Te=Oe in G?G[Oe]:null,ke=!ne||U!==n,De=de.find(e=>"snapshot"===e.layerId);let _e;De&&(_e=Object(d.a)(De,o,M));const we=Object(l.c)(se,te,q),je="pawn"===this.context.userRole;return i.h("div",{class:"componentDetailWrapper",ref:Object(c.a)(this,"base")},i.h("div",{class:"componentDetailContentWrapper",style:{height:X,paddingBottom:Q}},i.h("div",{class:"componentDetail",ref:Object(c.a)(this,"componentDetail")},i.h("div",{class:"withPadding"},i.h(O.a,{onCloseClick:x},se)),i.h("div",{class:"withPadding"},i.h(f.a,null,i.h(g.a,{key:Se.username,avatar:Se.avatar,username:Se.username,versionCount:Se.versions,authorCount:1,lastUpdated:Se.lastUpdated})),i.h(f.a,{title:"Description",showSeparator:!0},i.h(m.a,{class:"descriptionInput",formatter:h.b,value:oe,placeholder:ke?"No description yet":"Got any notes?",readOnly:ke,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,showEmojiAutoComplete:!0,autoEdit:!0,maxLength:1024})),i.h(f.a,{title:"Share",showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(y.a,{webUrl:Te,appUri:Ce,onCopy:T})))),i.h(S.a,{connectedComponentsDevModeEnabled:q,connectedComponentsLocalWorkspace:Z,connectedComponentsEditorInfo:Y,componentId:ie,componentName:se,connectedComponent:we,showLayerComponent:!1,userRestricted:je,onRequestInvite:L}),_e&&i.h("div",{class:"withPadding"},i.h(v.a,{showSeparator:!d.a,asset:_e,projectType:M,showDensityMismatchWarning:W,noVectorAssetInfoHidden:H,assetDensityScalePrefs:B,namingConvention:F,showOptimizedSVG:V,assetExportTarget:z,onOpenExportTargetClick:D.b.openExportTarget,onChangeExportTargetClick:D.b.changeExportTarget,onDownloadClick:this.handleDownloadAssetClick,onNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:D.b.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:D.b.hideNoVectorAssetInfo,onAssetDensityOptionChange:D.b.changeAssetDensityScalePref,onNamingConventionChange:D.b.changeAssetNamingConvention,onShowOptimizedSVGChange:D.b.toggleSVGOptimization})),!_e&&i.h("div",{class:"withPadding"},i.h(f.a,{title:"Size",showSeparator:!!_e},i.h(E.a.Group,null,i.h(E.a,{name:"Width"},be),i.h(E.a,{name:"Height"},ye)))),ce&&i.h("div",{class:"withPadding"},i.h(f.a,{title:"Background color",showSeparator:!0},i.h(b.a,{color:Object(d.c)(new s.a(ce),o,te),onNameChange:w,onAddClick:_,onRemoveClick:j}))),!!$.length&&i.h("div",{class:"withPadding"},i.h(f.a,{title:"Used in",showSeparator:!0},i.h(k.a,{componentName:se,screens:$}))))),i.h(C.a,{component:t,version:ae,codeGap:K,height:ee,maxHeight:J,minHeight:I,maxResizeHeight:window.innerHeight-P-A,minResizeHeight:I,onGenerateCode:this.handleGenerateSnippet,onResize:this.handleComponentCodeResize,onCopyClick:R,onSettingsClick:D.b.openExtensionSettings}))}}N.NoSelectionState=function(e){const{componentCount:t}=e;return t?i.h("div",{class:"componentsSidebarNoSelectionState"},i.h("h2",null,t," Components ",i.h(T.a,{width:24,height:24,asset:"img/emjDango.png",alt:"🍡",title:"🍡"})),i.h("p",null,"Some say the more components you have, the cooler you are."),i.h("p",null,"You can learn more about components from ",i.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},"here"),".")):null},t.a=Object(j.a)(N,{withProps:!0})},function(e,t,n){"use strict";var i=n(1712);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(653),a=n(1713);n.n(a);const o="component";t.a=class extends i.Component{constructor(e){super(e),this.generateComponentCode=this.generateComponentCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateComponentCode(e,t){const{component:n,version:i}=this.props;return e.component(t,i,n).then(e=>{if(!e)return;const t={name:o};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,o,t)}renderExtensionCode(e){const{codeGap:t,height:n,minHeight:a,maxHeight:o,maxResizeHeight:r,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u}=this.props;return i.h(s.b,{class:"componentCode",snippets:e,codeGap:t,height:n,minHeight:a,maxHeight:o,maxResizeHeight:r,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u})}render(){const{component:e,onGenerateCode:t}=this.props;return i.h(s.c,{id:e._id,generateCode:this.generateComponentCode,onGenerateCode:t,render:this.renderExtensionCode})}}},function(e,t){},function(e,t,n){"use strict";var i=n(1715);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(8),a=n(21),o=n(11),r=n(14),l=n(1716);n.n(l);const c=132;class d extends i.Component{componentDidMount(){const{observer:e}=this.props;e.observe(this.nodeRefs.base)}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.nodeRefs.base)}render(){const{screenId:e,name:t,url:n,width:l,height:d,backgroundColor:u=o.a.NAMED_COLORS.white,componentName:h,visible:p}=this.props,{projectId:g}=this.context,{src:m,srcset:f}=Object(a.e)(n,{width:c}),b=d*c/l,y=new o.a(u).toCSS(),S=Object(s.j)("project-screen",{url:{pid:g,sid:e}});return i.h("a",{ref:Object(r.a)(this,"base"),href:S,class:"usedInScreen","data-id":e,"data-link-type":"inApp","data-back":h},i.h("div",{class:"imageWrapper",style:{height:b,backgroundColor:y}},p&&i.h("img",{width:c,height:b,src:m,srcset:f,crossOrigin:"anonymous"}),i.h("div",{class:"imageFrame"})),i.h("div",{class:"screenName"},t))}}t.a=class extends i.Component{constructor(e){super(e),this.visibleScreens=new Set,this.state={visibleScreens:new Set}}componentWillMount(){this.observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{const t=e.target.dataset.id;e.isIntersecting?this.visibleScreens.add(t):this.visibleScreens.delete(t)}),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame(()=>{this.setState({visibleScreens:this.visibleScreens})})})}componentWillUnmount(){this.observer.disconnect()}render(){const{screens:e,componentName:t}=this.props,{visibleScreens:n}=this.state;return i.h("div",{class:"usedInScreens"},e.map(e=>{const{versions:[{snapshot:{url:s,width:a,height:o,backgroundColor:r}}]}=e;return i.h(d,{key:e._id,screenId:e._id,name:e.name,url:s,width:a,height:o,backgroundColor:r,componentName:t,visible:n.has(e._id),observer:this.observer})}))}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1720);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(156),a=n(71),o=n(1721),r=n(43),l=n(14),c=n(8),d=n(1724);n.n(d);t.a=class extends i.Component{constructor(e){super(e),this.handleContextMenuClick=this.handleContextMenuClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null,unlinkDialogVisible:!1}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenuClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleUnlinkProject(){const{linkedStyleguide:e,onUnlink:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:e}=this.state;return e?i.h(s.a.withAutoPosition,{autoPosition:{clickOrigin:e,menuContainer:this.nodeRefs.base},onClose:this.handleContextMenuClose},i.h(s.a.Item,{onClick:this.openUnlinkDialog},"Unlink styleguide")):null}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{linkedStyleguide:{name:t="styleguide"}}=this.props;return i.h(a.a,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}renderWarning(){const{linkStatus:e}=this.props;if("active"===e)return null;const t="invalid"===e?"they have different owners.":"the styleguide is archived or deleted.",n="invalid"===e?"https://zpl.io/article/transferring-styleguides":"https://zpl.io/article/archiving-styleguides";return i.h(o.a,{articleURL:n},"This project can not access the linked styleguide since ",t)}renderInfo(){const{permissions:{canManageProject:e}}=this.context,{barrelName:t,linkedStyleguide:{_id:n,name:s="a styleguide"}}=this.props,a=Object(c.j)("styleguide",{url:{bid:n}});return i.h("div",{class:"infoContainer"},i.h("div",{title:s,class:"infoLabel noSelect ellipsis"},"Linked to ",i.h("a",{href:a,"data-link-type":"inApp","data-back":t},s)),e&&i.h("button",{type:"button",onClick:this.handleContextMenuClick,ref:Object(l.a)(this,"button")},i.h(r.A,null)))}render(){return i.h("div",{class:"linkedStyleguideInfo",ref:Object(l.a)(this,"base")},this.renderInfo(),this.renderContextMenu(),this.renderUnlinkDialog(),this.renderWarning())}}},function(e,t,n){"use strict";var i=n(1722);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(204),a=n(1723);n.n(a);t.a=function({articleURL:e,children:t}){return i.h(s.a,{class:"warningHintBox noSelect",type:"warning",emoji:"🚸"},i.h("p",null,t),i.h("a",{href:e,rel:"noopener noreferrer",target:"_blank"},"Learn more"))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1726);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(74),a=n(30),o=n(466),r=n(82),l=n(46),c=n(1727),d=n(541),u=n(199),h=n(33),p=n(207),g=n(71),m=n(31),f=n(67),b=n(35);const y={[h.e.TEXT_STYLES]:"Text Styles",[h.e.COLORS]:"Colors",[h.e.COMPONENTS]:"Components"};const S=Object.freeze({BASIC_DIALOG:"normal",COMPONENT:"component",NONE:"none"});t.a=Object(s.a)(class extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleStyleguideSelect=this.handleStyleguideSelect.bind(this),this.handleMove=this.handleMove.bind(this)}static getStores(){return[o.a,r.a,l.a,a.a,f.a]}static calculateState(){const{moveResourcesPopup:e}=o.a.getState(),{organizationId:t,barrelType:n,movingResourcesToStyleguide:i}=a.a.getState(),{userId:s}=f.a.getState(),r=b.d.getOrganizationStyleguides(t),l=m.d.getBarrel();return{moveResourcesPopup:e,movingResourcesToStyleguide:i,barrel:l,moveableStyleguides:function(e,t,n,i){if(!t||!i)return[];const s=t.users.find(e=>"owner"===e.role);return e.filter(e=>{if("active"!==e.status)return!1;if(e._id===t._id)return!1;if(i&&i.resourceType===h.e.COMPONENTS&&t.densityScale!==e.densityScale)return!1;if("user"===n){const t=e.users.find(e=>"owner"===e.role);return s&&t&&s.user._id===t.user._id}return!0})}(r,l,t,e),organizationId:t,currentUserId:s,barrelType:n}}getWarningDialogType(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!t)return S.NONE;const{resourceType:n,targetStyleguide:i}=t;if(!i)return S.NONE;const s=e.type!==i.type;return n===h.e.COMPONENTS&&s?S.COMPONENT:S.BASIC_DIALOG}handleDocumentClick(){this.getWarningDialogType()!==S.BASIC_DIALOG&&p.a.closeMoveResourcesPopup()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&p.a.closeMoveResourcesPopup()}handleStyleguideSelect(e){p.a.selectMoveResourcesTargetStyleguide({targetStyleguide:e})}handleMove(){const{moveResourcesPopup:{resourceType:e,resources:t,targetStyleguide:n}}=this.state;m.b.moveResourcesRequest({resourceType:e,resources:t,targetStyleguideId:n._id})}componentDidUpdate(e,t){const{moveResourcesPopup:n}=this.state,{moveResourcesPopup:i}=t;n&&!i?(document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleDocumentKeydown)):!n&&i&&(document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown))}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown)}renderSelectStyleguides(){const{moveableStyleguides:e,movingResourcesToStyleguide:t,organizationId:n,currentUserId:s,barrel:a,moveResourcesPopup:o,barrelType:r}=this.state;return e.length?i.h(d.f,{text:"Select a styleguide to move colors/text styles/components to:",loading:!!t,selected:t,onSelect:this.handleStyleguideSelect,styleguides:e}):"user"!==n?i.h(d.b,{oid:n}):s!==a.findOwner().user._id?i.h(d.c,{resourceType:y[o.resourceType],barrelType:r,barrelOwnerName:a.username}):i.h(d.a,{resourceType:y[o.resourceType]})}renderMoveResourcesPopup(){const{moveResourcesPopup:e,barrel:t,barrelType:n,movingResourcesToStyleguide:s}=this.state,{targetNode:a,targetStyleguide:o}=e;let r;return r=this.getWarningDialogType()===S.COMPONENT?i.h(c.a,{loading:!!s,barrelType:n,onMove:this.handleMove,currentType:t.type,targetType:o.type}):this.renderSelectStyleguides(),i.h(u.a,{targetNode:a,content:r,top:-60,anchorTop:-4,openToLeft:!0,showAnchor:!0,open:!0})}render(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!e||!t)return null;const{resourceType:n,targetStyleguide:s}=t;return i.h("div",null,this.renderMoveResourcesPopup(),this.getWarningDialogType()===S.BASIC_DIALOG&&i.h(g.a,{positiveButtonText:"MOVE",onPositiveButtonClick:this.handleMove,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:p.a.deselectMoveResourcesTargetStyleguide,message:`Move ${function(e){return y[e]}(n)} from "${e.name}" to "${s.name}"?`}))}})},function(e,t,n){"use strict";var i=n(1728);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(34),a=n(43),o=n(10),r=n(1),l=n(1729);n.n(l);t.a=function(e){const{onMove:t,barrelType:n,currentType:l,targetType:c,loading:d}=e;return i.h("div",{class:"moveComponentWarning"},i.h("h4",null,"☝️✂️"),i.h("p",null,"Your current ",n===o.a.PROJECT&&"local ","styleguide’s type is ",i.h("strong",null,Object(r.s)(l)),", some of the assets"," ",i.h("strong",null,"may be missing")," if you link it to a styleguide with ",Object(r.s)(c)," type.",i.h("br",null),i.h("br",null),"You can re-export components if you plan to link other type of projects to your styleguide."),i.h(s.a,{onClick:!d&&t,primary:!0},d?i.h(a.E,{class:"iconSpinner",color:"#fff"}):"Move Anyway"))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1732);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(691),a=n(1733);n.n(a);t.a=function(e){const{styleguide:t={},loading:n,loadingJoin:a,onJoin:o}=e,{_id:r,name:l,type:c,densityScale:d,users:u,colors:h,textStyles:p,componentSections:[{components:g}]=[{}]}=t;return i.h("div",{class:"styleguidePreviewPage"},n?i.h(s.a,null):i.h(s.b,{showJoinButton:!0,headerSticky:!0,onJoin:function(){o({bid:r})},loadingJoin:a,name:l,type:c,densityScale:d,users:u,colors:h,textStyles:p,components:g}))}},function(e,t){},function(e,t,n){"use strict";var i=n(1735);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(74),a=n(1736),o=n(1742),r=n(34),l=n(43),c=n(457),d=n(31),u=n(286),h=n(60),p=n(317),g=n(3),m=n(14),f=n(21),b=n(26),y=n(8),S=n(1),v=n(25),C=n(1745);n.n(C);const E="http://127.0.0.1:7070";function O({organizationId:e}){return i.h("div",{class:"noExtensions"},i.h("h2",null,"No added extensions yet",i.h("img",{src:Object(f.f)("img/emjAlembic.png"),srcSet:`${Object(f.f)("img/emjAlembic@2x.png")} 2x, ${Object(f.f)("img/emjAlembic@3x.png")} 3x`})),i.h("p",null,"Extensions are built by the community, generating code snippets from designs.",i.h("br",null),"Looks like you don’t have any extensions enabled on this project.",i.h("br",null),i.h("br",null),"Pick the ones that fit your workflow."),i.h("a",{href:Object(y.b)({organizationId:e}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions"))}class T extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.state={urlChanged:!1,invalidUrl:!1}}focusTextInput(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:i}=this.state,{textInput:s}=this.nodeRefs;i||(n&&!e||t?Object(b.g)(s):s.focus())}setInitialUrl(){this.state.urlChanged||(this.nodeRefs.textInput.value=this.props.initialUrl)}handleAddClick(){const{textInput:e}=this.nodeRefs;let t=e.value;if(t){if(!e.checkValidity())return Object(b.p)(e),Object(b.g)(e),void this.setState({invalidUrl:!0});/^https?:\/\//.test(t)||(t=`http://${t}`),this.props.onAdd(t)}}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleInputChange(){this.state.urlChanged&&!this.state.invalidUrl||this.setState({urlChanged:!0,invalidUrl:!1})}handleInputKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.stopPropagation(),this.handleAddClick())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),document.addEventListener("click",this.handleDocumentClick,!0),this.focusTextInput(),this.setInitialUrl()}componentWillReceiveProps(e){this.setState({urlChanged:!1,invalidUrl:!1})}componentDidUpdate(){this.focusTextInput(),this.setInitialUrl()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!0)}renderInfo(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:s,invalidUrl:a}=this.state,o=n&&!e,r=s&&!a,l=o||t||a;let c;return a?c="Enter a valid URL.":t?c=`“${e.name}” is already added.`:e?c=`Found “${e.name}”.`:o&&(c="No extension found."),i.h("p",{class:Object(g.a)("info",{warning:l,invisible:r})},c)}render(){const{extension:e,alreadyAdded:t,initialUrl:n,onClose:s}=this.props,{urlChanged:a,invalidUrl:o}=this.state,l=o||!a&&(n&&!e||t);return i.h("div",{ref:Object(m.a)(this,"base"),class:"localExtensionPopup",onClick:S.J},i.h("div",null,i.h("p",null,"Enter extension URL:"),i.h(c.a,{inputRef:Object(m.a)(this,"textInput"),type:"url",class:"localExtensionUrl",onInput:this.handleInputChange,onKeyDown:this.handleInputKeyDown,placeholder:"e.g. http://localhost:7070"}),this.renderInfo()),i.h("div",{class:"footer"},i.h(r.a,{class:"cancel",onClick:s},"CANCEL"),i.h(r.a,{class:"done",onClick:this.handleAddClick,disabled:l},"ADD")))}}class k extends i.Component{constructor(e){super(e),this.showSettings=this.showSettings.bind(this),this.handleBackLinkClick=this.handleBackLinkClick.bind(this),this.removeExtension=this.removeExtension.bind(this),this.updateExtensionOption=this.updateExtensionOption.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentKeyUp=this.handleDocumentKeyUp.bind(this),this.showAddLocalExtensionPopup=this.showAddLocalExtensionPopup.bind(this),this.hideLocalExtensionPopup=this.hideLocalExtensionPopup.bind(this),this.addLocalExtension=this.addLocalExtension.bind(this),this.state={selectedExtensionId:null,altPressed:!1,localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null}}addLocalExtension(e){const{extensions:t,addLocalExtension:n}=this.props;p.a.createLocal(e).then(i=>{t.some(e=>e.id===i.id)?this.setState({localExtension:i,localExtensionUrl:e}):(n(i),this.hideLocalExtensionPopup())}).catch(()=>{this.setState({localExtension:null,localExtensionUrl:e})})}close(){d.b.closeExtensionSettings()}hideLocalExtensionPopup(){this.setState({localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null})}removeExtension(){const e=new URL(Object(y.b)()),t=this.props.extensions.find(e=>e.id===this.state.selectedExtensionId);this.setState({selectedExtensionId:null});const{barrelId:n,barrelType:i,removeExtension:s}=this.props;t.local?s(n,i,t.id,!0):v.a({title:`Remove “${t.name}” from ${i}?`,message:`Extension will be removed for all members of this ${i}. You can add it back from “${e.hostname}”.`,done:{name:"REMOVE",cb:()=>{s(n,i,t.id)}},cancel:{name:"KEEP"}})}showAddLocalExtensionPopup(){const e=E;p.a.createLocal(e).then(t=>{const n={localExtensionPopupVisible:!0};this.props.extensions.some(e=>e.id===t.id)||Object.assign(n,{localExtensionUrl:e,localExtension:t}),this.setState(n)}).catch(()=>{this.setState({localExtensionPopupVisible:!0,localExtensionUrl:null,localExtension:null})})}showSettings(e){this.setState({selectedExtensionId:e})}updateExtensionOption(e,t){this.props.updateExtensionOption(this.state.selectedExtensionId,e,t)}handleBackLinkClick(e){e.preventDefault(),this.setState({selectedExtensionId:null})}handleBackdropClick(e){e.stopPropagation(),this.close()}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC?(e.stopPropagation(),this.close()):e.keyCode!==Zeplin.KEY_CODE.ALT||e.shiftKey||this.setState({altPressed:!0})}handleDocumentKeyUp(e){this.state.altPressed&&e.keyCode===Zeplin.KEY_CODE.ALT&&this.setState({altPressed:!1})}componentDidMount(){const{selectedExtensionId:e}=this.props;void 0!==e&&this.showSettings(e),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("keyup",this.handleDocumentKeyUp)}componentWillReceiveProps(e){e.selectedExtensionId!==this.props.selectedExtensionId&&void 0===e.selectedExtensionId&&this.showSettings(this.props.selectedExtensionId)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("keyup",this.handleDocumentKeyUp)}renderContent(e){return e?i.h(o.a,{onChange:this.updateExtensionOption,name:e.name,description:e.description,author:e.author,repository:e.repository,url:e.url,options:e.options,local:e.local}):this.props.extensions.length?i.h(a.a,{extensions:this.props.extensions,onEnable:this.props.enableExtension,onDisable:this.props.disableExtension,onSettingsClick:this.showSettings}):i.h(O,{organizationId:this.props.organizationId})}render(){if(!this.props.visible)return;const{extensions:e,class:t,canRemoveExtensions:n,organizationId:s}=this.props,{localExtension:a,localExtensionUrl:o,localExtensionPopupVisible:c,selectedExtensionId:d,altPressed:u}=this.state,h=a&&e.some(e=>e.id===a.id),p=e.find(e=>e.id===d);return i.h("div",{class:"extensionDialogBackdrop",onClick:this.handleBackdropClick},i.h("div",{class:Object(g.a)("extensionDialog",t),onClick:S.J,ref:Object(m.a)(this,"extensionDialog")},i.h("div",{class:"header"},p&&i.h("a",{onClick:this.handleBackLinkClick,href:"#",class:"backLink"},i.h(l.c,{color:"var(--gandalf)"}),i.h("span",null,"Extensions")),i.h("h2",null,p?p.name:"Extensions"),u||c?i.h(r.a,{class:"addLocalExtension",disabled:c,onClick:this.showAddLocalExtensionPopup},"Add local extension"):i.h("a",{href:Object(y.b)({organizationId:s}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions")),i.h("div",{class:"main"},this.renderContent(p),c&&i.h(T,{top:this.nodeRefs.extensionDialog.getBoundingClientRect().top,initialUrl:o,alreadyAdded:h,onAdd:this.addLocalExtension,onClose:this.hideLocalExtensionPopup,extension:a})),i.h("div",{class:"footer"},p&&(p.local||n)&&i.h(r.a,{key:"remove",class:"remove",onClick:this.removeExtension},"REMOVE"),i.h(r.a,{key:"done",class:"done",onClick:this.close},"DONE"))))}}t.a=Object(s.a)(class extends i.Component{static calculateState(e,t){const n=u.b.getState(),i=n.extensions.map(e=>({id:e.id,default:e.default,enabled:n.enabledExtensions[n.barrelType].includes(e.id),loaded:e.loaded,name:e.name,description:e.description,author:e.author,url:Object(y.b)({extension:e}),repository:e.repository,options:e.optionsSchema.map(t=>Object.assign({},t,{value:e.getOption(t.id)})),local:e.local})),{barrelId:s,extensionId:a,barrelType:o,organizationId:r}=d.e.getState(),l=d.d.findUser();return{barrelId:s,barrelType:o,organizationId:r,selectedExtensionId:a,canRemoveExtensions:S.C.canRemoveExtensions(l),extensions:i,visible:!0,addLocalExtension:u.a.addLocalExtension,removeExtension:u.a.removeExtension,updateExtensionOption:u.a.updateExtensionOption,enableExtension:u.a.enableExtension,disableExtension:u.a.disableExtension}}static getStores(){return[d.e,u.b,h.b]}render(){return i.h(k,this.state)}},{withProps:!0})},function(e,t,n){"use strict";var i=n(1737);t.a=i.a},function(e,t,n){"use strict";var i=n(0),s=n(738),a=n(34),o=n(146),r=n(652),l=n(43),c=n(3),d=n(21),u=n(8),h=n(1741);n.n(h);const p=".button-bg {\n\t\twidth: 200px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\t\tbackground-color: #fdbd39;\n\t\tbackground-color: var(--light-orange);\n\t\tbox-shadow: 0 0 4px 0 #2f333a;\n\t\tborder: solid 2px rgba(255, 255, 255, 0.4);\n}";function g(){return i.h("div",{class:"extensionPreview"},i.h("p",null,"Extensions are built by community to generate code snippets from designs. Pick the ones that fit your workflow, or create your own and contribute. ",i.h("a",{href:Object(u.b)(),target:"_blank",rel:"noopener"},"Learn more…")),i.h("div",{class:"snippetExample"},i.h("div",{class:"sampleButtonWithArrow"},i.h("img",{src:Object(d.f)("img/icCurvedArrow.svg")}),i.h("div",{class:"sampleButton"},"Button")),i.h(r.a,{lang:"css",class:"sampleCode",content:p,asyncHighlight:!1,style:{fontSize:"12px",lineHeight:"14px"}})))}class m extends i.Component{constructor(...e){var t;return t=super(...e),this.handleEnabledChange=(e=>{(e.target.checked?this.props.onEnable:this.props.onDisable)(this.props.id)}),this.handleSettingsClick=(()=>{this.props.onSettingsClick(this.props.id)}),t}render(){const{name:e,author:t,repository:n,description:r,url:u,local:h,loaded:p,enabled:g}=this.props,m=[t.url,n];return i.h("div",{class:"extensionListItem"},h&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(d.f)("img/emjConstructionTeyze.png"),srcSet:`${Object(d.f)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(d.f)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("label",null,i.h(o.a,{onChange:this.handleEnabledChange,checked:g}),i.h("div",{class:"extensionInfo"},i.h("div",null,i.h("span",{class:"name"},e),i.h("span",{class:"author"},t.displayName)),p?i.h("span",{class:"description"},r):i.h("span",{class:"error"},"Fetching extension failed"),i.h(s.a,{links:m}))),i.h("a",{class:Object(c.a)("readmeLink",{invisible:h}),href:u,target:"_blank",rel:"noopener"},i.h(l.y,null)),i.h(a.a,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(l.A,null)))}}t.a=function({extensions:e,onEnable:t,onDisable:n,onSettingsClick:s}){const a=e.map(e=>{const{id:a,name:o,description:r,author:l,url:c,repository:d,enabled:u,loaded:h,local:p}=e;return i.h(m,{onEnable:t,onDisable:n,onSettingsClick:s,key:a,id:a,name:o,description:r,author:l,url:c,repository:d,enabled:u,loaded:h,local:p})});return i.h("div",{class:"barrelExtensions"},i.h(g,null),a)}},function(e,t,n){"use strict";t.a=function({links:e}){const t=e.map(s.a).filter(Boolean).map(({text:e,url:t},n)=>[!!n&&" • ",i.h("a",{key:e,href:t,target:"_blank",rel:"noopener"},e)]);return i.h("span",{class:"extensionLinks"},t)};var i=n(0),s=n(1739),a=n(1740);n.n(a)},function(e,t,n){"use strict";t.a=function(e){try{const t=new URL(e);let n;switch(t.hostname){case"www.bitbucket.org":case"www.github.com":case"www.gitlab.com":case"bitbucket.org":case"github.com":case"gitlab.com":{const e=t.hostname.split(".");n=e[e.length-2];break}case"www.twitter.com":case"twitter.com":n=t.pathname.split("/")[1]||e.replace(/https?:\/\//,"");break;default:n=e.replace(/https?:\/\//,"")}return{url:e,text:n}}catch(e){return null}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1743);t.a=i.a},function(e,t,n){"use strict";t.a=function(e){const{author:t,repository:n,description:a,url:o,local:r,options:d,onChange:g}=e,m=d.map(e=>{let t;switch(e.type){case"picker":t=u;break;case"switch":t=h;break;case"text":t=p;break;default:return null}return i.h(t,Object.assign(e,{onChange:g}))}).filter(Boolean),f=[t.url,n];return i.h("div",{class:"extensionSettings"},i.h("div",{class:"extensionInfo"},i.h("div",null,r&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(c.f)("img/emjConstructionTeyze.png"),srcSet:`${Object(c.f)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(c.f)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("div",{class:"author"},t.displayName),i.h("div",{class:"description"},a),i.h(s.a,{links:f})),!r&&i.h("a",{class:"readmeLink",href:o,target:"_blank",rel:"noopener"},i.h(l.y,null))),m.length>0&&i.h("h3",null,"Settings"),m)};var i=n(0),s=n(738),a=n(456),o=n(146),r=n(457),l=n(43),c=n(21),d=n(1744);n.n(d);class u extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e)}render(){const{options:e,name:t,value:n}=this.props;return i.h("div",{class:"option"},i.h("span",{class:"name"},t),i.h(a.a,{onChange:this.handleChange,top:-12,left:96},function(e,t){return e.map((e,n)=>i.h(a.a.Item,{selected:e.value===t,label:e.name,value:e.value,key:e.value}))}(e,n)))}}class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e.target.checked)}render(){const{name:e,id:t,value:n}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(o.a,{name:t,onChange:this.handleChange,checked:n}))}}class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.target.value!==this.props.value&&this.props.onChange(this.props.id,e.target.value)}render(){const{name:e,value:t}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(r.a,{onBlur:this.handleChange,value:t,placeholder:"Let’s find a placeholder"}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1747);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(31),a=n(153),o=n(57),r=n(74),l=n(1748);t.a=Object(r.a)(class extends i.Component{constructor(e){super(e),this.handleDocumentClick=(e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&a.c.closeTagManager()}),this.handleKeyDown=(e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&a.c.closeTagManager()}),this.handleTagOperation=this.handleTagOperation.bind(this),this.handleAdd=this.handleAdd.bind(this),this.handleRemove=this.handleRemove.bind(this)}static getStores(){return[s.e,a.f,o.c]}static calculateState(){const{tags:e}=s.d.getBarrel(),{tagManagerScreenId:t}=a.f.getState();if(!t)return{};const{tags:n}=a.e.getScreen({sid:t});return{screenId:t,tags:n,allTags:e}}handleTagOperation(e,t){const{screenId:n}=this.state;a.c.updateTags({updates:[{_id:n,operation:t,tags:[e]}],syncWithApi:!0})}handleAdd(e){this.handleTagOperation(e,"add")}handleRemove(e){this.handleTagOperation(e,"remove")}componentDidMount(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleKeyDown)}render(){const{tags:e,allTags:t}=this.state;return i.h(l.a,{tags:e,allTags:t,onAdd:this.handleAdd,onRemove:this.handleRemove,onClose:a.c.closeTagManager})}})},function(e,t,n){"use strict";var i=n(1749);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1),r=n(14),l=n(1750),c=n(1759);n.n(c);class d extends i.Component{constructor(e){super(e),this.state={filter:""},this.handleInputChange=this.handleInputChange.bind(this),this.handleAdd=this.handleAdd.bind(this)}handleInputChange(e){this.setState({filter:e.target.value})}handleAdd(e){const{onAdd:t}=this.props;this.setState({filter:""}),t(e)}componentDidMount(){this.nodeRefs.input.focus()}render(){const{tags:e,allTags:t,onRemove:n,onClose:s}=this.props,{filter:a}=this.state,c=a.trim(),d=t.filter(t=>!e.includes(t)).reduce((e,t)=>(t.toLowerCase().includes(a.toLowerCase())&&e.suggestionList.push({name:t}),e.shouldCreateNewTag&&t===c&&(e.shouldCreateNewTag=!1),e),{shouldCreateNewTag:!0,suggestionList:[]});return d.shouldCreateNewTag&&c&&!e.includes(c)&&d.suggestionList.push({name:c,isNew:!0}),i.h("div",{class:"tagManagerOverlay",onClick:s},i.h("div",{class:"tagManagerPopup",onClick:o.J},i.h("input",{ref:Object(r.a)(this,"input"),value:a,class:"searchTags",placeholder:"Enter a tag",onInput:this.handleInputChange}),i.h(l.a,{tagList:e,suggestionList:d.suggestionList,onAddTag:this.handleAdd,onRemoveTag:n}),i.h("div",{class:"tagManagerCommands"},i.h("button",{class:"tagManagerDoneButton",onClick:s},"DONE"))))}}d.propTypes={tags:a.a.arrayOf(a.a.string).isRequired,allTags:a.a.arrayOf(a.a.string).isRequired,onAdd:a.a.func.isRequired,onRemove:a.a.func.isRequired,onClose:a.a.func.isRequired},d.defaultProps={tags:[],allTags:[]},t.a=d},function(e,t,n){"use strict";var i=n(1751);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(1752),a=n(1755),o=n(21),r=n(1),l=n(14),c=n(26),d=n(1758);n.n(d);t.a=class extends i.Component{constructor(e){super(e),this.state={selectedSuggestionIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleSuggestionMouseEnter(e){this.setState({selectedSuggestionIndex:e})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;0!==t&&this.setState({selectedSuggestionIndex:t-1})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;t!==this.props.suggestionList.length-1&&this.setState({selectedSuggestionIndex:t+1})}else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onAddTag:t,suggestionList:n}=this.props,{selectedSuggestionIndex:i}=this.state;n.length&&t(n[i].name)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(r.a)(e.suggestionList,this.props.suggestionList,(e,t)=>e.name===t.name&&e.isNew===t.isNew)||this.setState({selectedSuggestionIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedSuggestion&&Object(c.m)(this.nodeRefs.selectedSuggestion.base)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderScreenTags(){const{tagList:e,onRemoveTag:t}=this.props;return i.h("div",{class:"screenTags"},e.map(e=>i.h(a.a,{key:e,tag:e,onRemove:t})))}renderContent(){const{suggestionList:e,tagList:t,onAddTag:n}=this.props,{selectedSuggestionIndex:a}=this.state;return i.h("div",{class:"tagList"},t.length?this.renderScreenTags():i.h("span",{class:"noTagsOnScreen"},"No tags on this screen yet, add one!"),e.map((e,t)=>{let o;return a===t&&(o=Object(l.a)(this,"selectedSuggestion")),i.h(s.a,{key:e.name,suggestionName:e.name,suggestionIndex:t,selected:a===t,isNew:e.isNew,ref:o,onClick:n,onMouseEnter:this.handleSuggestionMouseEnter})}))}renderProjectWithNoTags(){return i.h("div",{class:"tagList"},i.h("div",{class:"noTagsOrSuggestions"},i.h("img",{class:"noTagsTagIcon",src:Object(o.f)("img/icTag.svg")}),i.h("p",null,"No tag defined yet."),i.h("div",{class:"textAndIcon"},i.h("p",null,"Go ahead, add your first tag!"),i.h("img",{src:Object(o.f)("img/icDart.svg"),srcset:Object(o.g)(Object(o.f)("img/icDart.png"))}))))}render(){const{tagList:e,suggestionList:t}=this.props;return e.length||t.length?this.renderContent():this.renderProjectWithNoTags()}}},function(e,t,n){"use strict";var i=n(1753);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(100),a=n(34),o=n(3),r=n(21),l=n(1754);n.n(l);t.a=class extends s.a{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{suggestionName:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{suggestionIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{selected:e,suggestionName:t,isNew:n}=this.props;return i.h(a.a,{class:Object(o.a)("suggestion",{isNew:n},{selected:e}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},n?i.h("div",{class:"createNewTag"},i.h("img",{src:Object(r.f)("img/icCreateNewTag.svg")}),i.h("span",{class:"ellipsis"},'Create new tag "',t,'"')):i.h("span",{class:"suggestionText ellipsis"},t))}}},function(e,t){},function(e,t,n){"use strict";var i=n(1756);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(21),a=n(34),o=n(1757);n.n(o);t.a=class extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{tag:e,onRemove:t}=this.props;t(e)}render(){const{tag:e}=this.props;return i.h("div",{class:"manageTagsTag noSelect"},i.h("span",{class:"tagButtonText ellipsis"},e),i.h(a.a,{onClick:this.handleClick,class:"removeTagButton"},i.h("img",{src:Object(s.f)("img/icGuidelineRemove.svg")})))}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1761);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(74),a=n(310),o=n(1762),r=n(369),l=n(31);t.a=Object(s.a)(class extends i.Component{static calculateState(){const{open:e,inid:t,channelName:n,eventGroupsByInid:i,loading:s}=a.b.getState(),{barrelType:o}=l.e.getState(),c=i[t],d=r.a[o];return{open:e,channelName:n,preferenceGroups:Object.entries(d).map(([e,t])=>({title:t.name,description:t.info,loading:s.includes(e),checked:Boolean(c&&c[e]&&c[e].length===t.events.length),eventGroup:e}))}}static getStores(){return[a.b,l.e]}render(){const{open:e,channelName:t,preferenceGroups:n}=this.state;return e&&i.h(o.a,{channelName:t,preferenceGroups:n,onPreferenceGroupStateChange:a.a.updateEventGroup,onClose:a.a.close})}})},function(e,t,n){"use strict";var i=n(1763);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(4),a=n.n(s),o=n(1764),r=n(1767),l=(n.n(r),n(14));class c extends i.Component{constructor(e){super(e),this.handleDialogContainerClick=this.handleDialogContainerClick.bind(this)}handleDialogContainerClick(e){e.stopPropagation(),this.props.onClose()}handleDialogClick(e){e.stopPropagation()}componentDidMount(){this.nodeRefs.container.scrollTop=1,this.nodeRefs.container.scrollTop=0}render(){const{channelName:e,preferenceGroups:t,onPreferenceGroupStateChange:n,onClose:s}=this.props;return i.h("div",{class:"slackPreferencesDialogContainer",onClick:this.handleDialogContainerClick},i.h("div",{class:"slackPreferencesDialog",onClick:this.handleDialogClick},i.h("div",{class:"slackPreferencesDialogHeader"},"Choose what to see in ",i.h("span",{title:e},e)),i.h("div",{ref:Object(l.a)(this,"container"),class:"slackPreferenceGroupsContainer"},t.map(({title:e,description:t,loading:s,checked:a,eventGroup:r})=>i.h(o.a,{key:r,title:e,description:t,loading:s,checked:a,onChange:n,eventGroup:r}))),i.h("div",{class:"slackPreferencesDialogFooter"},i.h("button",{class:"slackPreferencesDialogDone",onClick:s},"DONE"))))}}c.propTypes={channelName:a.a.string.isRequired,preferenceGroups:a.a.array.isRequired,onPreferenceGroupStateChange:a.a.func.isRequired,onClose:a.a.func.isRequired},t.a=c},function(e,t,n){"use strict";var i=n(1765);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(0),s=n(3),a=n(146),o=n(4),r=n.n(o),l=n(1766);n.n(l);class c extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){const{onChange:t,eventGroup:n}=this.props;t(n,e.target.checked)}render(){const{title:e,description:t,loading:n,checked:o}=this.props;return i.h("label",{className:Object(s.a)("slackPreferenceGroup",{loading:n})},i.h("div",{className:"slackPreferenceGroupInfo"},i.h("div",{className:"slackPreferenceGroupName",title:e},e),i.h("div",{className:"slackPreferenceGroupDescription",title:t},t)),i.h(a.a,{class:"slackPreferenceGroupCheckbox",disabled:n,checked:o,onChange:this.handleChange}))}}c.propTypes={title:r.a.string.isRequired,description:r.a.string.isRequired,loading:r.a.bool.isRequired,checked:r.a.bool.isRequired,onChange:r.a.func.isRequired,eventGroup:r.a.string.isRequired},t.a=c},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var i=n(1770);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(){const[e,t]=Object(a.j)(function(){const e=Object(d.f)();if("unknown"===e||e.startsWith("0")||e.startsWith("1"))return!0;return!1}()?p.FALLBACK:p.INITIAL);function n(){Object(l.l)("https://zpl.io/download-windows-64")}function h(){t(p.DOWNLOADING),location.assign(`${c.L}//update`)}function m(){t(p.READY)}function f(){s.a.ipcRenderer.send("restart-app")}return Object(a.d)(()=>(s.a.ipcRenderer.on("app-update-downloaded",m),()=>s.a.ipcRenderer.removeAllListeners("app-update-downloaded"))),i.h("main",{class:Object(u.a)("windowsAppForceUpdateNotifier",e)},e===p.READY?i.h(o.a,{asset:"/img/imgUpdatedApp.png"}):i.h(o.a,{asset:"/img/imgUpdateApp.png"}),e===p.READY?i.h("h1",null,"Update complete"):e===p.FALLBACK?i.h("h1",null,"Download the new Windows app"):i.h("h1",null,"Unbox the new Windows app"),e===p.READY?i.h("p",null,"Congratulations—you can now take advantage of the new, faster Windows app."):e===p.FALLBACK?i.h("p",null,"We've built a better and faster Windows app, please download to continue."):i.h("p",null,"We've built a better and faster Windows app, please install the update to continue."),function(){switch(e){case p.INITIAL:return i.h(r.a,{primary:!0,onClick:h},"Install update");case p.DOWNLOADING:return i.h(g,null);case p.READY:return i.h(r.a,{primary:!0,onClick:f},"Relaunch app");default:return i.h(r.a,{primary:!0,onClick:n},"Download new Windows app")}}(),i.h("p",null,"Ping us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io")," if you have any questions."))};var i=n(0),s=n(18),a=n(194),o=n(281),r=n(34),l=n(26),c=n(5),d=n(56),u=n(3),h=n(1771);n.n(h);const p={FALLBACK:"fallback",INITIAL:"initial",DOWNLOADING:"downloading",READY:"ready"};function g(){const[e,t]=Object(a.j)(0);Object(a.d)(()=>{const n=setInterval(()=>{t((e+1)%3)},1e3);return()=>clearInterval(n)});const n=`${".".repeat(e+1)}`;return i.h(r.a,{class:"downloadingUpdates",primary:!0,disabled:!0},"Downloading",n)}},function(e,t){},function(e,t){}],[821]);
//# sourceMappingURL=maps/app.map.js